<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Jadeliu&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Jadeliu&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jade liu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Jadeliu's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jadeliu's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">mybatiså…¥é—¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-12 21:21:21 / Modified: 23:44:29" itemprop="dateCreated datePublished" datetime="2022-03-12T21:21:21+08:00">2022-03-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>mybatis</strong></p>
<h3 id="â›½ï¸ç¬¬ä¸€è¯¾"><a href="#â›½ï¸ç¬¬ä¸€è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸€è¯¾"></a>â›½ï¸ç¬¬ä¸€è¯¾</h3><p>âœ…å¼€å‘æ­¥éª¤ï¼š</p>
<p>1.æ·»åŠ Mybatisçš„åæ ‡ã€mysqlçš„é©±åŠ¨ï¼ˆpom.xmlä¸­ï¼‰</p>
<p>2.åˆ›å»ºæ•°æ®è¡¨ã€ç¼–å†™å¯¹åº”çš„å®ä½“ç±»ï¼ˆæ“ä½œå®ä½“ä»è€Œé—´æ¥æ“ä½œè¡¨ï¼ŒæŸ¥è¯¢è¡¨ä»è€Œé—´æ¥å°è£…å®ä½“ï¼‰</p>
<p>3.ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml  ä¸»è¦æè¿°sqlæ–‡ä»¶ï¼ˆç¬¬ä¸€ä¸ªç‚¹ï¼šnamespaceå‘½åç©ºé—´ï¼Œç¬¬äºŒä¸ªç‚¹ï¼šidå’ŒresultTypeï¼Œé€šè¿‡å‘½åç©ºé—´.idè¿›è¡Œè°ƒç”¨ï¼ŒresultTypeç»“æœé›†ï¼Œå°è£…åˆ°æŒ‡å®šçš„ç±»å‹ä¸­ï¼‰</p>
<p>4.ç¼–å†™æ ¸å¿ƒæ–‡ä»¶sqlMapConfig.xmlï¼Œé…ç½®mybatisæ ¸å¿ƒå†…å®¹çš„ï¼Œé…ç½®æ•°æ®æºä¿¡æ¯ã€åŠ è½½æ˜ å°„æ–‡ä»¶ï¼ˆå¯èƒ½å¾ˆå¤šï¼‰ã€‚</p>
<p>5.ç¼–å†™æµ‹è¯•ç±»ï¼ˆ1.è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶ 2.è·å¾—sessionå·¥å‚å¯¹è±¡ 3.è·å¾—sessionä¼šè¯å¯¹è±¡ 4.æ‰§è¡Œæ“ä½œ 5.æ‰“å°æ•°æ® 6.é‡Šæ”¾èµ„æºï¼‰</p>
<p>mybatisæ˜ å°„æ–‡ä»¶ï¼š </p>
<p><img src="https://img-blog.csdnimg.cn/6779525e71d546109fea38a2120c0479.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Pasted Graphic.tiff"></p>
<p>DTDçº¦æŸå¤´åœ¨å†™æ ‡ç­¾æˆ–è€…å±æ€§æ—¶èƒ½ç»™æç¤ºã€‚</p>
<p>âœ…ä»€ä¹ˆæ˜¯mybatisï¼Ÿ</p>
<p>æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œ2010å¹´è¿ç§»åˆ°google codeï¼Œæ”¹åä¸ºmybatisï¼Œ2013å¹´è¿ç§»åˆ°githubã€‚</p>
<p>Mybatisæ˜¯ä¸€ä¸ªå®ç°äº†æ•°æ®æŒä¹…åŒ–çš„å¼€æºæ¡†æ¶ï¼Œç®€å•ç†è§£å°±æ˜¯å¯¹JDBCè¿›è¡Œå°è£…ã€‚</p>
<p>ORMappingï¼šObject Relationship Mapping å¯¹è±¡å…³ç³»æ˜ å°„</p>
<p>å¯¹è±¡ï¼šé¢å‘å¯¹è±¡</p>
<p>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</p>
<p>æ˜ å°„ï¼šjavaåˆ°mysqlçš„æ˜ å°„ï¼Œå¼€å‘è€…ä»¥é¢å‘å¯¹è±¡çš„æ€æƒ³æ¥ç®¡ç†æ•°æ®åº“ã€‚</p>
<p>âœ…mybatisä¼˜ç¼ºç‚¹</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>1âƒ£ï¸ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘50%ä»£ç é‡</p>
<p>2âƒ£ï¸æœ€ç®€å•çš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå°å·§ç®€å•</p>
<p>3âƒ£ï¸çµæ´»ï¼Œä¸ä¼šå¯¹ç¨‹åºæˆ–æ•°æ®åº“çš„ç°æœ‰è®¾è®¡å¼ºè¡ŒåŠ ä»»ä½•å½±å“ï¼Œsqlå†™åœ¨xmlä¸­ï¼Œä»ç¨‹åºä»£ç ä¸­å½»åº•åˆ†ç¦»ï¼Œè§£è€¦åˆï¼Œå¯é‡ç”¨ã€‚</p>
<p>4âƒ£ï¸æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlè¯­å¥ã€‚</p>
<p>5âƒ£ï¸æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡çš„å±æ€§ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1âƒ£ï¸åŠè‡ªåŠ¨çš„ï¼Œsqlè¯­å¥ç¼–å†™å·¥ä½œé‡å¤§</p>
<p>2âƒ£ï¸ä¾èµ–äºæ•°æ®åº“ï¼Œæ•°æ®åº“è¿ç§»æ€§å·®ã€‚</p>
<p>âœ…Mybatisæ ¸å¿ƒæ¥å£å’Œç±»</p>
<p>javaå’ŒMybatisçš„è¿æ¥è€…ï¼šsqlsession</p>
<p>SqlSessionFactoryBuilderæ¥å£ build()æ–¹æ³•ã€‚å¾—åˆ°SqlSessionFactoryï¼ˆå·¥å‚å¯¹è±¡ï¼‰ã€‚è°ƒç”¨openSession()æ–¹æ³•ï¼Œè·å¾—SqlSessionã€‚</p>
<p>âœ…Mybatisçš„å¼€å‘æ–¹å¼</p>
<p>1âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£</p>
<p>2âƒ£ï¸Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>ä¸¤ç§æ–¹æ³•éƒ½æ˜¯é€šè¿‡sqlsessionçš„ç›¸å…³æ–¹æ³•æ¥å®Œæˆçš„ã€‚</p>
<p>âœ…åˆ›å»ºç¬¬ä¸€ä¸ªmybatisé¡¹ç›®</p>
<p>1âƒ£ï¸æ–°å»ºä¸€ä¸ªmavené¡¹ç›®</p>
<p>pom.xmlæ–‡ä»¶ï¼šå¢åŠ mybatisåæ ‡org.mybatis. mysqlé©±åŠ¨</p>
<p>â“pom.xmlä¸­åŠ å…¥ä¾èµ–æ˜¾çº¢æ€ä¹ˆåŠï¼Ÿ</p>
<p>è§£å†³ï¼šé¦–å…ˆåˆ é™¤.mæ–‡ä»¶å¤¹ä¸‹çš„repoæ–‡ä»¶å¤¹ï¼Œç„¶åå›åˆ°é¡¹ç›®å³é”®pom.xmlï¼Œé€‰mavenï¼Œé€‰reimport</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºè¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database mybatis;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> account(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸æ–°å»ºæ•°æ®è¡¨å¯¹åº”çš„å®ä½“ç±»</p>
<p>è¿™é‡Œç”¨Lombokåº“ï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•.ç±»çº§åˆ«çš„ @Data æ³¨é‡Šæ˜¯ç”± Lombok æä¾›çš„ï¼Œå®ƒå‘Šè¯‰ Lombok ç”Ÿæˆæ‰€æœ‰ç¼ºå°‘çš„æ–¹æ³•ï¼Œä»¥åŠæ¥å—æ‰€æœ‰finalå±æ€§ä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>
<p>åŠ lombokä¾èµ–æ—¶ï¼Œæœ‰é”™è¯¯ï¼Œå› ä¸ºç‰ˆæœ¬å·çš„åŸå› ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>4âƒ£ï¸åˆ›å»ºmybatisé…ç½®æ–‡ä»¶ config.xml æ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼Œå»ºåœ¨resourceæ–‡ä»¶å¤¹ä¸­</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>5âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£çš„æ–¹å¼å¼€å‘</p>
<p>ï¼ˆ1ï¼‰Mybatisæ¡†æ¶éœ€è¦å¼€å‘è€…è‡ªå®šä¹‰sqlè¯­å¥ï¼Œå†™åœ¨Mapper.xmlæ–‡ä»¶ä¸­ï¼Œå®é™…å¼€å‘ä¸­ï¼Œä¼šä¸ºæ¯ä¸ªå®ä½“ç±»åˆ›å»ºå¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰ç®¡ç†è¯¥å¯¹è±¡æ•°æ®çš„SQLã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- namespaceæ˜¯mybatisåŠ è½½é…ç½®æ–‡ä»¶æ—¶è¦æ‰¾çš„è·¯å¾„ï¼ˆåŒ…+æ–‡ä»¶åçš„å½¢å¼ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">  idæ˜¯ä¸€ä¼šå„¿è°ƒç”¨sqlè¯­å¥æ—¶è¦ç”¨çš„åå­—ï¼Œè‡ªå®šä¹‰çš„.</span></span><br><span class="line"><span class="comment">  parameterTypeæ˜¯è¦ä¼ å…¥çš„å‚æ•°,ä¸‹é¢è¯­å¥æ˜¯ä»å¯¹è±¡ä¸­å–å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.mapper.AccountMapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨å…¨å±€é…ç½®æ–‡ä»¶config.xmlä¸­æ³¨å†ŒAccountMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰è°ƒç”¨mybatisçš„åŸç”Ÿæ¥å£æ‰§è¡Œæ·»åŠ æ“ä½œï¼Œå†™æµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//åŠ è½½mybatisé…ç½®æ–‡ä»¶config.xml</span></span><br><span class="line">â€‹    InputStream inputStream = TestInsert.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>); <span class="comment">//å˜æˆä¸€ä¸ªæµ</span></span><br><span class="line">â€‹    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">â€‹    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); <span class="comment">//ä¼ å…¥æµ</span></span><br><span class="line">â€‹    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ç„¶åå°±å¯ä»¥è¿›è¡Œjavaå’Œmysqlçš„å…³è”ï¼Œç»“åˆnamespaceå’Œidè·å–ä½ç½®</span></span><br><span class="line">â€‹    <span class="comment">//å› ä¸ºé…ç½®æ–‡ä»¶å·²ç»åŠ è½½åˆ°ç¯å¢ƒä¸­ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸‹é¢æ‰¾åˆ°</span></span><br><span class="line">â€‹    String statement = <span class="string">&quot;com.demo.mybatis.mapper.AccountMapper.save&quot;</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ä¼ å‚æ•°éœ€è¦å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">â€‹    Account account = <span class="keyword">new</span> Account(<span class="number">1L</span>, <span class="string">&quot;liu&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="number">12</span>);</span><br><span class="line">â€‹    sqlSession.insert(statement, account);</span><br><span class="line">â€‹    <span class="comment">//commitæ–¹æ³•æäº¤äº‹åŠ¡</span></span><br><span class="line">â€‹    sqlSession.commit();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â“å‡ºç°é—®é¢˜ï¼Œæ˜æ˜å·²ç»æœ‰lombokï¼Œå¯æ˜¯åœ¨å¯¹è±¡å®ä¾‹åŒ–çš„æ—¶å€™è¿˜æ˜¯æœ‰é—®é¢˜ã€‚</p>
<p>è§£å†³ï¼šæ·»åŠ æ’ä»¶ï¼šè®¾ç½®é‡Œæ‰¾åˆ°pluginsï¼Œæœç´¢lombok pluginï¼Œå®‰è£…ï¼Œé‡å¯ã€‚å‹¾é€‰é…ç½®ï¼šsettingâ€“&gt;build,excecution,deploymentâ€“&gt;compilerâ€“&gt;annotation processorså‹¾é€‰ä¸Š enable annotation processingã€‚å³å¯ç”Ÿæ•ˆã€‚</p>
<p>âš ï¸mavenå·¥ç¨‹ä¸­ä¸èƒ½ç›´æ¥è¯»å–resourceä»¥å¤–çš„xmlæ–‡ä»¶ï¼Œå¾—åœ¨pomé‡ŒåŠ ä¸€ä¸ªé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â“java.lang.ClassNotFoundException: Cannot find class: com.mysql.cj.jdbc</p>
<p>è§£å†³ï¼š<property name="driver" value="com.mysql.cj.jdbc.Driver"> å°‘å†™äº†Driver</property></p>
<p>ğŸ‰Success</p>
<h3 id="â›½ï¸ç¬¬äºŒè¯¾"><a href="#â›½ï¸ç¬¬äºŒè¯¾" class="headerlink" title="â›½ï¸ç¬¬äºŒè¯¾"></a>â›½ï¸ç¬¬äºŒè¯¾</h3><p>âœ…ä½¿ç”¨Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>å®é™…å¼€å‘ä¸­æ¨èç”¨è¿™ç§ã€‚</p>
<p>Mapperæ˜¯mybatiså†…éƒ¨æä¾›çš„ç»„å»ºï¼Œæ¥å£æ˜¯å¼€å‘è€…è‡ªå·±å†™ï¼Œæ¥å£çš„å®ç°ç±»æ˜¯ç”±mybatisåŠ¨æ€ç”Ÿæˆå®ç°ç±»ï¼ŒåŒæ—¶è·å–å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>1âƒ£ï¸è‡ªå®šä¹‰æ¥å£ï¼Œå®šä¹‰ç›¸å…³çš„ä¸šåŠ¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">save</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Account <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸ç¼–å†™ä¸æ¥å£ç›¸å¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰æ¥å£æ–¹æ³•å¯¹åº”çš„sqlè¯­å¥ã€‚</p>
<p>statementæ ‡ç­¾ï¼ˆå¦‚<code>&lt;insert&gt;</code>ï¼‰å¯æ ¹æ®sqlæ‰§è¡Œçš„ä¸šåŠ¡é€‰æ‹©insertã€deleteã€updateã€selectã€‚</p>
<p>Mybatisä¼šè‡ªåŠ¨æ ¹æ®è§„åˆ™è‡ªåŠ¨åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡ã€‚</p>
<p>è§„åˆ™ï¼š</p>
<ol>
<li>Mapper.xmlä¸­namespaceä¸ºæ¥å£çš„å…¨ç±»åã€‚</li>
<li>Mapper.xmlä¸­statementçš„idä¸ºæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•åã€‚</li>
<li>Mapper.xmlä¸­statementçš„parameterTypeå’Œæ¥å£ä¸­å¯¹åº”æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸€è‡´ã€‚</li>
<li>Mapper.xmlä¸­statementçš„resultTypeå’Œæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸€è‡´ã€‚</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.repository.AccountRepository&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ˜ å°„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ·»åŠ  ä¿®æ”¹ åˆ é™¤ ä¸‰ä¸ªæ“ä½œåœ¨æ•°æ®åº“è¿”å›çš„ç»“æœä¸€å®šæ˜¯intï¼Œ æ‰€ä»¥è¿™é‡Œæ²¡æœ‰resultTypeå±æ€§ --&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    update account set username = #&#123;username&#125;, password = #&#123;password&#125;, age = #&#123;age&#125; where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span></span><br><span class="line">â€‹    delete from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸å†™é›†åˆç±»å‹ï¼Œè€Œå†™é›†åˆé‡Œçš„æ³›å‹ç±»å‹ --&gt;</span></span><br><span class="line">â€‹    select * from account</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    select * from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸åœ¨config.xmlä¸­æ³¨å†ŒAccountRepository.xml</p>
<p><code>&lt;mappers&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p>  <code>&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p><code>&lt;/mappers&gt;</code></p>
<p>4âƒ£ï¸æµ‹è¯•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ ,é…ç½®æ•°æ®æºä¿¡æ¯--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ğŸ¤”æˆ‘å¯¹åŠ¨æ€ä»£ç†çš„ç†è§£ï¼š</p>
<p>è‡ªå·±åªéœ€è¦å†™ä¸€ä¸ªç±»ï¼Œæ¡†æ¶ä¸ºæˆ‘åŠ¨æ€ä»£ç†å®ç°æ¥å£çš„å®ç°ç±»ï¼Œå¹¶ä¸”è¿˜ç»™æˆ‘å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¡®å®æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è‡ªå·±å†™statementï¼Œä½†æ˜¯è¯´çš„è‡ªå·±å†™æ¥å£å®ç°ç±»ï¼Ÿæ²¡æœ‰å§</p>
<h3 id="â›½ï¸ç¬¬ä¸‰è¯¾"><a href="#â›½ï¸ç¬¬ä¸‰è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸‰è¯¾"></a>â›½ï¸ç¬¬ä¸‰è¯¾</h3><p>Mapper.xmlè§£è¯»</p>
<ol>
<li><p>statementæ ‡ç­¾ï¼Œselectã€updateã€deleteã€insertåˆ†åˆ«å¯¹åº”æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤ã€æ·»åŠ </p>
</li>
<li><p>parameterTypeï¼šå‚æ•°æ•°æ®ç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡idæŸ¥è¯¢Account,  â€œlongâ€</p>
<p>b. Stringç±»å‹ï¼Œé€šè¿‡nameæŸ¥è¯¢Accountï¼Œâ€java.lang.Stringâ€</p>
<p>C. åŒ…è£…ç±»ï¼Œé€šè¿‡idæŸ¥è¯¢Accountã€‚â€œjava.lang.longâ€</p>
</li>
</ol>
<p>â€‹     {ç”¨åŒ…è£…ç±»çš„å¥½å¤„ï¼šåŸºæœ¬æ•°æ®ç±»å‹æ¥å—ä¸äº†nullï¼Œnullä¼ è¿›æ¥æŠ¥å¼‚å¸¸ï¼Œä¸šåŠ¡ä¸­å¯èƒ½ä¼šæœ‰nullï¼Œéœ€è¦åˆ¤æ–­}</p>
<p>   D.å¤šä¸ªå‚æ•°ï¼Œé€šè¿‡usernameå’ŒageæŸ¥è¯¢account</p>
<p>â€‹     âš ï¸ï¼šå¦‚æœè¿”å›ç»“æœå¯èƒ½å¤šä¸ªï¼Œå°±å¾—Listã€‚å¥½åƒå¤šä¸ªæ“ä½œcommitä¸€æ¬¡å°±è¡Œå§ã€‚</p>
<p>   e.java bean</p>
<p>â€‹    updateæ“ä½œä¼ å…¥çš„accountå¯¹è±¡</p>
<ol>
<li><p>resultTypeç»“æœç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹</p>
<p>B. åŒ…è£…ç±» java.lang.Integer</p>
<p>C. stringç±»å‹ï¼Œæ¯”å¦‚é€šè¿‡idæŸ¥è¯¢username</p>
</li>
</ol>
<p>  âš ï¸çœ‹åˆ°idæœ‰ä¸­æ–­ï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰ç¨‹åºæœ‰é”™å¼‚å¸¸äº†ï¼Œæ²¡commitæäº¤ï¼Œä½†æ˜¯idå·²ç»æ¶¨äº†ã€‚</p>
<p>   D. Java bean</p>
<p>â€‹    findAllè¿”å›çš„accountå¯¹è±¡</p>
<h3 id="â›½ï¸ç¬¬å››è¯¾"><a href="#â›½ï¸ç¬¬å››è¯¾" class="headerlink" title="â›½ï¸ç¬¬å››è¯¾"></a>â›½ï¸ç¬¬å››è¯¾</h3><p>âœ…åŠè”æŸ¥è¯¢</p>
<p>1âƒ£ï¸ä¸€å¯¹å¤šï¼Œä¸€ä¸ªç­å¯¹åº”å¤šä¸ªå­¦ç”Ÿ</p>
<p>è¦æŸ¥è¯¢id=1çš„å­¦ç”Ÿçš„åå­—ã€ç­çº§</p>
<p>å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> cid <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> classes(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¯­å¥ï¼š <code>select * from student s, classes c where s.id =1 and s.cid=c.id;</code></p>
<p>ğŸ¤”é¦–å…ˆå»ºæ¥å£ï¼Œå†å†™xxxRepository.xml, å†æŠŠxmlæ–‡ä»¶åŠ è½½åˆ°configä¸­ã€‚ æµ‹è¯•ä»£ç ä¸­ï¼Œç”¨æ–¹æ³•å°±å¥½äº†ã€‚</p>
<p>ğŸmybatiså’Œjavaç±»æ€ä¹ˆåšåˆ°æ˜ å°„ï¼Œmybatisä¸å…³æ³¨è¡¨å’Œç±»çš„ç»“æ„ï¼Œå…³æ³¨çš„æ˜¯ç»“æœé›†å’Œç±»çš„æ˜ å°„ã€‚</p>
<p>ä»selectæŸ¥å‡ºæ¥çš„ç»“æœé›†ï¼Œåˆ°èµ‹ç»™resutlçš„ç»“æœçš„æ˜ å°„ã€‚ä»ç»“æœé›†é‡ŒæŒ‰é¡ºåºæ‰¾resultå¯¹çš„ä¸Šçš„å­—æ®µï¼Œèµ‹ç»™resultã€‚</p>
<p>åº”è¯¥ç»™åé¢çš„å–åˆ«åã€‚è¿™é‡Œå…³äºç­çº§çš„ä¿¡æ¯è¦èµ‹ç»™classeså¯¹è±¡ï¼Œéœ€è¦å»ºç«‹æ˜ å°„ï¼Œç”¨resultMapã€‚</p>
<p>æ³¨æ„æ˜ å°„çš„æ—¶å€™ï¼Œæ˜¯çœ‹è¿™ä¸ªæŸ¥è¯¢ç»“æœé›†ä¸Šé¢çš„å­—æ®µã€‚</p>
<p>è¿™æ ·å°±å®Œæˆäº†ï¼Œç»“æœç±» å’Œ ç»“æœé›†çš„æ˜ å°„</p>
<p>2âƒ£ï¸é€šè¿‡classesæŸ¥students</p>
<p>é€šè¿‡ç­çº§idï¼ŒæŸ¥å‡ºæ•´ä¸ªclassesç±».</p>
<p>é¦–å…ˆå†™æ¥å£ï¼Œå†å†™xmlæ–‡ä»¶ï¼Œxmlæ–‡ä»¶ä¸­å…ˆå†™sqlè¯­å¥ï¼Œå®Œæˆæ˜ å°„ï¼Œæ·»åŠ åˆ°configï¼Œæµ‹è¯•ã€‚</p>
<p>âš ï¸æ³¨æ„ç»“æœé›†è¦ç”¨resultMapï¼Œè¦è¿˜æ˜¯ç”¨resultTypeçš„è¯ï¼Œç›¸å½“äºå†™çš„æ˜ å°„æ²¡æœ‰ç”¨åˆ°ã€‚</p>
<p>3âƒ£ï¸å¤šå¯¹å¤š</p>
<p>æ¯”å¦‚è¯´ï¼Œå®¢æˆ·å’Œå•†å“ï¼Œè¿™ä¸¤ä¸ªæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p>
<p>customerè¡¨å’Œgoodsè¡¨ï¼Œä¸­é—´éœ€è¦å»ºä¸€ä¸ªä»è¡¨customer_goodsï¼Œé‡Œé¢cidè¡¨ç¤ºå®¢æˆ·è¡¨çš„å¤–é”®ï¼Œgidè¡¨ç¤ºå•†å“è¡¨çš„å¤–é”®ã€‚</p>
<p>customerç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªgoodsé›†åˆ</p>
<p>goodsç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªcustimeré›†åˆ</p>
<p>è¦åšçš„æ˜¯ï¼šæ ¹æ®customerçš„idï¼Œè¿”å›custimerç±»ã€‚</p>
<p><code>select c.id as cid, c.name as came, g.id as gid, g.name as gname from customer as c, goods as gï¼Œ customer_goods as cg where c.id=1 and cg.cid = c.id and cg.gid = g.id;</code> </p>
<p>è¿”å›id=1çš„å®¢äººä¹°çš„å•†å“ã€‚</p>
<p>âš ï¸çŸ¥è¯†ç‚¹ï¼›ç¬›å¡å°”ç§¯ï¼Œéœ€è¦æ‰¾è¿™ä¸¤å¼ è¡¨çš„å…³è”å…³ç³»ï¼šç¬¬ä¸‰å¼ è¡¨.</p>
<p>æ ¹æ®ä¸€å¯¹å¤šæ¥å»ºç«‹å¤šå¯¹å¤šçš„æ˜ å°„å°±å¥½äº†ï¼Œä¸åŒä¹‹å¤„åœ¨å»sqlè¯­å¥ä¸­ä¸¤å¼ è¡¨å»ºç«‹å…³ç³»çš„æ–¹å¼æ˜¯é€šè¿‡ç¬¬ä¸‰å¼ è¡¨äº†ã€‚</p>
<p>ä½†æ˜¯xmlæ–‡ä»¶ä¸­æ„å»ºæ˜ å°„è¦çœ‹çš„æ˜¯sqlè¯­å¥è¿”å›ç»“æœé›†å’Œæ¥å£æ–¹æ³•è¦è¿”å›çš„è¿”å›ç±»å¯¹è±¡ã€‚</p>
<h3 id="â›½ï¸ç¬¬äº”è¯¾"><a href="#â›½ï¸ç¬¬äº”è¯¾" class="headerlink" title="â›½ï¸ç¬¬äº”è¯¾"></a>â›½ï¸ç¬¬äº”è¯¾</h3><p>âœ…é€†å‘å·¥ç¨‹</p>
<p>å¯¹ä¼ ç»Ÿå¼€å‘åå‘çš„ä¸€ä¸ªæ–¹å¼ã€‚</p>
<p>Mybatisæ¡†æ¶éœ€è¦ï¼šå®ä½“ç±»ã€è‡ªå®šä¹‰çš„Mapperæ¥å£ã€Mapper.xmlã€‚</p>
<p>ä¼ ç»Ÿçš„å¼€å‘ä¸­ï¼Œä¸Šè¿°çš„ä¸‰ä¸ªç»„ä»¶éœ€è¦å¼€å‘è€…æ‰‹åŠ¨åˆ›å»ºï¼Œé€†å‘å·¥ç¨‹å¯ä»¥å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨åˆ›å»ºè¿™ä¸‰ä¸ªç»„ä»¶ï¼Œå‡è½»å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>ç¼ºç‚¹ï¼šé€†å‘å·¥ç¨‹åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œé€†å‘å·¥ç¨‹æ ¹æ®æ•°æ®è¡¨æ¥å»ºç«‹å®ä½“ç±»ç­‰ï¼Œå¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡é€†å‘å·¥ç¨‹ã€‚</p>
<p>å¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦åˆ äº†å·²ç»å­˜åœ¨çš„ï¼Œé‡æ–°æ‰§è¡Œã€‚</p>
<p>====</p>
<p>å¦‚ä½•ä½¿ç”¨ï¼š</p>
<p>Mybatis Generatorï¼Œç®€ç§°MBGï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºMybatisæ¡†æ¶å¼€å‘è€…å®šåˆ¶çš„ä»£ç ç”Ÿæˆå™¨å’Œè‡ªåŠ¨ç”ŸæˆMybatisæ¡†æ¶æ‰€éœ€çš„å®ä½“ç±»ã€Mapperæ¥å£ã€Mapper.xmlï¼Œæ”¯æŒåŸºæœ¬CRUDæ“ä½œï¼Œä½†æ˜¯ä¸€äº›ç›¸å¯¹å¤æ‚çš„sqléœ€è¦å¼€å‘è€…è‡ªå·±æ¥å®Œæˆã€‚</p>
<p>1âƒ£ï¸æ–°å»ºMavenå·¥ç¨‹ï¼Œå¼•å…¥ä¾èµ–</p>
<p>æ•°æ®åº“å»ºä¸ªè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table t_user(</span><br><span class="line"> id int primary key auto_increment,</span><br><span class="line"> name varchar(11),</span><br><span class="line"> age int</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>2âƒ£ï¸åˆ›å»ºMBGé…ç½®æ–‡ä»¶generatorConfig.xml</p>
<p> \1. jdbcConnection é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</p>
<p> \2. javaModelGenerator é…ç½®javaBeançš„ç”Ÿæˆç­–ç•¥ï¼Œè¦æŠŠåˆ›å»ºçš„å®ä½“ç±»æ”¾åœ¨å“ªä¸ªåŒ…é‡Œ</p>
<p> \3. sqlMapGenerator é…ç½®sqlæ˜ å°„æ–‡ä»¶ç”Ÿæˆç­–ç•¥</p>
<p> \4. javaClientGenerator é…ç½®Mapperæ¥å£</p>
<p> \5. table é…ç½®ç›®æ ‡æ•°æ®è¡¨ï¼ˆtableNameï¼šè¡¨åï¼ŒdominObjectNameï¼šJavaBeanç±»åï¼‰</p>
<p>3âƒ£ï¸åˆ›å»ºGeneratoræ‰§è¡Œç±»</p>
<p>å¯åŠ¨ç±»mainï¼Œé‡Œé¢æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡ç†è§£åæ­£æ˜¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.MyBatisGenerator;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.xml.ConfigurationParser;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.InvalidConfigurationException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.XMLParserException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.internal.DefaultShellCallback;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">â€‹    List&lt;String&gt;warings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">â€‹    <span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line">â€‹    String genCig = <span class="string">&quot;/generatorConfig.xml&quot;</span>; <span class="comment">// /å°±è¡¨ç¤ºresourceæ–‡ä»¶å¤¹</span></span><br><span class="line">â€‹    File configFile = <span class="keyword">new</span> File(Main.class.getResource(genCig).getFile()); <span class="comment">//è·å–è¿è¡Œæ—¶ç±»ï¼ŒgetResource(è·¯å¾„)ï¼Œè·å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">â€‹    ConfigurationParser configurationParser = <span class="keyword">new</span> ConfigurationParser(warings);</span><br><span class="line">â€‹    Configuration configuration = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      configuration = configurationParser.parseConfiguration(configFile);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (XMLParserException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line">â€‹    MyBatisGenerator myBatisGenerator = <span class="keyword">null</span>;</span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(configuration, callback, warings);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InvalidConfigurationException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">â€‹      throwables.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>IDEAæŠ›å‡ºå¼‚å¸¸å¿«æ·é”®ï¼š</strong></p>
<p><strong>Mac</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œoption+Enterï¼‰ï¼Œå¯ä»¥å¼‚å¸¸å¤–æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥try-catchï¼š</strong></p>
<p><strong>æ–¹å¼äºŒï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œæˆ–è€…é€‰ä¸­è¯¥è¡Œä»£ç ï¼Œoption+command+Tï¼‰ï¼š[ä½¿ç”¨å…³é”®å­—æˆ–æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifâ€¦else, tryâ€¦catch, for, synchronizedç­‰]</strong></p>
<p>4âƒ£ï¸<strong>ç„¶åè¿è¡Œmainæ–¹æ³•ï¼Œæ–‡ä»¶å¤¹ä¸‹ä»€ä¹ˆéƒ½æœ‰äº†ï¼Œè€Œä¸”æ ¹æ®æ•°æ®åº“çš„è¡¨å»ºç«‹äº†å®ä½“ç±»ã€‚</strong></p>
<h3 id="â›½ï¸ç¬¬å…­è¯¾"><a href="#â›½ï¸ç¬¬å…­è¯¾" class="headerlink" title="â›½ï¸ç¬¬å…­è¯¾"></a>â›½ï¸<strong>ç¬¬å…­è¯¾</strong></h3><p>âœ…<strong>å»¶è¿ŸåŠ è½½</strong></p>
<p><strong>ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿä¹Ÿå«æ‡’åŠ è½½ã€æƒ°æ€§åŠ è½½</strong></p>
<p><strong>ä½¿ç”¨å»¶è¿ŸåŠ è½½å¯ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œé’ˆå¯¹äºæ•°æ®çš„æŒä¹…å±‚çš„æ“ä½œã€‚åœ¨æŸäº›ç‰¹å®šçš„æƒ…å†µä¸‹å»è®¿é—®ç‰¹å®šçš„æ•°æ®åº“ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹å¯ä»¥ä¸è®¿é—®æŸäº›è¡¨ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ã€‚</strong></p>
<p><strong>æ¯”å¦‚è¯´ä¸Šé¢åŠè”æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢å­¦ç”Ÿå’Œç­çº§ï¼Œå­¦ç”Ÿå’Œç­çº§åœ¨ä¸¤å¼ ä¸åŒçš„è¡¨ï¼Œå¦‚æœå½“å‰çš„éœ€æ±‚åªéœ€è¦è·å–å­¦ç”Ÿçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæŸ¥è¯¢å­¦ç”Ÿå•è¡¨å³å¯ï¼Œå¦‚æœéœ€è¦é€šè¿‡å­¦ç”Ÿè·å–å¯¹åº”çš„ç­çº§ä¿¡æ¯ï¼Œåˆ™å¿…é¡»æŸ¥è¯¢ä¸¤å¼ è¡¨ã€‚</strong></p>
<p><strong>ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æŸ¥è¯¢ä¸åŒçš„è¡¨ï¼Œæ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚æ¥åŠ¨æ€å‡å°‘æ•°æ®è¡¨æŸ¥è¯¢çš„å·¥ä½œå°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚</strong></p>
<p><strong>ä¸¾ä¾‹ï¼šstudentå’Œclassesçš„ä¾‹å­é‡Œï¼Œä¸¤ä¸ªæ¥å£é‡Œéƒ½å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå„è‡ªé‡å†™xmlé‡Œé¢å¯¹åº”æ–°å¢æ–¹æ³•çš„sqlè¯­å¥ï¼Œselectè¯­å¥ä¸è”è¡¨æŸ¥è¯¢äº†ï¼Œå„æŸ¥å„çš„ï¼Œæµ‹è¯•æ—¶ï¼Œé¦–å…ˆå¾—åˆ°studentçš„åå­—ï¼Œå¦‚æœå¤Ÿäº†ï¼Œå°±ä¸ç”¨æŸ¥classesè¡¨äº†ï¼Œå¦‚æœä¸å¤Ÿï¼Œå†æ ¹æ®studentçš„cidè·å¾—classesç›¸å…³ä¿¡æ¯ã€‚</strong></p>
<p><strong>å› æ­¤è¦åœ¨é…ç½®æ–‡ä»¶é‡Œå®Œæˆä¸€ä¸ªè¿æ¥çš„æ“ä½œæ¥è‡ªåŠ¨è¯†åˆ«æ˜¯å¦è¿˜éœ€è¦æŸ¥å¦ä¸€å¼ è¡¨ï¼Œåœ¨</strong>associationä¸­ã€‚</p>
<p>å®è·µæ•ˆæœï¼šæ ¹æ®å­¦ç”Ÿidï¼ŒæŸ¥åˆ°å­¦ç”Ÿå®Œæˆä¿¡æ¯ï¼ŒåŒ…æ‹¬é‡Œé¢çš„Classesç±»ã€‚</p>
<p>å®é™…ä¸Šè¿›è¡Œäº†ä¸¤æ¬¡sqlæŸ¥è¯¢ï¼Œæœ¬èº«studentæ¥å£æ–¹æ³•è°ƒç”¨æŸ¥è¯¢ä¸€æ¬¡ï¼Œstudenté…ç½®æ–‡ä»¶ä¸­selectæ ‡ç­¾åˆæŸ¥ä¸€æ¬¡ã€‚</p>
<p>é€šè¿‡é…ç½®configæ–‡ä»¶ä¸­settingå¯ä»¥æ‰“å°sqlæ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<p>ä½†æ˜¯ï¼Œåªæ‹¿nameçš„è¯ï¼Œè¿˜æ˜¯æ‰§è¡Œä¸¤æ¬¡sqlã€‚å› æ­¤éœ€è¦åœ¨configä¸­å¼€å¯å»¶è¿ŸåŠ è½½ã€‚</p>
<p>å¥‡æ€ªäº†ï¼Œæˆ‘å¼€å¯äº†å»¶è¿ŸåŠ è½½ï¼Œåªè·å¾—studentçš„nameï¼Œè¿˜æ˜¯æŸ¥ä¸¤æ¬¡ã€‚</p>
<p>âš ï¸å‡ºç°é—®é¢˜ï¼ŒCannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.</p>
<p>åº”è¯¥å¢åŠ CGLIBä¾èµ–ã€‚</p>
<p>â“ä¾èµ–é—²çº¢çš„æ—¶å€™ï¼Œå¿…é¡»è¦åˆ é™¤.m2æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ä¾èµ–ï¼Œç„¶åreimportå—ï¼Ÿ</p>
<h3 id="â›½ï¸ç¬¬ä¸ƒè¯¾"><a href="#â›½ï¸ç¬¬ä¸ƒè¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸ƒè¯¾"></a>â›½ï¸ç¬¬ä¸ƒè¯¾</h3><p>âœ…MyBatisç¼“å­˜</p>
<p>ä»€ä¹ˆäº‹mybatisç¼“å­˜ï¼Ÿä½¿ç”¨ç¼“å­˜å¯ä»¥å‡å°‘Javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œä»è€Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚æ¯”å¦‚æŸ¥è¯¢å‡ºid=1çš„å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢å‡ºä¹‹åä¼šè‡ªåŠ¨å°†è¯¥å¯¹è±¡ä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œå½“ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºå¯¹è±¡å³å¯ï¼Œæ— éœ€å†æ¬¡è®¿é—®æ•°æ®åº“ã€‚</p>
<p>Mybatisç¼“å­˜åˆ†ç±»ï¼š</p>
<ol>
<li><strong>ä¸€çº§ç¼“å­˜ï¼šSqlSessionçº§åˆ«ï¼Œé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”ä¸èƒ½å…³é—­ã€‚</strong></li>
</ol>
<p>  <strong>æ“ä½œæ•°æ®åº“æ—¶éœ€è¦åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªHashMapç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ï¼Œä¸åŒçš„SqlSessionä¹‹é—´ç¼“å­˜æ•°æ®åŒºåŸŸæ˜¯äº’ä¸å½±å“çš„ã€‚</strong></p>
<p>  <strong>ä¸€çº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯SqlSessionèŒƒå›´çš„ï¼Œå½“åœ¨åŒä¸€ä¸ªSqlSessionä¸­æ‰§è¡Œä¸¤æ¬¡ç›¸åŒçš„SQLè¯­å¥æ—¶ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œæ¯•å°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚</strong></p>
<p>  <strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœSqlSessionæ‰§è¡Œäº†DMLæ“ä½œï¼ˆinsertã€updateã€deleteï¼‰ï¼ŒMybatiså¿…é¡»å°†ç¼“å­˜æ¸…ç©ºï¼Œæ¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚</strong></p>
<ol>
<li><strong>äºŒçº§ç¼“å­˜ï¼šMapperçº§åˆ«çš„ï¼Œé»˜è®¤å…³é—­ï¼Œå¯ä»¥å¼€å¯ã€‚</strong></li>
</ol>
<p>  <strong>ä½¿ç”¨äºŒçº§ç¼“å­˜æ—¶ï¼Œå¤šä¸ªSqlSessionä½¿ç”¨åŒä¸€ä¸ªMapperçš„sqlè¯­å¥æ“ä½œæ•°æ®åº“ï¼Œå¾—åˆ°çš„æ•°æ®ä¼šå­˜åœ¨äºŒçº§ç¼“å­˜ä¸­ï¼ŒåŒæ ·æ˜¯ä½¿ç”¨HashMapè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œç›¸æ¯”è¾ƒä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜çš„èŒƒå›´æ›´å¤§ï¼Œå¤šä¸ªsqlsessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯è·¨sqlsessionçš„ã€‚</strong></p>
<p>  <strong>äºŒçº§ç¼“å­˜æ˜¯å¤šä¸ªsqlsessionå…±äº«çš„ï¼Œå…¶ä½œç”¨åŸŸæ˜¯mapperçš„åŒä¸€ä¸ªnamespqceï¼Œä¸åŒçš„sqlsessionä¸¤æ¬¡æ‰§è¡Œç›¸åŒçš„namespaceä¸‹çš„sqlè¯­å¥ï¼Œå‚æ•°ä¹Ÿç›¸åŒï¼Œåˆ™ç¬¬ä¸€æ¬¡æ‰§è¡ŒæˆåŠŸä¹‹åä¼šå°†æ•°æ®ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡å¯ç›´æ¥ä»äºŒçº§ç¼“å­˜ä¸­å–å‡ºæ•°æ®ã€‚</strong></p>
<p>âš ï¸<strong>ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªsqlsessionä¸€ä¸ªç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯ä¸€ä¸ªmapperä¸€ä¸ªï¼Œå¤šä¸ªsqlsession å¯èƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€mapperï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªnamespaceã€‚äºŒçº§ç¼“å­˜èŒƒå›´æ›´å¤§ã€‚</strong></p>
<p><strong>å¦‚ä½•å¼€å¯äºŒçº§ç¼“å­˜ï¼š</strong></p>
<p><strong>config.xmlä¸­</strong></p>
<p><code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</code></p>
<p><strong>ç„¶åå†å¯¹åº”çš„mapper.xmlä¸­ï¼Œæ·»åŠ é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<p><code>&lt;cache&gt;&lt;/cache&gt;</code></p>
<p><strong>ç„¶åå®ä½“ç±»å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<p><code>public class Classes implements Serializable</code></p>
<ol>
<li><strong>ç¬¬ä¸‰æ–¹äºŒçº§ç¼“å­˜ã€‚éœ€è¦åœ¨pom.xmlé‡Œæ·»åŠ ç›¸å…³ä¾èµ–</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   &lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶åæ·»åŠ é…ç½®æ–‡ä»¶ehcache.xml ä¸ç”¨è‡ªå·±å†™ï¼Œå®šä¹‰äº†ä¸€äº›äºŒçº§ç¼“å­˜çš„è®¾ç½®</strong></p>
<p><strong>ç„¶ååœ¨config.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜</strong></p>
<p><strong>ç„¶ååœ¨mapper.xmlä¸­é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜åˆ›å»ºä¹‹åï¼Œæœ€åä¸€æ¬¡è®¿é—®ç¼“å­˜çš„æ—¶é—´è‡³ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToIdleSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜è‡ªåˆ›å»ºæ—¶é—´èµ·è‡³å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToLiveSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜çš„å›æ”¶ç­–ç•¥ ,LRUç§»é™¤è¿‘æœŸä½¿ç”¨æœ€å°‘--&gt;</span><br><span class="line">  &lt;property name=&quot;memoryStoreEvictionPolicy&quot; value=&quot;LRU&quot;/&gt;</span><br><span class="line">&lt;/cache&gt;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ä¸ªç¼“å­˜é‡Œå®ä½“ç±»å†…ä¸éœ€è¦å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<h3 id="â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql"><a href="#â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql" class="headerlink" title="â›½ï¸ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql"></a>â›½ï¸<strong>ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql</strong></h3><p><strong>sqlè¯­å¥æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œåªéœ€è¦å®šä¸€ä¸ªå¤§è‡´çš„æ ·å¼ï¼Œå®ƒä¼šæ ¹æ®å…·ä½“çš„å‚æ•°ã€å…·ä½“çš„ä¸šåŠ¡å»åŠ¨æ€ç”Ÿæˆä¸åŒçš„sqlã€‚</strong></p>
<p><strong>èƒŒæ™¯ï¼šä¸šåŠ¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¦‚æœéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»æ‹¼æ¥sqlè¯­å¥æ¥å®Œæˆæ“ä½œï¼Œæ•ˆç‡æ¯”è¾ƒä½è€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</strong></p>
<p>â“<strong>å‘ç°testç±»é‡Œï¼Œç¬¬ä¸€è¡Œçš„åŠ è½½ç±»ä¸€ç›´æ˜¯ç¬¬ä¸€æ¬¡ç”¨çš„ï¼Œè¿™åˆç†å—ï¼Ÿ</strong></p>
<p><strong>ç”¨ä¸€ä¸ªaccountå¯¹è±¡æŸ¥accountå¯¹è±¡ï¼Œæ ¹æ®å¯¹è±¡çš„å››ä¸ªå‚æ•°å¯¹åº”æ”¾åˆ°sqlè¯­å¥ä¸­ï¼Œå¦‚æœä¼ å…¥çš„accountçš„ä¸€ä¸ªå‚æ•°æ²¡è®¾ç½®ï¼Œåˆ™ä¼ åˆ°sqlè¯­å¥é‚£é‡Œï¼Œè¿™ä¸ªå­—æ®µ=nullã€‚ä¸€èˆ¬å°±æ²¡ç»“æœã€‚</strong></p>
<p><strong>åŠ¨æ€sqlï¼šåªéœ€è¦å†™ä¸€ä¸ªæ¨¡ç‰ˆï¼Œè®©ç¨‹åºè‡ªåŠ¨æ ¹æ®å±æ€§æ˜¯å¦æœ‰å€¼ï¼Œæ¥åŠ¨æ€å†³å®šæ˜¯å¦åŠ è¿™ä¸ªæ¡ä»¶ã€‚</strong></p>
<p><strong>å…¶å®å°±æ˜¯ä¸€ä¸ªif elseçš„æµç¨‹ï¼Œåˆ¤æ–­å¦‚æœä¸ºnullï¼Œå°±å¿½ç•¥æ‰ï¼Œä½¿å¾—æœ‰ç»“æœã€‚</strong></p>
<p><strong>ä½¿ç”¨åŠ¨æ€sqlçš„ä½œç”¨ï¼šå¯ç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œå‡å°‘å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œç¨‹åºå¯ä»¥è‡ªåŠ¨æ ¹æ®ä¸šåŠ¡å‚æ•°æ¥å†³å®šsalçš„ç»„æˆã€‚</strong></p>
<ul>
<li><strong>ifæ ‡ç­¾</strong></li>
</ul>
<p><strong>ï½ï½ï½ï½ï½</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account where</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and username = #&#123;username&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and password = #&#123;password&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    age = #&#123;age&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>ä½†æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ç»™ï¼Œå°±ä¼šå‡ºé”™ï¼Œå› ä¸ºç›´æ¥andåé¢çš„ï¼Œè¯­æ³•é”™è¯¯ã€‚</strong></p>
<p><strong>å°†ifæ ‡ç­¾çš„è¯­å¥ï¼Œæ”¾åœ¨whereæ ‡ç­¾é‡Œå°±å¯ä»¥äº†ã€‚</strong></p>
<p><strong>ifæ ‡ç­¾å¯ä»¥è‡ªåŠ¨æ ¹æ®è¡¨è¾¾å¼çš„ç»“æœæ¥å†³å®šæ˜¯å¦å°†å¯¹åº”çš„è¯­å¥æ·»åŠ åˆ°sqlä¸­ï¼Œå¦‚æœæ¡ä»¶ä¸æˆç«‹åˆ™ä¸æ·»åŠ ï¼Œå¦‚æœæ¡ä»¶æˆç«‹åˆ™æ·»åŠ ã€‚</strong></p>
<p><strong>whereæ ‡ç­¾å¯ä»¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è¦åˆ é™¤è¯­å¥å—ä¸­çš„andå…³é”®å­—ï¼Œå¦‚æœç›‘æµ‹åˆ°whereç›´æ¥è·Ÿandæ‹¼æ¥ï¼Œåˆ™è‡ªåŠ¨åˆ é™¤andï¼Œé€šå¸¸æƒ…å†µä¸‹ if å’Œ whereç»“åˆä½¿ç”¨ã€‚</strong></p>
<ul>
<li><strong>chooseã€whenæ ‡ç­¾</strong></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount2&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;id !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        id = #&#123;id&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;username !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        username = #&#123;username&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;password !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        password = #&#123;password&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;age !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        age = #&#123;age&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>trimæ ‡ç­¾ï¼štrimæ ‡ç­¾ä¸­çš„prefixå’Œsuffixå±æ€§ä¼šè¢«ç”¨äºç”Ÿæˆå®é™…çš„sqlè¯­å¥ï¼Œä¼šå’Œæ ‡ç­¾å†…éƒ¨çš„è¯­å¥è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœè¯­å¥å‰åå‡ºç°äº†prefixOverridesæˆ–è€…suffixOverrideså±æ€§ä¸­æŒ‡å®šçš„å€¼ï¼ŒMybatisæ¡†æ¶ä¼šè‡ªåŠ¨å°†å…¶åˆ é™¤ã€‚</strong></li>
</ul>
<ul>
<li><strong>setæ ‡ç­¾ï¼šç”¨äºupdateæ“ä½œï¼Œä¼šè‡ªåŠ¨æ ¹æ®å‚æ•°æ¥é€‰æ‹©ç”Ÿæˆsqlè¯­å¥ã€‚</strong></li>
</ul>
<p><strong>updateä¼ å…¥çš„å¯¹è±¡ï¼Œå¦‚æœsetå±æ€§åªæœ‰ä¸€ä¸ªï¼Œç›¸å½“äºå…¶ä»–å±æ€§ä¸ä¼ å€¼ï¼Œå˜ä¸ºäº†nullæˆ–è€…0.</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  update account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      id = #&#123;id&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and username = #&#123;username&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and password = #&#123;password&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      age = #&#123;age&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">   where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿™æ˜¯sqlæ‹¼æ¥å—ï¼Ÿ</strong></p>
<ul>
<li><strong>foreachæ ‡ç­¾</strong></li>
</ul>
<p><strong>foreachæ ‡ç­¾å¯ä»¥è¿­ä»£ç”Ÿæˆä¸€ç³»åˆ—å€¼ï¼Œè¿™ä¸ªæ ‡ç­¾ä¸»è¦ç”¨äºsqlçš„inè¯­å¥ã€‚</strong></p>
<p><code>private List&lt;Long&gt; ids;</code></p>
<p><code>List&lt;Long&gt; ids = new ArrayList&lt;Long&gt;();</code></p>
<p><strong>è¿˜å¾—åœ¨å®ä½“ç±»é‡Œå»ºä¸€ä¸ªListå—ï¼Ÿæ„Ÿè§‰ä¸å¤ªä¾¿åˆ©ã€‚</strong></p>
<p><code>&lt;select id=&quot;findByIds&quot; param&gt;</code></p>
<h3 id="â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper"><a href="#â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper" class="headerlink" title="â›½ï¸ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper"></a>â›½ï¸<strong>ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper</strong></h3><p><strong>è™½ç„¶æœ‰é€†å‘å·¥ç¨‹MBGï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œä½†æ˜¯entityæ”¹å˜ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</strong></p>
<p>1âƒ£ï¸<strong>å»ºè¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mapperdemo(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mapperdemo (username, password, age) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="number">23</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>, <span class="number">22</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºjavaå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">//æœ‰å‚æ„é€ </span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span>  <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mapperdemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>~~~~</p>
<p>è€ƒè™‘åˆ°åŸºæœ¬æ•°æ®ç±»å‹åœ¨Javaç±»å‹ä¸­éƒ½æœ‰é»˜è®¤å€¼ï¼Œä¼šå¯¼è‡´mybatisåœ¨æ‰§è¡Œç›¸å…³æ“ä½œæ—¶å¾ˆéš¾åˆ¤æ–­å½“å‰å­—æ®µæ˜¯å¦ä¸ºnullã€‚å› æ­¤åœ¨mybatisç¯å¢ƒä¸‹ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»å‹ã€‚(ä¸Šé¢çš„ä½œåºŸ)</p>
<p>âœ…mapperæ³¨è§£é‡æ¥ï¼š</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/jintingbo/article/details/80517053">https://blog.csdn.net/jintingbo/article/details/80517053</a></p>
<p>ä»mybatis3.4.0å¼€å§‹åŠ å…¥äº†@Mapperæ³¨è§£ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†ä¸å†å†™mapperæ˜ å°„æ–‡ä»¶</p>
<p>ç°åœ¨æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€æ˜“çš„mavené¡¹ç›®å»äº†è§£@Mapperæ³¨è§£çš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<p>1âƒ£ï¸å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> pwd <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> (name, pwd) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸å®ä½“ç±»</p>
<p>æ“ä½œä¹‹å‰ï¼Œä»githubä¸Šcloneä¸‹æ¥çš„é¡¹ç›®å‡ºç°é—®é¢˜</p>
<p>1.æ–‡ä»¶å·¦ä¸‹è§’æœ‰ä¸ªæ©™è‰²çš„å°æ—¶é’Ÿï¼Œå‡ºç°æ©™è‰²åŸå› ï¼šæ²¡æœ‰æ·»åŠ åˆ°mavenè§£å†³åŠæ³•ï¼šæ‰¾åˆ°é¡¹ç›®çš„xml,å¦‚æœæœ€å¤–å±‚æ²¡æœ‰xml,æ‰¾åˆ°æ¨¡å—é‡Œé¢å¯¹åº”çš„xml,å³é”®é€‰æ‹©Add as Maven project. å¯¼å…¥é€šè¿‡mavenå¯¼å…¥jarã€‚å°±è§£å†³äº†äº†ã€‚</p>
<p>2.é¡¹ç›®ä¾èµ–æ˜¯çº¢çš„ï¼Œå»mavenä»“åº“<a target="_blank" rel="noopener" href="https://mvnrepository.com/">Maven Repository: Search/Browse/Explore</a>ä¸‹ä¸‹æ¥ï¼Œæ”¾åœ¨.m2æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>3.æ²¡å¼„sdkï¼Œå¼„æˆjdk1.8</p>
<p>4.å¥‡äº†æ€ªäº†ï¼Œè¿™ä¸ªé¡¹ç›®é‡Œå®ä½“ç±»ç”¨Lombokï¼Œä¾èµ–æ˜¾çº¢ï¼Œæ‡µé€¼äº†ã€‚</p>
<p>5.pç©ºé—´æ˜¾çº¢çš„è§£å†³åŠæ³•ï¼šfileâ€“&gt;settingsâ€¦â€“&gt;languages &amp; frameworksâ€“&gt;schemas and DTDs â€“&gt; æ·»åŠ url</p>
<p>3âƒ£ï¸åŠ è½½é…ç½®æ–‡ä»¶æ—¶æ‰¾ä¸åˆ°bean</p>
<p>ä¸çŸ¥é“å•¥åŸå› äº†ï¼Œåº”è¯¥æ˜¯mybatisç»“åˆspringï¼Œè¿™ä¸€ç‚¹è¿˜æ²¡æŒæ¡ã€‚</p>
<p>æ€»ä¹‹ï¼Œä½¿ç”¨æ–¹é¢ï¼Œä¸éœ€è¦åœ¨mapper.xmlé‡Œå†™sqlè¯­å¥ï¼Ÿ</p>
<p>æµ‹è¯•ç±»é‡Œç›´æ¥è°ƒç”¨daoæ¥å£é‡Œçš„æ–¹æ³•å³å¯ï¼Ÿ</p>
<p>ï¼ï¼ï¼é¡¹ç›®é‡Œè¿˜æ˜¯æœ‰sqlè¯­å¥çš„ï¼Œæ¥å£é‡Œç”¨@mapper @paramæ³¨è§£ï¼Œåªæ˜¯ä¼ é€’å‚æ•°ã€‚å’Œä¹‹å‰å­¦çš„ï¼Œåªæ˜¯åœ¨æ¥å£é‡Œå¤šäº†è¿™ä¿©æ³¨è§£ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/12/myblog/JAVA/Tomcat%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/12/myblog/JAVA/Tomcat%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">tomcatå…¥é—¨æ•™ç¨‹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-12 21:19:51 / Modified: 21:21:59" itemprop="dateCreated datePublished" datetime="2022-03-12T21:19:51+08:00">2022-03-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a><strong>tomcat</strong></h3><p>ä¸ºä»€ä¹ˆæœ‰tomcatï¼Ÿ</p>
<p>ä¸€ä¸ªé¡¹ç›®ï¼šå®¢æˆ·ç«¯+åç«¯+æ•°æ®åº“ã€‚</p>
<p>å¦‚ä½•è®¿é—®åˆ°æœåŠ¡ï¼Ÿéœ€è¦åœ¨webåº”ç”¨æœåŠ¡å™¨é‡Œè¿›è¡Œéƒ¨ç½²ã€‚</p>
<p>tomcatå°±æ˜¯ä¸€ä¸ªwebåº”ç”¨æœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œé‡Œé¢æ”¾javaç¨‹åºã€‚</p>
<p>webåº”ç”¨æœåŠ¡å™¨ï¼štomcatã€Jboosã€Weblogicã€Jettyã€‚</p>
<p>æœ‰äº†tomcatå¯ä»¥å®ç°ä¸¤ä¸ªç”µè„‘ä¹‹é—´çš„äº’ç›¸è®¿é—®ï¼Œå‰ææ˜¯åœ¨ä¸€ä¸ªå±€åŸŸç½‘é‡Œã€‚</p>
<h3 id="1âƒ£ï¸å®‰è£…tomcatã€‚"><a href="#1âƒ£ï¸å®‰è£…tomcatã€‚" class="headerlink" title="1âƒ£ï¸å®‰è£…tomcatã€‚"></a>1âƒ£ï¸å®‰è£…tomcatã€‚</h3><p>apacheå‡ºçš„ï¼Œè¿›å…¥å®˜ç½‘ï¼Œé€‰æ‹©tomcat9ï¼Œä¸‹è½½å‹ç¼©æ–‡ä»¶tar.gz</p>
<p>è§£å‹ç¼©ï¼Œæ”¾libraryé‡Œã€‚</p>
<p>binï¼šå­˜æ”¾å„ä¸ªå¹³å°ä¸‹å¯åŠ¨å’Œåœæ­¢tomcatæœåŠ¡çš„è„šæœ¬æ–‡ä»¶ã€‚batæ˜¯windowsç³»ç»Ÿä¸‹çš„è„šæœ¬æ–‡ä»¶ï¼Œshæ˜¯macå’Œlinuxçš„ã€‚</p>
<p>confï¼šå­˜æ”¾å„ç§tomcatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®ç«¯å£ï¼Œserver.xmlã€‚</p>
<p>libï¼šå­˜æ”¾tomcatæœåŠ¡å™¨éœ€è¦çš„jaråŒ…ã€‚</p>
<p>logsï¼šå­˜æ”¾tomcatæœåŠ¡è¿è¡Œçš„æ—¥å¿—ã€‚</p>
<p>tempï¼štomcatè¿è¡Œæ—¶çš„ä¸´æ—¶æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸Šä¼ ä¸‹è½½ioæµçš„æ—¶å€™ç”¨ï¼Œå¤§æ–‡ä»¶æ”¾åœ¨javaè™šæ‹Ÿæœºå†…å­˜é‡Œå ç”¨èµ„æºå¤§ï¼Œå…ˆæ”¾åœ¨tempæ–‡ä»¶å¤¹é‡Œã€‚</p>
<p>webappsï¼šå­˜æ”¾å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„èµ„æºï¼ˆjavaç¨‹åºï¼‰ã€‚</p>
<p>workï¼šå­˜æ”¾tomcatå°†jspè½¬æ¢ä¹‹åçš„servletæ–‡ä»¶ã€‚</p>
<h3 id="2âƒ£ï¸ideaé›†æˆtomcat"><a href="#2âƒ£ï¸ideaé›†æˆtomcat" class="headerlink" title="2âƒ£ï¸ideaé›†æˆtomcat"></a>2âƒ£ï¸ideaé›†æˆtomcat</h3><p>create new project â€“&gt; java enterprise â€“&gt; web application â€“&gt; å®Œæˆ</p>
<p>index.jspï¼šå†™htmlçš„</p>
<p>web.xmlï¼šé…ç½®åº”ç”¨çš„</p>
<p>æ·»åŠ tomcaté…ç½®ï¼šå³ä¸Šè§’add configurationï¼Œç‚¹åŠ å·ï¼Œtomcalï¼Œé€‰localï¼Œé…ä¸€ä¸ªæœ¬åœ°çš„tomcatï¼Œè®¾ç½®ï¼Œå†™åå­—ï¼Œé€‰tomcatè·¯å¾„ï¼ˆä¸»è¦å°±ç”¨tomcatçš„ä¸¤ä¸ªjaråŒ…ï¼šjspã€servletï¼‰ã€‚ç›¸å½“äºæ˜¯æŠŠideaå’Œtomcatæ˜ å°„èµ·æ¥äº†ã€‚è®¾ç½®urlï¼šé»˜è®¤æµè§ˆå™¨ï¼Œafter launchæ˜¯å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œurlæ˜¯è®¿é—®è·¯å¾„ï¼Œè®¿é—®åˆ°tomcatæœåŠ¡ã€‚ç„¶åé€‰deploymentæ·»åŠ javaå·¥ç¨‹ï¼Œç‚¹åŠ å·ï¼Œé€‰artifactï¼Œè‡ªåŠ¨åŠ è¿›æ¥äº†ã€‚ç›¸å½“äºæ˜¯æŠŠjavaå·¥ç¨‹æ”¾åœ¨testé‡Œäº†ã€‚ç„¶åapplyï¼Œokã€‚</p>
<p>ç‚¹å³ä¸Šè§’è™«å­å›¾æ ‡ã€‚è‡ªåŠ¨è·³å‡ºæ¥é¡µé¢ã€‚å…³æ‰ideaï¼Œå°±æ²¡äº†ã€‚</p>
<p>urlç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šip:port/application name</p>
<p>å¯ä»¥æ”¹åº”ç”¨çš„åå­—ï¼Œåœ¨å³ä¸Šè§’edit applicationï¼Œé€‰deploymentï¼Œä¸‹é¢contextæ”¹åå­—ã€‚é‡å¯å°±å¯ä»¥äº†ã€‚</p>
<p>ä¹Ÿå¯ä»¥æ²¡æœ‰åå­—ï¼Œåªæ˜¯ä¸€ä¸ª/ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/07/myblog/JAVA/springboot%20b%E7%AB%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/07/myblog/JAVA/springboot%20b%E7%AB%99/" class="post-title-link" itemprop="url">spring bootå…¥é—¨æ•™ç¨‹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-07 08:59:17" itemprop="dateCreated datePublished" datetime="2022-03-07T08:59:17+08:00">2022-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-12 21:09:59" itemprop="dateModified" datetime="2022-03-12T21:09:59+08:00">2022-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h3><p>spring bootæ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œå¯ä»¥è¿…é€Ÿæ­å»ºä¸€å¥—åŸºäºspringæ¡†æ¶ä½“ç³»çš„åº”ç”¨ï¼Œæ˜¯spring cloudçš„åŸºç¡€ã€‚</p>
<p>springMVCè™½ç„¶ç®€åŒ–äº†é…ç½®ï¼Œå‡å°‘äº†å¾ˆå¤šç±»çš„æ•°é‡ï¼Œä¸€ä¸ªæ§åˆ¶å™¨å½“ä¸­å¤šä¸ªæ–¹æ³•å¯ä»¥å¯¹åº”ä¸åŒçš„ä¸šåŠ¡ï¼Œä½†æ˜¯SpringMVCçš„é…ç½®è¿˜æ˜¯æ¯”è¾ƒå¤šï¼Œæ­å»ºå·¥ç¨‹æœ‰å¾ˆå¤šé‡å¤æ­¥éª¤ï¼Œå¼€å‘é€Ÿåº¦ä¸å¤Ÿå¿«ã€‚</p>
<p>spring bootå¼€å¯äº†å„ç§è‡ªåŠ¨è£…é…ï¼Œä»è€Œç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œä¸éœ€è¦ç¼–å†™å„ç§é…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦å¼•å…¥ç›¸å…³ä¾èµ–å°±å¯ä»¥è¿…é€Ÿæ­å»ºä¸€ä¸ªåº”ç”¨ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>ä¸éœ€è¦web.xml</p>
</li>
<li><p>ä¸éœ€è¦springmvc.xml</p>
</li>
<li><p>ä¸éœ€è¦tomcatï¼ŒSpring Bootå†…åµŒäº†tomcat</p>
</li>
<li><p>ä¸éœ€è¦é…ç½®jsonè§£æï¼ˆfastjsonï¼‰ï¼Œæ”¯æŒRESTæ¶æ„</p>
</li>
<li><p>ä¸ªæ€§åŒ–é…ç½®éå¸¸ç®€å•ï¼Œè‡³å°‘éœ€è¦ç«¯å£å•¥çš„</p>
</li>
</ul>
<p>å®ƒæ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œä¸åƒmybatisæ˜¯ä¸€ä¸ªormæ˜ å°„çš„åº”ç”¨ã€‚ç›¸å½“äºä¸€ä¸ªè„šæ‰‹æ¶ï¼Œä½¿å¾—å…¶ä»–å·¥ç§å¿«é€Ÿè¿›è¡Œå·¥ä½œï¼Œæ­å»ºä¸€ä¸ªæ•´ä½“çš„ç¯å¢ƒã€‚</p>
<h3 id="springbootæ¦‚å¿µ"><a href="#springbootæ¦‚å¿µ" class="headerlink" title="springbootæ¦‚å¿µ"></a>springbootæ¦‚å¿µ</h3><p>spring bootçš„è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ï¼Œè¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ï¼Œ</p>
<p>spring booté»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒMavenæ•´åˆäº†æ‰€æœ‰çš„JaråŒ…ï¼Œspring bootæ•´åˆäº†æ‰€æœ‰çš„æ¡†æ¶ï¼Œé€šè¿‡å°‘é‡çš„ä»£ç å°±èƒ½åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ã€äº§å“çº§åˆ«çš„springåº”ç”¨ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œspring bootæ˜¯ä¸€ä¸ªé›†æˆäº†springå„ç§ç»„ä»¶çš„å¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œä½œä¸ºä¸€ä¸ªç”¨æˆ·å’Œspringä¹‹é—´çš„è¿æ¥è€…ã€‚</p>
<p>spring bootæ˜¯åŸºç¡€ï¼Œspring cloudæ˜¯åŸºäºspring bootçš„ï¼Œç”¨æ¥åšåˆ†å¸ƒå¼å¾®æœåŠ¡çš„ã€‚</p>
<h4 id="spring-bootç‰¹ç‚¹"><a href="#spring-bootç‰¹ç‚¹" class="headerlink" title="spring bootç‰¹ç‚¹"></a>spring bootç‰¹ç‚¹</h4><ul>
<li>ä½¿ç”¨springé¡¹ç›®å¼•å¯¼é¡µé¢å¯ä»¥åœ¨å‡ ç§’æ„å»ºä¸€ä¸ªé¡¹ç›®ã€‚</li>
<li>æ–¹ä¾¿å¯¹å¤–è¾“å‡ºå„ç§å½¢å¼çš„æœåŠ¡ï¼Œå¦‚REST APIã€WebSocketã€Webã€Streamingã€Tasks</li>
<li>éå¸¸ç®€æ´çš„å®‰å…¨ç­–ç•¥é›†æˆ</li>
<li>æ”¯æŒå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“</li>
<li>æ”¯æŒè¿è¡ŒæœŸå†…åµŒå®¹å™¨ï¼Œå¦‚tomcatã€jetty</li>
<li>è‡ªåŠ¨ç®¡ç†ä¾èµ–</li>
</ul>
<h4 id="spring-bootä¸å¾®æœåŠ¡"><a href="#spring-bootä¸å¾®æœåŠ¡" class="headerlink" title="spring bootä¸å¾®æœåŠ¡"></a>spring bootä¸å¾®æœåŠ¡</h4><ul>
<li>spring bootçš„ä¸€ç³»åˆ—ç‰¹æ€§æœ‰åŠ©äºå®ç°å¾®æœåŠ¡æ¶æ„çš„è½åœ°ï¼Œä»ç›®å‰ä¼—å¤šçš„æŠ€æœ¯æ ˆå¯¹æ¯”æ¥çœ‹å®ƒæ˜¯javaé¢†åŸŸå¾®æœåŠ¡æ¶æ„æœ€ä¼˜è½åœ°æŠ€æœ¯ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</li>
<li>spring cloudä¾èµ–äºspring bootã€‚</li>
<li>spring bootä¸“æ³¨äºå¿«é€Ÿå¼€å‘ä¸ªä½“å¾®æœåŠ¡ï¼Œspring cloudæ˜¯å…³æ³¨å…¨å±€çš„å¾®æœåŠ¡åè°ƒæ²»ç†æ¡†æ¶ã€‚spring bootæä¾›ç»„å»ºï¼Œspring cloudæ¥ç®¡ç†ç»„ä»¶ã€‚</li>
</ul>
<h3 id="åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹"><a href="#åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹" class="headerlink" title="åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹"></a>åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–"><a href="#ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–"></a>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç»§æ‰¿çˆ¶åŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- dependenciesä¸‹é¢å†å¼•ç›¸å…³çš„å­åŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- webå¯åŠ¨çš„jaråŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:42</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository"><a href="#ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository"></a>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository</h4><p>ä¹‹å‰ï¼Œéœ€è¦é…ç½®æ–‡ä»¶å»æ‰«daoå®ç°ç±»çš„åŒ…ï¼Œä½†æ˜¯springbootç¯å¢ƒå¯åŠ¨ä¹‹åï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‰«æã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:45</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StudentDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveOrUpdate</span><span class="params">(Student stu)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.repository.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.repository.StudentDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:49</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDaoImpl</span> <span class="keyword">implements</span> <span class="title">StudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨é™æ€mapä»£æ›¿æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Long, Student&gt; studentMap;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        studentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        studentMap.put(<span class="number">1L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;lili&quot;</span>, <span class="number">22</span>));</span><br><span class="line">        studentMap.put(<span class="number">2L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;mary&quot;</span>, <span class="number">12</span>));</span><br><span class="line">        studentMap.put(<span class="number">3L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;jade&quot;</span>, <span class="number">24</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentMap.values();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentMap.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveOrUpdate</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">        studentMap.put(student.getId(), student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        studentMap.remove(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰"><a href="#ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰" class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰"></a>ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.repository.StudentDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 11:00</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">// è‡ªåŠ¨æ³¨å…¥ï¼Œdaoå®ç°ç±»è¦åŠ @Repositoryæ³¨è§£</span></span><br><span class="line">    <span class="keyword">private</span> StudentDao studentDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// postè¯·æ±‚ï¼Œå‰ç«¯è¿”å›çš„æ˜¯jsonæ ¼å¼çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œéœ€è¦æ˜ å°„æˆå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/sav&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(<span class="meta">@RequestBody</span> Student student)</span></span>&#123;</span><br><span class="line">        studentDao.saveOrUpdate(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç”¨putæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="meta">@RequestBody</span> Student student)</span></span>&#123;</span><br><span class="line">        studentDao.saveOrUpdate(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        studentDao.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"><a href="#ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»" class="headerlink" title="ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"></a>ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»</h4><p>å¹³å¸¸çš„webå·¥ç¨‹éœ€è¦åœ¨tomcatéƒ¨ç½²ã€‚springbootæœ‰è‡ªå·±å†…ç½®çš„tomcatï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªå¯åŠ¨ç±»ï¼Œä½œä¸ºæ•´ä¸ªspringbootçš„å…¥å£.</p>
<p>application.javaéœ€è¦åœ¨å…¶ä»–ç»„ä»¶åŒ…çš„çˆ¶åŒ…ä¸‹ï¼Œè¦ä¸ç„¶æ‰«æä¸åˆ°ã€‚åå­—å«ä»€ä¹ˆæ— æ‰€è°“ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 11:17</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‚æ•°æ˜¯å¯åŠ¨ç±»çš„è¿è¡Œæ—¶ç±»ï¼Œè¿˜æœ‰mainæ–¹æ³•é‡Œçš„args</span></span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<p> Tomcat started on port(s): 8080 (http) with context path â€˜â€™</p>
<p>Started Application in 2.772 seconds (JVM running for 3.857)</p>
<p>è¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥ç›´æ¥è®¿é—®äº†ã€‚<a target="_blank" rel="noopener" href="http://localhost:8080/student/findAll">http://localhost:8080/student/findAll</a></p>
<p>å› ä¸ºæ˜¯åŸºäºrestçš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨postmanå·¥å…·æ¥æµ‹è¯•ã€‚ï¼ˆpostè¯·æ±‚å‘jsonï¼Œé€‰bodyâ€“rawâ€“jsonï¼‰</p>
<h4 id="ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚"><a href="#ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚" class="headerlink" title="ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚"></a>ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚</h4><p>resourceé‡Œæ–°å»ºä¸€ä¸ªapplication.ymlæ–‡ä»¶ã€‚æ–‡ä»¶åä¸èƒ½å˜ã€‚</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„9090å‰æœ‰ä¸ªç©ºæ ¼ã€‚</p>
<h3 id="springbootæ•´åˆJSP"><a href="#springbootæ•´åˆJSP" class="headerlink" title="springbootæ•´åˆJSP"></a>springbootæ•´åˆJSP</h3><p>æ–°å»ºmavenå·¥ç¨‹ï¼Œé€‰æ‹©archetypeï¼Œé€‰æ‹©webappï¼ˆwebæ¨¡ç‰ˆï¼Œç”¨æ¥è®¿é—®JSP.ï¼‰</p>
<p>ä¸Šä¸€ä¸ªå·¥ç¨‹åªå±•ç¤ºäº†æ•°æ®ï¼Œä½†æ˜¯æ²¡æœ‰è§†å›¾viewã€‚</p>
<p>JSPï¼ˆå…¨ç§°JavaServer Pagesï¼‰æ˜¯ç”±Sun Microsystemså…¬å¸ä¸»å¯¼åˆ›å»ºçš„ä¸€ç§åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ ‡å‡†ã€‚JSPéƒ¨ç½²äºç½‘ç»œæœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥å“åº”å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚å†…å®¹åŠ¨æ€åœ°ç”ŸæˆHTMLã€XMLæˆ–å…¶ä»–æ ¼å¼æ–‡æ¡£çš„Webç½‘é¡µï¼Œç„¶åè¿”å›ç»™è¯·æ±‚è€…ã€‚JSPæŠ€æœ¯ä»¥Javaè¯­è¨€ä½œä¸ºè„šæœ¬è¯­è¨€ï¼Œä¸ºç”¨æˆ·çš„HTTPè¯·æ±‚æä¾›æœåŠ¡ï¼Œå¹¶èƒ½ä¸æœåŠ¡å™¨ä¸Šçš„å…¶å®ƒJavaç¨‹åºå…±åŒå¤„ç†å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<p>å‰åç«¯åˆ†ç¦»ï¼Œjspæ›´åƒå‰ç«¯çš„ç»„ä»¶ï¼Œç•¥ã€‚</p>
<p>javaç¨‹åºçš„å¯¹è±¡ï¼Œåºåˆ—åŒ–ä¸ºjsonå­—ç¬¦ä¸²ï¼Œä¼ é€’ç»™htmlè¿›è¡Œæ˜¾ç¤ºã€‚jspå°±æ˜¯æä¾›è§†å›¾çš„ã€‚controllerç”¨ModeAndViewã€‚</p>
<h3 id="spring-boot-html"><a href="#spring-boot-html" class="headerlink" title="spring boot html"></a>spring boot html</h3><p>spring mvcé‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼å±•ç¤ºjavaå¯¹è±¡ï¼Œéœ€è¦é€šè¿‡jsonå­—ç¬¦ä¸²è¿›è¡Œè¯»å–ï¼Œä½†æ˜¯spring bootå¯ä»¥åœ¨htmlä¸­è¯»å–javaå¯¹è±¡ã€‚</p>
<p>spring bootå¯ä»¥ç»“åˆthymeleafæ¨¡ç‰ˆæ¥æ•´åˆhtmlï¼Œä½¿ç”¨åŸç”Ÿçš„htmlä½œä¸ºè§†å›¾ã€‚</p>
<p>Thymeleafæ¨¡ç‰ˆæ˜¯é¢å‘Webå’Œç‹¬ç«‹ç¯å¢ƒçš„javaæ¨¡ç‰ˆå¼•æ“ï¼Œèƒ½å¤Ÿå¤„ç†htmlã€xmlã€javascriptã€cssç­‰ã€‚</p>
<p>å‰ç«¯ï¼Œç•¥ã€‚</p>
<h3 id="spring-bootæ•°æ®æ ¡éªŒ"><a href="#spring-bootæ•°æ®æ ¡éªŒ" class="headerlink" title="spring bootæ•°æ®æ ¡éªŒ"></a>spring bootæ•°æ®æ ¡éªŒ</h3><p>ç”¨æ¥ç¡®ä¿å®¢æˆ·ç«¯è¾“å…¥çš„æ•°æ®æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ç”¨åŒ…è£…ç±»ç±»å‹ï¼Ÿå› ä¸ºå‰å°æœ‰å¯èƒ½æ²¡ç©¿å€¼ï¼Œå°±ä¼šæ˜¯nullå€¼ï¼Œéœ€è¦åŒ…è£…ç±»ç±»å‹æ¥æ¥æ”¶ã€‚</p>
<p>notnullæ˜¯å‹æ ¹æ²¡ç©¿å€¼ï¼Œnotemptyæ˜¯ä¼ çš„ç©ºã€‚</p>
<p>è¿™äº›æ ¡éªŒå¯ä»¥äº¤ç»™å‰ç«¯ï¼Œä½†æ˜¯åç«¯æœ‰çš„åŸå› æ˜¯é˜²æ­¢æ”»å‡»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 16,message = &quot;å¹´é¾„å¿…é¡»å¤§äº16å²&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/validator&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">validatorUser</span><span class="params">(<span class="meta">@Valid</span> User user,BindingResult bindingResult)</span></span>&#123;</span><br><span class="line">  System.out.println(user);</span><br><span class="line">  <span class="keyword">if</span>(bindingResult.hasErrors())&#123;</span><br><span class="line">    List&lt;ObjectError&gt; list = bindingResult.getAllErrors();</span><br><span class="line">    <span class="keyword">for</span>(ObjectError objectError:list)&#123;</span><br><span class="line">      System.out.println(objectError.getCode()+<span class="string">&quot;-&quot;</span>+objectError.getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨@Validè¡¨ç¤ºè‡ªåŠ¨å»æ ¡éªŒï¼Œå°†é”™è¯¯ä¼ ç»™BindingResultã€‚getCodeæ˜¯æ³¨è§£åç§°ã€‚</p>
<h3 id="spring-bootæ•´åˆjdbc"><a href="#spring-bootæ•´åˆjdbc" class="headerlink" title="spring bootæ•´åˆjdbc"></a>spring bootæ•´åˆjdbc</h3><ul>
<li>pom.xmlï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>application.yml</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">  <span class="attr">datasource:</span> <span class="string">//è¿æ¥æ•°æ®åº“ç›¸å…³</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span> </span><br></pre></td></tr></table></figure>

<ul>
<li>User</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 60,message = &quot;æˆç»©å¿…é¡»å¤§äº60åˆ†&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>UserRepository</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>UserRepositoryImplï¼ŒjdbcTemplateä¸¤ç§æ–¹æ³•ï¼šqueryã€updateã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.repository.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.repository.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.query(<span class="string">&quot;select * from user&quot;</span>,<span class="keyword">new</span> BeanPropertyRowMapper&lt;&gt;(User.class));</span><br><span class="line">    &#125;       <span class="comment">// è§£æå®ä½“ç±»ï¼Œæ‹¬å·å†…ä¼ å…¥è¦è§£ææˆä¸ºçš„å®ä½“ç±»</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.queryForObject(<span class="string">&quot;select * from user where id = ?&quot;</span>,<span class="keyword">new</span> Object[]&#123;id&#125;,<span class="keyword">new</span> BeanPropertyRowMapper&lt;&gt;(User.class));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;insert into user(name,score) values(?,?)&quot;</span>,user.getName(),user.getScore());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;update user set name = ?,score = ? where id = ?&quot;</span>,user.getName(),user.getScore(),user.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;delete from user where id = ?&quot;</span>,id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Handler</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.repository.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        userRepository.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/deleteById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="spring-bootæ•´åˆmybatis"><a href="#spring-bootæ•´åˆmybatis" class="headerlink" title="spring bootæ•´åˆmybatis"></a>spring bootæ•´åˆmybatis</h3><p>mybatisæ˜¯åŠè‡ªåŠ¨åŒ–çš„ï¼Œæ„æ€æ˜¯å¾—è‡ªå·±å†™sqlè¯­å¥ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦mapper.xml</p>
<h4 id="ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹"><a href="#ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹"></a>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹</h4><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç»§æ‰¿çˆ¶åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- dependenciesä¸‹é¢å†å¼•ç›¸å…³çš„å­åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- webå¯åŠ¨çš„jaråŒ…ï¼Œä¸ç”¨å†™ç‰ˆæœ¬ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mybatisè·Ÿspringbootæ•´åˆçš„ï¼Œmybatisè‡ªå·±å‡ºçš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mysqlçš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- lombok --&gt;</span></span><br><span class="line">			 <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student&#123;</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line">	score <span class="keyword">double</span>,</span><br><span class="line">	birthday <span class="type">date</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»"><a href="#ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»"></a>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 60,message = &quot;æˆç»©å¿…é¡»å¤§äº60åˆ†&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£"><a href="#ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£" class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£"></a>ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">(<span class="keyword">int</span> index,<span class="keyword">int</span> limit)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper-xml"><a href="#ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper-xml" class="headerlink" title="ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper.xml"></a>ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper.xml</h4><p>æ”¾åœ¨resourceæ–‡ä»¶å¤¹ä¸‹çš„mappingæ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line">        <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.southwind.mapper.UserRepository&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user limit #&#123;param1&#125;,#&#123;param2&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;count&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select count(id) from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        insert into user(name,score) values(#&#123;name&#125;,#&#123;score&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        update user set name = #&#123;name&#125;,score = #&#123;score&#125; where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span>   //å¦‚æœæ˜¯åŒ…è£…ç±»ç±»å‹ï¼Œâ€œjava.lang.Longâ€</span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚"><a href="#ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚" class="headerlink" title="ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚"></a>ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.controller;</span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.mapper.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span>   <span class="comment">//è§†é¢‘ä¸­æ˜¯ @RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> limit = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll/&#123;page&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">findAll</span><span class="params">(<span class="meta">@PathVariable(&quot;page&quot;)</span> <span class="keyword">int</span> page)</span></span>&#123;</span><br><span class="line">        ModelAndView modelAndView = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        <span class="keyword">int</span> index = (page-<span class="number">1</span>)*limit;</span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;list&quot;</span>,userRepository.findAll(index,limit));</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;page&quot;</span>,page);</span><br><span class="line">        <span class="comment">//è®¡ç®—æ€»é¡µæ•°</span></span><br><span class="line">        <span class="keyword">int</span> count = userRepository.count();</span><br><span class="line">        <span class="keyword">int</span> pages = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(count%limit == <span class="number">0</span>)&#123;</span><br><span class="line">            pages = count/limit;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            pages = count/limit+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;pages&quot;</span>,pages);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/deleteById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">findById</span><span class="params">(<span class="meta">@RequestParam(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        ModelAndView modelAndView = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;user&quot;</span>,userRepository.findById(id));</span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userRepository.update(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">save</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/redirect/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">redirect</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>@RequestBodyæ˜¯æŠŠè¯·æ±‚é‡Œçš„jsonè½¬æ¢æˆjavaå¯¹è±¡</p>
<p>@RequestBodyæ˜¯æŠŠjavaå¯¹è±¡è½¬æˆjson</p>
<p>@PathVariableç›´æ¥ä»å¯¹è±¡ä¸­ä¼ æ•°æ®çš„</p>
<p>@RequestParamä¹Ÿæ˜¯ä»å¯¹è±¡ä¸­å–æ•°æ®ï¼Ÿ</p>
</blockquote>
<h4 id="ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml"><a href="#ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml" class="headerlink" title="ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml"></a>ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml</h4><p>resourceæ–‡ä»¶å¤¹ä¸‹application.yml</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:/mapping/*.xml</span>   <span class="string">//æ³¨å…¥mapper</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.southwind.entity</span>    <span class="string">//è‡ªåŠ¨å°†åŒ…åæå‡ºæ¥ï¼Œæ‰€ä»¥mapperé‡Œä¸ç”¨å†™åŒ…åäº†ã€‚</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"><a href="#ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»" class="headerlink" title="ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"></a>ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»</h4><p>åœ¨controllerã€entityçš„å¤–éƒ¨æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.liuxuan.demo.springboot;</span><br><span class="line"></span><br><span class="line">import org.springframework.boot.SpringApplication;</span><br><span class="line">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @author: liuxuan</span><br><span class="line"> * @date: 2022-03-12 11:17</span><br><span class="line"> **/</span><br><span class="line">@SpringBootApplication</span><br><span class="line">@MapperScan(com.liuxuan.repository)  //å› ä¸ºmapperæ¥å£æ˜¯mybatisçš„ï¼Œæ‰€ä»¥åŠ è¿™ä¸ªæ³¨è§£ç”¨æ¥æ‰«æï¼ŒæŠŠå®ƒçš„å®ä¾‹åŒ–å¯¹è±¡åŠ åˆ°iocå®¹å™¨ä¸­ã€‚</span><br><span class="line">public class Application &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // å‚æ•°æ˜¯å¯åŠ¨ç±»çš„è¿è¡Œæ—¶ç±»ï¼Œè¿˜æœ‰mainæ–¹æ³•é‡Œçš„args</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¹æ­¥ï¼šHTML"><a href="#ç¬¬ä¹æ­¥ï¼šHTML" class="headerlink" title="ç¬¬ä¹æ­¥ï¼šHTML"></a>ç¬¬ä¹æ­¥ï¼šHTML</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/mapper/save&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·æˆç»©ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/mapper/update&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·IDï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.id&#125;&quot;</span> <span class="attr">readonly</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·æˆç»©ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.score&#125;&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/jquery-3.3.1.min.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#first&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/1&quot;</span>;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#previous&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                page = page-<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+page;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#next&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pages = $(<span class="string">&quot;#pages&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == pages)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                page = page+<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+page;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#last&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pages = $(<span class="string">&quot;#pages&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == pages)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+pages;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æˆç»©<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;user:$&#123;list&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.id&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.score&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/mapper/deleteById/&#123;id&#125;(id=$&#123;user.id&#125;)&#125;&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/mapper/findById(id=$&#123;user.id&#125;)&#125;&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;first&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;previous&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>ä¸Šä¸€é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;page&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;page&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>/<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;pages&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;pages&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;next&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>ä¸‹ä¸€é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;last&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>å°¾é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/mapper/redirect/save&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="spring-bootæ•´åˆspring-data-jpa"><a href="#spring-bootæ•´åˆspring-data-jpa" class="headerlink" title="spring bootæ•´åˆspring data jpa"></a>spring bootæ•´åˆspring data jpa</h3><p>JPAæ˜¯ä¸€å¥—æŒä¹…å±‚è§„èŒƒï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—ormæ¥å£ï¼Œéœ€è¦å®ç°æ‰èƒ½ä½¿ç”¨ã€‚</p>
<p>Hibernateæ¡†æ¶å°±æ˜¯ä¸€ä¸ªjpaå®ç°ã€‚</p>
<p>spring data jpaä¸æ˜¯å¯¹jpaè§„èŒƒçš„å…·ä½“å®ç°ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œåº•å±‚é€šè¿‡Hibernateå®ç°ã€‚</p>
<h3 id="spring-bootæ•´åˆspring-data-mongoDB"><a href="#spring-bootæ•´åˆspring-data-mongoDB" class="headerlink" title="spring bootæ•´åˆspring data mongoDB"></a>spring bootæ•´åˆspring data mongoDB</h3><h3 id="spring-bootæ•´åˆspring-data-redis"><a href="#spring-bootæ•´åˆspring-data-redis" class="headerlink" title="spring bootæ•´åˆspring data redis"></a>spring bootæ•´åˆspring data redis</h3><h3 id="spring-bootæ•´åˆspring-security"><a href="#spring-bootæ•´åˆspring-security" class="headerlink" title="spring bootæ•´åˆspring security"></a>spring bootæ•´åˆspring security</h3><p>æ¥æºï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1v4411G72q?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1v4411G72q?spm_id_from=333.999.0.0</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/15/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/shell%E5%88%B7%E9%A2%981/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/15/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/shell%E5%88%B7%E9%A2%981/" class="post-title-link" itemprop="url">shellã®leecode193.æœ‰æ•ˆçš„ç”µè¯å·ç </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-02-15 22:51:56 / Modified: 22:54:42" itemprop="dateCreated datePublished" datetime="2022-02-15T22:51:56+08:00">2022-02-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">åç«¯å¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªåŒ…å«ç”µè¯å·ç åˆ—è¡¨ï¼ˆä¸€è¡Œä¸€ä¸ªç”µè¯å·ç ï¼‰çš„æ–‡æœ¬æ–‡ä»¶ file.txtï¼Œå†™ä¸€ä¸ªå•è¡Œ bash è„šæœ¬è¾“å‡ºæ‰€æœ‰æœ‰æ•ˆçš„ç”µè¯å·ç ã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥å‡è®¾ä¸€ä¸ªæœ‰æ•ˆçš„ç”µè¯å·ç å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤ç§æ ¼å¼ï¼š (xxx) xxx-xxxx æˆ–Â xxx-xxx-xxxxã€‚ï¼ˆx è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼‰</span><br><span class="line"></span><br><span class="line">ä½ ä¹Ÿå¯ä»¥å‡è®¾æ¯è¡Œå‰åæ²¡æœ‰å¤šä½™çš„ç©ºæ ¼å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line">å‡è®¾Â file.txtÂ å†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line">987-123-4567</span><br><span class="line">123 456 7890</span><br><span class="line">(123) 456-7890</span><br><span class="line">ä½ çš„è„šæœ¬åº”å½“è¾“å‡ºä¸‹åˆ—æœ‰æ•ˆçš„ç”µè¯å·ç ï¼š</span><br><span class="line">987-123-4567</span><br><span class="line">(123) 456-7890</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/14/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.14.%E9%94%AE%E7%9B%98%E8%A1%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/14/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.14.%E9%94%AE%E7%9B%98%E8%A1%8C/" class="post-title-link" itemprop="url">javaã®leecode 500.é”®ç›˜è¡Œ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-02-14 16:03:34 / Modified: 19:04:31" itemprop="dateCreated datePublished" datetime="2022-02-14T16:03:34+08:00">2022-02-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leecode%E5%88%B7%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">leecodeåˆ·é¢˜</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä¸€é“å…³äºå“ˆå¸Œè¡¨çš„é¢˜ç›®ï¼Œæ¸©ä¹ ä¸€ä¸‹å“ˆå¸Œè¡¨çš„javaæ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ words ï¼Œåªè¿”å›å¯ä»¥ä½¿ç”¨åœ¨ ç¾å¼é”®ç›˜ åŒä¸€è¡Œçš„å­—æ¯æ‰“å°å‡ºæ¥çš„å•è¯ã€‚é”®ç›˜å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</span><br><span class="line"></span><br><span class="line">ç¾å¼é”®ç›˜ ä¸­ï¼š</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€è¡Œç”±å­—ç¬¦ &quot;qwertyuiop&quot; ç»„æˆã€‚</span><br><span class="line">ç¬¬äºŒè¡Œç”±å­—ç¬¦ &quot;asdfghjkl&quot; ç»„æˆã€‚</span><br><span class="line">ç¬¬ä¸‰è¡Œç”±å­—ç¬¦ &quot;zxcvbnm&quot; ç»„æˆã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/keyboard-row</span><br><span class="line">è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šwords = [&quot;Hello&quot;,&quot;Alaska&quot;,&quot;Dad&quot;,&quot;Peace&quot;]</span><br><span class="line">è¾“å‡ºï¼š[&quot;Alaska&quot;,&quot;Dad&quot;]</span><br></pre></td></tr></table></figure>

<p>æ¸©ä¹ ï¼šå…³äºhashmapã€hashsetåŸç†åŠä½¿ç”¨ã€‚</p>
<p>æ€è·¯ä¸€ï¼šçŸ¥é“å„ä¸ªå­—æ¯é”®ç›˜ä¸Šçš„ä½ç½®ï¼Œç¼–å†™ä¸€ä¸²26ä¸ªå­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿›è¡Œæ¯”è¾ƒåˆ¤åˆ«ã€‚å½“ç„¶ï¼Œé¦–å…ˆåº”è¯¥è®¾ç½®ä¸€ä¸ª<code>ArrayList&lt;String&gt;()</code>ï¼Œç”¨æ¥å­˜æ”¾ç»“æœã€‚</p>
<p>æˆ‘ä»¬ä¸ºæ¯ä¸€ä¸ªè‹±æ–‡å­—æ¯æ ‡è®°å…¶å¯¹åº”é”®ç›˜ä¸Šçš„è¡Œå·ï¼Œç„¶åæ£€æµ‹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦å¯¹åº”çš„è¡Œå·æ˜¯å¦ç›¸åŒã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†è®¡ç®—å‡ºæ¯ä¸ªå­—ç¬¦å¯¹åº”çš„è¡Œå·ã€‚<br>éå†å­—ç¬¦ä¸²æ—¶ï¼Œç»Ÿä¸€å°†å¤§å†™å­—æ¯è½¬åŒ–ä¸ºå°å†™å­—æ¯æ–¹ä¾¿è®¡ç®—ã€‚</p>
<blockquote>
<p>ç–‘é—®ï¼š<code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>å’Œ<code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>çš„åŒºåˆ«ï¼Ÿ</p>
<p>ç¬¬ä¸€ç§å½¢å¼ç”¨å½“å‰ç±»ä½œä¸ºå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥è®¿é—®åˆ°ArrayListè¿™ä¸ªç±»ä¸­çš„æ‰€æœ‰å…¬ç”¨æ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒç§å½¢å¼ï¼Œç”¨ArrayListå®ç°çš„æ¥å£Listä½œä¸ºå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆé€šè¿‡listå¼•ç”¨å¯ä»¥è®¿é—®åˆ°æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ArrayListè¿™ä¸ªç±»å®ç°äº†Listæ¥å£ï¼Œé™¤äº†è¦å¿…é¡»å®ç°æ¥å£Listä¸­å£°æ˜çš„æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥å®ç°é¢å¤–çš„ä¸€äº›æ–¹æ³•ã€‚</p>
<p>ä½†æ˜¯ï¼Œç¬¬äºŒç§å½¢å¼å°±æ— æ³•è°ƒç”¨çš„Listæ¥å£ä»¥å¤–çš„æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨ä¸Šï¼Œè®¾è®¡æ¨¡å¼ä¸­æœ‰ï¼šâ€œä»£ç å°½é‡ä¾èµ–äºæŠ½è±¡ï¼Œä¸ä¾èµ–äºå…·ä½“â€ã€‚ç¬¬ä¸€ç§å½¢å¼å°±æ˜¯ä¾èµ–å…·ä½“ï¼Œç¬¬äºŒç§å½¢å¼å°±æ˜¯ä¾èµ–äºæŠ½è±¡ã€‚å› ä¸ºListæ˜¯æ¥å£ã€‚ä»£ç ä¾èµ–äºæŠ½è±¡çš„å¥½å¤„æ˜¯ï¼Œä»£ç å¯ä»¥æ–¹ä¾¿æ›¿æ¢ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ä¾‹å¦‚:ä»£ç List list = new ArrayList();ä¸‹é¢é€šè¿‡listæ¥æ“ä½œé›†åˆã€‚ä»£ç ç¼–å†™åå‘ç°é›†åˆä½¿ç”¨çš„ä¸å‡†ç¡®ï¼Œåº”è¯¥ä½¿ç”¨LinkedListï¼Œé‚£ä¹ˆåªè¦ä¿®æ”¹ä¸€è¡Œä»£ç List list = new LinkedList();å°±å¯ä»¥ï¼Œè¿™è¡Œä»¥åçš„ä»£ç ä¸éœ€è¦ä¿®æ”¹ï¼Œå› ä¸ºListæ¥å£ä¿è¯äº†è°ƒç”¨çš„éƒ½æ˜¯æ¥å£ä¸­çš„æ–¹æ³•ï¼Œè€ŒArrayListä¸LinkedListéƒ½å®ç°äº†Listæ¥å£ã€‚è€Œå¦‚æœå½“æ—¶ç”¨ArrayList list = new ArrayList()è¿™ç§å½¢å¼çš„è¯ï¼Œé‚£ä¹ˆlistè®¿é—®åˆ°çš„å°±å¯èƒ½æ˜¯ArrayListé‡Œç‹¬æœ‰çš„æ–¹æ³•è€ŒéListæ¥å£ä¸­çš„æ–¹æ³•ã€‚è¿™æ ·æ›¿æ¢æˆLinkedListçš„æ—¶å€™å°±æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹å¾ˆå¤šçš„ä»£ç ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>å‰ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ArrayListç‹¬æœ‰çš„æ–¹æ³•ã€‚åé¢çš„åªèƒ½è°ƒç”¨Listæ¥å£å£°æ˜çš„æ–¹æ³•<br>Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€ŒListArrayæ˜¯ä¸€ä¸ªç±»ã€‚<br>ListArrayç»§æ‰¿å¹¶å®ç°äº†Listã€‚<br>æ‰€ä»¥Listä¸èƒ½è¢«æ„é€ ï¼Œä½†å¯ä»¥å‘ä¸Šé¢é‚£æ ·ä¸ºListåˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œè€ŒListArrayå°±å¯ä»¥è¢«æ„é€ ã€‚<br>List list; //æ­£ç¡® list=null;<br>List list=new List(); // æ˜¯é”™è¯¯çš„ç”¨æ³•<br>List list = new ArrayList();è¿™å¥åˆ›å»ºäº†ä¸€ä¸ªArrayListçš„å¯¹è±¡åæŠŠä¸Šæº¯åˆ°äº†Listã€‚æ­¤æ—¶å®ƒæ˜¯ä¸€ä¸ªListå¯¹è±¡äº†ï¼Œæœ‰äº›ArrayListæœ‰ä½†æ˜¯Listæ²¡æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ƒå°±ä¸èƒ½å†ç”¨äº†ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-02-14 17:47</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JianPanHang500</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è¾“å…¥å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        JianPanHang500Solution s = <span class="keyword">new</span> JianPanHang500Solution();</span><br><span class="line">        <span class="comment">//æ•°ç»„ç›´æ¥è¿”å›æ˜¯åœ°å€ï¼Œå¿…é¡»è¦ç”¨Arrays.toString</span></span><br><span class="line">        System.out.println(Arrays.toString(s.findWords(arr)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JianPanHang500Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        String rowIdx = <span class="string">&quot;12210111011122000010020202&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> isValid = <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">//é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ç¬¬å‡ è¡Œçš„</span></span><br><span class="line">            <span class="keyword">char</span> idx = rowIdx.charAt(Character.toLowerCase(word.charAt(<span class="number">0</span>)) - <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; word.length(); ++i) &#123;</span><br><span class="line">                <span class="comment">//éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œæ³¨æ„éœ€è¦å˜å°å†™ï¼Œé‡åˆ°ä¸æ˜¯åŒä¸€è¡Œçš„å°±breakï¼ŒåŒæ—¶éœ€è¦æ ‡å¿—ä½</span></span><br><span class="line">                <span class="keyword">if</span> (rowIdx.charAt(Character.toLowerCase(word.charAt(i)) - <span class="string">&#x27;a&#x27;</span>) != idx) &#123;</span><br><span class="line">                    isValid = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isValid) &#123;</span><br><span class="line">                list.add(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//listç±»å‹çš„å­—ç¬¦ä¸²æ•°ç»„å˜ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œæœ‰ç®€å•æ–¹æ³•ï¼šreturn ans.toArray(new String[ans.size()]);</span></span><br><span class="line">        String[] ans = <span class="keyword">new</span> String[list.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); ++i) &#123;</span><br><span class="line">            ans[i] = list.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ç”¨åˆ°å“ˆå¸Œè¡¨ï¼Œç”¨åˆ°äº†é›†åˆArrayListï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨String[]å‘¢ï¼Œå› ä¸ºæ•°ç»„é•¿åº¦ä¸å¯å˜ï¼Œå¾—ç”¨å®¹å™¨ã€‚</p>
<hr>
<p>æ€è·¯äºŒï¼šå…¶å®ä¸€æ ·ï¼Œæ€è·¯ä¸€é‚£ä¸ªå­—ç¬¦ä¸²è¢«å½“ä½œæ˜¯å“ˆå¸Œè¡¨é‡Œï¼Œå®ƒæ˜¯ç›´æ¥å°±åˆ›å»ºäº†ã€‚ä¸‹é¢å¯ä»¥è‡ªå®šä¹‰å‡½æ•°åˆ›å»ºï¼Œåˆ›å»ºçš„æ˜¯æ•°ç»„ï¼Œå› ä¸ºå­—æ¯ä¸ªæ•°æœ‰é™ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•°ç»„ï¼Œéƒ½æ˜¯ä¸‹æ ‡å¯¹åº”å“ªä¸ªå­—æ¯ï¼Œå€¼å¯¹åº”å€¼ï¼Œä¹Ÿç®—æ˜¯keyï¼ˆå­—æ¯ï¼‰â€“  valueï¼ˆå“ªä¸€è¡Œï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] chars = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line"><span class="keyword">static</span> &#123;   <span class="comment">//é™æ€ä»£ç å—</span></span><br><span class="line">    <span class="comment">// æ•´ç†26ä¸ªå­—æ¯åˆ†åˆ«æ¯ä¸€è¡Œå¯¹åº”1ã€2ã€3</span></span><br><span class="line">    set(<span class="string">&quot;qwertyuiop&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    set(<span class="string">&quot;asdfghjkl&quot;</span>, <span class="number">2</span>);</span><br><span class="line">    set(<span class="string">&quot;zxcvbnm&quot;</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(String s, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        chars[index(s.charAt(i))] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>static{}(é™æ€ä»£ç å—)ä¸{}(éé™æ€ä»£ç å—)çš„å¼‚åŒç‚¹?</p>
<p>ç›¸åŒç‚¹ï¼šéƒ½æ˜¯åœ¨JVMåŠ è½½ç±»æ—¶ä¸”åœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œåœ¨ç±»ä¸­éƒ½å¯ä»¥å®šä¹‰å¤šä¸ªã€‚ã€€ä¸€èˆ¬åœ¨ä»£ç å—ä¸­å¯¹ä¸€äº›staticå˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>ä¸åŒç‚¹ï¼šé™æ€ä»£ç å—åœ¨éé™æ€ä»£ç å—ä¹‹å‰æ‰§è¡Œ(é™æ€ä»£ç å—â€”&gt;éé™æ€ä»£ç å—â€”&gt;æ„é€ æ–¹æ³•)ã€‚é™æ€ä»£ç å—åªåœ¨ç¬¬ä¸€æ¬¡newæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¸å†æ‰§è¡Œï¼Œè€Œéé™æ€ä»£ç å—åœ¨æ¯newä¸€æ¬¡å°±æ‰§è¡Œä¸€æ¬¡ã€‚éé™æ€ä»£ç å—å¯åœ¨æ™®é€šæ–¹æ³•ä¸­å®šä¹‰(ä¸è¿‡ä½œç”¨ä¸å¤§)ï¼›è€Œé™æ€ä»£ç å—ä¸è¡Œã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/06/myblog/JAVA/SSMb%E7%AB%99%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/06/myblog/JAVA/SSMb%E7%AB%99%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/" class="post-title-link" itemprop="url">SSMäº†è§£ä¸€ä¸‹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-06 16:03:30" itemprop="dateCreated datePublished" datetime="2022-02-06T16:03:30+08:00">2022-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-07 19:09:16" itemprop="dateModified" datetime="2022-02-07T19:09:16+08:00">2022-02-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>SSMæ¡†æ¶ï¼šSpring + SpringMVC + MyBatis</p>
<p>Springå’ŒSpringMVCæ˜¯å½“å‰ä¼ä¸šå¼€å‘å¿…ç”¨æ¡†æ¶ä¹‹ä¸€ï¼ŒMyBatisåˆ™æ˜¯ä¸æ•°æ®åº“äº¤äº’çš„æŒä¹…å±‚æ¡†æ¶ä¹‹ä¸€ï¼Œç”±äºæ˜“ç”¨æ€§å’Œè½»ä¾¿æ€§ï¼Œåˆ™è¢«å¤§å¤šäº’è”ç½‘å…¬å¸æ‰€é€‰ç”¨ã€‚SSMåŸºç¡€æ¡†æ¶çš„æŒæ¡æ˜¯å½“å‰ä¼ä¸šå¼€å‘æœ€åŸºæœ¬çš„è¦æ±‚ï¼Œä¹Ÿæ˜¯å…¶ä»–æŠ€æœ¯å­¦ä¹ å’Œè¿›é˜¶çš„å¿…è¦åŸºç¡€ã€‚</p>
<p>bç«™è§†é¢‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1WZ4y1P7Bp?p=42">https://www.bilibili.com/video/BV1WZ4y1P7Bp?p=42</a></p>
<h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><h3 id="SpringMVCç®€ä»‹"><a href="#SpringMVCç®€ä»‹" class="headerlink" title="SpringMVCç®€ä»‹"></a>SpringMVCç®€ä»‹</h3><p>MVCæ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>MVC æ¨¡å¼ä»£è¡¨ Model-View-Controllerï¼ˆæ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼‰ æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼ç”¨äºåº”ç”¨ç¨‹åºçš„åˆ†å±‚å¼€å‘ã€‚</p>
<ul>
<li><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong> - æ¨¡å‹ä»£è¡¨ä¸€ä¸ªå­˜å–æ•°æ®çš„å¯¹è±¡æˆ– JAVA POJOã€‚å®ƒä¹Ÿå¯ä»¥å¸¦æœ‰é€»è¾‘ï¼Œåœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°æ§åˆ¶å™¨ã€‚</li>
<li><strong>Viewï¼ˆè§†å›¾ï¼‰</strong> - è§†å›¾ä»£è¡¨æ¨¡å‹åŒ…å«çš„æ•°æ®çš„å¯è§†åŒ–ã€‚</li>
<li><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰</strong> - æ§åˆ¶å™¨ä½œç”¨äºæ¨¡å‹å’Œè§†å›¾ä¸Šã€‚å®ƒæ§åˆ¶æ•°æ®æµå‘æ¨¡å‹å¯¹è±¡ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°è§†å›¾ã€‚å®ƒä½¿è§†å›¾ä¸æ¨¡å‹åˆ†ç¦»å¼€ã€‚</li>
</ul>
<p>SpringMVCæ¦‚è¿°ï¼Ÿ</p>
<p>SpringMVCæ˜¯ä¸€ç§åŸºäºJavaå®ç°çš„MVCè®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶ï¼Œå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowä¸­ã€‚</p>
<p>SpringMVCå·²ç»æˆä¸ºç›®å‰æœ€ä¸»æµçš„MVCæ¡†æ¶ä¹‹ä¸€ï¼Œå¹¶ä¸”éšç€Spring3.0çš„å‘å¸ƒï¼Œå…¨é¢è¶…è¶ŠStructs2ï¼Œæˆä¸ºæœ€ä¼˜ç§€çš„MVCæ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€å¥—æ³¨è§£ï¼Œè®©ä¸€ä¸ªç®€å•çš„Javaç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œè€Œæ— é¡»å®ç°ä»»ä½•æ¥å£ã€‚åŒæ—¶å®ƒè¿˜æ”¯æŒRESTfulç¼–ç¨‹é£æ ¼çš„è¯·æ±‚ã€‚webæ–‡ä»¶å¤¹å†…serveletï¼Ÿ</p>
<h3 id="MyBatisç®€ä»‹"><a href="#MyBatisç®€ä»‹" class="headerlink" title="MyBatisç®€ä»‹"></a>MyBatisç®€ä»‹</h3><p>æŒä¹…å±‚æ¡†æ¶ï¼Œæ–¹ä¾¿æ•°æ®åº“æ“ä½œçš„ã€‚</p>
<p>åŸå§‹æ¯”è¾ƒç¹ççš„jdbcæ“ä½œï¼šæ³¨å†Œé©±åŠ¨â€“è·å¾—è¿æ¥â€“è·å¾—statementâ€“æ‰§è¡ŒæŸ¥è¯¢â€“éå†ç»“æœé›†ï¼ˆå°è£…å®ä½“ï¼Œä¼ é€’ï¼‰â€“é‡Šæ”¾èµ„æºã€‚</p>
<p>ç¼ºç‚¹ï¼šä»£ç é‡å¤ï¼ˆæ¯”å¦‚è·å¾—è¿æ¥èµ„æºï¼‰ï¼Œèµ„æºé¢‘ç¹è¿æ¥å…³é—­ï¼Œæ¶ˆè€—èµ„æºï¼Œsqlè¯­å¥æ¯”è¾ƒæ­»ï¼Œå¾—è§£è€¦åˆï¼Œç”¨é…ç½®æ–‡ä»¶ã€‚</p>
<p>jdbcç¼ºç‚¹ï¼šï¼ˆ1ï¼‰æ•°æ®åº“åˆ›å»ºã€é‡Šæ”¾èµ„æºé€ æˆç³»ç»Ÿèµ„æºæµªè´¹ä»è€Œå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚ï¼ˆ2ï¼‰sqlè¯­å¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼Œé€ æˆä»£ç ä¸æ˜“ç»´æŠ¤ï¼Œå®é™…åº”ç”¨sqlå˜åŒ–çš„å¯èƒ½è¾ƒå¤§ï¼Œsqlå˜åŠ¨éœ€è¦æ”¹å˜javaä»£ç ï¼Œè€¦åˆæ€§é«˜ã€‚ï¼ˆ3ï¼‰æŸ¥è¯¢æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†ç»“æœé›†ä¸­çš„æ•°æ®æ‰‹åŠ¨å°è£…åˆ°å®ä½“ä¸­ï¼Œæ’å…¥æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†å®ä½“çš„æ•°æ®è®¾ç½®åˆ°sqlè¯­å¥çš„å ä½ç¬¦ä½ç½®ã€‚</p>
<p>åº”å¯¹ä¸Šè¿°é—®é¢˜ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆï¼šï¼ˆ1ï¼‰ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–è¿æ¥èµ„æºã€‚ï¼ˆ2ï¼‰å°†sqlè¯­å¥æŠ½åˆ°xmlé…ç½®æ–‡ä»¶ä¸­ã€‚ï¼ˆ3ï¼‰ä½¿ç”¨åå°„ã€å†…çœç­‰åº•å±‚æŠ€æœ¯ï¼Œè‡ªåŠ¨å°†å®ä½“ä¸è¡¨è¿›è¡Œå±æ€§ä¸å­—æ®µçš„è‡ªåŠ¨æ˜ å°„ã€‚</p>
<p>MyBatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäºjavaçš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†jdbcï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨sqlè¯­å¥æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ï¼Œ</p>
<p>MyBatisé€šè¿‡xmlæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§statementé…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œstatementä¸­çš„sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ã€‚</p>
<p>MyBatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœé›†æ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ï¼Œé‡‡ç”¨ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜ï¼Œå¯¹jdbcè¿›è¡Œå°è£…ï¼Œå±è”½jdbc apiåº•å±‚è®¿é—®ç»†èŠ‚ï¼Œä¸ä¸jdbcæ‰“äº¤é“å°±å¯ä»¥å®Œæˆå¯¹æ•°æ®åº“çš„æŒä¹…åŒ–æ“ä½œã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/06/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.6.%E6%A3%80%E6%B5%8B%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/06/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.6.%E6%A3%80%E6%B5%8B%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D/" class="post-title-link" itemprop="url">javaã®leecode æ£€æµ‹å¤§å†™å­—æ¯</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-02-06 10:33:36 / Modified: 11:29:41" itemprop="dateCreated datePublished" datetime="2022-02-06T10:33:36+08:00">2022-02-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leecode%E5%88%B7%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">leecodeåˆ·é¢˜</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">520.ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² word ã€‚</span><br><span class="line">æˆ‘ä»¬å®šä¹‰ï¼Œåœ¨ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œå•è¯çš„å¤§å†™ç”¨æ³•æ˜¯æ­£ç¡®çš„ï¼š</span><br><span class="line">å…¨éƒ¨å­—æ¯éƒ½æ˜¯å¤§å†™ï¼Œæ¯”å¦‚ &quot;USA&quot; ã€‚</span><br><span class="line">å•è¯ä¸­æ‰€æœ‰å­—æ¯éƒ½ä¸æ˜¯å¤§å†™ï¼Œæ¯”å¦‚ &quot;leetcode&quot; ã€‚</span><br><span class="line">å¦‚æœå•è¯ä¸åªå«æœ‰ä¸€ä¸ªå­—æ¯ï¼Œåªæœ‰é¦–å­—æ¯å¤§å†™ï¼ŒÂ æ¯”å¦‚Â &quot;Google&quot; ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœå¤§å†™ç”¨æ³•æ­£ç¡®ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</span><br><span class="line">è¾“å…¥ï¼šword = &quot;Usa&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p>å…³äºå­—ç¬¦ä¸²ï¼Œéå†å­—ç¬¦ä¸²ä½¿ç”¨<code>charAt</code>ï¼Œä»¥åŠåˆ¤æ–­å­—æ¯æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ã€‚ASCç ä¸­ï¼ŒAæ˜¯65ï¼Œaæ˜¯97ã€‚å¤§å†™å°å†™ç›¸å·®32ï¼Œè€Œä¸æ˜¯26.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: æ£€æµ‹æ˜¯å¦å…¨å¤§å†™520</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-02-06 10:50</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JianceDaxie</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å…¥å­—ç¬¦ä¸²ï¼š&quot;</span>);</span><br><span class="line">        Scanner sin=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String ss = sin.next();</span><br><span class="line"><span class="comment">//        StringBuilder s = new StringBuilder(ss);  //Stringå˜StringBuilder</span></span><br><span class="line"><span class="comment">//        System.out.println(s);</span></span><br><span class="line">        JianceDaxieSolution s = <span class="keyword">new</span> JianceDaxieSolution();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»“æœï¼š&quot;</span>+s.detectCapitalUse(ss));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JianceDaxieSolution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse_1</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å­—ç¬¦ä¸²éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> num = word.charAt(i);  <span class="comment">//ç›´æ¥å˜acsç ï¼Ÿï¼Ÿ</span></span><br><span class="line">            <span class="keyword">if</span>(num &gt;=<span class="number">97</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> allUpperCase = <span class="keyword">true</span>;  <span class="comment">//æ˜¯å¦å…¨éƒ¨å¤§å†™</span></span><br><span class="line">        <span class="keyword">boolean</span> allLowerCaseFromSecond = <span class="keyword">true</span>;  <span class="comment">//æ˜¯å¦ä»ç¬¬äºŒä¸ªå¼€å§‹å…¨éƒ¨å°å†™</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (word.charAt(i) &lt; <span class="string">&#x27;A&#x27;</span> || word.charAt(i) &gt; <span class="string">&#x27;Z&#x27;</span>) &#123; <span class="comment">//å¯ä»¥ç›´æ¥åˆ¤æ–­çš„</span></span><br><span class="line">                allUpperCase = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; (word.charAt(i) &lt; <span class="string">&#x27;a&#x27;</span> || word.charAt(i) &gt; <span class="string">&#x27;z&#x27;</span>)) &#123;</span><br><span class="line">                allLowerCaseFromSecond = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> allUpperCase || allLowerCaseFromSecond;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–è§£æ³•ï¼š</p>
<p><code>Character.isLowerCase(word.charAt(0))</code>åˆ¤æ–­å­—ç¬¦æ˜¯å¤§å†™è¿˜æ˜¯å°å†™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è‹¥ç¬¬ 1 ä¸ªå­—æ¯ä¸ºå°å†™ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™ï¼Œåˆ™è‚¯å®šfalse</span></span><br><span class="line">        <span class="keyword">if</span> (word.length() &gt;= <span class="number">2</span> &amp;&amp; Character.isLowerCase(word.charAt(<span class="number">0</span>)) &amp;&amp; Character.isUpperCase(word.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ— è®ºç¬¬ 1 ä¸ªå­—æ¯æ˜¯å¦å¤§å†™ï¼Œå…¶ä»–å­—æ¯å¿…é¡»ä¸ç¬¬ 2 ä¸ªå­—æ¯çš„å¤§å°å†™ç›¸åŒï¼Œæ¯”è¾ƒç»•äº†å±äºæ˜¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; word.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Character.isLowerCase(word.charAt(i)) ^ Character.isLowerCase(word.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šLeetCode-Solution</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode-cn.com/problems/detect-capital/solution/jian-ce-da-xie-zi-mu-by-leetcode-solutio-449z/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure>

<p><code>word.toUpperCase()</code>å­—ç¬¦ä¸²å†…æ‰€æœ‰å­—ç¬¦å¤§å°å†™è½¬æ¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (word.toUpperCase().equals(word)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (word.toLowerCase().equals(word)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> n = word.length(), idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (Character.isUpperCase(word.charAt(<span class="number">0</span>))) &#123;</span><br><span class="line">            <span class="keyword">while</span> (idx &lt; n &amp;&amp; Character.isLowerCase(word.charAt(idx))) idx++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> idx == n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šAC_OIer</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode-cn.com/problems/detect-capital/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-rpor/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/12/myblog/JAVA/Spring%20b%E7%AB%99%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/12/myblog/JAVA/Spring%20b%E7%AB%99%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">spring Bç«™å­¦ä¹ ç¬”è®°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-01-12 13:18:21" itemprop="dateCreated datePublished" datetime="2022-01-12T13:18:21+08:00">2022-01-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-04 18:39:43" itemprop="dateModified" datetime="2022-02-04T18:39:43+08:00">2022-02-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h2><h3 id="bean"><a href="#bean" class="headerlink" title="bean"></a>bean</h3><p>ç†å¿µï¼šIOCï¼ˆinversion of controlï¼‰AOPï¼ˆaspect oriented programmingï¼‰æ§åˆ¶åè½¬ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚</p>
<p>1 ã€JavaBeanï¼šä¸€ç§javaè¯­è¨€å†™æˆçš„å¯é‡ç”¨ç»„ä»¶ï¼Œæ›´å¤šæ˜¯ä¸€ç§è§„èŒƒï¼Œå¯ä»¥è¢«å…¶å®ƒçš„ç¨‹åºå‘˜æˆ–è€…æ¡†æ¶ä½¿ç”¨ï¼ŒåŒ…å«ä¸€ç»„setå’Œgetæ–¹æ³•çš„javaå¯¹è±¡ï¼Œå¯ä»¥ä½¿åº”ç”¨ç¨‹åºæ›´åŠ é¢å‘å¯¹è±¡ï¼ŒæŠŠæ•°æ®å°è£…èµ·æ¥ï¼ŒæŠŠåº”ç”¨çš„ä¸šåŠ¡é€»è¾‘å’Œæ˜¾ç¤ºé€»è¾‘åˆ†å¼€ï¼Œé™ä½äº†å¼€å‘çš„å¤æ‚æ€§å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<p>2.pojoï¼šplain ordinary java objectï¼Œç®€å•çš„javaå¯¹è±¡ï¼Œé‚£äº›æ²¡æœ‰ç»§æ‰¿ä»»ä½•ç±»ã€ä¹Ÿæ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œæ›´æ²¡æœ‰è¢«å…¶å®ƒæ¡†æ¶ä¾µå…¥çš„javaå¯¹è±¡ã€‚ä¸å…è®¸æœ‰ä¸šåŠ¡æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½æºå¸¦connectionä¹‹ç±»çš„æ–¹æ³•ï¼Œå®é™…å°±æ˜¯æ™®é€šJavaBeansã€‚</p>
<p>pojoç±»å’ŒBeanå‡ç”¨äºå®šä¹‰Javaå¯¹è±¡ï¼Œä»¥æé«˜å…¶å¯è¯»æ€§å’Œå¯é‡ç”¨æ€§ã€‚pojoæ²¡æœ‰å…¶ä»–é™åˆ¶ï¼Œè€Œbeanæ˜¯å…·æœ‰æŸäº›é™åˆ¶çš„ç‰¹æ®Špojoã€‚</p>
<p>SpringBeanæ˜¯å—Springç®¡ç†çš„å¯¹è±¡ï¼Œæ‰€æœ‰èƒ½å—Springå®¹å™¨ç®¡ç†çš„å¯¹è±¡éƒ½å¯ä»¥æˆä¸ºSpringBeanã€‚Springä¸­çš„beanï¼Œæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ã€javaconfigç­‰çš„è®¾ç½®ï¼Œç”±Springè‡ªåŠ¨å®ä¾‹åŒ–ï¼Œç”¨å®Œåè‡ªåŠ¨é”€æ¯çš„å¯¹è±¡ã€‚</p>
<p>3.entityï¼š Entity Beanæ˜¯åŸŸæ¨¡å‹å¯¹è±¡ï¼Œç”¨äºå®ç°O/Ræ˜ å°„ï¼Œè´Ÿè´£å°†æ•°æ®åº“ä¸­çš„è¡¨è®°å½•æ˜ å°„ä¸ºå†…å­˜ä¸­çš„Entityå¯¹è±¡ï¼Œäº‹å®ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªEntity Beanå¯¹è±¡ç›¸å½“äºæ–°å»ºä¸€æ¡è®°å½•ï¼Œåˆ é™¤ä¸€ä¸ª Entity Beanä¼šåŒæ—¶ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹åº”è®°å½•ï¼Œä¿®æ”¹ä¸€ä¸ªEntity Beanæ—¶ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å°†Entity Beançš„çŠ¶æ€å’Œæ•°æ®åº“åŒæ­¥ã€‚</p>
<h3 id="IOCå®¹å™¨"><a href="#IOCå®¹å™¨" class="headerlink" title="IOCå®¹å™¨"></a>IOCå®¹å™¨</h3><p>é‡Œé¢è£…çš„æ˜¯javaå¯¹è±¡ï¼Œåƒä¸€ä¸ªå†œè´¸å¸‚åœºã€‚</p>
<p>ä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç»™springæ¡†æ¶æ¥ç®¡ç†ã€‚</p>
<p>ä»¥å¾€çš„æ€æƒ³æ˜¯ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œè‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€‚</p>
<p>åè½¬çš„æ€æƒ³ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä»springå®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†springæ¡†æ¶ã€‚</p>
<p>å…·ä½“ä¾‹å­ï¼šè¦åšä¸€ä¸ªé’æ¤’è‚‰ä¸ï¼ŒåŸæœ¬æ˜¯éœ€è¦ç§é’æ¤’å’Œå…»çŒªçš„ï¼Œè€Œæœ‰äº†springï¼Œåªéœ€è¦å»å†œè´¸å¸‚åœºä¹°é’æ¤’å’ŒçŒªè‚‰ï¼Œå°±å¯ä»¥ã€‚</p>
<p>springå®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://spring.io/">https://spring.io</a></p>
<h2 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h2><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>mavenä»“åº“ï¼š<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com</a></p>
<p>releaseç¨³å®šç‰ˆæœ¬ã€‚ </p>
<h3 id="springæ¡†æ¶æ¦‚å¿µ"><a href="#springæ¡†æ¶æ¦‚å¿µ" class="headerlink" title="springæ¡†æ¶æ¦‚å¿µ"></a>springæ¡†æ¶æ¦‚å¿µ</h3><p>springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ã€‚</p>
<p>è½»é‡çº§ï¼šä½“ç§¯æ¯”è¾ƒå°ï¼Œé‡Œé¢çš„jaråŒ…æ¯”è¾ƒå°‘ã€‚è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§ã€‚</p>
<p>springæœ‰ä¸¤ä¸ªæ ¸å¿ƒå†…å®¹ï¼šIOCæ§åˆ¶åè½¬ï¼ŒåŸå§‹éœ€è¦newä¸ªç±»æ¥åˆ›å»ºå¯¹è±¡ï¼Œè€Œiocå°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™springã€‚AOPé¢å‘åˆ‡é¢ï¼Œç¨‹åºä¸­æ‰©å±•ä¸ªåŠŸèƒ½ï¼ŒåŸå§‹éœ€è¦ä¿®æ”¹æºä»£ç æ¥å®ç°ï¼Œè€Œspringä¸éœ€è¦ä¿®æ”¹ä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚å½“ç„¶è¿˜æœ‰äº‹åŠ¡ã€mvcç­‰æ“ä½œã€‚</p>
<p>springæ¡†æ¶çš„ç›¸å…³ç‰¹ç‚¹ï¼š1.æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ï¼Œiocåˆ›å»ºå¯¹è±¡åŒ…æ‹¬è°ƒç”¨é€šè¿‡springå®ç°ï¼Œä½¿å¾—è€¦åˆåº¦é™ä½ã€‚2.Aopç¼–ç¨‹æ”¯æŒã€‚3.æ–¹ä¾¿ç¨‹åºæµ‹è¯•ã€‚4.æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ï¼šhibernateã€strutsã€mybatisã€‚5.é™ä½javaEE APIçš„ä½¿ç”¨ï¼šjdbcç­‰ã€‚6.æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡æ“ä½œã€‚</p>
<p>ä¸‹è½½å®˜ç½‘ï¼šspring.ioï¼Œåè·ŸGAçš„æ˜¯ç¨³å®šç‰ˆæœ¬ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://repo.spring.io/ui/native/release/org/springframework/spring/">https://repo.spring.io/ui/native/release/org/springframework/spring/</a> 5.2.6ç‰ˆæœ¬ã€‚ä¸‹è½½spring-5.2.6.RELEASE-dist.zipã€‚docsæ–‡ä»¶å¤¹ä¸‹æ˜¯ä¸€äº›æ–‡æ¡£ã€libsæ˜¯ä¸€äº›jaråŒ…ã€schemaæ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ã€‚jaråŒ…ä¸­æ¯ä¸€ç§éƒ½æœ‰ä¸‰ä¸ªï¼šjaråŒ…ã€æ–‡æ¡£ã€æºä»£ç ã€‚</p>
<h3 id="spring5æ¨¡å—"><a href="#spring5æ¨¡å—" class="headerlink" title="spring5æ¨¡å—"></a>spring5æ¨¡å—</h3><p>ä»ä¸‹å¾€ä¸Š</p>
<p>testç›¸å…³æµ‹è¯•</p>
<p>Core Containerï¼šåŒ…å«beansã€coreï¼ˆå‰ä¸¤ä¸ªå¯¹åº”IOCï¼‰ã€contextã€expressionã€‚åŸºæœ¬åŠŸèƒ½è‡³å°‘è¦æœ‰è¿™å››ä¸ªjaråŒ…ã€‚commons-loggingåŒ…æ—¥å¿—ç›¸å…³çš„jaråŒ…ã€‚</p>
<p>å†å¾€ä¸Šæ˜¯Aopï¼Œå†å¾€ä¸Šæ˜¯æ•°æ®è®¿é—®éƒ¨åˆ†å’Œç½‘ç»œéƒ¨åˆ†ã€‚</p>
<h3 id="å¯¼å…¥jaråŒ…ï¼Œioc-xmlæ¡ˆä¾‹"><a href="#å¯¼å…¥jaråŒ…ï¼Œioc-xmlæ¡ˆä¾‹" class="headerlink" title="å¯¼å…¥jaråŒ…ï¼Œioc+xmlæ¡ˆä¾‹"></a>å¯¼å…¥jaråŒ…ï¼Œioc+xmlæ¡ˆä¾‹</h3><p>ä¸ç”¨mavençš„æƒ…å†µä¸‹ï¼Œå·¥ç¨‹ä¸‹æ–°å»ºlibæ–‡ä»¶å¤¹ï¼Œå°†è¦ç”¨çš„jaråŒ…ï¼ˆåªè¦jaråŒ…ï¼‰å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå†åœ¨file-project structureä¸­ï¼Œé€‰æ‹©moduleï¼ŒåŠ +å·å¯¼å…¥ç›¸å…³çš„jaråŒ…ã€‚</p>
<p>æ¢ç©¶iocï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œç±»å†…åˆ›å»ºä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ™®é€šçš„åˆ›å»ºå¯¹è±¡æ˜¯é€šè¿‡newæ¥å®ç°ï¼Œç”¨springåˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶åšåˆ°ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£åšåˆ°ã€‚</p>
<p>å› æ­¤ï¼Œåˆ›å»ºspringé…ç½®æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ›å»ºçš„å¯¹è±¡ã€‚<br>ï¼ˆ1ï¼‰springé…ç½®æ–‡ä»¶ä½¿ç”¨xmlæ ¼å¼ï¼Œbean1.xmlï¼Œç”¨beanæ ‡ç­¾è¿›è¡Œé…ç½®ï¼Œidæ˜¯åˆ«åï¼Œclassæ˜¯ç±»è·¯å¾„+åå­—ã€‚ï¼ˆå¯¼äº†åŒ…æ‰å¯ä»¥æ–°å»ºxmlæ—¶å‡ºç°spring configï¼‰</p>
<blockquote>
<p>Create project from template æ˜¯æ˜¯å¦åˆ›å»ºæ¨¡æ¿çš„æ„æ€ï¼Œä¼šå¤šä¸€äº›å†…å®¹ã€‚</p>
<p>æ‰“åŒ…jaråŒ…ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45760579/article/details/114777280">https://blog.csdn.net/weixin_45760579/article/details/114777280</a></p>
<p>å¦‚ä½•è·å–jaråŒ…ï¼Œ<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com</a> æœç´¢å³å¯</p>
</blockquote>
<p>åœ¨srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºxmlæ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-é…ç½®Userå¯¹è±¡åˆ›å»º--&gt;</span><br><span class="line">&lt;bean id=&quot;user&quot; class=&quot;com.company.User&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰è¿›è¡Œæµ‹è¯•ä»£ç ç¼–å†™ï¼ŒåŠ è½½springé…ç½®æ–‡ä»¶ï¼Œè·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p>com.companyä¸‹åˆ›å»ºtestdemoåŒ…ï¼ŒåŒ…ä¸‹æ–°å»ºTestXMLç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestXML</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        User user = context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        user.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/7d4472b3d6674ef698ade89c5bf40865.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h2 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h2><h3 id="IOCå®¹å™¨-1"><a href="#IOCå®¹å™¨-1" class="headerlink" title="IOCå®¹å™¨"></a>IOCå®¹å™¨</h3><p>æ§åˆ¶åè½¬ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œé™ä½ä»£ç è€¦åˆåº¦ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºæ—¶ï¼Œç”±ä¸€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“å°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒï¼Œä¹Ÿå«ä¾èµ–æ³¨å…¥DIã€‚</p>
<p>é€šä¿—ï¼šåˆ›å»ºå¯¹è±¡ï¼ŒåŸå§‹æ–¹æ³•newå¯¹è±¡ï¼ŒIOCæŠŠå¯¹è±¡çš„åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹éƒ½äº¤ç»™Springè¿›è¡Œç®¡ç†ã€‚ä½¿ç”¨IOCæ¥ä½¿å¾—è€¦åˆåº¦é™ä½ã€‚</p>
<p>ä¸¤ç§æ–¹å¼è¿›è¡ŒBeanç®¡ç†ï¼š1.åŸºäºxmlé…ç½®æ–‡ä»¶  2.åŸºäºæ³¨è§£æ–¹å¼</p>
<h3 id="IOCåº•å±‚åŸç†"><a href="#IOCåº•å±‚åŸç†" class="headerlink" title="IOCåº•å±‚åŸç†"></a>IOCåº•å±‚åŸç†</h3><p>ï¼ˆ1ï¼‰xmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„</p>
<p>åŸå§‹æ–¹å¼ï¼šä¸€ä¸ªç±»å†…è°ƒç”¨å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œéœ€è¦åœ¨ç±»Aä¸­åˆ›å»ºä¸€ä¸ªç±»Bçš„å¯¹è±¡ï¼Œå†é€šè¿‡ç±»Bçš„å¯¹è±¡è°ƒç”¨ç±»Bçš„æ–¹æ³•ã€‚è¿™æ ·åšçš„ç¼ºç‚¹ï¼šè€¦åˆåº¦å¤ªé«˜ï¼Œç±»Bçš„è·¯å¾„å’Œæ–¹æ³•å¦‚æœæ”¹å˜çš„è¯ï¼Œç±»Aä¹Ÿè¦è·Ÿç€è¯¥ï¼Œä¸åˆ©äºç¨‹åºæ‰©å±•ã€‚</p>
<p>å·¥å‚æ¨¡å¼è¿›è¡Œè§£è€¦åˆï¼šé™¤äº†ç±»Aå’Œç±»Bï¼Œè¿˜æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œé‡Œé¢public staticæ–¹æ³•ä¸­ï¼šreturn new B()ï¼› è¿”å›ç±»Bçš„å¯¹è±¡ï¼Œå› æ­¤åœ¨ç±»Aä¸­è°ƒç”¨ç±»Bçš„æ–¹æ³•æ—¶ï¼Œè°ƒç”¨å·¥å‚ç±»çš„æ–¹æ³•æ¥åˆ›å»ºç±»Bçš„å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ç±»Bçš„æ–¹æ³•ã€‚é™ä½ç±»Aå’Œç±»Bä¹‹é—´çš„è€¦åˆåº¦ã€‚æ€»ç»“æ¥è¯´ï¼Œé€šè¿‡å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ï¼Œå®ç°è§£è€¦ã€‚</p>
<p>ï¼ˆ2ï¼‰IOCè¿‡ç¨‹ï¼šxmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„</p>
<p>ç¬¬ä¸€æ­¥ï¼šxmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®åˆ›å»ºçš„å¯¹è±¡</p>
<p><code>&lt;bean id=&quot;dao&quot; class=&quot;UserDao&quot;&gt;&lt;/bean&gt; </code></p>
<p>ç¬¬äºŒæ­¥ï¼šæœ‰serviceç±»ï¼ˆAç±»ï¼‰å’Œdaoç±»ï¼ˆBç±»ï¼‰ï¼Œåˆ›å»ºå·¥å‚ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserFactory</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserDao <span class="title">getDao</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String classValue = <span class="class"><span class="keyword">class</span>å±æ€§å€¼</span>; <span class="comment">//1.xmlè§£æï¼Œå¤šç§æ–¹å¼ï¼Œå¯ä»¥ç”¨dom4jå®ç°</span></span><br><span class="line">      	Class clazz = Class.forName(classValue); <span class="comment">//2.ç”¨åå°„æŠ€æœ¯åˆ›å»ºå¯¹è±¡ï¼Œå¾—åˆ°ç±»çš„å­—èŠ‚ç æ–‡ä»¶</span></span><br><span class="line">      	<span class="keyword">return</span> (UserDao)clazz.newInstance();  <span class="comment">//3.å¾—åˆ°å¯¹è±¡ï¼Œå¼ºè½¬ä¸€ä¸‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿›ä¸€æ­¥è§£è€¦ï¼Œä¾‹å¦‚å½“daoç±»è·¯å¾„æ”¹äº†ï¼Œè¿™é‡Œä¸éœ€è¦ä¿®æ”¹serviceç±»ï¼Œåªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶é‡Œçš„ç±»è·¯å¾„ã€‚</p>
<h3 id="IOCæ¥å£ï¼ˆBeanFactoryï¼‰"><a href="#IOCæ¥å£ï¼ˆBeanFactoryï¼‰" class="headerlink" title="IOCæ¥å£ï¼ˆBeanFactoryï¼‰"></a>IOCæ¥å£ï¼ˆBeanFactoryï¼‰</h3><p>IOCæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œæ€æƒ³ä¸­åŸºäºå®¹å™¨æ¥å®Œæˆï¼Œå®¹å™¨æœ¬è´¨ä¸Šå°±æ˜¯<strong>å¯¹è±¡å·¥å‚</strong>ï¼Œåœ¨é‡Œé¢å¯ä»¥è¯»å–é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ã€‚å› æ­¤ï¼ŒIOCæ€æƒ³åŸºäºIOCå®¹å™¨ï¼ŒIOCå®¹å™¨ï¼Œåº•å±‚æœ¬è´¨æ˜¯å¯¹è±¡å·¥å‚ã€‚</p>
<p>å·¥å‚éœ€è¦å®ä¾‹åŒ–ï¼ŒSpringæä¾›IOCå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªé‡è¦çš„æ¥å£ï¼šéƒ½èƒ½å®ç°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡å·¥å‚åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>ï¼ˆ1ï¼‰BeanFactoryï¼šIOCå®¹å™¨åŸºæœ¬å®ç°ï¼ŒSpringé‡Œé¢å†…éƒ¨çš„ä½¿ç”¨æ¥å£ï¼Œä¸€èˆ¬å¼€å‘äººå‘˜ä¸ä½¿ç”¨ã€‚<br>*åŠ è½½é…ç½®æ–‡ä»¶æ—¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡ï¼ˆä½¿ç”¨ï¼‰æ—¶æ‰å»åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ApplicationContextï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ç”±å¼€å‘äººå‘˜ä½¿ç”¨ã€‚<br>*åŠ è½½é…ç½®æ–‡ä»¶æ—¶å°±ä¼šæŠŠé…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»º</p>
<p>è¿™ä¸¤ç§ï¼Œå“ªç§æ›´å¥½ï¼Œè™½ç„¶ç¬¬ä¸€ç§èŠ‚çº¦èµ„æºï¼Œä½†æ˜¯ä¸€èˆ¬springæ¡†æ¶ç»“åˆwebé¡¹ç›®ï¼Œç”¨tomcatè¿›è¡Œå¯åŠ¨ï¼Œå› æ­¤è€—æ—¶å¥½èµ„æºçš„å·¥ä½œéƒ½åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è¿›è¡Œæ“ä½œã€‚</p>
<hr>
<p>ApplicationContextæ¥å£æœ‰ä¸åŒçš„å®ç°ç±»ï¼ˆcontrol+hæ‰“å¼€ï¼Œï¼‰</p>
<p>ä¾‹å¦‚ï¼šä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œä¸€ä¸ªç±»è·¯å¾„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/c9c28cbc9a81449ea73c442cf5b4e847.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰</h3><p> ä»€ä¹ˆæ˜¯Beanç®¡ç†ï¼Ÿï¼š1.Springåˆ›å»ºå¯¹è±¡ï¼Œ2.ç”¨Springæ³¨å…¥å±æ€§ï¼ˆåˆ›å»ºå¯¹è±¡æ—¶å‘å˜é‡è®¾ç½®å€¼ï¼Œæœ€æ™®é€šçš„è¯ç”¨setæ–¹æ³•è®¾ç½®å€¼ï¼Œä½†æ˜¯ç°åœ¨ç”¨springåšåˆ°ï¼‰</p>
<p>ï¼ˆ1ï¼‰åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡</p>
<p>åšæ³•ï¼šåœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨beanæ ‡ç­¾ï¼Œæ ‡ç­¾é‡Œé¢æ·»åŠ å¯¹åº”å±æ€§ï¼Œå°±å¯ä»¥å®ç°å¯¹è±¡åˆ›å»ºã€‚<code>&lt;bean id=&quot;dao&quot; class=&quot;UserDao&quot;&gt;&lt;/bean&gt;</code></p>
<p>åœ¨beanæ ‡ç­¾ä¸­æœ‰å¾ˆå¤šå±æ€§ï¼š<br>*idå±æ€§ï¼šç»™å¯¹è±¡å–ä¸€ä¸ªåˆ«åï¼Œå”¯ä¸€æ ‡è¯†<br>*classå±æ€§ï¼šç±»å…¨è·¯å¾„ï¼ˆåŒ…å«è·¯å¾„ï¼‰<br>*nameå±æ€§ï¼šå’Œidä¸€æ ·ä½œç”¨ï¼Œidå±æ€§ä¸­ä¸èƒ½åŠ ç‰¹æ®Šç¬¦å·ï¼Œnameå±æ€§ä¸­å¯ä»¥åŠ ç‰¹æ®Šç¬¦å·ï¼Œnameå±æ€§æ¯”è¾ƒæ—©æœŸï¼Œç”¨å¾—å°‘ã€‚</p>
<p>Xmlåˆ›å»ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤æ‰§è¡Œæ— å‚æ•°çš„æ„é€ æ–¹æ³•å®Œæˆå¯¹è±¡åˆ›å»ºã€‚å› æ­¤ï¼Œå¦‚æœç±»é‡Œåˆ›å»ºäº†æœ‰å‚æ„é€ ä½†æ˜¯æ²¡æœ‰å£°æ˜æ— å‚æ„é€ ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<blockquote>
<p>IDEAä¸ºä¸€ä¸ªç±»åˆ›å»ºæ„é€ æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•å¿«æ·é”®ï¼šalt+insertï¼ˆWindowsï¼‰command+nï¼ˆMacï¼‰</p>
</blockquote>
<p>ï¼ˆ2ï¼‰åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§</p>
<p>DIï¼šä¾èµ–æ³¨å…¥ï¼Œå°±æ˜¯æ³¨å…¥å±æ€§ã€‚</p>
<p>&lt;1&gt;ç¬¬ä¸€ç§æ³¨å…¥å±æ€§æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥ã€‚</p>
<p>é¦–å…ˆåœ¨ç±»ä¸­å®šä¹‰å±æ€§ï¼Œå¹¶å®šä¹‰å¯¹åº”çš„setæ–¹æ³•ï¼Œä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ªsetæ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String bname;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBname</span><span class="params">(String bname)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.bname = bname;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDemo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(bname);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®å¯¹è±¡åˆ›å»ºï¼Œé…ç½®å±æ€§æ³¨å…¥ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨propertyå®Œæˆå±æ€§æ³¨å…¥</span></span><br><span class="line"><span class="comment">    	nameï¼šç±»é‡Œå±æ€§åç§°</span></span><br><span class="line"><span class="comment">    	valueï¼šå‘å±æ€§æ³¨å…¥çš„å€¼</span></span><br><span class="line"><span class="comment">    	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¥¿æ¸¸è®°&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå†™ä¸€ä¸ªæµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestXML</span> </span>&#123;</span><br><span class="line">  <span class="comment">//ä¸€ä¸ªç±»ä¸‹å°±è¡Œ</span></span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBook</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        Book book = context.getBean(<span class="string">&quot;book&quot;</span>, Book.class);</span><br><span class="line">        System.out.println(book);</span><br><span class="line">        book.testDemo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&lt;2&gt;ç¬¬äºŒç§æ³¨å…¥å±æ€§æ–¹å¼ï¼šæœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</p>
<p>é¦–å…ˆåœ¨ç±»ä¸­å®šä¹‰å±æ€§ï¼Œå¹¶å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Music</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> String mname;</span><br><span class="line">		<span class="keyword">private</span> String mauthor;</span><br><span class="line">		<span class="comment">//æœ‰å‚æ„é€ </span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">Music</span><span class="params">(String mname, String mauthor)</span></span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.mname = mname;</span><br><span class="line">				<span class="keyword">this</span>.mauthor = mauthor;</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDemo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(mname+<span class="string">&quot;::&quot;</span>+mauthor);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡ï¼Œåœ¨Springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;music&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Music&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</span></span><br><span class="line"><span class="comment">    	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;mname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å€¾åŸ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;mauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é™ˆå¥•è¿…&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--nameæ˜¯ä½¿ç”¨åç§°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•å€¼indexï¼Œindex=&quot;0&quot; è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå†™ä¸€ä¸ªæµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMusic</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">    <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">    <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">    Music music = context.getBean(<span class="string">&quot;music&quot;</span>, Music.class);</span><br><span class="line">    System.out.println(music);</span><br><span class="line">    music.testDemo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Day-4"><a href="#Day-4" class="headerlink" title="Day 4"></a>Day 4</h2><h3 id="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥"><a href="#ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥" class="headerlink" title="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥"></a>ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥</h3><p>é’ˆå¯¹setæ–¹æ³•è¿›è¡Œå±æ€§æ³¨å…¥ï¼Œå¯ä»¥ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥ï¼Œæ¥ç®€åŒ–xmlé…ç½®æ–¹å¼ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ påç§°ç©ºé—´åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<p><code>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</code></p>
<p>ç¬¬äºŒæ­¥ï¼šè¿›è¡Œå±æ€§æ³¨å…¥ï¼Œåœ¨beanæ ‡ç­¾é‡Œè¿›è¡Œæ“ä½œ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Book&quot;</span> <span class="attr">p:bname</span>=<span class="string">&quot;çº¢æ¥¼æ¢¦&quot;</span> <span class="attr">p:bauthor</span>=<span class="string">&quot;æ›¹é›ªèŠ¹&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰</h3><p>1.å­—é¢é‡ï¼šä¸ç‰¹æ®Šçš„å±æ€§</p>
<p>ï¼ˆ1ï¼‰nullå€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;bname&quot;&gt;</span><br><span class="line">   &lt;null/&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å±æ€§å€¼åŒ…å«ç‰¹æ®Šç¬¦å·</p>
<p>å¯ä»¥å°†ç‰¹æ®Šç¬¦å·è¿›è¡Œè½¬ä¹‰</p>
<p><code>&lt;property name=&quot;bname&quot; value=&quot;&amp;lt;&amp;gt;ã€Šè¥¿æ¸¸è®°ã€‹&quot;&gt;&lt;/property&gt;</code></p>
<p>ä¹Ÿå¯ä»¥æŠŠå¸¦æœ‰ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ°CDATA</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;bname&quot;&gt; </span><br><span class="line">  &lt;value&gt;&lt;![CDATA[ã€Šå—äº¬ã€‹]]&gt;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>2.æ³¨å…¥å±æ€§-å¤–éƒ¨bean</p>
<p>webå±‚è°ƒç”¨serviceå±‚ï¼Œserviceè°ƒç”¨daoå±‚</p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºä¸¤ä¸ªç±»serviceç±»å’Œdaoç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class UserService&#123;</span><br><span class="line">	public void add()&#123;</span><br><span class="line">		System.out.println(&quot;service add.....&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface UserDao&#123;</span><br><span class="line">	public void update();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨serviceè°ƒç”¨daoé‡Œé¢çš„æ–¹æ³•</p>
<p>åŸå§‹æ–¹å¼ï¼šserviceä¸­åˆ›å»ºUserDaoå¯¹è±¡ï¼Œå†è°ƒç”¨ç±»ä¸­æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">userDao.update();</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼šç”¨springçš„xmlé…ç½®æ–¹æ³•è¿›è¡Œè°ƒç”¨</p>
<p>é¦–å…ˆé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œç„¶åå°†Daoå¯¹è±¡æ³¨å…¥åˆ°Serviceå¯¹è±¡ä¸­ã€‚setæ³¨å…¥æˆ–æœ‰å‚æ³¨å…¥éƒ½è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UserServiceç±»ä¸­åˆ›å»ºUserDaoç±»å‹å±æ€§ï¼Œç”Ÿæˆsetæ–¹æ³•</span></span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.service.UserService&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.dao.UserDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>refå±æ€§ï¼šåˆ›å»ºuserDaoå¯¹è±¡beanæ ‡ç­¾idå€¼ï¼Œå®Œæˆå¤–éƒ¨beanæ³¨å…¥</p>
<p>å†™æµ‹è¯•ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean2.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        UserService userService = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        System.out.println(userService);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.æ³¨å…¥å±æ€§-å†…éƒ¨beanå’Œçº§è”èµ‹å€¼</p>
<p>ï¼ˆ1ï¼‰ä¸€å¯¹å¤šå…³ç³»ï¼šéƒ¨é—¨å’Œå‘˜å·¥</p>
<p>ï¼ˆ2ï¼‰åœ¨å®ä½“ä¹‹é—´è¡¨ç¤ºä¸€å¯¹å¤šå…³ç³»ï¼Œå†™éƒ¨é—¨ç±»å’Œå‘˜å·¥ç±»ï¼Œå‘˜å·¥è¡¨ç¤ºæ‰€å±éƒ¨é—¨ï¼Œä½¿ç”¨å¯¹è±¡ç±»å‹å±æ€§è¿›è¡Œè¡¨ç¤ºã€‚</p>
<p>ï¼ˆ3ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p>
<p>åœ¨empå¯¹è±¡åˆ›å»ºæ—¶ï¼Œæœ‰ä¸€ä¸ªå±æ€§æ˜¯deptï¼Œå¯ä»¥ç”¨refå¤–éƒ¨beançš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨å†…éƒ¨beançš„æ–¹å¼ã€‚ç›¸å½“äºæ˜¯åµŒå¥—beanäº†ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å†…éƒ¨bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¼ ä¸‰&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç”·&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">	            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç ”å‘éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰æµ‹è¯•æ–¹æ³•</p>
<p>4.æ³¨å…¥å±æ€§â€“çº§è”èµ‹å€¼</p>
<p>çº§è”èµ‹å€¼æŒ‡çš„æ˜¯ä¸€ä¸ªç±»å†…æœ‰å…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºå±æ€§ï¼Œå¯ä»¥ç”¨å¤–éƒ¨beançš„æ–¹æ³•refï¼Œä¹Ÿå¯ä»¥å†…éƒ¨beançš„æ–¹æ³•ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æå››&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept.dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æµ‹è¯•éƒ¨é—¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept.dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è´¢åŠ¡éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæµ‹è¯•éƒ¨é—¨ï¼Œè€Œä¸æ˜¯è´¢åŠ¡éƒ¨ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰</h3><p>1.æ³¨å…¥æ•°ç»„ç±»å‹å±æ€§ï¼Œæ³¨å…¥Listé›†åˆç±»å‹å±æ€§ï¼Œæ³¨å…¥Mapé›†åˆç±»å‹å±æ€§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stu</span></span>&#123;</span><br><span class="line">    <span class="comment">//1 æ•°ç»„ç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String[] course;</span><br><span class="line">    <span class="comment">//2 listé›†åˆç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; lists;</span><br><span class="line">    <span class="comment">//3 mapé›†åˆç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt;maps;</span><br><span class="line">    <span class="comment">//4 seté›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt;sets;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCourse</span><span class="params">(String[] course)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.course = course;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSets</span><span class="params">(Set&lt;String&gt; sets)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sets = sets;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(List&lt;String&gt; lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lists = lists;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMaps</span><span class="params">(Map&lt;String, String&gt; maps)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.maps = maps;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.åœ¨springé…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é›†åˆç±»å‹å±æ€§æ³¨å…¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;course&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;lists&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ•°ç»„å¦‚æœç›´æ¥è¾“å‡ºï¼Œä¸æ˜¯å€¼ï¼Œè€Œæ˜¯åœ°å€å€¼ï¼Œéœ€è¦Arrays.toString()</p>
</blockquote>
<p>3.é›†åˆä¸­è®¾ç½®å¯¹è±¡ç±»å‹å€¼</p>
<p> beané…ç½®ä¸­ï¼Œåˆ›å»ºå¤šä¸ªcourseå¯¹è±¡ï¼Œç„¶åç”¨refæ³¨å…¥åˆ°stuå¯¹è±¡çš„é›†åˆå±æ€§ä¸­ã€‚</p>
<p>æ³¨æ„ï¼šè¿™é‡ŒCourseç±»ä¸­æ²¡æœ‰é‡å†™toStringç±»çš„è¯ï¼Œè¾“å‡ºclistä¸­çš„å€¼æ˜¯å¯¹è±¡åœ°å€ï¼Œåªæœ‰é‡å†™Courseç±»ä¸­çš„toStringæ–¹æ³•ï¼Œè¾“å‡ºæ‰èƒ½æ˜¯å¯¹è±¡ä¸­çš„å„ç§å±æ€§å€¼ã€‚</p>
<p>4.æŠŠé›†åˆæ³¨å…¥éƒ¨åˆ†æå–å‡ºæ¥ä½œä¸ºå…¬å…±éƒ¨åˆ†</p>
<p>ï¼ˆ1ï¼‰åœ¨Springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´util</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æå–listé›†åˆå±æ€§æ³¨å…¥</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æå–listé›†åˆå±æ€§æ³¨å…¥,å¤šä¸ªbeanéƒ½å¯ä½¿ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;stulist&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯¾ç¨‹1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯¾ç¨‹2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨å…¬å…±listé›†åˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;lists&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;stulist&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰</h3><p>1.Springä¸­æœ‰ä¸¤ç§ç±»å‹beanï¼Œä¸€ç§æ™®é€šbeanï¼Œå¦å¤–ä¸€ç§FactoryBeanã€‚</p>
<p>2.æ™®é€šbeanï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰beanç±»å‹å°±æ˜¯è¿”å›ç±»å‹ã€‚</p>
<p>3.å·¥å‚beanï¼šåœ¨é…ç½®æ–‡ä»¶å®šä¹‰beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç±»ï¼Œè®©è¿™ä¸ªç±»ä½œä¸ºå·¥å‚beanï¼Œå®ç°æ¥å£FactoryBean</p>
<p>ç¬¬äºŒæ­¥ï¼šå®ç°æ¥å£é‡Œé¢çš„æ–¹æ³•ï¼Œåœ¨å®ç°çš„æ–¹æ³•ä¸­å®šä¹‰è¿”å›çš„beanç±»å‹ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰</h3><p>1.åœ¨Springä¸­ï¼Œå¯ä»¥è®¾ç½®åˆ›å»ºbeanå®ä¾‹æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ã€‚</p>
<blockquote>
<p>æ‰€è°“å•ä¾‹å°±æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„serviceå’Œdaoå±‚çš„å¯¹è±¡é€šå¸¸éƒ½æ˜¯å•ä¾‹çš„ï¼Œè€Œå¤šä¾‹åˆ™æŒ‡æ¯ä¸ªè¯·æ±‚ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡æ¥å¤„ç†ï¼Œæ¯”å¦‚action;</p>
</blockquote>
<p>2.åœ¨Springä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºçš„beanæ˜¯å•å®ä¾‹å¯¹è±¡ã€‚</p>
<p>æµ‹è¯•ç±»ä¸­åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œè¾“å‡ºåœ°å€ï¼Œå¯ä»¥å‘ç°å¤šä¸ªå¯¹è±¡çš„åœ°å€ç›¸åŒã€‚ä¹Ÿå°±æ˜¯å¤šä¸ªè¯·æ±‚ç”¨ä¸€ä¸ªå¯¹è±¡å¤„ç†ã€‚</p>
<p>3.å¦‚ä½•è®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p>
<p>ï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶beanæ ‡ç­¾é‡Œé¢æœ‰å±æ€§ï¼ˆscopeï¼‰ç”¨äºè®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p>
<p>ï¼ˆ2ï¼‰scopeå±æ€§å€¼ï¼šé»˜è®¤å€¼singletonï¼Œè¡¨ç¤ºå•å®ä¾‹å¯¹è±¡ã€‚prototypeï¼Œè¡¨ç¤ºå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<p>å…¶ä»–ä¸å¸¸ç”¨çš„ï¼š<br>requestè¡¨ç¤ºä¸€æ¬¡è¯·æ±‚<br>sessionè¡¨ç¤ºä¸€æ¬¡ä¼šè¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;emp&quot; class=&quot;com.company.bean.Emp&quot; scope=&quot;prototype&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>å†çœ‹å¤šä¸ªå¯¹è±¡çš„åœ°å€ï¼Œä¸ä¸€æ ·ï¼Œå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<p>ï¼ˆ3ï¼‰singletonå’ŒprototypeåŒºåˆ«</p>
<p>ç¬¬ä¸€ singletonå•å®ä¾‹  prototypeå¤šå®ä¾‹</p>
<p>ç¬¬äºŒ singletonåœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡ï¼Œprototypeä¸æ˜¯åœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨getBeanæ–¹æ³•æ—¶åˆ›å»ºå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰</h3><p>1.ç”Ÿå‘½å‘¨æœŸï¼šä»å¯¹è±¡åˆ›å»ºåˆ°å¯¹è±¡é”€æ¯çš„è¿‡ç¨‹</p>
<p>2.beanç”Ÿå‘½å‘¨æœŸ</p>
<p>ï¼ˆ1ï¼‰é€šè¿‡æ„é€ å™¨åˆ›å»ºbeanå®ä¾‹ï¼ˆxmlè°ƒç”¨æ— å‚æ„é€ ï¼‰<br>ï¼ˆ2ï¼‰ä¸ºbeanä¸­çš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»–beanå¼•ç”¨ï¼ˆè°ƒç”¨setæ–¹æ³•ï¼‰<br>ï¼ˆ3ï¼‰è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®ï¼‰<br>ï¼ˆ4ï¼‰beanå¯ä»¥ä½¿ç”¨ï¼ˆå¯¹è±¡è·å–åˆ°ï¼‰<br>ï¼ˆ5ï¼‰å½“å®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®ï¼‰</p>
<p>3.æ¼”ç¤ºbeanç”Ÿå‘½å‘¨æœŸï¼šè§ç¨‹åºorderç›¸å…³</p>
<p>4.åŠ ä¸Šbeançš„åç½®å¤„ç†å™¨ï¼šbeançš„ç”Ÿå‘½å‘¨æœŸæœ‰ä¸ƒæ­¥ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ä¹‹å‰ï¼šæŠŠbeanå®ä¾‹ä¼ é€’beanåç½®å¤„ç†å™¨çš„æ–¹æ³•before</p>
<p>ç¬¬ä¸‰æ­¥ä¹‹åï¼šæŠŠbeanå®ä¾‹ä¼ é€’beanåç½®å¤„ç†å™¨çš„æ–¹æ³•after</p>
<p>åˆ›å»ºç±»å®ç°BeanPostProcessoræ¥å£ï¼Œåˆ›å»ºåç½®å¤„ç†å™¨ã€‚é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<h2 id="Day-5"><a href="#Day-5" class="headerlink" title="Day 5"></a>Day 5</h2><h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰</h3><p>1.ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…ï¼Ÿ<br>propertyæ³¨å…¥å±æ€§ï¼Œname-valueå€¼ï¼Œè¿™æ˜¯æ‰‹åŠ¨è£…é…ã€‚æ ¹æ®æŒ‡å®šè£…é…è§„åˆ™ï¼ˆå±æ€§åç§°æˆ–è€…å±æ€§ç±»å‹ï¼‰ï¼Œspringè‡ªåŠ¨å°†åŒ¹é…çš„å±æ€§å€¼è¿›è¡Œæ³¨å…¥ã€‚</p>
<p>2.æ¼”ç¤ºè‡ªåŠ¨è£…é…<br>å¤–éƒ¨beanæ‰‹åŠ¨è£…é…ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;deport&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è‡ªåŠ¨è£…é…ï¼šbeanæ ‡ç­¾å±æ€§autowireï¼Œé…ç½®è‡ªåŠ¨è£…é…ï¼Œautowireå±æ€§å¸¸ç”¨ä¸¤ä¸ªå€¼ï¼šbyNameæ ¹æ®å±æ€§åç§°æ³¨å…¥ï¼ˆæ³¨å…¥å€¼beançš„idå€¼å’Œç±»å±æ€§åå­—ä¸€æ ·ï¼‰ï¼ŒbyTypeæ ¹æ®å±æ€§ç±»å‹æ³¨å…¥ï¼ˆç›¸åŒç±»å‹çš„beanä¸èƒ½å®šä¹‰å¤šä¸ªï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼‰ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Employee&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰</h3><p>å¦‚æœä¸€ä¸ªç±»çš„å±æ€§å¾ˆå¤šï¼Œéœ€è¦å¾ˆå¤špropertyï¼Œå¹¶ä¸”ç±»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦ä¿®æ”¹xmlé…ç½®æ–‡ä»¶ï¼Œæ”¹èµ·æ¥éº»çƒ¦ã€‚å°†å›ºå®šçš„å€¼æ”¾åœ¨å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚åœºæ™¯åº”ç”¨åœ¨æ“ä½œæ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“çš„å€¼æ”¾åœ¨propertyæ–‡ä»¶ä¸­ï¼Œå¼•ç”¨è¿›æ¥ï¼Œè¿›è¡Œè¯»å–ã€‚</p>
<p>1.ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯</p>
<p>ï¼ˆ1ï¼‰é…ç½®å¾·é²ä¼Šdruidè¿æ¥æ± </p>
<p>ï¼ˆ2ï¼‰å¼•å…¥å¾·é²ä¼Šè¿æ¥æ± ä¾èµ–jaråŒ…</p>
<p><a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/com.alibaba/druid/1.1.9%EF%BC%88%E6%89%BE%E5%88%B0durid1.9%E4%B8%8B%E8%BD%BD%EF%BC%8C%E5%AF%BC%E5%85%A5lib%EF%BC%89">https://mvnrepository.com/artifact/com.alibaba/druid/1.1.9ï¼ˆæ‰¾åˆ°durid1.9ä¸‹è½½ï¼Œå¯¼å…¥libï¼‰</a></p>
<p>ï¼ˆ3ï¼‰é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼ˆbean10ï¼‰ï¼Œå‡ ä¸ªå±æ€§ï¼šé©±åŠ¨åç§°ã€æ•°æ®åº“åœ°å€ã€ç”¨æˆ·ã€å¯†ç </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/userDb&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<p>2.å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± </p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼Œpropertiesæ ¼å¼æ–‡ä»¶ï¼Œå†™æ•°æ®åº“ä¿¡æ¯ã€‚ç­‰å·å·¦è¾¹çš„åå­—å¯ä»¥éšä¾¿å†™ã€‚</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/userDb</span></span><br><span class="line"><span class="meta">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">prop.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æŠŠå¤–éƒ¨propertieså±æ€§æ–‡ä»¶å¼•å…¥åˆ°springé…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥contextåç§°ç©ºé—´</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šåœ¨springé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ ‡ç­¾å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span>   <span class="comment">&lt;!--æ–‡ä»¶åœ¨æœ¬åœ°å†™æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»¥ä¸Šæ˜¯åŸºäºxmlæ–¹å¼è¿›è¡Œbeanç®¡ç†ï¼Œæœ€é‡è¦çš„ï¼šåˆ›å»ºå¯¹è±¡ã€æ³¨å…¥å±æ€§</p>
</blockquote>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰</h3><p>1.ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ<br>æ³¨è§£æ˜¯ä»£ç ä¸­ç‰¹æ®Šçš„æ ‡è®°ï¼Œæ ¼å¼ï¼š@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼, å±æ€§åç§°=å±æ€§å€¼â€¦)<br>æ³¨è§£å¯ä»¥ä½œç”¨åœ¨ç±»ä¸Šé¢ï¼Œæ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢ã€‚<br>ä½¿ç”¨æ³¨è§£çš„åŸå› ï¼šä¸ºäº†ç®€åŒ–xmlé…ç½®</p>
<p>2.Springé’ˆå¯¹Beanç®¡ç†ä¸­åˆ›å»ºå¯¹è±¡æä¾›æ³¨è§£</p>
<p>ï¼ˆ1ï¼‰@Component</p>
<p>ï¼ˆ2ï¼‰@Serviceï¼šä¸šåŠ¡é€»è¾‘å±‚serviceå±‚</p>
<p>ï¼ˆ3ï¼‰@Controllerï¼šwebå±‚</p>
<p>ï¼ˆ4ï¼‰@Repositoryï¼šdaoæŒä¹…å±‚</p>
<p>*ä¸Šé¢çš„å››ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºbeanå®ä¾‹ï¼Œå¯ä»¥ä¸åŒå±‚æ··ç”¨çš„ã€‚</p>
<p>3.åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º</p>
<p>é‡æ–°æä¸€ä¸ªå·¥ç¨‹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–ï¼Œaopã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šå¼€å¯ç»„ä»¶æ‰«æï¼Œçœ‹æœ‰æ²¡æœ‰æ³¨è§£ï¼Œæ‰«æå“ªä¸ªåŒ…ä¸­çš„å“ªä¸ªç±»ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ,æ‰«æå¤šä¸ªåŒ…ç”¨,éš”å¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºç±»ï¼Œåœ¨ç±»ä¸Šæ·»åŠ åˆ›å»ºå¯¹è±¡çš„æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/&gt;, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestZhujie</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testZhujie</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ApplicationContext con = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        UserService userService = con.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class); <span class="comment">//æ‰“åé¢çš„ï¼Œç„¶å.varä¼šå‡ºç°å‰é¢çš„åŒ¹é…ç±»å‹</span></span><br><span class="line">        System.out.println(userService);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.ä¸Šé¢æ˜¯æ‰«æä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œä¹Ÿå¯ä»¥ä¸æ‰«ææ‰€æœ‰ç±»</p>
<p>ç¤ºä¾‹1 ï¼š<br><code>user-default-filters=&quot;false&quot; </code>è¡¨ç¤ºç°åœ¨ä¸ä½¿ç”¨é»˜è®¤filterï¼Œè‡ªå·±é…ç½®filterã€‚<br><code>context:include-filter</code>ï¼Œè®¾ç½®æ‰«æå“ªäº›å†…å®¹ï¼Œ<code>type=&quot;annotation&quot;</code>æ ¹æ®æ³¨è§£æ¥æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¤ºä¾‹1 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span> <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åªæ‰«æ<code>@component</code>æ³¨è§£çš„ç±»ã€‚</p>
<p>ç¤ºä¾‹2ï¼š<br><code>contextï¼šexclude-filter</code> è®¾ç½®å“ªäº›å†…å®¹ä¸æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¤ºä¾‹2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>5.åŸºäºæ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥</p>
<p>ï¼ˆ1ï¼‰@Autowiredï¼šæ ¹æ®å±æ€§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…</p>
<p>ç¬¬ä¸€æ­¥ï¼šæŠŠserviceå’Œdaoå¯¹è±¡éƒ½åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯åœ¨ç±»ä¸Šéƒ½æ·»åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDapImpt</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;dao add ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šåœ¨serviceä¸­æ³¨å…¥daoå¯¹è±¡ï¼Œåœ¨serviceå†…çš„daoå¯¹è±¡å±æ€§ä¸Šæ·»åŠ æ³¨å…¥å±æ€§æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userdao;  <span class="comment">//UserDaoæ˜¯æ¥å£ä¹Ÿå¯ä»¥å•Š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">        userdao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>*Autowiredæ ‡æ³¨äº†UserDaoç±»å‹çš„ï¼Œæ ¹æ®ç±»å‹è‡ªåŠ¨æ‰¾åˆ°å®ƒçš„å®ç°ç±»</p>
<p>ï¼ˆ2ï¼‰@Qualifierï¼šæ ¹æ®å±æ€§åç§°è¿›è¡Œæ³¨å…¥</p>
<p>éœ€è¦ä¸ªä¸Šé¢çš„@Autowiredä¸€èµ·è¿›è¡Œä½¿ç”¨ã€‚å’Œä¸Šé¢çš„bytypeè‡ªåŠ¨æ³¨å…¥ç±»ä¼¼ï¼Œå¦‚æœä¸€ä¸ªæ¥å£æœ‰ä¸åŒå®ç°ç±»ï¼Œå°±ä¼šæœ‰å¤šä¸ªå¯åŒ¹é…çš„ï¼Œè¿™æ—¶éœ€è¦æ ¹æ®åç§°ï¼ˆ@componentæ‹¬å·é‡Œçš„valueï¼‰è¿›è¡Œè£…é…ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;hh&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userdao;  <span class="comment">//UserDaoæ˜¯æ¥å£ä¹Ÿå¯ä»¥å•Š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">        userdao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰@Resourceï¼šå¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥</p>
<p>ç›´æ¥@Resourceæ˜¯æ ¹æ®ç±»å‹ï¼Œ@Resource(name=â€hhâ€)æ ¹æ®åç§°ã€‚</p>
<p>Resourceæ˜¯javaæ‰©å±•åŒ…javaxä¸­çš„ï¼Œä¸Šé¢ä¸¤ä¸ªæ˜¯springä¸­çš„ã€‚</p>
<p>ï¼ˆ4ï¼‰@Valueï¼šæ³¨å…¥æ™®é€šç±»å‹å±æ€§</p>
<p>ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯æ³¨å…¥å¯¹è±¡ç±»å‹æ•°æ®ï¼Œè¿™ä¸ªæ³¨å…¥æ™®é€šç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(value = &quot;liu&quot;)</span>  <span class="comment">//liuæ³¨å…¥åˆ°snameä¸­ï¼Œç›¸å½“äºxmlçš„property</span></span><br><span class="line"><span class="keyword">private</span> String sname;</span><br></pre></td></tr></table></figure>

<p>6.å®Œå…¨æ³¨è§£å¼€å‘</p>
<p>ä½¿ç”¨æ³¨è§£æ–¹å¼ç®¡ç†Beançš„ç›®çš„æ˜¯ï¼Œç®€åŒ–xmlé…ç½®ï¼Œç›®å‰åªæœ‰ä¸€è¡Œå¼€å¯ç»„ä»¶æ‰«æï¼Œå…¶ä»–çš„éƒ½ç”¨æ³¨è§£æ¥æ›¿ä»£ã€‚</p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>   <span class="comment">//ä½œä¸ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.company&quot;&#125;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼Œé™¤äº†ç¬¬ä¸€æ­¥åŠ è½½é…ç½®ç±»ä¸åŒï¼Œå…¶ä»–éƒ½ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testZhujie2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ApplicationContext con = <span class="keyword">new</span> AnnotationConfigApplicationContext(SpringConfig.class);  <span class="comment">//åŠ è½½é…ç½®ç±»</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    UserService userService = con.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class); <span class="comment">//æ‰“åé¢çš„ï¼Œç„¶å.varä¼šå‡ºç°å‰é¢çš„åŒ¹é…ç±»å‹</span></span><br><span class="line">    System.out.println(userService);</span><br><span class="line">    userService.add();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å¼€å‘ï¼Œåœ¨å®é™…å¼€å‘ä¸­ç”¨springbootï¼Œspringbootæœ¬è´¨ä¸Šè¿˜æ˜¯springï¼Œå¯¹springåšäº†ç®€åŒ–å¼€å‘ã€‚</p>
<h2 id="Day-6"><a href="#Day-6" class="headerlink" title="Day 6"></a>Day 6</h2><h3 id="AOP-åŸºæœ¬æ¦‚å¿µ"><a href="#AOP-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="AOP åŸºæœ¬æ¦‚å¿µ"></a>AOP åŸºæœ¬æ¦‚å¿µ</h3><p>ä»€ä¹ˆæ˜¯AOPï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯OOPå»¶ç»­ï¼Œå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜å¼€å‘çš„æ•ˆç‡ã€‚</p>
<p>ä¾‹å¦‚ï¼šåœ¨ç”¨æˆ·ç™»å½•åŠŸèƒ½åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½â€“æƒé™åˆ¤æ–­</p>
<p>åŸå§‹æ–¹å¼ï¼šä¿®æ”¹æºä»£ç å®ç° if else</p>
<p>AOPï¼šä¸é€šè¿‡ä¿®æ”¹æºä»£ç æ–¹å¼åœ¨ä¸»å¹²åŠŸèƒ½é‡Œæ·»åŠ æ–°åŠŸèƒ½ï¼Œå°†æƒé™åˆ¤æ–­æ¨¡å—é€šè¿‡é…ç½®æ–¹å¼æ·»åŠ ã€‚</p>
<h3 id="AOPåº•å±‚åŸç†"><a href="#AOPåº•å±‚åŸç†" class="headerlink" title="AOPåº•å±‚åŸç†"></a>AOPåº•å±‚åŸç†</h3><p>AOPåº•å±‚ä½¿ç”¨åŠ¨æ€ä»£ç†</p>
<p>æœ‰ä¸¤ç§æƒ…å†µçš„åŠ¨æ€ä»£ç†ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šæœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨JDKåŠ¨æ€ä»£ç†</p>
<p>å®šä¹‰UserDaoæ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªUserDaoImplå®ç°ç±»ï¼Œç±»å†…é‡å†™ç™»å½•å‡½æ•°å®ç°ç™»å½•åŠŸèƒ½ã€‚ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºUserDaoæ¥å£å®ç°ç±»ä»£ç†å¯¹è±¡ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡å¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒç§ï¼šæ²¡æœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨CGLIBåŠ¨æ€ä»£ç†</p>
<p>æœ‰ä¸€ä¸ªUserç±»ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå­ç±»æ¥ç»§æ‰¿Userç±»ï¼Œé‡å†™æ–¹æ³•æ‰©å±•åŠŸèƒ½å¢å¼ºé€»è¾‘ã€‚CGLIBåŠ¨æ€ä»£ç†ï¼šåˆ›å»ºä¸€ä¸ªå½“å‰ç±»ä¹‹ç±»çš„ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<h3 id="AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰"><a href="#AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰" class="headerlink" title="AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰"></a>AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰</h3><p>1.æ¦‚å¿µï¼šä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œä½¿ç”¨Proxyç±»é‡Œé¢çš„æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<p>APIæ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://www.matools.com/api/java8%EF%BC%88java.lang.reflect.Proxy%EF%BC%89">https://www.matools.com/api/java8ï¼ˆjava.lang.reflect.Proxyï¼‰</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newProxyInstance(ClassLoader loader, ç±»&lt;?&gt;[] interfaces, InvocationHandler h)    //é™æ€æ–¹æ³•</span><br></pre></td></tr></table></figure>

<p>è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£å°†æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</p>
<p>newProxyInstanceæ–¹æ³•çš„ä¸‰ä¸ªå‚æ•°ï¼šç±»åŠ è½½å™¨ï¼›å¢å¼ºæ–¹æ³•è¦å¢å¼ºçš„æ¥å£å®ç°ç±»ï¼Œæ”¯æŒå¤šä¸ªæ¥å£ï¼›å†™ä¸ªç±»å®ç°InvocationHandleræ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œé‡Œé¢å†™å¢å¼ºçš„æ–¹æ³•ï¼ˆå¯ä»¥å†™åŒ¿åå†…éƒ¨ç±»ï¼Œä¹Ÿå¯ä»¥å†™ä¸ªç±»å®ç°è¿™ä¸ªæ¥å£ï¼‰ã€‚ </p>
<p>2.ç¼–å†™JDKåŠ¨æ€ä»£ç†ä»£ç </p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºæ¥å£ï¼Œå®šä¹‰æ–¹æ³•</p>
<p>ä»£ç ä¸­çš„UserDaoæ¥å£</p>
<p>ï¼ˆ2ï¼‰åˆ›å»ºæ¥å£å®ç°ç±»ï¼Œå®ç°æ–¹æ³•</p>
<p>ä»£ç ä¸­çš„UserDaoImplç±»</p>
<p>ï¼ˆ3ï¼‰ä½¿ç”¨Proxyç±»åˆ›å»ºæ¥å£ä»£ç†å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">package</span> com.company;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: SpringAop</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-27 21:08</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDKProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ¥å£å®ç°ç±»ä»£ç†å¯¹è±¡</span></span><br><span class="line">        Class[] interfaces = &#123;UserDao.class&#125;;</span><br><span class="line">        <span class="comment">//1.å‡½æ•°å¼æ¥å£æ–¹æ³•</span></span><br><span class="line"><span class="comment">//        Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() &#123;</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span></span><br><span class="line"><span class="comment">//                return null;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;);</span></span><br><span class="line">        <span class="comment">//2.å¤–é¢å†™ä¸ªç±»æ–¹æ³•</span></span><br><span class="line">        UserDaoImpl userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">        <span class="comment">//åšä¸€ä¸ªå¼ºè½¬ï¼Œåˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡</span></span><br><span class="line">        UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, <span class="keyword">new</span> UserDaoProxy(userDao));</span><br><span class="line">        <span class="comment">//int res = dao.add(1,2);</span></span><br><span class="line">        String res = dao.update(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;result:&quot;</span>+res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDaoProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line">    <span class="comment">//æŠŠåˆ›å»ºçš„æ˜¯è°çš„ä»£ç†å¯¹è±¡ï¼ŒæŠŠè°ä¼ é€’è¿‡æ¥</span></span><br><span class="line">    <span class="comment">//æœ‰å‚æ„é€ ä¼ é€’</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserDaoProxy</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¢å¼ºçš„é€»è¾‘</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">//å¯ä»¥å¯¹è¦å¢å¼ºçš„æ–¹æ³•ä½œå‡ºåˆ¤æ–­ï¼Œå¢å¼ºå“ªä¸ªï¼Œç”¨getName()æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹å‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å“ªä¸ªæ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼š&quot;</span>+method.getName()+<span class="string">&quot;ï¼›ä¼ é€’çš„å‚æ•°ï¼š&quot;</span>+ Arrays.toString(args));</span><br><span class="line">        <span class="comment">//è¢«å¢å¼ºçš„æ–¹æ³•</span></span><br><span class="line">        Object res= method.invoke(obj, args);</span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹å</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å“ªä¸ªæ–¹æ³•ä¹‹åæ‰§è¡Œï¼š&quot;</span>+method.getName()+<span class="string">&quot;ï¼›ä¼ é€’çš„å‚æ•°ï¼š&quot;</span>+ Arrays.toString(args));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="AOP-æ“ä½œæœ¯è¯­"><a href="#AOP-æ“ä½œæœ¯è¯­" class="headerlink" title="AOP-æ“ä½œæœ¯è¯­"></a>AOP-æ“ä½œæœ¯è¯­</h3><p>1.è¿æ¥ç‚¹</p>
<p>ç±»ä¸­æœ‰è‹¥å¹²æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½å¯ä»¥è¢«å¢å¼ºï¼Œåœ¨ä¸€ä¸ªç±»ä¸­å“ªäº›æ–¹æ³•å¯ä»¥è¢«å¢å¼ºï¼Œè¿™äº›æ–¹æ³•å°±å«åšè¿æ¥ç‚¹ã€‚</p>
<p>2.åˆ‡å…¥ç‚¹</p>
<p>å®é™…è¢«çœŸæ­£å¢å¼ºçš„æ–¹æ³•ï¼Œå«åšåˆ‡å…¥ç‚¹ã€‚</p>
<p>3.é€šçŸ¥ï¼ˆå¢å¼ºï¼‰</p>
<p>ï¼ˆ1ï¼‰å®é™…å¢å¼ºçš„é€»è¾‘éƒ¨åˆ†ç§°ä¸ºé€šçŸ¥æˆ–æ˜¯å¢å¼ºã€‚</p>
<p>ï¼ˆ2ï¼‰é€šçŸ¥æœ‰å¤šç§ç±»å‹<br>*å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•ä¹‹å‰ä¼šæ‰§è¡Œ<br>*åç½®é€šçŸ¥ï¼šæ–¹æ³•ä¹‹åä¼šæ‰§è¡Œ<br>*ç¯ç»•é€šçŸ¥ï¼šæ–¹æ³•çš„å‰åéƒ½æ‰§è¡Œ<br>*å¼‚å¸¸é€šçŸ¥ï¼šæ–¹æ³•å‡ºç°å¼‚å¸¸æ‰§è¡Œ<br>*æœ€ç»ˆé€šçŸ¥ï¼šç±»ä¼¼try-catch-finallyï¼Œä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸éƒ½æ‰§è¡Œ</p>
<p>4.åˆ‡é¢</p>
<p>æ˜¯åŠ¨ä½œï¼ŒæŠŠé€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹çš„è¿‡ç¨‹å«åšåˆ‡é¢ã€‚</p>
<h3 id="AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ"><a href="#AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ" class="headerlink" title="AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ"></a>AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ</h3><p>1.Springæ¡†æ¶ä¸­ä¸€èˆ¬åŸºäºAspectJå®ç°AOPæ“ä½œã€‚</p>
<p>ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯AspectJï¼Ÿ</p>
<p>*AspectJæ˜¯ç‹¬ç«‹çš„æ¡†æ¶ï¼Œä¸æ˜¯Springç»„æˆéƒ¨åˆ†ï¼Œç‹¬ç«‹AOPæ¡†æ¶ï¼Œä¸€èˆ¬æŠŠAspectJå’ŒSpringæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡ŒAOPæ“ä½œã€‚</p>
<p>2.åŸºäºAspectJå®ç°AOPæ“ä½œ</p>
<p>ï¼ˆ1ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°</p>
<p>ï¼ˆ2ï¼‰åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆä¸€èˆ¬ç”¨è¿™ä¸ªï¼‰</p>
<p>3.åœ¨é¡¹ç›®å·¥ç¨‹ä¸­å¼•å…¥AOPç›¸å…³ä¾èµ–ã€‚</p>
<p>éœ€è¦æ·»åŠ ä¸€ä¸ªaspectçš„ä¾èµ–åŒ…ã€‚åœ¨<a target="_blank" rel="noopener" href="https://mvnrepository.comä¸­æœç´¢aspectjã€cglibã€aopallianceä¾èµ–åŒ…./">https://mvnrepository.comä¸­æœç´¢aspectjã€cglibã€aopallianceä¾èµ–åŒ…ã€‚</a></p>
<p>4.åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p>
<p>ï¼ˆ1ï¼‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä½œç”¨ï¼šçŸ¥é“å¯¹å“ªä¸ªç±»é‡Œé¢çš„å“ªä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p>
<p>ï¼ˆ2ï¼‰è¯­æ³•ç»“æ„ï¼š<code>execution([æƒé™ä¿®é¥°ç¬¦][è¿”å›ç±»å‹][ç±»å…¨è·¯å¾„][æ–¹æ³•åç§°][å‚æ•°åˆ—è¡¨])</code></p>
<p>ä¸¾ä¾‹1ï¼šå¯¹com.company.dao.BookDaoç±»é‡Œé¢çš„addè¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.BookDao.add(...))</code></p>
<p>ä¸¾ä¾‹2ï¼šå¯¹com.company.dao.BookDaoç±»é‡Œé¢çš„æ‰€æœ‰è¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.BookDao.*(...))</code></p>
<p>ä¸¾ä¾‹3ï¼šå¯¹com.company.daoåŒ…é‡Œé¢æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.*.*(...))</code></p>
<h3 id="AOP-AspectJæ³¨è§£æ“ä½œ"><a href="#AOP-AspectJæ³¨è§£æ“ä½œ" class="headerlink" title="AOP-AspectJæ³¨è§£æ“ä½œ"></a>AOP-AspectJæ³¨è§£æ“ä½œ</h3><p>1.åˆ›å»ºç±»ï¼Œåœ¨ç±»ä¸­å®šä¹‰æ–¹æ³•</p>
<p>åˆ›å»ºUserç±»</p>
<p>2.åˆ›å»ºå¢å¼ºç±»ï¼ˆç¼–å†™å¢å¼ºé€»è¾‘ï¼‰</p>
<p>åœ¨å¢å¼ºç±»UserProxyä¸­ï¼Œåˆ›å»ºæ–¹æ³•ï¼Œè®©ä¸åŒæ–¹æ³•ä»£è¡¨ä¸åŒé€šçŸ¥ç±»å‹ã€‚</p>
<p>3.è¿›è¡Œé€šçŸ¥çš„é…ç½®</p>
<p>ï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£æ‰«æï¼ˆå¯ä»¥å†™é…ç½®ç±»ï¼Œä¹Ÿå¯ä»¥å†™é…ç½®æ–‡ä»¶ï¼‰é¦–å…ˆæ˜¯åç§°ç©ºé—´ï¼Œå†å¼€å¯ç»„ä»¶æ‰«æ</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨æ³¨è§£åˆ›å»ºUserå’ŒUserProxyå¯¹è±¡ï¼Œç”¨@Component</p>
<p>ï¼ˆ3ï¼‰åœ¨å¢å¼ºç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Aspect</p>
<p>ï¼ˆ4ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­å¼€å¯ç”Ÿæˆä»£ç†å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ,æ‰«æå¤šä¸ªåŒ…ç”¨,éš”å¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.aopdemo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯Aspectç”Ÿæˆä»£ç†å¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.é…ç½®ä¸åŒç±»å‹çš„é€šçŸ¥</p>
<p>åœ¨å¢å¼ºç±»çš„é‡Œé¢ï¼Œåœ¨ä½œä¸ºé€šçŸ¥æ–¹æ³•ä¸Šé¢æ·»åŠ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.aopdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: SpringAop</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-29 21:48</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProxy</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterReturning(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterThrowing(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¯ç»•é€šçŸ¥ï¼Œæ–¹æ³•ä¹‹å‰å’Œæ–¹æ³•ä¹‹åéƒ½æ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Around(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before around......&quot;</span>);</span><br><span class="line">        proceedingJoinPoint.proceed();  <span class="comment">//è¡¨ç¤ºæ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•ï¼Œæœ‰å¼‚å¸¸å¤„ç†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;after around......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>//afterè¡¨ç¤ºæ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</strong>ï¼Œæœ€ç»ˆé€šçŸ¥ï¼Œä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸</p>
<p><strong>//afterreturningè¡¨ç¤ºåœ¨æ–¹æ³•è¿”å›å€¼ä¹‹åæ‰§è¡Œ</strong>ï¼Œåç½®é€šçŸ¥ï¼Œè¿”å›é€šçŸ¥ï¼Œæœ‰å¼‚å¸¸ä¸æ‰§è¡Œ</p>
<p><strong>//å¦‚æœå¼‚å¸¸äº†ï¼ŒafterReturningå’Œç¯ç»•ä¹‹åä¸æ‰§è¡Œ</strong></p>
<p>5.ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–ï¼Œ@Pointcutæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–</span></span><br><span class="line"><span class="meta">@Pointcut(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointdemo</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">//@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line"><span class="meta">@Before(value = &quot;pointdemo()&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;before......&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.æœ‰å¤šä¸ªå¢å¼ºç±»å¯¹åŒä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºï¼Œå¯ä»¥è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§</p>
<p>åœ¨å¢å¼ºç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Order(æ•°å­—ç±»å‹å€¼)ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonProxy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–</span></span><br><span class="line">    <span class="meta">@Pointcut(value = &quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointdemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;person before,order1,é«˜ä¼˜å…ˆçº§......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Day-7"><a href="#Day-7" class="headerlink" title="Day 7"></a>Day 7</h2><h3 id="AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶"><a href="#AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶" class="headerlink" title="AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶"></a>AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶</h3><p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬ç±»ï¼Œå†åˆ›å»ºä¸€ä¸ªå¢å¼ºç±»ï¼Œç„¶åé…ç½®æ–‡ä»¶ä¸­ç”¨<code>&lt;bean&gt;</code>åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œå†åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ‡å…¥ç‚¹ï¼Œä½¿ç”¨<code>&lt;aop:config&gt;</code>æ³¨è§£ï¼Œä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼<code>&lt;aop:pointcut ...</code>ï¼Œå†é…ç½®åˆ‡é¢ï¼Œé…ç½®å¢å¼ºä½œç”¨åœ¨å“ªä¸ªåœ°æ–¹ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/340e68569bac47c6b2772ec3c24a0490.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h3 id="å®Œå…¨æ³¨è§£å¼€å‘"><a href="#å®Œå…¨æ³¨è§£å¼€å‘" class="headerlink" title="å®Œå…¨æ³¨è§£å¼€å‘"></a>å®Œå…¨æ³¨è§£å¼€å‘</h3><p>åˆ›å»ºé…ç½®ç±»ï¼Œä¸éœ€è¦å†™xmlé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>   <span class="comment">//ä½œä¸ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.company&quot;&#125;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy(proxyTargetClass=true)</span>  <span class="comment">//ä»£æ›¿é…ç½®åˆ‡å…¥ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"><a href="#JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"></a>JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ</h3><p>1.ä»€ä¹ˆæ˜¯JDBCTemplateï¼Ÿ</p>
<p>Springæ¡†æ¶å¯¹JDBCè¿›è¡Œå°è£…ï¼Œä½¿ç”¨JDBCTemplateå¯ä»¥æ–¹ä¾¿å®ç°å¯¹æ•°æ®åº“çš„æ“ä½œã€‚</p>
<p>2.å‡†å¤‡å·¥ä½œ</p>
<p>ï¼ˆ1ï¼‰å¼•å…¥ç›¸å…³çš„jaråŒ…</p>
<p>éœ€è¦mysqlåŒ…ã€druidå¾·é²ä¼ŠåŒ…ã€springä¸­çš„jdbcåŒ…ã€springä¸­çš„txçš„äº‹åŠ¡ç›¸å…³ã€springä¸­çš„ormåŒ…ç”¨æ¥æ•´åˆå…¶ä»–æ¡†æ¶ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“çš„è¿æ¥æ± </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/userDb&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰é…ç½®JDBCTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSourceï¼Œç”¨çš„setæ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span><br><span class="line">    &lt;!-- æ³¨å…¥DataSource --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;dataSource&quot;</span> ref=<span class="string">&quot;dataSource&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰åˆ›å»ºserviceç±»ï¼Œåˆ›å»ºdaoç±»ï¼Œå®Œæˆæ³¨å…¥ï¼Œåœ¨daoæ³¨å…¥jdbcTemplateå¯¹è±¡ã€‚</p>
<p>å¼€å¯ç»„ä»¶æ‰«æï¼Œç”¨æ³¨è§£åˆ›å»ºå¯¹è±¡ï¼Œserviceä¸­æ³¨å…¥daoï¼Œdaoä¸­æ³¨å…¥jdbcTemplateå¯¹è±¡ã€‚</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰</h3><p>1.macå®‰è£…æ•°æ®åº“å¯è§†åŒ–å·¥å…·ï¼Œæœ€ç»ˆè£…äº†DataGripï¼Œè§å¸–å­ã€ŠMacå®‰è£…mysqlã€‹</p>
<p>2.å»ºåº“å»ºè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql -uliuxuan -p</span><br><span class="line">create database b_jdbc;</span><br><span class="line">show databases;</span><br><span class="line">use b_jdbc;</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS `user_db`(</span><br><span class="line">   `user_id` bigint unsigned NOT NULL,</span><br><span class="line">   `username` varchar(100) NOT NULL,</span><br><span class="line">   `ustate` varchar(50) NOT NULL,</span><br><span class="line">   PRIMARY KEY(`user_id`)</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;biao&#x27;;</span><br><span class="line"></span><br><span class="line"> CREATE TABLE `kiss_share_idproducer` (</span><br><span class="line">  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#x27;è‡ªå¢&#x27;,</span><br><span class="line">  `app_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;äº§å“çº¿id&#x27;,</span><br><span class="line">  `init_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;åˆå§‹åŒ–id&#x27;,</span><br><span class="line">  `max_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;å½“å‰id&#x27;,</span><br><span class="line">  `setp` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ¯æ¬¡åˆ†é…æ•°&#x27;,</span><br><span class="line">  `mix_id` smallint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;å¯ç”¨ä¸ªä½æ··æ·†å› å­&#x27;,</span><br><span class="line">  `desc` varchar(16) NOT NULL DEFAULT &#x27;&#x27; COMMENT &#x27;desc&#x27;,</span><br><span class="line">  `mtime` int NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `idx_app` (`app_id`) USING BTREE</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;å‘å·å™¨&#x27;;</span><br></pre></td></tr></table></figure>

<p>3.entityåŒ…é‡Œå¯¹åº”æ•°æ®åº“åˆ›å»ºå®ä½“ç±»</p>
<p>4.ç¼–å†™serveicå’Œdao</p>
<p>ï¼ˆ1ï¼‰åœ¨daoä¸­æ“ä½œæ•°æ®åº“æ·»åŠ æ–¹æ³•</p>
<p>ï¼ˆ2ï¼‰è°ƒç”¨JdbcTemplateå¯¹è±¡é‡Œé¢updateæ–¹æ³•å®ç°æ·»åŠ æ“ä½œï¼šä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯sqlè¯­å¥ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯å˜å‚æ•°ï¼Œè®¾ç½®sqlè¯­å¥å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³¨å…¥Dao</span></span><br><span class="line">    <span class="meta">@Autowired</span>  <span class="comment">//ä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">private</span> BookDao userDao;  <span class="comment">//ä½¿ç”¨daoä¸­çš„æ–¹æ³•å¾—åˆ›å»ºBookDaoï¼ˆæ¥å£ï¼Ÿï¼‰çš„å¯¹è±¡ï¼Œç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆæ˜¯æ¥å£ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userDao.add(user);  <span class="comment">//ç”¨daoé‡Œçš„æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span>  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³¨å…¥JDBCTemplate</span></span><br><span class="line">    <span class="meta">@Autowired</span>  <span class="comment">//æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„JdbcTemplate</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ•°æ®åº“æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºsqlè¯­å¥</span></span><br><span class="line">        String sql = <span class="string">&quot;insert into user_db values(?,?,?)&quot;</span>;</span><br><span class="line">        <span class="comment">//2.è°ƒç”¨æ–¹æ³•å®ç°</span></span><br><span class="line">        <span class="comment">//å¯å˜å‚æ•°å°±æ˜¯ä¸€ä¸ªæ•°ç»„å‹ï¼Œå¯ä»¥ç”¨Object</span></span><br><span class="line">        Object[] args = &#123;user.getUserId(), user.getUserName(), user.getUstate()&#125;;</span><br><span class="line">        <span class="keyword">int</span> update = jdbcTemplate.update(sql, args);  <span class="comment">//updateè¡¨ç¤ºå½±å“è¡Œæ•°</span></span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.ç¼–å†™æµ‹è¯•æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJDBC</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testJDBC</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        BookService service = context.getBean(<span class="string">&quot;bookService&quot;</span>, BookService.class);</span><br><span class="line">        <span class="comment">//getBeançš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºbeançš„åç§°ï¼Œxmlé…ç½®æ–‡ä»¶ä¸­çš„idï¼Œå¦‚æœæ˜¯æ³¨è§£åˆ›å»ºï¼Œåˆ™å°å†™ç¬¬ä¸€ä½</span></span><br><span class="line">        <span class="comment">//æ–°å»ºä¸€ä¸ªUserå¯¹è±¡</span></span><br><span class="line">        User u = <span class="keyword">new</span> User();</span><br><span class="line">        u.setUserId(<span class="number">2</span>);</span><br><span class="line">        u.setUserName(<span class="string">&quot;lucky&quot;</span>);</span><br><span class="line">        u.setUstate(<span class="string">&quot;online&quot;</span>);</span><br><span class="line">        <span class="comment">//è°ƒç”¨serviceä¸­çš„æ–¹æ³•</span></span><br><span class="line">        service.addUser(u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.å‘ç”Ÿé”™è¯¯ï¼š</p>
<p><code>ä¸¥é‡: create connection SQLException, url: jdbc:mysql://localhost:3306/b_jdbc, errorCode 1251, state 08004</code></p>
<p>mysql-connectorçš„jaråŒ…ç‰ˆæœ¬å¤ªä½ï¼ŒåŸæ¥æ˜¯5.å‡ ï¼Œæ”¹ä¸º8.å‡ ï¼Œæ”¹è¿‡ä¹‹åï¼Œéœ€è¦åŠ jcï¼Œ<code>value=&quot;com.mysql.cj.jdbc.Driver</code>ï¼Œä»¥åŠï¼Œurlåé¢è¦åŠ æ—¶åŒºï¼Œ<code>value=&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</code></p>
<p>åæ¥åˆå‘ç”Ÿé”™è¯¯ï¼š<code> create connection SQLException, url: jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC, errorCode 1045, state 28000</code> è¿™ä¸ªæ˜¯å› ä¸ºç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯rootï¼Œè¿æ¥ä¸ä¸Šã€‚rootçš„å¯†ç ä¸ºç©ºï¼Œæ˜¯å¯ä»¥çš„è¿æ¥æˆåŠŸçš„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸ªjdbcè¿æ¥æ•°æ®åº“çš„æ–¹æ³•ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶ï¼‰ï¼Œå’Œã€Šjavaå¼€å‘å…¥é—¨jdbcã€‹é‡Œé¢çš„è¿æ¥æ•°æ®åº“æ–¹æ³•ä¸åŒã€‚</p>
</blockquote>
<h2 id="Day-8"><a href="#Day-8" class="headerlink" title="Day 8"></a>Day 8</h2><h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰</h3><p>1.é¦–å…ˆdaoæ¥å£åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œdaoå®ç°ç±»é‡Œé‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<p>2.serviceå±‚é‡Œåˆ›å»ºdaoå®ç°ç±»å¯¹è±¡ï¼Œåˆ›å»ºæ–¹æ³•ï¼Œé‡Œé¢è°ƒç”¨å¯¹è±¡çš„daoå±‚æ–¹æ³•ã€‚serviceå’Œdaoçš„æ–¹æ³•ä¼ å…¥å¿…è¦å‚æ•°ï¼Œuserå¯¹è±¡æˆ–æ˜¯idä¹‹ç±»çš„ã€‚</p>
<p>3.é‡ç‚¹å†™daoå±‚å†…æ“ä½œæ•°æ®åº“çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;update user_db set username=?, ustate=? where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> update = jdbcTemplate.update(sql, user.getUserName(), user.getUstate(), user.getUserId());</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;delete from user_db where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> update = jdbcTemplate.update(sql, id);</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æµ‹è¯•æ–¹æ³•</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰</h3><p>ä¾‹å¦‚è¿”å›å¤šå°‘è¡Œæ•°æ®ã€‚<code>select count(*) from user_db;</code></p>
<p>ä¾‹å¦‚ï¼šæŸ¥è¯¢è¡¨é‡Œæœ‰å¤šå°‘æ¡è®°å½•ã€‚</p>
<p>é¦–å…ˆå†™ä¸€ä¸ªserviceæ–¹æ³•findCountï¼Œè°ƒç”¨daoé‡Œçš„æ–¹æ³•ï¼Œå†™daoæ–¹æ³•ã€‚daoæ–¹æ³•é‡Œå†™selectè¯­å¥ï¼Œå¹¶è¿”å›ã€‚ä½¿ç”¨jdbcæ–¹æ³•queryForObject(sqlè¯­å¥, è¿”å›ç±»å‹çš„classä¾‹å¦‚Integer.class)ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;select count(*) from user_db&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> nums = jdbcTemplate.queryForObject(sql, Integer.class);</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰</h3><p>ä¾‹å¦‚ï¼šæŸ¥è¯¢ç”¨æˆ·çš„è¯¦æƒ…é¡µé¢ã€‚</p>
<p>æ ¹æ®idè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œserviceå†™ä¸€ä¸ªfindUseræ–¹æ³•ï¼Œdaoå†™ä¸€ä¸ªfindæ–¹æ³•ã€‚daoå†…é‡‡ç”¨jdbcæ¨¡ç‰ˆä¸­çš„queryForObjectæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼šsqlè¯­å¥ï¼›ç¬¬äºŒä¸ªå‚æ•°ï¼šRowMapperæ¥å£ï¼Œspringæä¾›ï¼Œåšåˆ°ä¸€äº›å°è£…ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£é‡Œé¢çš„å®ç°ç±»å¯ä»¥å®Œæˆæ•°æ®çš„å°è£…ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šsqlè¯­å¥?å€¼ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>new BeanPropertyRowMapper&lt;è¿”å›ç±»å‹çš„åå­—&gt;(è¿”å›ç±»å‹çš„class)</code> ã€‚æä¾›å¥½çš„å®ç°ç±»ï¼Œç›´æ¥ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">find</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    String sql= <span class="string">&quot;select * from user_db where user_id=?&quot;</span>;</span><br><span class="line">    User u = jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;User&gt;(User.class), id);</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ˜¾ç¤ºUserå¯¹è±¡ï¼Œé‡å†™é‡Œé¢çš„tostringæ–¹æ³•ã€‚</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰</h3><p>åœºæ™¯ï¼šæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œè¿”å›ä¸€ä¸ªé›†åˆã€‚è¿”å›<code>List&lt;User&gt;</code></p>
<p> é¦–å…ˆserviceè°ƒç”¨daoçš„æ–¹æ³•ï¼Œç¼–å†™daoæ–¹æ³•ã€‚daoå†…ç”¨queryæ–¹æ³•æ“ä½œæ•°æ®åº“ã€‚queryä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°sqlè¯­å¥ï¼›ç¬¬äºŒä¸ªå‚æ•°å’Œä¸Šé¢ä¸€æ ·ï¼›ç¬¬ä¸‰ä¸ªå¯æœ‰å¯æ— ï¼Ÿå‚æ•°å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;select * from user_db&quot;</span>;</span><br><span class="line">    List&lt;User&gt;res = jdbcTemplate.query(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;User&gt;(User.class));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰</h3><p>æ‰¹é‡æ“ä½œæŒ‡æ“ä½œè¡¨é‡Œçš„å¤šæ¡è®°å½•</p>
<p>æ‰¹é‡æ·»åŠ ï¼Œä½¿ç”¨ jdbcçš„<code>batchUpdate(sqlè¯­å¥, List&lt;Object[]&gt;batchArgs)</code>æ–¹æ³•ã€‚è¿”å›çš„æ˜¯int[]ç±»å‹ã€‚åº•å±‚æ˜¯å¯¹é›†åˆè¿›è¡Œéå†ï¼ŒæŒ¨ä¸ªæ·»åŠ ã€‚æ•°ç»„è¾“å‡ºè¦ç”¨Arrays.toString(æ•°ç»„å)ã€‚</p>
<p>serviceå±‚å»ºä¸€ä¸ªbatchAddæ–¹æ³•ï¼Œä¼ å…¥List&lt;Object[]&gt;batchArgsã€‚daoä¸­åˆ›å»ºæ–¹æ³•ï¼Œå®ç°æ“ä½œæ•°æ®åº“ï¼Œ<code>insert into user_db values(?,?,?)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchAdd</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;insert into user_db values(?,?,?)&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdate</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;update user_db set username=?,ustate=? where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ‰¹é‡æ›´æ–°å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå»ºList</span></span><br><span class="line">List&lt;Object[]&gt; batchArgs2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Object[] o3 = &#123;<span class="string">&quot;java&quot;</span>, <span class="string">&quot;on&quot;</span>, <span class="number">1</span>&#125;;</span><br><span class="line">Object[] o4 = &#123;<span class="string">&quot;c++&quot;</span>, <span class="string">&quot;off&quot;</span>, <span class="number">2</span>&#125;;</span><br><span class="line">batchArgs2.add(o3);</span><br><span class="line">batchArgs2.add(o4);</span><br><span class="line">service.batchUpdate(batchArgs2);</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchDelete</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;delete from user_db where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ‰¹é‡åˆ é™¤å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå»ºList</span></span><br><span class="line">List&lt;Object[]&gt; batchArgs3 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Object[] o5= &#123;<span class="number">17</span>&#125;;</span><br><span class="line">Object[] o6 = &#123;<span class="number">18</span>&#125;;</span><br><span class="line">batchArgs3.add(o5);</span><br><span class="line">batchArgs3.add(o6);</span><br><span class="line">service.batchDelete(batchArgs3);</span><br></pre></td></tr></table></figure>

<h2 id="Day-9"><a href="#Day-9" class="headerlink" title="Day 9"></a>Day 9</h2><h3 id="äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ"><a href="#äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ" class="headerlink" title="äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ"></a>äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ</h3><p>1ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</p>
<p>äº‹åŠ¡æ˜¯æ•°æ®åº“æ“ä½œçš„æœ€åŸºæœ¬å•å…ƒï¼Œé€»è¾‘ä¸Šçš„ä¸€ç»„æ“ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ã€‚</p>
<p>2ã€äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼šACIDï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"><a href="#äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ" class="headerlink" title="äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"></a>äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ</h3><p>åœºæ™¯ï¼šè½¬è´¦ç¯å¢ƒ</p>
<p>javaeeæœ‰ä¸‰å±‚ï¼šwebå±‚ã€serviceä¸šåŠ¡é€»è¾‘å±‚ã€daoå¯¹æ•°æ®åº“æ“ä½œå±‚ä¸å†™ä¸šåŠ¡æ“ä½œã€‚</p>
<p>daoå±‚åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼šï¼ˆ1ï¼‰å°‘é’±çš„æ–¹æ³•ï¼ˆ2ï¼‰å¤šé’±çš„æ–¹æ³•ã€‚</p>
<p>serviceå±‚åˆ›å»ºæ–¹æ³•ï¼šè½¬è´¦æ–¹æ³•ä¸­è°ƒç”¨daoçš„ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<p>1.åˆ›å»ºæ•°æ®åº“è¡¨ï¼Œæ·»åŠ è®°å½•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `acount`(</span><br><span class="line">   `id` int unsigned NOT NULL,</span><br><span class="line">   `username` varchar(100) NOT NULL,</span><br><span class="line">   `money` bigint NOT NULL,</span><br><span class="line">   PRIMARY KEY(`id`)</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;acount&#x27;;</span><br><span class="line"></span><br><span class="line">insert into acount values(1, &quot;liu&quot;, 1000);</span><br><span class="line">insert into acount values(2, &quot;hao&quot;, 1000);</span><br></pre></td></tr></table></figure>

<p>2.åˆ›å»ºserviceï¼Œæ­å»ºdaoï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºå’Œæ³¨å…¥å…³ç³»ã€‚</p>
<p>serviceæ³¨å…¥daoï¼Œåœ¨daoæ³¨å…¥JdbcTemplateï¼Œåœ¨JdbcTemplateæ³¨å…¥DataSourceã€‚</p>
<p>serviceç±»ï¼Œä½¿ç”¨æ³¨è§£@Serviceæ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œ@Autowiredæ³¨å…¥daoã€‚åŒæ ·åœ¨daoç”¨@Autowiredæ³¨å…¥jdbcã€‚</p>
<p>3.åœ¨daoä¸­åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œå¤šé’±addMoneyå’Œå°‘é’±reduceMoneyçš„æ–¹æ³•ï¼Œåœ¨serviceä¸­åˆ›å»ºæ–¹æ³•ï¼Œè½¬è´¦çš„æ–¹æ³•ã€‚daoä¸­ç”¨updateæ–¹æ³•ã€‚</p>
<p>4.æµ‹è¯•</p>
<p>5.å‘ç°é—®é¢˜ï¼Œå¦‚æœå…ˆæ‰§è¡Œå®Œdaoä¸­çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œå‘ç”Ÿå¼‚å¸¸ï¼Œç¬¬äºŒä¸ªæ–¹æ³•å°†ä¸æ‰§è¡Œï¼Œäº§ç”Ÿæ•°æ®å¼‚å¸¸ã€‚å¦‚ä½•è§£å†³ï¼Ÿä½¿ç”¨äº‹åŠ¡ã€‚</p>
<p>åœ¨serviceçš„æ–¹æ³•ä¸­ï¼Œtry catchæ•è·å¼‚å¸¸ã€‚é¦–å…ˆå¼€å¯äº‹åŠ¡ï¼Œç„¶åè¿›è¡Œäº‹åŠ¡æ“ä½œï¼Œæ²¡æœ‰å‘ç°å¼‚å¸¸åˆ™æäº¤äº‹åŠ¡ï¼Œå‡ºç°å¼‚å¸¸åˆ™äº‹åŠ¡å›æ»šã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»"><a href="#äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»" class="headerlink" title="äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»"></a>äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»</h3><p>1.äº‹åŠ¡ç®¡ç†åŠ åˆ°å“ªä¸ªå±‚ï¼Ÿå»ºè®®åŠ åˆ°ä¸šåŠ¡é€»è¾‘å±‚serviceã€‚</p>
<p>2.åœ¨Springè¿›è¡Œäº‹åŠ¡ç®¡ç†æ“ä½œ</p>
<p>ï¼ˆ1ï¼‰æœ‰ä¸¤ç§æ–¹å¼ï¼šç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼ˆä¸€èˆ¬ä½¿ç”¨å£°æ˜å¼ï¼‰</p>
<p>ç¼–ç¨‹å¼æŒ‡çš„æ˜¯ç”¨ä»£ç å®ç°ç¬¬ä¸€æ­¥ç¬¬äºŒæ­¥ç¬¬ä¸‰æ­¥ã€‚ã€‚ã€‚try catchæ•è·å¼‚å¸¸ä¹‹ç±»çš„ã€‚</p>
<p>3.å£°æ˜å¼äº‹åŠ¡ç®¡ç†ä¸¤ç§æ–¹å¼</p>
<p>ï¼ˆ1ï¼‰åŸºäºæ³¨è§£æ–¹å¼ï¼ˆä½¿ç”¨ï¼‰</p>
<p>ï¼ˆ2ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶æ–¹å¼</p>
<p>4.åœ¨Springè¿›è¡Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œåº•å±‚ä½¿ç”¨AOPã€‚</p>
<p>5.Springäº‹åŠ¡ç®¡ç†API</p>
<p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿™ä¸ªæ¥å£é’ˆå¯¹ä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„å®ç°ç±»ã€‚</p>
<p>PlatformTransactionManageræ¥å£ã€‚DatasourceTransactionManagerå®ç°ç±»é’ˆå¯¹jdbcã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚æœ¬è´¨ä¸Šå°±æ˜¯åˆ›å»ºPlatformTransactionManageræ¥å£å®ç°ç±»çš„å¯¹è±¡ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥DataSourceæ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº‹åŠ¡æ³¨è§£</p>
<p>ï¼ˆ1ï¼‰åœ¨Springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´tx. <code>xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</code></p>
<p>ï¼ˆ2ï¼‰å¼€å¯äº‹åŠ¡æ³¨è§£</p>
<p><code>&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;</code></p>
<p>3.åœ¨serviceç±»ä¸Šé¢ï¼ˆæˆ–è€…serviceç±»é‡Œé¢çš„æ–¹æ³•ä¸Šé¢ï¼‰æ·»åŠ æ³¨è§£ @Transactional</p>
<p>å¦‚æœæ·»åŠ åˆ°ç±»ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»é‡Œçš„æ‰€æœ‰æ–¹æ³•éƒ½æ·»åŠ äº‹åŠ¡ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®"><a href="#äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®" class="headerlink" title="äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®-"></a>äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®-</h3><p>1.åœ¨serviceç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Transactionalï¼Œåœ¨è¿™ä¸ªæ³¨è§£é‡Œé¢å¯ä»¥é…ç½®äº‹åŠ¡ç›¸å…³å‚æ•°ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong>ï¼špropagation è¡¨ç¤ºäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œå¤šäº‹åŠ¡æ–¹æ³•ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­äº‹åŠ¡æ˜¯å¦‚ä½•è¿›è¡Œç®¡ç†çš„ã€‚</p>
<p>äº‹åŠ¡æ–¹æ³•ï¼šå¯¹æ•°æ®åº“è¡¨æ•°æ®è¿›è¡Œå˜åŒ–çš„æ“ä½œã€‚</p>
<p>Springæ¡†æ¶äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæœ‰ä¸ƒç§ï¼Œåˆ—å‡ºæœ€å¸¸è§çš„ä¸¤ç§ï¼š<br>ï¼ˆ1ï¼‰requiredï¼šaddæ–¹æ³•ä¸­æœ‰äº‹åŠ¡ï¼Œupdateæ²¡æœ‰ï¼Œaddæ–¹æ³•å†…è°ƒç”¨updateæ–¹æ³•ï¼Œåˆ™updateæ–¹æ³•ä½¿ç”¨addæ–¹æ³•å†…çš„äº‹åŠ¡ã€‚å¦‚æœaddæ–¹æ³•æ²¡æœ‰äº‹åŠ¡ï¼Œè°ƒç”¨updateæ–¹æ³•ä¹‹åï¼Œaddåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¹¶åœ¨äº‹åŠ¡å†…è¿è¡Œã€‚ä¹Ÿæ˜¯é»˜è®¤çš„ä¼ æ’­è¡Œä¸ºã€‚</p>
<p>ï¼ˆ2ï¼‰required_newï¼šä½¿ç”¨addæ–¹æ³•è°ƒç”¨updateæ–¹æ³•ï¼Œæ— è®ºaddæ–¹æ³•æ˜¯å¦æœ‰äº‹åŠ¡ï¼Œaddæ–¹æ³•éƒ½ä¼šæ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<p><strong>ç¬¬äºŒä¸ªå‚æ•°</strong>ï¼šioslation è¡¨ç¤ºäº‹åŠ¡éš”ç¦»çº§åˆ«</p>
<p>äº‹åŠ¡çš„éš”ç¦»æ€§ï¼šå¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“ã€‚æœ‰ä¸‰ä¸ªè¯»çš„é—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šï¼ˆå¹»ï¼‰è¯»ã€‚</p>
<p>è„è¯»ï¼šå¤šä¸ªäº‹ç‰©ä¹‹é—´ï¼Œä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡ã€‚ä¾‹å¦‚ä¸¤ä¸ªäººéƒ½è¦æ“ä½œä¸€æ¡è®°å½•ï¼ŒåŸæ¥1000ï¼Œäº‹åŠ¡aæ”¹äº†è¿™æ¡è®°å½•ï¼Œå˜ä¸º2000ï¼Œäº‹åŠ¡bè¯»å–åˆ°äº‹åŠ¡aä¿®æ”¹çš„2000ï¼Œä½†æ˜¯äº‹åŠ¡aå›æ»šäº†ã€‚ç®—æ˜¯ä¸€ä¸ªè‡´å‘½é—®é¢˜ï¼Œä¸èƒ½å‡ºç°ã€‚</p>
<p>ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œäº‹åŠ¡aè¯»å–åˆ°åŸæ•°æ®100ï¼Œäº‹åŠ¡bè¯»å–åˆ°åŸæ•°æ®100ï¼Œå¹¶å°†å…¶ä¿®æ”¹ä¸º200ï¼Œäº‹åŠ¡bæäº¤ï¼Œäº‹åŠ¡aè¯»å–åˆ°æ•°æ®200ï¼Œè¿™æ ·äº‹åŠ¡bå¯¹äº‹åŠ¡aäº§ç”Ÿäº†å½±å“ã€‚æ˜¯ä¸€ç§ç°è±¡ï¼Œä¸èƒ½ç®—ä½œé—®é¢˜ã€‚</p>
<p>å¹»è¯»ï¼šä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡æ·»åŠ æ•°æ®ã€‚</p>
<p>é€šè¿‡è®¾ç½®éš”ç¦»çº§åˆ«å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚read uncommitted è¯»æœªæäº¤ï¼›read committed è¯»å·²æäº¤ï¼›repeatable read å¯é‡å¤è¯»ï¼ˆé»˜è®¤çš„ï¼‰ï¼›serializable ä¸²è¡ŒåŒ–ã€‚</p>
<p><strong>ç¬¬ä¸‰ä¸ªå‚æ•°</strong>ï¼štimeout è¡¨ç¤ºäº‹åŠ¡è¶…æ—¶æ—¶é—´ï¼Œäº‹åŠ¡éœ€è¦åœ¨ä¸€å®šæ—¶é—´å†…æäº¤ï¼Œè¶…æ—¶ä¸æäº¤åˆ™è¿›è¡Œå›æ»šã€‚é»˜è®¤å€¼æ˜¯ -1ï¼Œä¸è¶…æ—¶ã€‚è®¾ç½®æ—¶é—´æ˜¯ä»¥ç§’ä¸ºå•ä½ã€‚</p>
<p><strong>ç¬¬å››ä¸ªå‚æ•°</strong>ï¼šreadOnly æ˜¯å¦åªè¯»ï¼Œè¯»æ˜¯æŸ¥è¯¢æ“ä½œï¼ŒreadOnlyé»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢å¯ä»¥æ·»åŠ ä¿®æ”¹åˆ é™¤ï¼Œè®¾ç½®ä¸ºtrueï¼Œåˆ™åªèƒ½æŸ¥è¯¢ã€‚</p>
<p><strong>ç¬¬äº”ä¸ªå‚æ•°</strong>ï¼šrollbackFor å›æ»šï¼Œè®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»šã€‚</p>
<p><strong>ç¬¬å…­ä¸ªå‚æ•°</strong>ï¼šnoRollbackFor ä¸å›æ»šï¼Œè®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œäº‹åŠ¡å›æ»šã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åœ¨Springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<p>ç¬¬ä¸€æ­¥ é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p>
<p>ç¬¬äºŒæ­¥ é…ç½®é€šçŸ¥ï¼Œaopä¸­å¢å¼ºçš„é‚£éƒ¨åˆ†ï¼Œè¿™é‡Œå°±æ˜¯äº‹åŠ¡ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢ï¼Œè¦å°†äº‹åŠ¡åŠ åˆ°å“ªä¸ªç±»çš„å“ªä¸ªæ–¹æ³•ä¸­ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1.åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥DataSourceæ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯äº‹åŠ¡æ³¨è§£ï¼Œ xmlæ–¹å¼ä¸­ ä¸éœ€è¦äº†</span></span><br><span class="line"><span class="comment">&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 2.é…ç½®é€šçŸ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txadvice&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡çš„ä¸€äº›ç›¸å…³å‚æ•° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šå“ªç§è§„åˆ™çš„æ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ï¼Œä¾‹å¦‚ add* è¡¨ç¤ºaddå¼€å¤´çš„æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;jiaoyi&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">isolation</span>=<span class="string">&quot;REPEATABLE_READ&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 3.é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;qierudiansname&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.company.service.UserService.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹, å°†äº‹åŠ¡çš„é€šçŸ¥è®¾ç½®åˆ°ä¸Šé¢çš„åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txadvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;qierudiansname&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œäº‹åŠ¡çš„åº•å±‚ä½¿ç”¨aopå®ç°ã€‚</p>
<p>æµ‹è¯•æ—¶ï¼ŒæŠŠæ³¨è§£æ³¨é‡Šæ‰ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åˆ›å»ºé…ç½®ç±»ï¼Œä½¿ç”¨é…ç½®ç±»æ›¿ä»£xmlé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//é…ç½®ç±»</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.company&quot;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span>  <span class="comment">//å¼€å¯äº‹åŠ¡æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TxConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºæ•°æ®åº“è¿æ¥æ± </span></span><br><span class="line">    <span class="meta">@Bean</span>  <span class="comment">//é…ç½®æ–‡ä»¶ä¸­å°±æ˜¯åœ¨iocå®¹å™¨ä¸­åˆ›å»ºä¸€ä¸ªbeanå®ä¾‹ å†™æ–¹æ³•è¿”å›ä¸€ä¸ªDataSourceå¾·é²ä¼Šè¿æ¥æ± å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">getDuridDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DruidDataSource dataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        dataSource.setDriverClassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</span>);</span><br><span class="line">        dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dataSource.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºjdbcæ¨¡ç‰ˆå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JdbcTemplate <span class="title">getJdbcTemplate</span><span class="params">(DataSource dataSource)</span></span>&#123;</span><br><span class="line">        JdbcTemplate jdbcTemplate =<span class="keyword">new</span> JdbcTemplate();</span><br><span class="line">        <span class="comment">//éœ€è¦æ³¨å…¥datasSurce, xmlä¸­æ˜¯ä½¿ç”¨setæ–¹æ³•è¿›è¡Œé…ç½®æ³¨å…¥çš„</span></span><br><span class="line">        <span class="comment">//setæ–¹æ³•é‡Œé¢å¦‚æœç”¨ä¸Šé¢çš„getDuridDataSourceæ–¹æ³•ï¼Œå°±ä¼šåˆ›å»ºä¸¤ä¸ªå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//ä½¿ç”¨å‚æ•°æ–¹æ³•ï¼Œå¯ä»¥åœ¨iocå®¹å™¨ä¸­æ ¹æ®ç±»å‹æ‰¾åˆ°å¯¹è±¡è¿›è¡Œæ³¨å…¥ï¼Œå°±åƒ@autowiredæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…</span></span><br><span class="line">        jdbcTemplate.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span></span>&#123;</span><br><span class="line">        DataSourceTransactionManager dataSourceTransactionManager =<span class="keyword">new</span> DataSourceTransactionManager();</span><br><span class="line">        dataSourceTransactionManager.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> dataSourceTransactionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æµ‹è¯•æ—¶ï¼Œå¼€å¯æ³¨è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wanquanzhujietrans</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.åŠ è½½é…ç½®ç±»</span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(TxConfig.class);</span><br><span class="line">    <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">    UserService service = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">    <span class="comment">//getBeançš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºbeançš„åç§°ï¼Œxmlé…ç½®æ–‡ä»¶ä¸­çš„idï¼Œå¦‚æœæ˜¯æ³¨è§£åˆ›å»ºï¼Œåˆ™å°å†™ç¬¬ä¸€ä½</span></span><br><span class="line">    service.jiaoyi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”¨springbootè¿›è¡Œå¼€å‘ï¼Œæ›¿ä»£springåŸºç¡€ä¸Šçš„å®Œå…¨æ³¨è§£å¼€å‘ï¼Œspringbootæ˜¯å¯¹springåšçš„å°è£…ã€‚</p>
<h2 id="æ€»ç»“-amp-amp-æœªå®Œ"><a href="#æ€»ç»“-amp-amp-æœªå®Œ" class="headerlink" title="æ€»ç»“&amp;&amp;æœªå®Œ"></a>æ€»ç»“&amp;&amp;æœªå®Œ</h2><p>1.Springæ¡†æ¶æ¦‚è¿°</p>
<p>ï¼ˆ1ï¼‰è½»é‡çº§å¼€æºJavaEEæ¡†æ¶ï¼Œä¸ºäº†è§£å†³ä¼ä¸šå¤æ‚æ€§ã€‚ä¸¤ä¸ªæ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼šiocã€aopã€‚</p>
<p>ï¼ˆ2ï¼‰Spring5.2.6ç‰ˆæœ¬</p>
<p>2.IOCå®¹å™¨</p>
<p>ï¼ˆ1ï¼‰IOCåº•å±‚åŸç†ï¼šxmlé…ç½®æ–‡ä»¶ã€å·¥å‚ã€åå°„ç­‰</p>
<p>ï¼ˆ2ï¼‰IOCæ¥å£ï¼ˆBeanFactoryï¼‰</p>
<p>ï¼ˆ3ï¼‰beanç®¡ç†æ“ä½œï¼šåŸºäºxmlè¿›è¡Œå¯¹è±¡åˆ›å»ºæ³¨å…¥å±æ€§ï¼›åŸºäºæ³¨è§£è¿›è¡Œå¯¹è±¡åˆ›å»ºæ³¨å…¥å±æ€§</p>
<p>3.AOP</p>
<p>ï¼ˆ1ï¼‰AOPåº•å±‚åŸç†ï¼šåŠ¨æ€ä»£ç†ï¼Œæœ‰æ¥å£ï¼ˆJDKåŠ¨æ€ä»£ç†ï¼‰ï¼Œæ²¡æœ‰æ¥å£ï¼ˆCGLIBåŠ¨æ€ä»£ç†ï¼‰</p>
<p>ï¼ˆ2ï¼‰æœ¯è¯­ï¼šåˆ‡å…¥ç‚¹ã€å¢å¼ºï¼ˆé€šçŸ¥ï¼‰ã€åˆ‡é¢</p>
<p>ï¼ˆ3ï¼‰åŸºäºAspectJå®ç°AOPæ“ä½œï¼šåŸºäºæ³¨è§£æ–¹å¼ï¼›åŸºäºé…ç½®æ–‡ä»¶</p>
<p>4.JdbcTemplate</p>
<p>ï¼ˆ1ï¼‰ä½¿ç”¨JdbcTemplateå¯¹æ•°æ®åº“çš„curdæ“ä½œ</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨JdbcTemplateå®ç°æ•°æ®åº“æ‰¹é‡æ“ä½œ</p>
<p>5.äº‹åŠ¡æ“ä½œ</p>
<p>ï¼ˆ1ï¼‰äº‹åŠ¡æ¦‚å¿µ</p>
<p>ï¼ˆ2ï¼‰é‡è¦æ¦‚å¿µï¼ˆä¼ æ’­è¡Œä¸ºå’Œéš”ç¦»çº§åˆ«ï¼‰</p>
<p>ï¼ˆ3ï¼‰åŸºäºæ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†</p>
<p>ï¼ˆ4ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°äº‹åŠ¡ç®¡ç†</p>
<p>ï¼ˆ5ï¼‰å®Œå…¨æ³¨è§£æ–¹å¼å®ç°äº‹åŠ¡ç®¡ç†</p>
<p>6.Spring5æ–°ç‰¹æ€§ï¼š</p>
<p>ï¼ˆ1ï¼‰æ•´åˆæ—¥å¿—æ¡†æ¶</p>
<p>ï¼ˆ2ï¼‰@Nullableæ³¨è§£</p>
<p>ï¼ˆ3ï¼‰å‡½æ•°å¼æ³¨å†Œå¯¹è±¡</p>
<p>ï¼ˆ4ï¼‰æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶</p>
<p>ï¼ˆ5ï¼‰SpringWebfluxä½¿ç”¨</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Vf4y127N5?p=49&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Vf4y127N5?p=49&amp;spm_id_from=pageDriver</a></p>
<h2 id="æ–‡ä»¶è¯´æ˜"><a href="#æ–‡ä»¶è¯´æ˜" class="headerlink" title="æ–‡ä»¶è¯´æ˜"></a>æ–‡ä»¶è¯´æ˜</h2><p>b_studyä¸­ã€‚</p>
<p>xmlï¼šåŸºäºxmlé…ç½®æ–‡ä»¶å®ç°æ§åˆ¶åè½¬ï¼Œç®¡ç†beanå¯¹è±¡ï¼Œåˆ›å»ºå¯¹è±¡ï¼Œä¾èµ–æ³¨å…¥ï¼ˆæ³¨å…¥å±æ€§ï¼‰ã€‚</p>
<p>zhujieï¼šåŸºäºæ³¨è§£çš„beanç®¡ç†ã€‚</p>
<p>aopï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹</p>
<p>jdbcï¼šæ“ä½œæ•°æ®åº“</p>
<p>transactionï¼šäº‹åŠ¡ç›¸å…³</p>
<hr>
<p><em><strong>å­¦ä¹ ç¬”è®°ï¼Œä¾µæƒè¯·è”ç³»ï¼Œä¸€å®šç«‹åˆ»åˆ é™¤ã€‚</strong></em></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/09/myblog/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/09/myblog/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">æœºå™¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ çš„åŒºåˆ«</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-01-09 11:26:33 / Modified: 11:32:57" itemprop="dateCreated datePublished" datetime="2022-01-09T11:26:33+08:00">2022-01-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æœºå™¨å­¦ä¹ â€”æ‹¥æœ‰æ‰¾ä¸€ä¸ªå‡½æ•°çš„èƒ½åŠ›ï¼Œæ ¹æ®è¾“å‡ºçš„ä¸åŒï¼Œåˆ†ä¸ºregressionå›å½’ã€åˆ†ç±»classificationï¼Œä»¥åŠå¾ˆå°‘æåŠçš„ç»“æ„åŒ–å­¦ä¹ structured learningï¼ˆè¾“å‡ºå›¾åƒï¼Œæ–‡æœ¬ï¼‰ã€‚</p>
<p>1.æ‰¾ä¸€ä¸ªå¸¦æœ‰æœªçŸ¥å‚æ•°çš„å‡½æ•°ï¼šy=b+wxï¼Œbåç½®ï¼Œwæƒé‡ï¼Œæœºå™¨å­¦ä¹ ä¸­ï¼ŒæœªçŸ¥çš„å‚æ•°æ˜¯é€šè¿‡æ•°æ®æ¥å­¦ä¹ çš„ã€‚å¸¦æœ‰æœªçŸ¥å‚æ•°çš„å‡½æ•°ç§°ä¸ºmodelæ¨¡å‹ã€‚</p>
<p>2.ä»è®­ç»ƒæ•°æ®ä¸­å®šä¹‰Lossï¼ˆæŸå¤±ï¼‰ï¼ŒLossæ˜¯å…³äºå‚æ•°bã€wçš„å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ç»„å‚æ•°å€¼å¥½è¿˜æ˜¯ä¸å¥½ã€‚<br>ç”¨è®­ç»ƒé›†è®¡ç®—è¯¯å·®ï¼Œå¯ä»¥æ˜¯ç»å¯¹å€¼è¯¯å·®MAEï¼Œä¹Ÿå¯ä»¥æ˜¯å‡æ–¹è¯¯å·®MSEã€‚<br>å¦‚æœyå€¼æ˜¯åŸºäºæ¦‚ç‡åˆ†å¸ƒçš„ï¼Œä¸€èˆ¬é‡‡å–cross-entropyäº¤å‰ç†µï¼Œå¯ä»¥ç»˜åˆ¶è¯¯å·®ç­‰é«˜çº¿å›¾error surfaceã€‚</p>
<p>3.ä¼˜åŒ–ï¼Œæ‰¾ä¸€ç»„æœ€å¥½çš„å‚æ•°wï¼Œbä½¿å¾—è¯¯å·®æœ€å°ã€‚<br>Gradient Descent æ¢¯åº¦ä¸‹é™ã€‚ä¸¾ä¾‹å…ˆåªæœ‰ä¸€ä¸ªå‚æ•°wï¼Œç»˜åˆ¶æ¨ªåæ ‡ä¸ºwå¯¹åº”çš„æŸå¤±å‡½æ•°æ›²çº¿ï¼Œåˆå§‹æ—¶å–ä¸€ä¸ªç‚¹ï¼Œéšæœºå–çš„ï¼Œä¹Ÿå¯ä»¥ç”¨é—ä¼ ç®—æ³•ç»™å‡ºä¸€ä¸ªè¾ƒä¼˜çš„æ¨¡å‹åˆå§‹å‚æ•°ã€‚é€‰å®šä¸€ä¸ªéšæœºåˆå§‹å€¼ï¼Œæ±‚è¯¥ç‚¹çš„åå¯¼å€¼ï¼Œå³è¯¥ç‚¹æ›²çº¿åˆ‡çº¿çš„æ–œç‡ã€‚ç„¶åè¿›è¡Œç§»åŠ¨ç‚¹ï¼Œè·¨åº¦å¤šå°‘å–å†³äºæ–œç‡å¤§å°ï¼Œæ–œç‡è¶Šå¤§ï¼Œè·¨åº¦è¶Šå¤§ï¼Œæ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªÎ·ï¼Œç§°ä¸ºlearning rate å­¦ä¹ ç‡ï¼Œè‡ªå·±è®¾å®šï¼ŒÎ·è¶Šå¤§è·¨åº¦è¶Šå¤§ï¼Œè®­ç»ƒè¶Šå¿«ã€‚æœºå™¨å­¦ä¹ ä¸­éœ€è¦è‡ªå·±è®¾å®šçš„å€¼ç§°ä¸ºè¶…å‚æ•°hyperparametersã€‚ä»¥æ­¤ç±»æ¨ï¼Œæ±‚ä¸‹ä¸€ä¸ªç‚¹ä¸‹ä¸‹ä¸ªç‚¹ã€‚åœæ­¢çš„æ—¶æœºï¼šçœ‹é¢„è®¾çš„è¿­ä»£æ¬¡æ•°ï¼Œæˆ–è€…æŸä¸€ç»„å‚æ•°è®¡ç®—å‡ºçš„å¾®åˆ†å€¼åˆšå¥½æ˜¯0ï¼Œåˆ™åœæ­¢è®­ç»ƒï¼Œæ˜¯ä¸ªå±€éƒ¨æœ€ä¼˜ï¼Œä¸ä¿è¯å…¨éƒ¨æœ€ä¼˜è§£ã€‚</p>
<p>å¯¹æ¨¡å‹çš„ä¿®æ”¹éœ€è¦å¯¹é—®é¢˜çš„å…·ä½“ç†è§£ï¼Œè€ƒè™‘å‰ä¸ƒå¤©æ¯”åªè€ƒè™‘å‰ä¸€å¤©çš„è¯¯å·®è¦å°ã€‚xæ˜¯å‰ä¸€å¤©çš„ï¼Œyæ˜¯é¢„æµ‹çš„åä¸€å¤©çš„ã€‚è€ƒè™‘å‰ä¸ƒå¤©çš„è¯ï¼Œå°±æœ‰ä¸ƒä¸ªwã€‚è®­ç»ƒæ•°æ®é›†æ˜¯å·²çŸ¥çš„ï¼Œæµ‹è¯•æ•°æ®é›†æ˜¯æœ¬æ¥å‡è£…ä¸çŸ¥é“çš„ï¼Œä¹Ÿå°±æ˜¯è¦é¢„æµ‹çš„yã€‚</p>
<p>è¾“å…¥xä¹˜æƒé‡ï¼Œå†åŠ ä¸Šä¸€ä¸ªåç½®çš„æ¨¡å‹ï¼Œç§°ä¸ºçº¿æ€§æ¨¡å‹ã€‚</p>
<p>çº¿æ€§æ¨¡å‹å…·æœ‰å±€é™æ€§ï¼Œæ¨¡å‹åå·®ã€‚</p>
<p>æœ‰æ—¶æ˜¯åˆ†æ®µçº¿æ€§æŠ˜çº¿å‡½æ•°=å¸¸æ•°+ä¸€äº›åˆ—çš„åˆ†æ®µæ–œçº¿ã€‚</p>
<p>æœ‰æ—¶æ˜¯æ›²çº¿ï¼šå¯ä»¥ç”¨åˆ†æ®µçº¿æ€§æŠ˜çº¿é€¼è¿‘è¿ç»­æ›²çº¿ï¼Œéœ€è¦è¶³å¤Ÿçš„åˆ‡åˆ†ã€‚ï¼ˆä¹Ÿå¯ä»¥ç”¨max(0,æ–œçº¿)å åŠ è¡¨ç¤ºï¼‰</p>
<p>åˆ†æ®µæ–œçº¿å¯ä»¥ç”¨sigmoidå‡½æ•°æ¥é€¼è¿‘ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/db4301aa58234ae881c7774fb1472f4f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_18,color_FFFFFF,t_70,g_se,x_16"></p>
<p>æ”¹å˜wï¼Œå¯ä»¥æ”¹å˜å¡åº¦ã€‚æ”¹å˜bå¯ä»¥å·¦å³ç§»åŠ¨ã€‚æ”¹å˜cå¯ä»¥æ”¹å˜é«˜åº¦ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/b57fe006fd424401b0976b630ed3331b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p>æ¥æºï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1qP4y147PJ/?spm_id_from=333.788.recommend_more_video.-1">https://www.bilibili.com/video/BV1qP4y147PJ/?spm_id_from=333.788.recommend_more_video.-1</a></p>
<p>æ€»ç»“æ¥è®²ï¼šé¦–å…ˆé€‰æ‹©æ¨¡å‹ï¼Œçº¿æ€§æ¨¡å‹æˆ–è€…å¤æ‚é€¼è¿‘æ›²çº¿ï¼Œæœ€å°åŒ–æŸå¤±å‡½æ•°ï¼Œç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œé€‰æ‹©åˆå§‹å€¼è¿­ä»£è®¡ç®—è¿›è¡Œé€¼è¿‘ã€‚</p>
<p>Sigmoldå‡½æ•°å’ŒReLUåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œç§°ä¸ºæ¿€æ´»å‡½æ•°ã€‚å¯ä»¥å°†æ¿€æ´»å‡½æ•°è¿‡ç¨‹é‡å¤å‡ æ¬¡ï¼Œæ¥ä¼˜åŒ–æ¨¡å‹ã€‚æ¿€æ´»å‡½æ•°çš„éƒ¨åˆ†å«åšç¥ç»å…ƒï¼Œå¾ˆå¤šç¥ç»å…ƒç»„æˆç¥ç»ç½‘ç»œã€‚æ¯ä¸€åˆ—ç¥ç»å…ƒç§°ä¸ºéšè—å±‚ï¼Œå¾ˆå¤šå±‚å½±è—å±‚å½¢æˆæ·±åº¦å­¦ä¹ ã€‚</p>
<p>AlexNet16å±‚ã€‚VGG19å±‚ã€‚GoogleNet22å±‚ã€‚ResidualNet152å±‚ã€‚å¹¶ä¸æ˜¯å±‚æ•°è¶Šå¤šç½‘ç»œè¶Šæ·±é¢„æµ‹çš„æ•ˆæœå°±æ›´å¥½ï¼Œä¼šå‘ç”Ÿè¿‡æ‹ŸåˆOverfittingã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/08/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.1.8.%E6%95%B4%E6%95%B0%E8%BD%AC%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/08/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.1.8.%E6%95%B4%E6%95%B0%E8%BD%AC%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/" class="post-title-link" itemprop="url">javaã®leecode æ•´æ•°è½¬ç½—é©¬æ•°å­—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-01-08 19:13:32" itemprop="dateCreated datePublished" datetime="2022-01-08T19:13:32+08:00">2022-01-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-01-09 11:25:57" itemprop="dateModified" datetime="2022-01-09T11:25:57+08:00">2022-01-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leecode%E5%88%B7%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">leecodeåˆ·é¢˜</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚  1 &lt;= num &lt;= 3999</span><br><span class="line">å­—ç¬¦          æ•°å€¼</span><br><span class="line">I             1</span><br><span class="line">V             5</span><br><span class="line">X             10</span><br><span class="line">L             50</span><br><span class="line">C             100</span><br><span class="line">D             500</span><br><span class="line">M             1000</span><br><span class="line">ï¼›</span><br><span class="line">é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åšÂ IIIIï¼Œè€Œæ˜¯Â IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸ºÂ IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š</span><br><span class="line"></span><br><span class="line">IÂ å¯ä»¥æ”¾åœ¨Â VÂ (5) å’ŒÂ XÂ (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚</span><br><span class="line">XÂ å¯ä»¥æ”¾åœ¨Â LÂ (50) å’ŒÂ CÂ (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’ŒÂ 90ã€‚Â </span><br><span class="line">CÂ å¯ä»¥æ”¾åœ¨Â DÂ (500) å’ŒÂ MÂ (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤ºÂ 400 å’ŒÂ 900ã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/integer-to-roman</span><br><span class="line"></span><br><span class="line">è¾“å…¥: num = 9</span><br><span class="line">è¾“å‡º: &quot;IX&quot;</span><br><span class="line">è¾“å…¥: num = 1994</span><br><span class="line">è¾“å‡º: &quot;MCMXCIV&quot;</span><br><span class="line">è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„æ€»å…± 13 ä¸ªç‹¬ç‰¹çš„ç¬¦å·ï¼ˆæ¯ä¸ªç¬¦å·ç”± 1 ä¸ªæˆ– 2 ä¸ªå­—æ¯ç»„æˆï¼‰ã€‚ç¡®å®šç½—é©¬æ•°å­—çš„è§„åˆ™æ˜¯ï¼šå¯¹äºç½—é©¬æ•°å­—ä»å·¦åˆ°å³çš„æ¯ä¸€ä½ï¼Œé€‰æ‹©å°½å¯èƒ½å¤§çš„ç¬¦å·å€¼ã€‚</p>
<p>æ€è·¯ï¼šå»ºç«‹ä¸€ä¸ªæ•°å€¼-ç½—é©¬ç¬¦å·çš„åˆ—è¡¨ï¼Œä»å¤§åˆ°å°æ’åˆ—ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œéå†ï¼Œå¦‚æœnumå€¼å¤§äºå½“å‰éå†åˆ°çš„åˆ—è¡¨å…ƒç´ ï¼Œå°±å‡å»ï¼Œå¹¶åŠ ä¸Šç›¸åº”çš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°numå˜ä¸º0ã€‚éœ€è¦æ³¨æ„ï¼šåŒä¸€ä¸ªç¬¦å·å¯èƒ½ç”¨å¥½å¤šæ¬¡ã€‚æ‰€ä»¥whileå¾ªç¯ã€‚åˆ—è¡¨å°±ç”¨æ•°ç»„è¡¨ç¤ºï¼Œä¸¤ä¸ªæ•°ç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: ç½—é©¬æ•°å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-08 20:04</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">luomashuzi</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> num = sc.nextInt();</span><br><span class="line">        luomashuziSolution s = <span class="keyword">new</span> luomashuziSolution();</span><br><span class="line">        System.out.print(s.intToRoman(num));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">luomashuziSolution</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] values = &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    String[] symbols = &#123;<span class="string">&quot;M&quot;</span>, <span class="string">&quot;CM&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;CD&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;XC&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;XL&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;IX&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;IV&quot;</span>, <span class="string">&quot;I&quot;</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        StringBuilder res = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;values.length; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> value = values[i];</span><br><span class="line">            String symbol = symbols[i];</span><br><span class="line">            <span class="keyword">while</span>(num &gt;= value)&#123;</span><br><span class="line">                num -= value;</span><br><span class="line">                res.append(symbol);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span>)  <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jade liu"
      src="/images/head.gif">
  <p class="site-author-name" itemprop="name">Jade liu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jadeliuliu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;jadeliuliu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jadeliu1998@163.com" title="E-Mail â†’ mailto:jadeliu1998@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/jadeliu1998" title="CSDN â†’ https:&#x2F;&#x2F;blog.csdn.net&#x2F;jadeliu1998" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/5823044646" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;5823044646" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jade liu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>





        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
