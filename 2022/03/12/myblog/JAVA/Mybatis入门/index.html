<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="mybatis â›½ï¸ç¬¬ä¸€è¯¾âœ…å¼€å‘æ­¥éª¤ï¼š 1.æ·»åŠ Mybatisçš„åæ ‡ã€mysqlçš„é©±åŠ¨ï¼ˆpom.xmlä¸­ï¼‰ 2.åˆ›å»ºæ•°æ®è¡¨ã€ç¼–å†™å¯¹åº”çš„å®ä½“ç±»ï¼ˆæ“ä½œå®ä½“ä»è€Œé—´æ¥æ“ä½œè¡¨ï¼ŒæŸ¥è¯¢è¡¨ä»è€Œé—´æ¥å°è£…å®ä½“ï¼‰ 3.ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml  ä¸»è¦æè¿°sqlæ–‡ä»¶ï¼ˆç¬¬ä¸€ä¸ªç‚¹ï¼šnamespaceå‘½åç©ºé—´ï¼Œç¬¬äºŒä¸ªç‚¹ï¼šidå’ŒresultTypeï¼Œé€šè¿‡å‘½åç©ºé—´.idè¿›è¡Œè°ƒç”¨ï¼ŒresultTypeç»“æœé›†ï¼Œå°è£…åˆ°æŒ‡">
<meta property="og:type" content="article">
<meta property="og:title" content="mybatiså…¥é—¨">
<meta property="og:url" content="http://example.com/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Jadeliu&#39;s blog">
<meta property="og:description" content="mybatis â›½ï¸ç¬¬ä¸€è¯¾âœ…å¼€å‘æ­¥éª¤ï¼š 1.æ·»åŠ Mybatisçš„åæ ‡ã€mysqlçš„é©±åŠ¨ï¼ˆpom.xmlä¸­ï¼‰ 2.åˆ›å»ºæ•°æ®è¡¨ã€ç¼–å†™å¯¹åº”çš„å®ä½“ç±»ï¼ˆæ“ä½œå®ä½“ä»è€Œé—´æ¥æ“ä½œè¡¨ï¼ŒæŸ¥è¯¢è¡¨ä»è€Œé—´æ¥å°è£…å®ä½“ï¼‰ 3.ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml  ä¸»è¦æè¿°sqlæ–‡ä»¶ï¼ˆç¬¬ä¸€ä¸ªç‚¹ï¼šnamespaceå‘½åç©ºé—´ï¼Œç¬¬äºŒä¸ªç‚¹ï¼šidå’ŒresultTypeï¼Œé€šè¿‡å‘½åç©ºé—´.idè¿›è¡Œè°ƒç”¨ï¼ŒresultTypeç»“æœé›†ï¼Œå°è£…åˆ°æŒ‡">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6779525e71d546109fea38a2120c0479.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="article:published_time" content="2022-03-12T13:21:21.895Z">
<meta property="article:modified_time" content="2022-03-12T15:44:29.852Z">
<meta property="article:author" content="Jade liu">
<meta property="article:tag" content="java">
<meta property="article:tag" content="mybatis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/6779525e71d546109fea38a2120c0479.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16">

<link rel="canonical" href="http://example.com/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>mybatiså…¥é—¨ | Jadeliu's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jadeliu's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.gif">
      <meta itemprop="name" content="Jade liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jadeliu's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          mybatiså…¥é—¨
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-12 21:21:21 / Modified: 23:44:29" itemprop="dateCreated datePublished" datetime="2022-03-12T21:21:21+08:00">2022-03-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">javaå¼€å‘</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>mybatis</strong></p>
<h3 id="â›½ï¸ç¬¬ä¸€è¯¾"><a href="#â›½ï¸ç¬¬ä¸€è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸€è¯¾"></a>â›½ï¸ç¬¬ä¸€è¯¾</h3><p>âœ…å¼€å‘æ­¥éª¤ï¼š</p>
<p>1.æ·»åŠ Mybatisçš„åæ ‡ã€mysqlçš„é©±åŠ¨ï¼ˆpom.xmlä¸­ï¼‰</p>
<p>2.åˆ›å»ºæ•°æ®è¡¨ã€ç¼–å†™å¯¹åº”çš„å®ä½“ç±»ï¼ˆæ“ä½œå®ä½“ä»è€Œé—´æ¥æ“ä½œè¡¨ï¼ŒæŸ¥è¯¢è¡¨ä»è€Œé—´æ¥å°è£…å®ä½“ï¼‰</p>
<p>3.ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml  ä¸»è¦æè¿°sqlæ–‡ä»¶ï¼ˆç¬¬ä¸€ä¸ªç‚¹ï¼šnamespaceå‘½åç©ºé—´ï¼Œç¬¬äºŒä¸ªç‚¹ï¼šidå’ŒresultTypeï¼Œé€šè¿‡å‘½åç©ºé—´.idè¿›è¡Œè°ƒç”¨ï¼ŒresultTypeç»“æœé›†ï¼Œå°è£…åˆ°æŒ‡å®šçš„ç±»å‹ä¸­ï¼‰</p>
<p>4.ç¼–å†™æ ¸å¿ƒæ–‡ä»¶sqlMapConfig.xmlï¼Œé…ç½®mybatisæ ¸å¿ƒå†…å®¹çš„ï¼Œé…ç½®æ•°æ®æºä¿¡æ¯ã€åŠ è½½æ˜ å°„æ–‡ä»¶ï¼ˆå¯èƒ½å¾ˆå¤šï¼‰ã€‚</p>
<p>5.ç¼–å†™æµ‹è¯•ç±»ï¼ˆ1.è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶ 2.è·å¾—sessionå·¥å‚å¯¹è±¡ 3.è·å¾—sessionä¼šè¯å¯¹è±¡ 4.æ‰§è¡Œæ“ä½œ 5.æ‰“å°æ•°æ® 6.é‡Šæ”¾èµ„æºï¼‰</p>
<p>mybatisæ˜ å°„æ–‡ä»¶ï¼š </p>
<p><img src="https://img-blog.csdnimg.cn/6779525e71d546109fea38a2120c0479.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Pasted Graphic.tiff"></p>
<p>DTDçº¦æŸå¤´åœ¨å†™æ ‡ç­¾æˆ–è€…å±æ€§æ—¶èƒ½ç»™æç¤ºã€‚</p>
<p>âœ…ä»€ä¹ˆæ˜¯mybatisï¼Ÿ</p>
<p>æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œ2010å¹´è¿ç§»åˆ°google codeï¼Œæ”¹åä¸ºmybatisï¼Œ2013å¹´è¿ç§»åˆ°githubã€‚</p>
<p>Mybatisæ˜¯ä¸€ä¸ªå®ç°äº†æ•°æ®æŒä¹…åŒ–çš„å¼€æºæ¡†æ¶ï¼Œç®€å•ç†è§£å°±æ˜¯å¯¹JDBCè¿›è¡Œå°è£…ã€‚</p>
<p>ORMappingï¼šObject Relationship Mapping å¯¹è±¡å…³ç³»æ˜ å°„</p>
<p>å¯¹è±¡ï¼šé¢å‘å¯¹è±¡</p>
<p>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</p>
<p>æ˜ å°„ï¼šjavaåˆ°mysqlçš„æ˜ å°„ï¼Œå¼€å‘è€…ä»¥é¢å‘å¯¹è±¡çš„æ€æƒ³æ¥ç®¡ç†æ•°æ®åº“ã€‚</p>
<p>âœ…mybatisä¼˜ç¼ºç‚¹</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>1âƒ£ï¸ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘50%ä»£ç é‡</p>
<p>2âƒ£ï¸æœ€ç®€å•çš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå°å·§ç®€å•</p>
<p>3âƒ£ï¸çµæ´»ï¼Œä¸ä¼šå¯¹ç¨‹åºæˆ–æ•°æ®åº“çš„ç°æœ‰è®¾è®¡å¼ºè¡ŒåŠ ä»»ä½•å½±å“ï¼Œsqlå†™åœ¨xmlä¸­ï¼Œä»ç¨‹åºä»£ç ä¸­å½»åº•åˆ†ç¦»ï¼Œè§£è€¦åˆï¼Œå¯é‡ç”¨ã€‚</p>
<p>4âƒ£ï¸æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlè¯­å¥ã€‚</p>
<p>5âƒ£ï¸æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡çš„å±æ€§ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1âƒ£ï¸åŠè‡ªåŠ¨çš„ï¼Œsqlè¯­å¥ç¼–å†™å·¥ä½œé‡å¤§</p>
<p>2âƒ£ï¸ä¾èµ–äºæ•°æ®åº“ï¼Œæ•°æ®åº“è¿ç§»æ€§å·®ã€‚</p>
<p>âœ…Mybatisæ ¸å¿ƒæ¥å£å’Œç±»</p>
<p>javaå’ŒMybatisçš„è¿æ¥è€…ï¼šsqlsession</p>
<p>SqlSessionFactoryBuilderæ¥å£ build()æ–¹æ³•ã€‚å¾—åˆ°SqlSessionFactoryï¼ˆå·¥å‚å¯¹è±¡ï¼‰ã€‚è°ƒç”¨openSession()æ–¹æ³•ï¼Œè·å¾—SqlSessionã€‚</p>
<p>âœ…Mybatisçš„å¼€å‘æ–¹å¼</p>
<p>1âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£</p>
<p>2âƒ£ï¸Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>ä¸¤ç§æ–¹æ³•éƒ½æ˜¯é€šè¿‡sqlsessionçš„ç›¸å…³æ–¹æ³•æ¥å®Œæˆçš„ã€‚</p>
<p>âœ…åˆ›å»ºç¬¬ä¸€ä¸ªmybatisé¡¹ç›®</p>
<p>1âƒ£ï¸æ–°å»ºä¸€ä¸ªmavené¡¹ç›®</p>
<p>pom.xmlæ–‡ä»¶ï¼šå¢åŠ mybatisåæ ‡org.mybatis. mysqlé©±åŠ¨</p>
<p>â“pom.xmlä¸­åŠ å…¥ä¾èµ–æ˜¾çº¢æ€ä¹ˆåŠï¼Ÿ</p>
<p>è§£å†³ï¼šé¦–å…ˆåˆ é™¤.mæ–‡ä»¶å¤¹ä¸‹çš„repoæ–‡ä»¶å¤¹ï¼Œç„¶åå›åˆ°é¡¹ç›®å³é”®pom.xmlï¼Œé€‰mavenï¼Œé€‰reimport</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºè¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database mybatis;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> account(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸æ–°å»ºæ•°æ®è¡¨å¯¹åº”çš„å®ä½“ç±»</p>
<p>è¿™é‡Œç”¨Lombokåº“ï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•.ç±»çº§åˆ«çš„ @Data æ³¨é‡Šæ˜¯ç”± Lombok æä¾›çš„ï¼Œå®ƒå‘Šè¯‰ Lombok ç”Ÿæˆæ‰€æœ‰ç¼ºå°‘çš„æ–¹æ³•ï¼Œä»¥åŠæ¥å—æ‰€æœ‰finalå±æ€§ä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>
<p>åŠ lombokä¾èµ–æ—¶ï¼Œæœ‰é”™è¯¯ï¼Œå› ä¸ºç‰ˆæœ¬å·çš„åŸå› ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>4âƒ£ï¸åˆ›å»ºmybatisé…ç½®æ–‡ä»¶ config.xml æ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼Œå»ºåœ¨resourceæ–‡ä»¶å¤¹ä¸­</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>5âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£çš„æ–¹å¼å¼€å‘</p>
<p>ï¼ˆ1ï¼‰Mybatisæ¡†æ¶éœ€è¦å¼€å‘è€…è‡ªå®šä¹‰sqlè¯­å¥ï¼Œå†™åœ¨Mapper.xmlæ–‡ä»¶ä¸­ï¼Œå®é™…å¼€å‘ä¸­ï¼Œä¼šä¸ºæ¯ä¸ªå®ä½“ç±»åˆ›å»ºå¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰ç®¡ç†è¯¥å¯¹è±¡æ•°æ®çš„SQLã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- namespaceæ˜¯mybatisåŠ è½½é…ç½®æ–‡ä»¶æ—¶è¦æ‰¾çš„è·¯å¾„ï¼ˆåŒ…+æ–‡ä»¶åçš„å½¢å¼ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">  idæ˜¯ä¸€ä¼šå„¿è°ƒç”¨sqlè¯­å¥æ—¶è¦ç”¨çš„åå­—ï¼Œè‡ªå®šä¹‰çš„.</span></span><br><span class="line"><span class="comment">  parameterTypeæ˜¯è¦ä¼ å…¥çš„å‚æ•°,ä¸‹é¢è¯­å¥æ˜¯ä»å¯¹è±¡ä¸­å–å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.mapper.AccountMapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨å…¨å±€é…ç½®æ–‡ä»¶config.xmlä¸­æ³¨å†ŒAccountMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰è°ƒç”¨mybatisçš„åŸç”Ÿæ¥å£æ‰§è¡Œæ·»åŠ æ“ä½œï¼Œå†™æµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//åŠ è½½mybatisé…ç½®æ–‡ä»¶config.xml</span></span><br><span class="line">â€‹    InputStream inputStream = TestInsert.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>); <span class="comment">//å˜æˆä¸€ä¸ªæµ</span></span><br><span class="line">â€‹    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">â€‹    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); <span class="comment">//ä¼ å…¥æµ</span></span><br><span class="line">â€‹    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ç„¶åå°±å¯ä»¥è¿›è¡Œjavaå’Œmysqlçš„å…³è”ï¼Œç»“åˆnamespaceå’Œidè·å–ä½ç½®</span></span><br><span class="line">â€‹    <span class="comment">//å› ä¸ºé…ç½®æ–‡ä»¶å·²ç»åŠ è½½åˆ°ç¯å¢ƒä¸­ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸‹é¢æ‰¾åˆ°</span></span><br><span class="line">â€‹    String statement = <span class="string">&quot;com.demo.mybatis.mapper.AccountMapper.save&quot;</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ä¼ å‚æ•°éœ€è¦å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">â€‹    Account account = <span class="keyword">new</span> Account(<span class="number">1L</span>, <span class="string">&quot;liu&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="number">12</span>);</span><br><span class="line">â€‹    sqlSession.insert(statement, account);</span><br><span class="line">â€‹    <span class="comment">//commitæ–¹æ³•æäº¤äº‹åŠ¡</span></span><br><span class="line">â€‹    sqlSession.commit();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â“å‡ºç°é—®é¢˜ï¼Œæ˜æ˜å·²ç»æœ‰lombokï¼Œå¯æ˜¯åœ¨å¯¹è±¡å®ä¾‹åŒ–çš„æ—¶å€™è¿˜æ˜¯æœ‰é—®é¢˜ã€‚</p>
<p>è§£å†³ï¼šæ·»åŠ æ’ä»¶ï¼šè®¾ç½®é‡Œæ‰¾åˆ°pluginsï¼Œæœç´¢lombok pluginï¼Œå®‰è£…ï¼Œé‡å¯ã€‚å‹¾é€‰é…ç½®ï¼šsettingâ€“&gt;build,excecution,deploymentâ€“&gt;compilerâ€“&gt;annotation processorså‹¾é€‰ä¸Š enable annotation processingã€‚å³å¯ç”Ÿæ•ˆã€‚</p>
<p>âš ï¸mavenå·¥ç¨‹ä¸­ä¸èƒ½ç›´æ¥è¯»å–resourceä»¥å¤–çš„xmlæ–‡ä»¶ï¼Œå¾—åœ¨pomé‡ŒåŠ ä¸€ä¸ªé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â“java.lang.ClassNotFoundException: Cannot find class: com.mysql.cj.jdbc</p>
<p>è§£å†³ï¼š<property name="driver" value="com.mysql.cj.jdbc.Driver"> å°‘å†™äº†Driver</property></p>
<p>ğŸ‰Success</p>
<h3 id="â›½ï¸ç¬¬äºŒè¯¾"><a href="#â›½ï¸ç¬¬äºŒè¯¾" class="headerlink" title="â›½ï¸ç¬¬äºŒè¯¾"></a>â›½ï¸ç¬¬äºŒè¯¾</h3><p>âœ…ä½¿ç”¨Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>å®é™…å¼€å‘ä¸­æ¨èç”¨è¿™ç§ã€‚</p>
<p>Mapperæ˜¯mybatiså†…éƒ¨æä¾›çš„ç»„å»ºï¼Œæ¥å£æ˜¯å¼€å‘è€…è‡ªå·±å†™ï¼Œæ¥å£çš„å®ç°ç±»æ˜¯ç”±mybatisåŠ¨æ€ç”Ÿæˆå®ç°ç±»ï¼ŒåŒæ—¶è·å–å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>1âƒ£ï¸è‡ªå®šä¹‰æ¥å£ï¼Œå®šä¹‰ç›¸å…³çš„ä¸šåŠ¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">save</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Account <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸ç¼–å†™ä¸æ¥å£ç›¸å¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰æ¥å£æ–¹æ³•å¯¹åº”çš„sqlè¯­å¥ã€‚</p>
<p>statementæ ‡ç­¾ï¼ˆå¦‚<code>&lt;insert&gt;</code>ï¼‰å¯æ ¹æ®sqlæ‰§è¡Œçš„ä¸šåŠ¡é€‰æ‹©insertã€deleteã€updateã€selectã€‚</p>
<p>Mybatisä¼šè‡ªåŠ¨æ ¹æ®è§„åˆ™è‡ªåŠ¨åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡ã€‚</p>
<p>è§„åˆ™ï¼š</p>
<ol>
<li>Mapper.xmlä¸­namespaceä¸ºæ¥å£çš„å…¨ç±»åã€‚</li>
<li>Mapper.xmlä¸­statementçš„idä¸ºæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•åã€‚</li>
<li>Mapper.xmlä¸­statementçš„parameterTypeå’Œæ¥å£ä¸­å¯¹åº”æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸€è‡´ã€‚</li>
<li>Mapper.xmlä¸­statementçš„resultTypeå’Œæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸€è‡´ã€‚</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.repository.AccountRepository&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ˜ å°„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ·»åŠ  ä¿®æ”¹ åˆ é™¤ ä¸‰ä¸ªæ“ä½œåœ¨æ•°æ®åº“è¿”å›çš„ç»“æœä¸€å®šæ˜¯intï¼Œ æ‰€ä»¥è¿™é‡Œæ²¡æœ‰resultTypeå±æ€§ --&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    update account set username = #&#123;username&#125;, password = #&#123;password&#125;, age = #&#123;age&#125; where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span></span><br><span class="line">â€‹    delete from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸å†™é›†åˆç±»å‹ï¼Œè€Œå†™é›†åˆé‡Œçš„æ³›å‹ç±»å‹ --&gt;</span></span><br><span class="line">â€‹    select * from account</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    select * from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸åœ¨config.xmlä¸­æ³¨å†ŒAccountRepository.xml</p>
<p><code>&lt;mappers&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p>  <code>&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p><code>&lt;/mappers&gt;</code></p>
<p>4âƒ£ï¸æµ‹è¯•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ ,é…ç½®æ•°æ®æºä¿¡æ¯--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ğŸ¤”æˆ‘å¯¹åŠ¨æ€ä»£ç†çš„ç†è§£ï¼š</p>
<p>è‡ªå·±åªéœ€è¦å†™ä¸€ä¸ªç±»ï¼Œæ¡†æ¶ä¸ºæˆ‘åŠ¨æ€ä»£ç†å®ç°æ¥å£çš„å®ç°ç±»ï¼Œå¹¶ä¸”è¿˜ç»™æˆ‘å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¡®å®æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è‡ªå·±å†™statementï¼Œä½†æ˜¯è¯´çš„è‡ªå·±å†™æ¥å£å®ç°ç±»ï¼Ÿæ²¡æœ‰å§</p>
<h3 id="â›½ï¸ç¬¬ä¸‰è¯¾"><a href="#â›½ï¸ç¬¬ä¸‰è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸‰è¯¾"></a>â›½ï¸ç¬¬ä¸‰è¯¾</h3><p>Mapper.xmlè§£è¯»</p>
<ol>
<li><p>statementæ ‡ç­¾ï¼Œselectã€updateã€deleteã€insertåˆ†åˆ«å¯¹åº”æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤ã€æ·»åŠ </p>
</li>
<li><p>parameterTypeï¼šå‚æ•°æ•°æ®ç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡idæŸ¥è¯¢Account,  â€œlongâ€</p>
<p>b. Stringç±»å‹ï¼Œé€šè¿‡nameæŸ¥è¯¢Accountï¼Œâ€java.lang.Stringâ€</p>
<p>C. åŒ…è£…ç±»ï¼Œé€šè¿‡idæŸ¥è¯¢Accountã€‚â€œjava.lang.longâ€</p>
</li>
</ol>
<p>â€‹     {ç”¨åŒ…è£…ç±»çš„å¥½å¤„ï¼šåŸºæœ¬æ•°æ®ç±»å‹æ¥å—ä¸äº†nullï¼Œnullä¼ è¿›æ¥æŠ¥å¼‚å¸¸ï¼Œä¸šåŠ¡ä¸­å¯èƒ½ä¼šæœ‰nullï¼Œéœ€è¦åˆ¤æ–­}</p>
<p>   D.å¤šä¸ªå‚æ•°ï¼Œé€šè¿‡usernameå’ŒageæŸ¥è¯¢account</p>
<p>â€‹     âš ï¸ï¼šå¦‚æœè¿”å›ç»“æœå¯èƒ½å¤šä¸ªï¼Œå°±å¾—Listã€‚å¥½åƒå¤šä¸ªæ“ä½œcommitä¸€æ¬¡å°±è¡Œå§ã€‚</p>
<p>   e.java bean</p>
<p>â€‹    updateæ“ä½œä¼ å…¥çš„accountå¯¹è±¡</p>
<ol>
<li><p>resultTypeç»“æœç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹</p>
<p>B. åŒ…è£…ç±» java.lang.Integer</p>
<p>C. stringç±»å‹ï¼Œæ¯”å¦‚é€šè¿‡idæŸ¥è¯¢username</p>
</li>
</ol>
<p>  âš ï¸çœ‹åˆ°idæœ‰ä¸­æ–­ï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰ç¨‹åºæœ‰é”™å¼‚å¸¸äº†ï¼Œæ²¡commitæäº¤ï¼Œä½†æ˜¯idå·²ç»æ¶¨äº†ã€‚</p>
<p>   D. Java bean</p>
<p>â€‹    findAllè¿”å›çš„accountå¯¹è±¡</p>
<h3 id="â›½ï¸ç¬¬å››è¯¾"><a href="#â›½ï¸ç¬¬å››è¯¾" class="headerlink" title="â›½ï¸ç¬¬å››è¯¾"></a>â›½ï¸ç¬¬å››è¯¾</h3><p>âœ…åŠè”æŸ¥è¯¢</p>
<p>1âƒ£ï¸ä¸€å¯¹å¤šï¼Œä¸€ä¸ªç­å¯¹åº”å¤šä¸ªå­¦ç”Ÿ</p>
<p>è¦æŸ¥è¯¢id=1çš„å­¦ç”Ÿçš„åå­—ã€ç­çº§</p>
<p>å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> cid <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> classes(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¯­å¥ï¼š <code>select * from student s, classes c where s.id =1 and s.cid=c.id;</code></p>
<p>ğŸ¤”é¦–å…ˆå»ºæ¥å£ï¼Œå†å†™xxxRepository.xml, å†æŠŠxmlæ–‡ä»¶åŠ è½½åˆ°configä¸­ã€‚ æµ‹è¯•ä»£ç ä¸­ï¼Œç”¨æ–¹æ³•å°±å¥½äº†ã€‚</p>
<p>ğŸmybatiså’Œjavaç±»æ€ä¹ˆåšåˆ°æ˜ å°„ï¼Œmybatisä¸å…³æ³¨è¡¨å’Œç±»çš„ç»“æ„ï¼Œå…³æ³¨çš„æ˜¯ç»“æœé›†å’Œç±»çš„æ˜ å°„ã€‚</p>
<p>ä»selectæŸ¥å‡ºæ¥çš„ç»“æœé›†ï¼Œåˆ°èµ‹ç»™resutlçš„ç»“æœçš„æ˜ å°„ã€‚ä»ç»“æœé›†é‡ŒæŒ‰é¡ºåºæ‰¾resultå¯¹çš„ä¸Šçš„å­—æ®µï¼Œèµ‹ç»™resultã€‚</p>
<p>åº”è¯¥ç»™åé¢çš„å–åˆ«åã€‚è¿™é‡Œå…³äºç­çº§çš„ä¿¡æ¯è¦èµ‹ç»™classeså¯¹è±¡ï¼Œéœ€è¦å»ºç«‹æ˜ å°„ï¼Œç”¨resultMapã€‚</p>
<p>æ³¨æ„æ˜ å°„çš„æ—¶å€™ï¼Œæ˜¯çœ‹è¿™ä¸ªæŸ¥è¯¢ç»“æœé›†ä¸Šé¢çš„å­—æ®µã€‚</p>
<p>è¿™æ ·å°±å®Œæˆäº†ï¼Œç»“æœç±» å’Œ ç»“æœé›†çš„æ˜ å°„</p>
<p>2âƒ£ï¸é€šè¿‡classesæŸ¥students</p>
<p>é€šè¿‡ç­çº§idï¼ŒæŸ¥å‡ºæ•´ä¸ªclassesç±».</p>
<p>é¦–å…ˆå†™æ¥å£ï¼Œå†å†™xmlæ–‡ä»¶ï¼Œxmlæ–‡ä»¶ä¸­å…ˆå†™sqlè¯­å¥ï¼Œå®Œæˆæ˜ å°„ï¼Œæ·»åŠ åˆ°configï¼Œæµ‹è¯•ã€‚</p>
<p>âš ï¸æ³¨æ„ç»“æœé›†è¦ç”¨resultMapï¼Œè¦è¿˜æ˜¯ç”¨resultTypeçš„è¯ï¼Œç›¸å½“äºå†™çš„æ˜ å°„æ²¡æœ‰ç”¨åˆ°ã€‚</p>
<p>3âƒ£ï¸å¤šå¯¹å¤š</p>
<p>æ¯”å¦‚è¯´ï¼Œå®¢æˆ·å’Œå•†å“ï¼Œè¿™ä¸¤ä¸ªæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p>
<p>customerè¡¨å’Œgoodsè¡¨ï¼Œä¸­é—´éœ€è¦å»ºä¸€ä¸ªä»è¡¨customer_goodsï¼Œé‡Œé¢cidè¡¨ç¤ºå®¢æˆ·è¡¨çš„å¤–é”®ï¼Œgidè¡¨ç¤ºå•†å“è¡¨çš„å¤–é”®ã€‚</p>
<p>customerç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªgoodsé›†åˆ</p>
<p>goodsç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªcustimeré›†åˆ</p>
<p>è¦åšçš„æ˜¯ï¼šæ ¹æ®customerçš„idï¼Œè¿”å›custimerç±»ã€‚</p>
<p><code>select c.id as cid, c.name as came, g.id as gid, g.name as gname from customer as c, goods as gï¼Œ customer_goods as cg where c.id=1 and cg.cid = c.id and cg.gid = g.id;</code> </p>
<p>è¿”å›id=1çš„å®¢äººä¹°çš„å•†å“ã€‚</p>
<p>âš ï¸çŸ¥è¯†ç‚¹ï¼›ç¬›å¡å°”ç§¯ï¼Œéœ€è¦æ‰¾è¿™ä¸¤å¼ è¡¨çš„å…³è”å…³ç³»ï¼šç¬¬ä¸‰å¼ è¡¨.</p>
<p>æ ¹æ®ä¸€å¯¹å¤šæ¥å»ºç«‹å¤šå¯¹å¤šçš„æ˜ å°„å°±å¥½äº†ï¼Œä¸åŒä¹‹å¤„åœ¨å»sqlè¯­å¥ä¸­ä¸¤å¼ è¡¨å»ºç«‹å…³ç³»çš„æ–¹å¼æ˜¯é€šè¿‡ç¬¬ä¸‰å¼ è¡¨äº†ã€‚</p>
<p>ä½†æ˜¯xmlæ–‡ä»¶ä¸­æ„å»ºæ˜ å°„è¦çœ‹çš„æ˜¯sqlè¯­å¥è¿”å›ç»“æœé›†å’Œæ¥å£æ–¹æ³•è¦è¿”å›çš„è¿”å›ç±»å¯¹è±¡ã€‚</p>
<h3 id="â›½ï¸ç¬¬äº”è¯¾"><a href="#â›½ï¸ç¬¬äº”è¯¾" class="headerlink" title="â›½ï¸ç¬¬äº”è¯¾"></a>â›½ï¸ç¬¬äº”è¯¾</h3><p>âœ…é€†å‘å·¥ç¨‹</p>
<p>å¯¹ä¼ ç»Ÿå¼€å‘åå‘çš„ä¸€ä¸ªæ–¹å¼ã€‚</p>
<p>Mybatisæ¡†æ¶éœ€è¦ï¼šå®ä½“ç±»ã€è‡ªå®šä¹‰çš„Mapperæ¥å£ã€Mapper.xmlã€‚</p>
<p>ä¼ ç»Ÿçš„å¼€å‘ä¸­ï¼Œä¸Šè¿°çš„ä¸‰ä¸ªç»„ä»¶éœ€è¦å¼€å‘è€…æ‰‹åŠ¨åˆ›å»ºï¼Œé€†å‘å·¥ç¨‹å¯ä»¥å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨åˆ›å»ºè¿™ä¸‰ä¸ªç»„ä»¶ï¼Œå‡è½»å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>ç¼ºç‚¹ï¼šé€†å‘å·¥ç¨‹åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œé€†å‘å·¥ç¨‹æ ¹æ®æ•°æ®è¡¨æ¥å»ºç«‹å®ä½“ç±»ç­‰ï¼Œå¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡é€†å‘å·¥ç¨‹ã€‚</p>
<p>å¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦åˆ äº†å·²ç»å­˜åœ¨çš„ï¼Œé‡æ–°æ‰§è¡Œã€‚</p>
<p>====</p>
<p>å¦‚ä½•ä½¿ç”¨ï¼š</p>
<p>Mybatis Generatorï¼Œç®€ç§°MBGï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºMybatisæ¡†æ¶å¼€å‘è€…å®šåˆ¶çš„ä»£ç ç”Ÿæˆå™¨å’Œè‡ªåŠ¨ç”ŸæˆMybatisæ¡†æ¶æ‰€éœ€çš„å®ä½“ç±»ã€Mapperæ¥å£ã€Mapper.xmlï¼Œæ”¯æŒåŸºæœ¬CRUDæ“ä½œï¼Œä½†æ˜¯ä¸€äº›ç›¸å¯¹å¤æ‚çš„sqléœ€è¦å¼€å‘è€…è‡ªå·±æ¥å®Œæˆã€‚</p>
<p>1âƒ£ï¸æ–°å»ºMavenå·¥ç¨‹ï¼Œå¼•å…¥ä¾èµ–</p>
<p>æ•°æ®åº“å»ºä¸ªè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table t_user(</span><br><span class="line"> id int primary key auto_increment,</span><br><span class="line"> name varchar(11),</span><br><span class="line"> age int</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>2âƒ£ï¸åˆ›å»ºMBGé…ç½®æ–‡ä»¶generatorConfig.xml</p>
<p> \1. jdbcConnection é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</p>
<p> \2. javaModelGenerator é…ç½®javaBeançš„ç”Ÿæˆç­–ç•¥ï¼Œè¦æŠŠåˆ›å»ºçš„å®ä½“ç±»æ”¾åœ¨å“ªä¸ªåŒ…é‡Œ</p>
<p> \3. sqlMapGenerator é…ç½®sqlæ˜ å°„æ–‡ä»¶ç”Ÿæˆç­–ç•¥</p>
<p> \4. javaClientGenerator é…ç½®Mapperæ¥å£</p>
<p> \5. table é…ç½®ç›®æ ‡æ•°æ®è¡¨ï¼ˆtableNameï¼šè¡¨åï¼ŒdominObjectNameï¼šJavaBeanç±»åï¼‰</p>
<p>3âƒ£ï¸åˆ›å»ºGeneratoræ‰§è¡Œç±»</p>
<p>å¯åŠ¨ç±»mainï¼Œé‡Œé¢æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡ç†è§£åæ­£æ˜¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.MyBatisGenerator;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.xml.ConfigurationParser;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.InvalidConfigurationException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.XMLParserException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.internal.DefaultShellCallback;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">â€‹    List&lt;String&gt;warings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">â€‹    <span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line">â€‹    String genCig = <span class="string">&quot;/generatorConfig.xml&quot;</span>; <span class="comment">// /å°±è¡¨ç¤ºresourceæ–‡ä»¶å¤¹</span></span><br><span class="line">â€‹    File configFile = <span class="keyword">new</span> File(Main.class.getResource(genCig).getFile()); <span class="comment">//è·å–è¿è¡Œæ—¶ç±»ï¼ŒgetResource(è·¯å¾„)ï¼Œè·å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">â€‹    ConfigurationParser configurationParser = <span class="keyword">new</span> ConfigurationParser(warings);</span><br><span class="line">â€‹    Configuration configuration = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      configuration = configurationParser.parseConfiguration(configFile);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (XMLParserException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line">â€‹    MyBatisGenerator myBatisGenerator = <span class="keyword">null</span>;</span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(configuration, callback, warings);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InvalidConfigurationException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">â€‹      throwables.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>IDEAæŠ›å‡ºå¼‚å¸¸å¿«æ·é”®ï¼š</strong></p>
<p><strong>Mac</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œoption+Enterï¼‰ï¼Œå¯ä»¥å¼‚å¸¸å¤–æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥try-catchï¼š</strong></p>
<p><strong>æ–¹å¼äºŒï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œæˆ–è€…é€‰ä¸­è¯¥è¡Œä»£ç ï¼Œoption+command+Tï¼‰ï¼š[ä½¿ç”¨å…³é”®å­—æˆ–æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifâ€¦else, tryâ€¦catch, for, synchronizedç­‰]</strong></p>
<p>4âƒ£ï¸<strong>ç„¶åè¿è¡Œmainæ–¹æ³•ï¼Œæ–‡ä»¶å¤¹ä¸‹ä»€ä¹ˆéƒ½æœ‰äº†ï¼Œè€Œä¸”æ ¹æ®æ•°æ®åº“çš„è¡¨å»ºç«‹äº†å®ä½“ç±»ã€‚</strong></p>
<h3 id="â›½ï¸ç¬¬å…­è¯¾"><a href="#â›½ï¸ç¬¬å…­è¯¾" class="headerlink" title="â›½ï¸ç¬¬å…­è¯¾"></a>â›½ï¸<strong>ç¬¬å…­è¯¾</strong></h3><p>âœ…<strong>å»¶è¿ŸåŠ è½½</strong></p>
<p><strong>ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿä¹Ÿå«æ‡’åŠ è½½ã€æƒ°æ€§åŠ è½½</strong></p>
<p><strong>ä½¿ç”¨å»¶è¿ŸåŠ è½½å¯ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œé’ˆå¯¹äºæ•°æ®çš„æŒä¹…å±‚çš„æ“ä½œã€‚åœ¨æŸäº›ç‰¹å®šçš„æƒ…å†µä¸‹å»è®¿é—®ç‰¹å®šçš„æ•°æ®åº“ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹å¯ä»¥ä¸è®¿é—®æŸäº›è¡¨ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ã€‚</strong></p>
<p><strong>æ¯”å¦‚è¯´ä¸Šé¢åŠè”æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢å­¦ç”Ÿå’Œç­çº§ï¼Œå­¦ç”Ÿå’Œç­çº§åœ¨ä¸¤å¼ ä¸åŒçš„è¡¨ï¼Œå¦‚æœå½“å‰çš„éœ€æ±‚åªéœ€è¦è·å–å­¦ç”Ÿçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæŸ¥è¯¢å­¦ç”Ÿå•è¡¨å³å¯ï¼Œå¦‚æœéœ€è¦é€šè¿‡å­¦ç”Ÿè·å–å¯¹åº”çš„ç­çº§ä¿¡æ¯ï¼Œåˆ™å¿…é¡»æŸ¥è¯¢ä¸¤å¼ è¡¨ã€‚</strong></p>
<p><strong>ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æŸ¥è¯¢ä¸åŒçš„è¡¨ï¼Œæ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚æ¥åŠ¨æ€å‡å°‘æ•°æ®è¡¨æŸ¥è¯¢çš„å·¥ä½œå°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚</strong></p>
<p><strong>ä¸¾ä¾‹ï¼šstudentå’Œclassesçš„ä¾‹å­é‡Œï¼Œä¸¤ä¸ªæ¥å£é‡Œéƒ½å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå„è‡ªé‡å†™xmlé‡Œé¢å¯¹åº”æ–°å¢æ–¹æ³•çš„sqlè¯­å¥ï¼Œselectè¯­å¥ä¸è”è¡¨æŸ¥è¯¢äº†ï¼Œå„æŸ¥å„çš„ï¼Œæµ‹è¯•æ—¶ï¼Œé¦–å…ˆå¾—åˆ°studentçš„åå­—ï¼Œå¦‚æœå¤Ÿäº†ï¼Œå°±ä¸ç”¨æŸ¥classesè¡¨äº†ï¼Œå¦‚æœä¸å¤Ÿï¼Œå†æ ¹æ®studentçš„cidè·å¾—classesç›¸å…³ä¿¡æ¯ã€‚</strong></p>
<p><strong>å› æ­¤è¦åœ¨é…ç½®æ–‡ä»¶é‡Œå®Œæˆä¸€ä¸ªè¿æ¥çš„æ“ä½œæ¥è‡ªåŠ¨è¯†åˆ«æ˜¯å¦è¿˜éœ€è¦æŸ¥å¦ä¸€å¼ è¡¨ï¼Œåœ¨</strong>associationä¸­ã€‚</p>
<p>å®è·µæ•ˆæœï¼šæ ¹æ®å­¦ç”Ÿidï¼ŒæŸ¥åˆ°å­¦ç”Ÿå®Œæˆä¿¡æ¯ï¼ŒåŒ…æ‹¬é‡Œé¢çš„Classesç±»ã€‚</p>
<p>å®é™…ä¸Šè¿›è¡Œäº†ä¸¤æ¬¡sqlæŸ¥è¯¢ï¼Œæœ¬èº«studentæ¥å£æ–¹æ³•è°ƒç”¨æŸ¥è¯¢ä¸€æ¬¡ï¼Œstudenté…ç½®æ–‡ä»¶ä¸­selectæ ‡ç­¾åˆæŸ¥ä¸€æ¬¡ã€‚</p>
<p>é€šè¿‡é…ç½®configæ–‡ä»¶ä¸­settingå¯ä»¥æ‰“å°sqlæ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<p>ä½†æ˜¯ï¼Œåªæ‹¿nameçš„è¯ï¼Œè¿˜æ˜¯æ‰§è¡Œä¸¤æ¬¡sqlã€‚å› æ­¤éœ€è¦åœ¨configä¸­å¼€å¯å»¶è¿ŸåŠ è½½ã€‚</p>
<p>å¥‡æ€ªäº†ï¼Œæˆ‘å¼€å¯äº†å»¶è¿ŸåŠ è½½ï¼Œåªè·å¾—studentçš„nameï¼Œè¿˜æ˜¯æŸ¥ä¸¤æ¬¡ã€‚</p>
<p>âš ï¸å‡ºç°é—®é¢˜ï¼ŒCannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.</p>
<p>åº”è¯¥å¢åŠ CGLIBä¾èµ–ã€‚</p>
<p>â“ä¾èµ–é—²çº¢çš„æ—¶å€™ï¼Œå¿…é¡»è¦åˆ é™¤.m2æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ä¾èµ–ï¼Œç„¶åreimportå—ï¼Ÿ</p>
<h3 id="â›½ï¸ç¬¬ä¸ƒè¯¾"><a href="#â›½ï¸ç¬¬ä¸ƒè¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸ƒè¯¾"></a>â›½ï¸ç¬¬ä¸ƒè¯¾</h3><p>âœ…MyBatisç¼“å­˜</p>
<p>ä»€ä¹ˆäº‹mybatisç¼“å­˜ï¼Ÿä½¿ç”¨ç¼“å­˜å¯ä»¥å‡å°‘Javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œä»è€Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚æ¯”å¦‚æŸ¥è¯¢å‡ºid=1çš„å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢å‡ºä¹‹åä¼šè‡ªåŠ¨å°†è¯¥å¯¹è±¡ä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œå½“ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºå¯¹è±¡å³å¯ï¼Œæ— éœ€å†æ¬¡è®¿é—®æ•°æ®åº“ã€‚</p>
<p>Mybatisç¼“å­˜åˆ†ç±»ï¼š</p>
<ol>
<li><strong>ä¸€çº§ç¼“å­˜ï¼šSqlSessionçº§åˆ«ï¼Œé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”ä¸èƒ½å…³é—­ã€‚</strong></li>
</ol>
<p>  <strong>æ“ä½œæ•°æ®åº“æ—¶éœ€è¦åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªHashMapç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ï¼Œä¸åŒçš„SqlSessionä¹‹é—´ç¼“å­˜æ•°æ®åŒºåŸŸæ˜¯äº’ä¸å½±å“çš„ã€‚</strong></p>
<p>  <strong>ä¸€çº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯SqlSessionèŒƒå›´çš„ï¼Œå½“åœ¨åŒä¸€ä¸ªSqlSessionä¸­æ‰§è¡Œä¸¤æ¬¡ç›¸åŒçš„SQLè¯­å¥æ—¶ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œæ¯•å°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚</strong></p>
<p>  <strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœSqlSessionæ‰§è¡Œäº†DMLæ“ä½œï¼ˆinsertã€updateã€deleteï¼‰ï¼ŒMybatiså¿…é¡»å°†ç¼“å­˜æ¸…ç©ºï¼Œæ¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚</strong></p>
<ol>
<li><strong>äºŒçº§ç¼“å­˜ï¼šMapperçº§åˆ«çš„ï¼Œé»˜è®¤å…³é—­ï¼Œå¯ä»¥å¼€å¯ã€‚</strong></li>
</ol>
<p>  <strong>ä½¿ç”¨äºŒçº§ç¼“å­˜æ—¶ï¼Œå¤šä¸ªSqlSessionä½¿ç”¨åŒä¸€ä¸ªMapperçš„sqlè¯­å¥æ“ä½œæ•°æ®åº“ï¼Œå¾—åˆ°çš„æ•°æ®ä¼šå­˜åœ¨äºŒçº§ç¼“å­˜ä¸­ï¼ŒåŒæ ·æ˜¯ä½¿ç”¨HashMapè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œç›¸æ¯”è¾ƒä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜çš„èŒƒå›´æ›´å¤§ï¼Œå¤šä¸ªsqlsessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯è·¨sqlsessionçš„ã€‚</strong></p>
<p>  <strong>äºŒçº§ç¼“å­˜æ˜¯å¤šä¸ªsqlsessionå…±äº«çš„ï¼Œå…¶ä½œç”¨åŸŸæ˜¯mapperçš„åŒä¸€ä¸ªnamespqceï¼Œä¸åŒçš„sqlsessionä¸¤æ¬¡æ‰§è¡Œç›¸åŒçš„namespaceä¸‹çš„sqlè¯­å¥ï¼Œå‚æ•°ä¹Ÿç›¸åŒï¼Œåˆ™ç¬¬ä¸€æ¬¡æ‰§è¡ŒæˆåŠŸä¹‹åä¼šå°†æ•°æ®ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡å¯ç›´æ¥ä»äºŒçº§ç¼“å­˜ä¸­å–å‡ºæ•°æ®ã€‚</strong></p>
<p>âš ï¸<strong>ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªsqlsessionä¸€ä¸ªç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯ä¸€ä¸ªmapperä¸€ä¸ªï¼Œå¤šä¸ªsqlsession å¯èƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€mapperï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªnamespaceã€‚äºŒçº§ç¼“å­˜èŒƒå›´æ›´å¤§ã€‚</strong></p>
<p><strong>å¦‚ä½•å¼€å¯äºŒçº§ç¼“å­˜ï¼š</strong></p>
<p><strong>config.xmlä¸­</strong></p>
<p><code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</code></p>
<p><strong>ç„¶åå†å¯¹åº”çš„mapper.xmlä¸­ï¼Œæ·»åŠ é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<p><code>&lt;cache&gt;&lt;/cache&gt;</code></p>
<p><strong>ç„¶åå®ä½“ç±»å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<p><code>public class Classes implements Serializable</code></p>
<ol>
<li><strong>ç¬¬ä¸‰æ–¹äºŒçº§ç¼“å­˜ã€‚éœ€è¦åœ¨pom.xmlé‡Œæ·»åŠ ç›¸å…³ä¾èµ–</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   &lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶åæ·»åŠ é…ç½®æ–‡ä»¶ehcache.xml ä¸ç”¨è‡ªå·±å†™ï¼Œå®šä¹‰äº†ä¸€äº›äºŒçº§ç¼“å­˜çš„è®¾ç½®</strong></p>
<p><strong>ç„¶ååœ¨config.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜</strong></p>
<p><strong>ç„¶ååœ¨mapper.xmlä¸­é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜åˆ›å»ºä¹‹åï¼Œæœ€åä¸€æ¬¡è®¿é—®ç¼“å­˜çš„æ—¶é—´è‡³ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToIdleSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜è‡ªåˆ›å»ºæ—¶é—´èµ·è‡³å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToLiveSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜çš„å›æ”¶ç­–ç•¥ ,LRUç§»é™¤è¿‘æœŸä½¿ç”¨æœ€å°‘--&gt;</span><br><span class="line">  &lt;property name=&quot;memoryStoreEvictionPolicy&quot; value=&quot;LRU&quot;/&gt;</span><br><span class="line">&lt;/cache&gt;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ä¸ªç¼“å­˜é‡Œå®ä½“ç±»å†…ä¸éœ€è¦å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<h3 id="â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql"><a href="#â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql" class="headerlink" title="â›½ï¸ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql"></a>â›½ï¸<strong>ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql</strong></h3><p><strong>sqlè¯­å¥æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œåªéœ€è¦å®šä¸€ä¸ªå¤§è‡´çš„æ ·å¼ï¼Œå®ƒä¼šæ ¹æ®å…·ä½“çš„å‚æ•°ã€å…·ä½“çš„ä¸šåŠ¡å»åŠ¨æ€ç”Ÿæˆä¸åŒçš„sqlã€‚</strong></p>
<p><strong>èƒŒæ™¯ï¼šä¸šåŠ¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¦‚æœéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»æ‹¼æ¥sqlè¯­å¥æ¥å®Œæˆæ“ä½œï¼Œæ•ˆç‡æ¯”è¾ƒä½è€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</strong></p>
<p>â“<strong>å‘ç°testç±»é‡Œï¼Œç¬¬ä¸€è¡Œçš„åŠ è½½ç±»ä¸€ç›´æ˜¯ç¬¬ä¸€æ¬¡ç”¨çš„ï¼Œè¿™åˆç†å—ï¼Ÿ</strong></p>
<p><strong>ç”¨ä¸€ä¸ªaccountå¯¹è±¡æŸ¥accountå¯¹è±¡ï¼Œæ ¹æ®å¯¹è±¡çš„å››ä¸ªå‚æ•°å¯¹åº”æ”¾åˆ°sqlè¯­å¥ä¸­ï¼Œå¦‚æœä¼ å…¥çš„accountçš„ä¸€ä¸ªå‚æ•°æ²¡è®¾ç½®ï¼Œåˆ™ä¼ åˆ°sqlè¯­å¥é‚£é‡Œï¼Œè¿™ä¸ªå­—æ®µ=nullã€‚ä¸€èˆ¬å°±æ²¡ç»“æœã€‚</strong></p>
<p><strong>åŠ¨æ€sqlï¼šåªéœ€è¦å†™ä¸€ä¸ªæ¨¡ç‰ˆï¼Œè®©ç¨‹åºè‡ªåŠ¨æ ¹æ®å±æ€§æ˜¯å¦æœ‰å€¼ï¼Œæ¥åŠ¨æ€å†³å®šæ˜¯å¦åŠ è¿™ä¸ªæ¡ä»¶ã€‚</strong></p>
<p><strong>å…¶å®å°±æ˜¯ä¸€ä¸ªif elseçš„æµç¨‹ï¼Œåˆ¤æ–­å¦‚æœä¸ºnullï¼Œå°±å¿½ç•¥æ‰ï¼Œä½¿å¾—æœ‰ç»“æœã€‚</strong></p>
<p><strong>ä½¿ç”¨åŠ¨æ€sqlçš„ä½œç”¨ï¼šå¯ç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œå‡å°‘å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œç¨‹åºå¯ä»¥è‡ªåŠ¨æ ¹æ®ä¸šåŠ¡å‚æ•°æ¥å†³å®šsalçš„ç»„æˆã€‚</strong></p>
<ul>
<li><strong>ifæ ‡ç­¾</strong></li>
</ul>
<p><strong>ï½ï½ï½ï½ï½</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account where</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and username = #&#123;username&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and password = #&#123;password&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    age = #&#123;age&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>ä½†æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ç»™ï¼Œå°±ä¼šå‡ºé”™ï¼Œå› ä¸ºç›´æ¥andåé¢çš„ï¼Œè¯­æ³•é”™è¯¯ã€‚</strong></p>
<p><strong>å°†ifæ ‡ç­¾çš„è¯­å¥ï¼Œæ”¾åœ¨whereæ ‡ç­¾é‡Œå°±å¯ä»¥äº†ã€‚</strong></p>
<p><strong>ifæ ‡ç­¾å¯ä»¥è‡ªåŠ¨æ ¹æ®è¡¨è¾¾å¼çš„ç»“æœæ¥å†³å®šæ˜¯å¦å°†å¯¹åº”çš„è¯­å¥æ·»åŠ åˆ°sqlä¸­ï¼Œå¦‚æœæ¡ä»¶ä¸æˆç«‹åˆ™ä¸æ·»åŠ ï¼Œå¦‚æœæ¡ä»¶æˆç«‹åˆ™æ·»åŠ ã€‚</strong></p>
<p><strong>whereæ ‡ç­¾å¯ä»¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è¦åˆ é™¤è¯­å¥å—ä¸­çš„andå…³é”®å­—ï¼Œå¦‚æœç›‘æµ‹åˆ°whereç›´æ¥è·Ÿandæ‹¼æ¥ï¼Œåˆ™è‡ªåŠ¨åˆ é™¤andï¼Œé€šå¸¸æƒ…å†µä¸‹ if å’Œ whereç»“åˆä½¿ç”¨ã€‚</strong></p>
<ul>
<li><strong>chooseã€whenæ ‡ç­¾</strong></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount2&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;id !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        id = #&#123;id&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;username !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        username = #&#123;username&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;password !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        password = #&#123;password&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;age !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        age = #&#123;age&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>trimæ ‡ç­¾ï¼štrimæ ‡ç­¾ä¸­çš„prefixå’Œsuffixå±æ€§ä¼šè¢«ç”¨äºç”Ÿæˆå®é™…çš„sqlè¯­å¥ï¼Œä¼šå’Œæ ‡ç­¾å†…éƒ¨çš„è¯­å¥è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœè¯­å¥å‰åå‡ºç°äº†prefixOverridesæˆ–è€…suffixOverrideså±æ€§ä¸­æŒ‡å®šçš„å€¼ï¼ŒMybatisæ¡†æ¶ä¼šè‡ªåŠ¨å°†å…¶åˆ é™¤ã€‚</strong></li>
</ul>
<ul>
<li><strong>setæ ‡ç­¾ï¼šç”¨äºupdateæ“ä½œï¼Œä¼šè‡ªåŠ¨æ ¹æ®å‚æ•°æ¥é€‰æ‹©ç”Ÿæˆsqlè¯­å¥ã€‚</strong></li>
</ul>
<p><strong>updateä¼ å…¥çš„å¯¹è±¡ï¼Œå¦‚æœsetå±æ€§åªæœ‰ä¸€ä¸ªï¼Œç›¸å½“äºå…¶ä»–å±æ€§ä¸ä¼ å€¼ï¼Œå˜ä¸ºäº†nullæˆ–è€…0.</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  update account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      id = #&#123;id&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and username = #&#123;username&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and password = #&#123;password&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      age = #&#123;age&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">   where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿™æ˜¯sqlæ‹¼æ¥å—ï¼Ÿ</strong></p>
<ul>
<li><strong>foreachæ ‡ç­¾</strong></li>
</ul>
<p><strong>foreachæ ‡ç­¾å¯ä»¥è¿­ä»£ç”Ÿæˆä¸€ç³»åˆ—å€¼ï¼Œè¿™ä¸ªæ ‡ç­¾ä¸»è¦ç”¨äºsqlçš„inè¯­å¥ã€‚</strong></p>
<p><code>private List&lt;Long&gt; ids;</code></p>
<p><code>List&lt;Long&gt; ids = new ArrayList&lt;Long&gt;();</code></p>
<p><strong>è¿˜å¾—åœ¨å®ä½“ç±»é‡Œå»ºä¸€ä¸ªListå—ï¼Ÿæ„Ÿè§‰ä¸å¤ªä¾¿åˆ©ã€‚</strong></p>
<p><code>&lt;select id=&quot;findByIds&quot; param&gt;</code></p>
<h3 id="â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper"><a href="#â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper" class="headerlink" title="â›½ï¸ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper"></a>â›½ï¸<strong>ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper</strong></h3><p><strong>è™½ç„¶æœ‰é€†å‘å·¥ç¨‹MBGï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œä½†æ˜¯entityæ”¹å˜ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</strong></p>
<p>1âƒ£ï¸<strong>å»ºè¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mapperdemo(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mapperdemo (username, password, age) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="number">23</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>, <span class="number">22</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºjavaå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">//æœ‰å‚æ„é€ </span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span>  <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mapperdemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>~~~~</p>
<p>è€ƒè™‘åˆ°åŸºæœ¬æ•°æ®ç±»å‹åœ¨Javaç±»å‹ä¸­éƒ½æœ‰é»˜è®¤å€¼ï¼Œä¼šå¯¼è‡´mybatisåœ¨æ‰§è¡Œç›¸å…³æ“ä½œæ—¶å¾ˆéš¾åˆ¤æ–­å½“å‰å­—æ®µæ˜¯å¦ä¸ºnullã€‚å› æ­¤åœ¨mybatisç¯å¢ƒä¸‹ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»å‹ã€‚(ä¸Šé¢çš„ä½œåºŸ)</p>
<p>âœ…mapperæ³¨è§£é‡æ¥ï¼š</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/jintingbo/article/details/80517053">https://blog.csdn.net/jintingbo/article/details/80517053</a></p>
<p>ä»mybatis3.4.0å¼€å§‹åŠ å…¥äº†@Mapperæ³¨è§£ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†ä¸å†å†™mapperæ˜ å°„æ–‡ä»¶</p>
<p>ç°åœ¨æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€æ˜“çš„mavené¡¹ç›®å»äº†è§£@Mapperæ³¨è§£çš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<p>1âƒ£ï¸å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> pwd <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> (name, pwd) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸å®ä½“ç±»</p>
<p>æ“ä½œä¹‹å‰ï¼Œä»githubä¸Šcloneä¸‹æ¥çš„é¡¹ç›®å‡ºç°é—®é¢˜</p>
<p>1.æ–‡ä»¶å·¦ä¸‹è§’æœ‰ä¸ªæ©™è‰²çš„å°æ—¶é’Ÿï¼Œå‡ºç°æ©™è‰²åŸå› ï¼šæ²¡æœ‰æ·»åŠ åˆ°mavenè§£å†³åŠæ³•ï¼šæ‰¾åˆ°é¡¹ç›®çš„xml,å¦‚æœæœ€å¤–å±‚æ²¡æœ‰xml,æ‰¾åˆ°æ¨¡å—é‡Œé¢å¯¹åº”çš„xml,å³é”®é€‰æ‹©Add as Maven project. å¯¼å…¥é€šè¿‡mavenå¯¼å…¥jarã€‚å°±è§£å†³äº†äº†ã€‚</p>
<p>2.é¡¹ç›®ä¾èµ–æ˜¯çº¢çš„ï¼Œå»mavenä»“åº“<a target="_blank" rel="noopener" href="https://mvnrepository.com/">Maven Repository: Search/Browse/Explore</a>ä¸‹ä¸‹æ¥ï¼Œæ”¾åœ¨.m2æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>3.æ²¡å¼„sdkï¼Œå¼„æˆjdk1.8</p>
<p>4.å¥‡äº†æ€ªäº†ï¼Œè¿™ä¸ªé¡¹ç›®é‡Œå®ä½“ç±»ç”¨Lombokï¼Œä¾èµ–æ˜¾çº¢ï¼Œæ‡µé€¼äº†ã€‚</p>
<p>5.pç©ºé—´æ˜¾çº¢çš„è§£å†³åŠæ³•ï¼šfileâ€“&gt;settingsâ€¦â€“&gt;languages &amp; frameworksâ€“&gt;schemas and DTDs â€“&gt; æ·»åŠ url</p>
<p>3âƒ£ï¸åŠ è½½é…ç½®æ–‡ä»¶æ—¶æ‰¾ä¸åˆ°bean</p>
<p>ä¸çŸ¥é“å•¥åŸå› äº†ï¼Œåº”è¯¥æ˜¯mybatisç»“åˆspringï¼Œè¿™ä¸€ç‚¹è¿˜æ²¡æŒæ¡ã€‚</p>
<p>æ€»ä¹‹ï¼Œä½¿ç”¨æ–¹é¢ï¼Œä¸éœ€è¦åœ¨mapper.xmlé‡Œå†™sqlè¯­å¥ï¼Ÿ</p>
<p>æµ‹è¯•ç±»é‡Œç›´æ¥è°ƒç”¨daoæ¥å£é‡Œçš„æ–¹æ³•å³å¯ï¼Ÿ</p>
<p>ï¼ï¼ï¼é¡¹ç›®é‡Œè¿˜æ˜¯æœ‰sqlè¯­å¥çš„ï¼Œæ¥å£é‡Œç”¨@mapper @paramæ³¨è§£ï¼Œåªæ˜¯ä¼ é€’å‚æ•°ã€‚å’Œä¹‹å‰å­¦çš„ï¼Œåªæ˜¯åœ¨æ¥å£é‡Œå¤šäº†è¿™ä¿©æ³¨è§£ã€‚</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/mybatis/" rel="tag"># mybatis</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/12/myblog/JAVA/Tomcat%E5%85%A5%E9%97%A8/" rel="prev" title="tomcatå…¥é—¨æ•™ç¨‹">
      <i class="fa fa-chevron-left"></i> tomcatå…¥é—¨æ•™ç¨‹
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/03/19/myblog/JAVA/java%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3/" rel="next" title="javaå®ç°è‡ªå®šä¹‰æ³¨è§£">
      javaå®ç°è‡ªå®šä¹‰æ³¨è§£ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%B8%80%E8%AF%BE"><span class="nav-number">1.</span> <span class="nav-text">â›½ï¸ç¬¬ä¸€è¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%BA%8C%E8%AF%BE"><span class="nav-number">2.</span> <span class="nav-text">â›½ï¸ç¬¬äºŒè¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%B8%89%E8%AF%BE"><span class="nav-number">3.</span> <span class="nav-text">â›½ï¸ç¬¬ä¸‰è¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E5%9B%9B%E8%AF%BE"><span class="nav-number">4.</span> <span class="nav-text">â›½ï¸ç¬¬å››è¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%BA%94%E8%AF%BE"><span class="nav-number">5.</span> <span class="nav-text">â›½ï¸ç¬¬äº”è¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E5%85%AD%E8%AF%BE"><span class="nav-number">6.</span> <span class="nav-text">â›½ï¸ç¬¬å…­è¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%B8%83%E8%AF%BE"><span class="nav-number">7.</span> <span class="nav-text">â›½ï¸ç¬¬ä¸ƒè¯¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E5%85%AB%E8%AF%BE-Mybatis%E5%8A%A8%E6%80%81sql"><span class="nav-number">8.</span> <span class="nav-text">â›½ï¸ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%9B%BD%EF%B8%8F%E7%AC%AC%E4%B9%9D%E8%AF%BE-mybatis-%E9%80%9A%E7%94%A8Mapper"><span class="nav-number">9.</span> <span class="nav-text">â›½ï¸ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jade liu"
      src="/images/head.gif">
  <p class="site-author-name" itemprop="name">Jade liu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">66</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jadeliuliu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;jadeliuliu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jadeliu1998@163.com" title="E-Mail â†’ mailto:jadeliu1998@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/jadeliu1998" title="CSDN â†’ https:&#x2F;&#x2F;blog.csdn.net&#x2F;jadeliu1998" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/5823044646" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;5823044646" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jade liu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>





        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
