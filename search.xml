<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>macå®‰è£…å’Œé…ç½®maven</title>
    <url>/2021/08/25/myblog/JAVA/MAC%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEMaven/</url>
    <content><![CDATA[<h1 id="MACå®‰è£…å’Œé…ç½®Maven"><a href="#MACå®‰è£…å’Œé…ç½®Maven" class="headerlink" title="MACå®‰è£…å’Œé…ç½®Maven"></a>MACå®‰è£…å’Œé…ç½®Maven</h1><h2 id="1-Mavenç®€ä»‹"><a href="#1-Mavenç®€ä»‹" class="headerlink" title="1.Mavenç®€ä»‹"></a>1.Mavenç®€ä»‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">èƒŒæ™¯ï¼šå¼€å‘Aé¡¹ç›®ï¼ŒAé¡¹ç›®ä¸­çš„ä¸€äº›åŠŸèƒ½ä¾èµ–äºBé¡¹ç›®ä¸­çš„æŸäº›ç±»ï¼Œé‚£ä¹ˆå¦‚ä½•ç»´ç³»è¿™ç§ä¾èµ–å…³ç³»ï¼Ÿéœ€è¦ç”¨å“ªä¸ªé¡¹ç›®ä¸­çš„å“ªäº›ç±»ï¼Œä¹Ÿå°±æ˜¯ç”¨åˆ«äººå†™å¥½äº†çš„åŠŸèƒ½ä»£ç ï¼Œå¯¼å…¥jaråŒ…å³å¯ã€‚æ‰€ä»¥è¿™é‡Œä¹Ÿå¦‚æ­¤ï¼Œå¯ä»¥å°†Bé¡¹ç›®æ‰“æˆjaråŒ…ï¼Œç„¶ååœ¨Aé¡¹ç›®çš„Libraryä¸‹å¯¼å…¥Bçš„jaræ–‡ä»¶ï¼Œè¿™æ ·ï¼ŒAé¡¹ç›®å°±å¯ä»¥è°ƒç”¨Bé¡¹ç›®ä¸­çš„æŸäº›ç±»äº†ã€‚å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°Bä¸­çš„bugï¼Œåˆ™å¿…é¡»å°†Bé¡¹ç›®ä¿®æ”¹å¥½ï¼Œå¹¶é‡æ–°å°†Bæ‰“åŒ…å¹¶å¯¹Aé¡¹ç›®è¿›è¡Œé‡ç¼–è¯‘æ“ä½œ</span><br></pre></td></tr></table></figure>

<p>Mavenæ˜¯åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹(POM project object model)ï¼Œå¯ä»¥é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯ï¼ˆé…ç½®ï¼‰æ¥ç®¡ç†é¡¹ç›®çš„æ„å»ºï¼ŒæŠ¥å‘Šå’Œæ–‡æ¡£çš„è½¯ä»¶é¡¹ç›®ç®¡ç†å·¥å…·ã€‚</p>
<p>Mavençš„æ ¸å¿ƒåŠŸèƒ½ä¾¿æ˜¯åˆç†å™è¿°é¡¹ç›®é—´çš„ä¾èµ–å…³ç³»ï¼Œé€šä¿—ç‚¹è®²ï¼Œå°±æ˜¯é€šè¿‡pom.xmlæ–‡ä»¶çš„é…ç½®è·å–jaråŒ…ï¼Œè€Œä¸ç”¨æ‰‹åŠ¨å»æ·»åŠ jaråŒ…ã€‚</p>
<p>ç”±äºMavenä»“åº“ä¸­æ‰€æœ‰çš„JARéƒ½æœ‰å…¶è‡ªå·±çš„åæ ‡ï¼Œè¯¥åæ ‡å‘Šè¯‰Mavenå®ƒçš„ç»„IDï¼Œæ„ä»¶IDï¼Œç‰ˆæœ¬ï¼Œæ‰“åŒ…æ–¹å¼ç­‰ç­‰ï¼Œ å› æ­¤Mavené¡¹ç›®å¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œä¾èµ–ç‰ˆæœ¬ç®¡ç†ã€‚</p>
<h2 id="2-å®‰è£…å’Œé…ç½®Maven"><a href="#2-å®‰è£…å’Œé…ç½®Maven" class="headerlink" title="2.å®‰è£…å’Œé…ç½®Maven"></a>2.å®‰è£…å’Œé…ç½®Maven</h2><p>ä¸‹è½½åœ°å€ï¼š <a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></p>
<p>![image-20210824144100726](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824144100726.png)</p>
<p>æˆ‘ä¸‹è½½åœ¨äº†<code>/Library/ApacheMaven</code></p>
<p><code>vim ~/.bash_profile</code>  //é…ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export M=&quot;/Library/ApacheMaven&quot;  //æ ¹æ®è‡ªå·±æ”¾åœ¨å“ªä¸ªç›®å½•</span><br><span class="line">export PATH=&quot;$M/bin:$PATH&quot;</span><br></pre></td></tr></table></figure>

<p><code>source ~/.bash_profile</code>     //ä½¿é…ç½®ç”Ÿæ•ˆ</p>
<p><code>mvn -v</code>   //æŸ¥çœ‹ç‰ˆæœ¬</p>
<p>æˆ–è€…ï¼Œå¯ä»¥ç›´æ¥<code>brew install maven</code></p>
<h3 id="ä¸‹è½½è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°"><a href="#ä¸‹è½½è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="ä¸‹è½½è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°"></a>ä¸‹è½½è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</h3><p>maven å°±åƒæ˜¯ä¸€ä¸ªå¤§ä»“åº“ï¼Œé‡Œé¢æ˜¯å¾ˆå¤šçš„jaråŒ…ï¼Œæˆ‘ä»¬éœ€è¦çš„æ—¶å€™å°±å»é‡Œé¢æ‹¿ï¼Œæ‰€ä»¥è¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ª â€˜â€˜æœ¬åœ°ä»“åº“â€™â€™ï¼ˆä¸èƒ½éœ€è¦ä»€ä¹ˆå†å»ç½‘ä¸Šä¸‹è½½å§ï¼Œé€Ÿåº¦æœ‰æ—¶å€™å¾ˆæ…¢çš„ï¼‰,é‚£ä¹ˆå’±ä»¬å°±å¾—å…ˆæŠŠè¿™äº›jaråŒ…ä¸‹è½½åˆ°å’±ä»¬æœ¬åœ°æ–¹ä¾¿ä½¿ç”¨ï¼Œ<br>é»˜è®¤è¯·å†µä¸‹ï¼Œè¿™ä¸ªæœ¬åœ°ä»“åº“ä¼šåœ¨/user/name/.m2ä¸‹é¢ï¼ˆname æ˜¯ä½ çš„ç”¨æˆ·åï¼‰ã€‚ä¸ºäº†æ–¹ä¾¿ï¼ŒæŠŠæœ¬åœ°ä»“åº“æ”¹åœ¨Mavenå®‰è£…ç›®å½•ä¸‹ã€‚</p>
<p>æ‰“å¼€å®‰è£…ç›®å½•ä¸‹çš„confç›®å½•ä¸‹çš„<code>settings.xml</code><br>åŠ å…¥<code>&lt;localRepository&gt;/Library/ApacheMaven/repository &lt;/localRepository&gt;</code></p>
<p>è¾“å…¥<code>mvn help:system</code></p>
<p>![image-20210824175620786](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824175620786.png)</p>
<p>å¤šäº†ä¸€ä¸ªrepositoryæ–‡ä»¶å¤¹ï¼Œè¿™å°±æ˜¯å’±ä»¬ä»è¿œç¨‹ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“çš„æ–‡ä»¶ã€‚</p>
<h2 id="3-åˆ›å»ºMavené¡¹ç›®"><a href="#3-åˆ›å»ºMavené¡¹ç›®" class="headerlink" title="3.åˆ›å»ºMavené¡¹ç›®"></a>3.åˆ›å»ºMavené¡¹ç›®</h2><h3 id="a-ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºMavené¡¹ç›®"><a href="#a-ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºMavené¡¹ç›®" class="headerlink" title="a.ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºMavené¡¹ç›®"></a>a.ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºMavené¡¹ç›®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mvn archetype:generate -DgroupId=cn.xuanliu.helloword -DartifactId=helloworld -Dpackage=cn.cxuanliu.helloword -Dversion=1.0-SNAPSHOT -DarchetypeArtifactId=maven-archetype-quickstart</span><br></pre></td></tr></table></figure>

<ul>
<li><code>mvn</code>:è¡¨ç¤ºä½¿ç”¨çš„æ˜¯mavenå‘½ä»¤ã€‚</li>
<li><code>archetype:generate</code>:è¡¨ç¤ºä½¿ç”¨generateè¿™ä¸ªæ’ä»¶ä¸ºæˆ‘ä»¬çš„mavené¡¹ç›®è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªmavenéª¨æ¶ï¼Œå³æˆ‘ä»¬é¡¹ç›®çš„å·¥ç¨‹ç»“æ„ã€‚åè¾¹è·Ÿçš„æ˜¯è¯¥æ’ä»¶ä¸ºæˆ‘ä»¬åˆ›å»ºå·¥ç¨‹ç»“æ„æ‰€éœ€è¦çš„ä¸€è¿ä¸²çš„å‚æ•°ã€‚</li>
<li><code>-DgroupId</code>:æ ‡è¯†é¡¹ç›®çš„åæ ‡å…ƒç´ ä¹‹ä¸€ï¼Œé¡¹ç›®åŒ…åï¼Œå¯ä»¥æ˜¯ï¼šåŸŸåçš„åå†™+é¡¹ç›®åã€‚</li>
<li><code>-DartifactId</code>:æ ‡è¯†é¡¹ç›®çš„åæ ‡å…ƒç´ ä¹‹ä¸€ï¼Œå®ƒçš„å€¼ä¸ºæˆ‘ä»¬çš„é¡¹ç›®åã€‚æˆ‘è¿™é‡ŒæŒ‡å®šæˆ‘è¦ç”Ÿæˆçš„é¡¹ç›®åä¸ºhellowordã€‚</li>
<li><code>-Dpackage</code>:æ ‡è¯†é¡¹ç›®çš„åæ ‡å…ƒç´ ä¹‹ä¸€,è¿™é‡Œå€¼å°±è·ŸDgroupIdçš„å€¼ä¿æŒä¸€è‡´å³å¯ã€‚æ­¤å±æ€§åœ¨å‘½ä»¤è¡Œä¸­å¯é€‰ã€‚</li>
<li><code>-Dversion</code>:æŒ‡å®šç‰ˆæœ¬å·ã€‚æ­¤å±æ€§åœ¨å‘½ä»¤è¡Œä¸­å¯é€‰</li>
<li><code>-DarchetypeArtifactId</code>:è¡¨ç¤ºæˆ‘ä»¬ç”Ÿæˆçš„å·¥ç¨‹ç»“æ„ä¸ºå“ªä¸€ç§ï¼Œè¿™é‡Œçš„å±æ€§å€¼ä¸º<code>maven-archetype-quickstart</code>è¡¨ç¤ºç”Ÿæˆå·¥ç¨‹ç›®å½•ç»“æ„ä¸ºquickstartçš„ç»“æ„ã€‚å…¶å€¼è¿˜å¯ä»¥ä¸º<code>maven-archetype-webapp</code>è¡¨ç¤ºç”Ÿæˆçš„å·¥ç¨‹ç›®å½•ç»“æ„ä¸ºwebappçš„ç»“æ„ã€‚</li>
</ul>
<p>![image-20210824155803431](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824155803431.png)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç›®å½•è§£è¯»ï¼šåœ¨mavené¡¹ç›®çš„å¼€å‘ä¸­ï¼Œæ‰€æœ‰çš„æºä»£ç æ”¾åœ¨æ–‡ä»¶å¤¹ /src/main/java/ä¸‹, æ‰€æœ‰çš„å•å…ƒæµ‹è¯•ä»£ç æ”¾å…¥ /src/test/java/ã€‚</span><br><span class="line">pom.xml æè¿°äº†æ•´ä¸ªé¡¹ç›®çš„ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<h3 id="b-ä½¿ç”¨IDEAåˆ›å»ºMavené¡¹ç›®"><a href="#b-ä½¿ç”¨IDEAåˆ›å»ºMavené¡¹ç›®" class="headerlink" title="b.ä½¿ç”¨IDEAåˆ›å»ºMavené¡¹ç›®"></a>b.ä½¿ç”¨IDEAåˆ›å»ºMavené¡¹ç›®</h3><p><code>Create New Project</code>ï¼Œé€‰æ‹©<code>Maven</code>ï¼Œå‹¾é€‰<code>Create from archetype</code></p>
<p><img src="https://img2018.cnblogs.com/blog/1068501/201809/1068501-20180914191722384-1695467171.png" alt="img"></p>
<p>å†™<code>Maven</code>çš„åæ ‡ï¼Œâ€œgroupIdâ€ï¼Œâ€œartifactIdâ€ï¼Œä»¥åŠâ€œversionâ€ï¼Œå…¶ä¸­groupIdæ˜¯å…¬å¸åŸŸåçš„åå†™ï¼Œè€ŒartifactIdæ˜¯é¡¹ç›®åæˆ–æ¨¡å—åï¼Œversionå°±æ˜¯è¯¥é¡¹ç›®æˆ–æ¨¡å—æ‰€å¯¹åº”çš„ç‰ˆæœ¬å·ã€‚</p>
<p>![image-20210824174243856](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824174243856.png)</p>
<p>![image-20210824180029943](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824180029943.png)</p>
<p>mavenä¼šè‡ªåŠ¨ä¸‹è½½mavenä¾èµ–ï¼Œå½“æ‰€æœ‰çš„éƒ½è‡ªåŠ¨å®Œæˆåï¼Œåˆ›å»ºçš„mavené¡¹ç›®ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š </p>
<p>![image-20210824180441439](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210824180441439.png)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒæŠŠé¡¹ç›®çš„ä¸»ä»£ç æ”¾åˆ° src/main/java ç›®å½•ä¸‹ï¼ˆéµå¾ªMavençº¦å®šï¼‰ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çš„é…ç½®ï¼ŒMavenåœ¨è¿è¡Œæ—¶å°†è‡ªåŠ¨æœå¯»è¯¥ç›®å½•ä¸‹çš„ä¸»ä»£ç ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰ä¸ºäº†ä½¿é¡¹ç›®çš„ç»“æ„ä¿æŒæ¸…æ™°ï¼Œæ‰€ä»¥IDEAè‡ªåŠ¨åˆ›å»ºäº† test æ–‡ä»¶ï¼Œå°†ä¸»ä»£ç å’Œæµ‹è¯•ä»£ç åˆ†åˆ«æ”¾åˆ°äº†ç‹¬ç«‹çš„ç›®å½•ä¸­ã€‚</span><br><span class="line">ï¼ˆ3ï¼‰pom.xmlä¸ºMavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å…¨ç§°ä¸ºï¼ˆProject Object Modelï¼Œé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼‰ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨Mavençš„æ—¶å€™ä¹Ÿé€šå¸¸åœ¨è¿™ä¸ªpom .xml ä¸­é…ç½®ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml:"></a>pom.xml:</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>    <span class="comment">&lt;!-- xmlå¤´ï¼ŒæŒ‡å®šxmlæ–‡æ¡£çš„ç‰ˆæœ¬ä¿¡æ¯å’Œç¼–ç æ–¹å¼ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;project&gt;ä¸ºæ‰€æœ‰pom.xmlçš„æ ¹å…ƒç´ ï¼Œå£°æ˜äº†ä¸€äº›POMç›¸å…³çš„å‘½åç©ºé—´åŠxsdå…ƒç´ ï¼Œ</span></span><br><span class="line"><span class="comment">  è¿™äº›å…ƒç´ ä¸æ˜¯pom.xmlä¸­å¿…é¡»æ·»åŠ çš„ï¼Œä½†æ˜¯ä½¿ç”¨è¿™äº›å±æ€§å¯ä»¥ä½¿ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œ</span></span><br><span class="line"><span class="comment">  å¦‚IDEä¸­çš„xmlç¼–è¾‘å™¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿç¼–è¾‘POMã€‚ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;modeVersion&gt; æŒ‡å®šäº†å½“å‰POMæ¨¡æ¿çš„ç‰ˆæœ¬ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.liuxuan<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    <span class="comment">&lt;!-- &lt;groupId&gt; å®šä¹‰äº†è¯¥é¡¹ç›®å±äºå“ªä¸ªé¡¹ç›®ç»„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ideamaven<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>   <span class="comment">&lt;!-- &lt;&lt;artifactId&gt;å®šä¹‰äº†å½“å‰Mavené¡¹ç›®åœ¨é¡¹ç›®ç»„çš„å”¯ä¸€ä¸€ä¸ªID,é¡¹ç›®å --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  <span class="comment">&lt;!--&lt;version&gt;å®šä¹‰äº†Hello Mavené¡¹ç›®å½“å‰çš„ç‰ˆæœ¬å· 1.0-SNAPSHOT ä¸ºIDEAé»˜è®¤çš„åˆå§‹ç‰ˆæœ¬å· --&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ²¡æœ‰å®é™…çš„javaä»£ç æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæ•´çš„åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®çš„pom.xmlï¼Œè¿™è¯´æ˜äº†Mavenå¯ä»¥ä½¿é¡¹ç›®å¯¹è±¡æ¨¡å‹æœ€å¤§ç¨‹åº¦çš„ä¸ä»£ç ç›¸ç‹¬ç«‹ï¼Œè¿™å……åˆ†ä½“ç°äº†è§£è€¦çš„åŸåˆ™å’Œç†å¿µï¼ä¸ºå¼€å‘è€…èŠ‚çœäº†æ—¶é—´ï¼Œå¤§å¤§ç¼©çŸ­äº†é¡¹ç›®å¼€å‘å‘¨æœŸã€‚åœ¨é¡¹ç›®å¼€å‘åˆ°ç¨³å®šæœŸæ—¶ï¼Œå‡çº§ç‰ˆæœ¬æ—¶ï¼Œå¼€å‘è€…å¯ä»¥ä¸éœ€è¦ä¿®æ”¹å®é™…çš„ java ä»£ç ï¼Œè€Œæ˜¯åªä¿®æ”¹pom.xmlï¼Œè¿™ä¸€ç‰¹ç‚¹ä½¿Mavenè¢«å¹¿æ³›çš„ä½¿ç”¨ã€‚</p>
<h2 id="4-ç¼–å†™ä¸»ä»£ç "><a href="#4-ç¼–å†™ä¸»ä»£ç " class="headerlink" title="4.ç¼–å†™ä¸»ä»£ç "></a>4.ç¼–å†™ä¸»ä»£ç </h2><p><strong>é¡¹ç›®ä¸»ä»£ç å’Œæµ‹è¯•ä»£ç ä¸åŒï¼Œä¸»ä»£ç ä¼šè¢«æ‰“åŒ…åˆ°æœ€ç»ˆçš„æ„ä»¶ä¸­ï¼Œè€Œæµ‹è¯•ä»£ç åªåœ¨è¿è¡Œæµ‹è¯•æ—¶ç”¨åˆ°ï¼Œä¸ä¼šè¢«æ‰“åŒ…ã€‚</strong></p>
<p><strong>åœ¨src/main/javaä¸­åˆ›å»ºæ–‡ä»¶com/feiyu/web/helloworld/helloWorld.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello liuxuan&#x27;s Maven!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> hello().sayHello());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å³é”®è¿è¡Œã€‚</p>
<p>ç›®å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---pom.xmlã€€ã€€ã€€ã€€æ ¸å¿ƒé…ç½®ï¼Œé¡¹ç›®æ ¹ä¸‹</span><br><span class="line">---src</span><br><span class="line">ã€€ã€€---mainã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">ã€€ã€€ã€€   ---javaã€€ã€€ã€€ã€€javaæºç ç›®å½•</span><br><span class="line">ã€€ã€€     ---resourcesã€€  javaé…ç½®æ–‡ä»¶ç›®å½•</span><br><span class="line">ã€€ã€€---test</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€---javaã€€ã€€ã€€ã€€æµ‹è¯•æºç ç›®å½•</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€---resourcesã€€  æµ‹è¯•é…ç½®ç›®å½•</span><br><span class="line">---target    è¾“å‡ºç›®å½•</span><br></pre></td></tr></table></figure>

<h2 id="5-Mavenä»“åº“"><a href="#5-Mavenä»“åº“" class="headerlink" title="5.Mavenä»“åº“"></a>5.Mavenä»“åº“</h2><p>Maven ä»“åº“æ˜¯é¡¹ç›®ä¸­ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ï¼Œè¿™ä¸ªåº“æ‰€åœ¨çš„ä½ç½®å«åšä»“åº“ã€‚åœ¨ Maven ä¸­ï¼Œä»»ä½•ä¸€ä¸ªä¾èµ–ã€æ’ä»¶æˆ–è€…é¡¹ç›®æ„å»ºçš„è¾“å‡ºï¼Œéƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ„ä»¶ã€‚Maven ä»“åº“èƒ½å¸®åŠ©æˆ‘ä»¬ç®¡ç†æ„ä»¶ï¼ˆä¸»è¦æ˜¯JARï¼‰ï¼Œå®ƒå°±æ˜¯æ”¾ç½®æ‰€æœ‰JARæ–‡ä»¶ï¼ˆWARï¼ŒZIPï¼ŒPOMç­‰ç­‰ï¼‰çš„åœ°æ–¹ã€‚</p>
<p>Maven ä»“åº“æœ‰ä¸‰ç§ç±»å‹ï¼š</p>
<ul>
<li>æœ¬åœ°ï¼ˆlocalï¼‰</li>
<li>ä¸­å¤®ï¼ˆcentralï¼‰</li>
<li>è¿œç¨‹ï¼ˆremoteï¼‰</li>
</ul>
<h3 id="a-æœ¬åœ°ä»“åº“"><a href="#a-æœ¬åœ°ä»“åº“" class="headerlink" title="a.æœ¬åœ°ä»“åº“"></a>a.æœ¬åœ°ä»“åº“</h3><p>ç¬¬ä¸€æ¬¡æ‰§è¡Œ maven å‘½ä»¤çš„æ—¶å€™æ‰è¢«åˆ›å»ºã€‚è¿è¡Œ Maven çš„æ—¶å€™ï¼ŒMaven æ‰€éœ€è¦çš„ä»»ä½•æ„ä»¶éƒ½æ˜¯ç›´æ¥ä»æœ¬åœ°ä»“åº“è·å–çš„ã€‚å¦‚æœæœ¬åœ°ä»“åº“æ²¡æœ‰ï¼Œå®ƒä¼šé¦–å…ˆå°è¯•ä»è¿œç¨‹ä»“åº“ä¸‹è½½æ„ä»¶è‡³æœ¬åœ°ä»“åº“ï¼Œç„¶åå†ä½¿ç”¨æœ¬åœ°ä»“åº“çš„æ„ä»¶ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ç®¡Linuxè¿˜æ˜¯ Windowsï¼Œæ¯ä¸ªç”¨æˆ·åœ¨è‡ªå·±çš„ç”¨æˆ·ç›®å½•ä¸‹éƒ½æœ‰ä¸€ä¸ªè·¯å¾„åä¸º .m2/respository/ çš„ä»“åº“ç›®å½•ã€‚</p>
<p>å¯ä»¥ä¿®æ”¹é»˜è®¤ä½ç½®ï¼Œæ”¹å˜settings.xmlä¸­çš„é…ç½®ã€‚<br><code>&lt;localRepository&gt;C:/MyLocalRepository&lt;/localRepository&gt;</code></p>
<h3 id="b-ä¸­å¤®ä»“åº“"><a href="#b-ä¸­å¤®ä»“åº“" class="headerlink" title="b.ä¸­å¤®ä»“åº“"></a>b.ä¸­å¤®ä»“åº“</h3><p>Maven ä¸­å¤®ä»“åº“æ˜¯ç”± Maven ç¤¾åŒºæä¾›çš„ä»“åº“ï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡å¸¸ç”¨çš„åº“ã€‚</p>
<p>ä¸­å¤®ä»“åº“åŒ…å«äº†ç»å¤§å¤šæ•°æµè¡Œçš„å¼€æºJavaæ„ä»¶ï¼Œä»¥åŠæºç ã€ä½œè€…ä¿¡æ¯ã€SCMã€ä¿¡æ¯ã€è®¸å¯è¯ä¿¡æ¯ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç®€å•çš„Javaé¡¹ç›®ä¾èµ–çš„æ„ä»¶éƒ½å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ°ã€‚</p>
<p>ä¸­å¤®ä»“åº“çš„å…³é”®æ¦‚å¿µï¼š</p>
<ul>
<li>è¿™ä¸ªä»“åº“ç”± Maven ç¤¾åŒºç®¡ç†ã€‚</li>
<li>ä¸éœ€è¦é…ç½®ã€‚</li>
<li>éœ€è¦é€šè¿‡ç½‘ç»œæ‰èƒ½è®¿é—®ã€‚</li>
</ul>
<p>è¦æµè§ˆä¸­å¤®ä»“åº“çš„å†…å®¹ï¼Œmaven ç¤¾åŒºæä¾›äº†ä¸€ä¸ª URLï¼š<a href="http://search.maven.org/#browse%E3%80%82%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E4%BB%93%E5%BA%93%EF%BC%8C%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E5%8F%AF%E4%BB%A5%E6%90%9C%E7%B4%A2%E6%89%80%E6%9C%89%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%8F%96%E7%9A%84%E4%BB%A3%E7%A0%81%E5%BA%93%E3%80%82">http://search.maven.org/#browseã€‚ä½¿ç”¨è¿™ä¸ªä»“åº“ï¼Œå¼€å‘äººå‘˜å¯ä»¥æœç´¢æ‰€æœ‰å¯ä»¥è·å–çš„ä»£ç åº“ã€‚</a></p>
<h3 id="c-è¿œç¨‹ä»“åº“"><a href="#c-è¿œç¨‹ä»“åº“" class="headerlink" title="c.è¿œç¨‹ä»“åº“"></a>c.è¿œç¨‹ä»“åº“</h3><p>ä¸­å¤®ä»“åº“æ˜¯ä¸€äº›å¸¸ç”¨çš„åº“ï¼Ÿè¿œç¨‹ä»“åº“æ˜¯å¼€å‘äººå‘˜è‡ªå·±å®šåˆ¶ä»“åº“ï¼ŒåŒ…å«äº†æ‰€éœ€è¦çš„ä»£ç åº“æˆ–è€…å…¶ä»–å·¥ç¨‹ä¸­ç”¨åˆ°çš„ jar æ–‡ä»¶ã€‚</p>
<h3 id="d-Mavenä¾èµ–æœç´¢é¡ºåº"><a href="#d-Mavenä¾èµ–æœç´¢é¡ºåº" class="headerlink" title="d.Mavenä¾èµ–æœç´¢é¡ºåº"></a>d.Mavenä¾èµ–æœç´¢é¡ºåº</h3><ul>
<li><strong>æ­¥éª¤ 1</strong> ï¼ åœ¨æœ¬åœ°ä»“åº“ä¸­æœç´¢ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œæ‰§è¡Œæ­¥éª¤ 2ï¼Œå¦‚æœæ‰¾åˆ°äº†åˆ™æ‰§è¡Œå…¶ä»–æ“ä½œã€‚</li>
<li><strong>æ­¥éª¤ 2</strong> ï¼ åœ¨ä¸­å¤®ä»“åº“ä¸­æœç´¢ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿œç¨‹ä»“åº“å·²ç»è®¾ç½®ï¼Œåˆ™æ‰§è¡Œæ­¥éª¤ 4ï¼Œå¦‚æœæ‰¾åˆ°äº†åˆ™ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä¸­ä»¥å¤‡å°†æ¥å¼•ç”¨ã€‚</li>
<li><strong>æ­¥éª¤ 3</strong> ï¼ å¦‚æœè¿œç¨‹ä»“åº“æ²¡æœ‰è¢«è®¾ç½®ï¼ŒMaven å°†ç®€å•çš„åœæ»å¤„ç†å¹¶æŠ›å‡ºé”™è¯¯ï¼ˆæ— æ³•æ‰¾åˆ°ä¾èµ–çš„æ–‡ä»¶ï¼‰ã€‚</li>
<li><strong>æ­¥éª¤ 4</strong> ï¼ åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¿œç¨‹ä»“åº“ä¸­æœç´¢ä¾èµ–çš„æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä»¥å¤‡å°†æ¥å¼•ç”¨ï¼Œå¦åˆ™ Maven å°†åœæ­¢å¤„ç†å¹¶æŠ›å‡ºé”™è¯¯ï¼ˆæ— æ³•æ‰¾åˆ°ä¾èµ–çš„æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
<h3 id="e-æ›´æ¢Mavené˜¿é‡Œäº‘ä»“åº“"><a href="#e-æ›´æ¢Mavené˜¿é‡Œäº‘ä»“åº“" class="headerlink" title="e.æ›´æ¢Mavené˜¿é‡Œäº‘ä»“åº“"></a>e.æ›´æ¢Mavené˜¿é‡Œäº‘ä»“åº“</h3><p>Mavenæ ¹ç›®å½•ä¸‹ï¼Œconfæ–‡ä»¶å¤¹ä¸‹setting.xmlæ–‡ä»¶ï¼ŒmirrorsèŠ‚ç‚¹ä¸Šä¿®æ”¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;mirrors&gt;</span><br><span class="line">  &lt;mirror&gt;</span><br><span class="line">    &lt;id&gt;alimaven&lt;/id&gt;</span><br><span class="line">    &lt;name&gt;aliyun maven&lt;/name&gt;</span><br><span class="line">    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</span><br><span class="line">    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class="line">  &lt;/mirror&gt;</span><br><span class="line">&lt;/mirrors&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼špom.xmlæ–‡ä»¶é‡Œæ·»åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;repositories&gt;  </span><br><span class="line">        &lt;repository&gt;  </span><br><span class="line">            &lt;id&gt;alimaven&lt;/id&gt;  </span><br><span class="line">            &lt;name&gt;aliyun maven&lt;/name&gt;  </span><br><span class="line">            &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;  </span><br><span class="line">            &lt;releases&gt;  </span><br><span class="line">                &lt;enabled&gt;true&lt;/enabled&gt;  </span><br><span class="line">            &lt;/releases&gt;  </span><br><span class="line">            &lt;snapshots&gt;  </span><br><span class="line">                &lt;enabled&gt;false&lt;/enabled&gt;  </span><br><span class="line">            &lt;/snapshots&gt;  </span><br><span class="line">        &lt;/repository&gt;  </span><br><span class="line">&lt;/repositories&gt;</span><br></pre></td></tr></table></figure>

<h2 id="6-Mavenå‘½ä»¤"><a href="#6-Mavenå‘½ä»¤" class="headerlink" title="6.Mavenå‘½ä»¤"></a>6.Mavenå‘½ä»¤</h2><p><code>maven -version   Mavenç‰ˆæœ¬åŠæ§åˆ¶ä¿¡æ¯</code></p>
<p><code>mvn archetype:create  -DgroupId=   DartifactId=   æ„å»ºjavaé¡¹ç›®</code>   </p>
<p><code>mvn archetype:create  -DgroupId=   DartifactId=   -DarchetypeArtifactId=maven-archetype-webapp lsåˆ›å»ºwebé¡¹ç›®</code></p>
<p><code>mvn compile     ç¼–è¯‘æºä»£ç </code>     </p>
<p><code>mvn test-compile    ç¼–è¯‘æµ‹è¯•ä»£ç </code></p>
<p><code>mvn clean   æ‰“åŒ…å‰æ¸…ç†æ‰ä¹‹å‰æœ‰è¿‡æ‰“åŒ…çš„æ–‡ä»¶å¤¹target</code></p>
<p><code>mvn package  æ‰“åŒ…ï¼ŒpackageåŒ…æ‹¬äº†ç¼–è¯‘ã€æ‰“åŒ…è¿™ä¸¤æ­¥</code>    </p>
<p>![image-20210825113016694](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210825113016694.png)</p>
<p><code>mvn install   å°†æ‰“åŒ…å¥½çš„jaråŒ…éƒ¨ç½²åˆ°æœ¬åœ°ï¼Œæ”¾åˆ°æœ¬åœ°ä»“åº“</code> </p>
<h2 id="7-è¿è¡ŒjaråŒ…"><a href="#7-è¿è¡ŒjaråŒ…" class="headerlink" title="7.è¿è¡ŒjaråŒ…"></a>7.è¿è¡ŒjaråŒ…</h2><p><code>java -jar ideamaven-1.0-SNAPSHOT.jar</code></p>
<p>é—®é¢˜ï¼š<code>ideamaven-1.0-SNAPSHOT.jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±æ€§</code></p>
<p>è§£å†³ï¼šæ‰¾ä¸åˆ°<code>main</code>æ–¹æ³•ï¼Œéœ€è¦åœ¨<code>pom.xml</code>é…ç½®<code>main</code>æ–¹æ³•çš„ä½ç½®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--  æ·»åŠ mainæ–¹æ³•   --&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.2.1&lt;/version&gt;</span><br><span class="line">  &lt;executions&gt;</span><br><span class="line">    &lt;execution&gt;</span><br><span class="line">      &lt;phase&gt;package&lt;/phase&gt;</span><br><span class="line">      &lt;goals&gt;</span><br><span class="line">        &lt;goal&gt;shade&lt;/goal&gt;</span><br><span class="line">      &lt;/goals&gt;</span><br><span class="line">      &lt;configuration&gt;</span><br><span class="line">        &lt;transformers&gt;</span><br><span class="line">          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;</span><br><span class="line">            &lt;!-- åœ¨è¿™é‡ŒæŒ‡å®šå…¥å£ç±» --&gt;</span><br><span class="line">            &lt;mainClass&gt;com.liuxuan.hello&lt;/mainClass&gt;</span><br><span class="line">          &lt;/transformer&gt;</span><br><span class="line">        &lt;/transformers&gt;</span><br><span class="line">      &lt;/configuration&gt;</span><br><span class="line">    &lt;/execution&gt;</span><br><span class="line">  &lt;/executions&gt;</span><br><span class="line">&lt;/plugin&gt;</span><br></pre></td></tr></table></figure>

<p>mvnæ‰“åŒ…å’ŒjaråŒ…è¿è¡Œé—®é¢˜æœªè§£å†³ã€‚</p>
<p>é—®é¢˜ï¼š<code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project ideamaven: Compilation failure</code></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://console.cloud.baidu-int.com/devops/icode/repos/baidu/netdisk/platform-idproducter/reviews/18480257/files/base...latest/service/create_service.go">https://console.cloud.baidu-int.com/devops/icode/repos/baidu/netdisk/platform-idproducter/reviews/18480257/files/base...latest/service/create_service.go</a></p>
<p><a href="https://blog.csdn.net/wfy2695766757/article/details/81189291">https://blog.csdn.net/wfy2695766757/article/details/81189291</a></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>macå®‰è£…å’Œé…ç½®javaç¯å¢ƒ</title>
    <url>/2021/08/25/myblog/JAVA/MAC%E4%B8%8B%E5%AE%89%E8%A3%85java%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h1 id="MACä¸‹javaç¯å¢ƒå®‰è£…"><a href="#MACä¸‹javaç¯å¢ƒå®‰è£…" class="headerlink" title="MACä¸‹javaç¯å¢ƒå®‰è£…"></a>MACä¸‹javaç¯å¢ƒå®‰è£…</h1><h2 id="1-ä¸‹è½½jdk8å¹¶ä¸”å®‰è£…"><a href="#1-ä¸‹è½½jdk8å¹¶ä¸”å®‰è£…" class="headerlink" title="1.ä¸‹è½½jdk8å¹¶ä¸”å®‰è£…"></a>1.ä¸‹è½½jdk8å¹¶ä¸”å®‰è£…</h2><p><code>java -version</code>çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰å®‰è£…</p>
<p>è‹¥æ²¡æœ‰ï¼Œ<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>
<h2 id="2-é…ç½®javaç¯å¢ƒ"><a href="#2-é…ç½®javaç¯å¢ƒ" class="headerlink" title="2.é…ç½®javaç¯å¢ƒ"></a>2.é…ç½®javaç¯å¢ƒ</h2><p>æˆ‘ä»¬å¦‚æœè¦åœ¨terminalç»ˆç«¯ä¸Šä½¿JAVAå‘½ä»¤ï¼Œè¿˜æœ‰è®©å…¶å®åº”ç”¨çŸ¥é“JDK1.8ç¯å¢ƒçš„å­˜åœ¨ï¼Œé‚£æˆ‘ä»¬è¿˜éœ€è¦é…ç½®ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ã€‚</p>
<p>è®¿è¾¾ä¸­ï¼Œæ‰“å¼€èµ„æºåº“ï¼Œæ‰“å¼€javaï¼Œä¸‹é¢æœ‰jdkç›®å½•ã€‚</p>
<p><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home</code>  å³é”®æ‰“å¼€ç»ˆç«¯</p>
<p>ç»ˆç«¯è¿è¡Œï¼š<code>sudo vim/etc/profile</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home&quot;</span><br><span class="line">export JAVA_HOME</span><br><span class="line">CLASS_PATH=&quot;$JAVA_HOME/lib&quot;</span><br><span class="line">PATH=&quot;.$PATH:$JAVA_HOME/bin&quot;</span><br></pre></td></tr></table></figure>

<p><code>source /etc/profile  //ä½¿é…ç½®ç”Ÿæ•ˆ</code></p>
<p><code>echo $JAVA_HOME //å¾—åˆ°é…ç½®çš„è·¯å¾„ï¼Œè¯´æ˜é…ç½®æˆåŠŸ</code></p>
<h2 id="3-vimä¸€ä¸ªjavaç¨‹åº"><a href="#3-vimä¸€ä¸ªjavaç¨‹åº" class="headerlink" title="3.vimä¸€ä¸ªjavaç¨‹åº"></a>3.vimä¸€ä¸ªjavaç¨‹åº</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ–‡ä»¶åéœ€è¦è·Ÿjavaæ–‡ä»¶ä¸­çš„ç±»åä¸€è‡´ï¼</span><br><span class="line">public class helloworld &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        System.out.println(&quot;Hello World&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">javac helloworld.java   //ç”Ÿæˆ.classå­—èŠ‚ç æ–‡ä»¶</span><br><span class="line">java helloworld    //è¿è¡Œ</span><br></pre></td></tr></table></figure>

<h3 id="4-java-IDE"><a href="#4-java-IDE" class="headerlink" title="4.java IDE"></a>4.java IDE</h3><p>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://www.jetbrains.com/">https://www.jetbrains.com/</a></p>
<p>ä¸‹è½½ç ´è§£åŒ…ï¼Œä¿å­˜åœ¨ç™¾åº¦äº‘ä¸­äº†ã€‚</p>
<p>å®‰è£…IDEAï¼Œåœ¨æ³¨å†Œé¡µé¢ï¼Œé€‰æ‹© Evaluate for freeï¼Œç‚¹å‡» Evaluate è¯•ç”¨è½¯ä»¶</p>
<p>å°†ä¸‹è½½çš„ç ´è§£æ–‡ä»¶å¤¹ä¸­çš„ jetbrains-agent.jar æ–‡ä»¶æ‹–åŠ¨åˆ°è½¯ä»¶å†…ï¼Œç„¶åç‚¹å‡» Restart é‡å¯è½¯ä»¶</p>
<p>é‡å¯å®Œæˆä¹‹åï¼Œå¦‚æœå¼¹å‡ºäº†æ¿€æ´»æ–¹å¼ï¼Œé€‰æ‹© Activation codeï¼Œæ²¡æœ‰å¼¹å‡ºåˆ™ä¸ç”¨ç®¡ï¼Œå¤åˆ¶ç ´è§£æ–‡ä»¶ä¸­çš„ Activation codeï¼Œç„¶åé€‰æ‹©æ¿€æ´»ï¼Œé‡å¯è½¯ä»¶</p>
<p>é‡å¯è½¯ä»¶ï¼Œåœ¨ Get Help ä¸­ç‚¹å‡» About ï¼Œå¯ä»¥æŸ¥çœ‹æ¿€æ´»æƒ…å†µ</p>
<p><strong>ä¸å¾—è¡Œ</strong></p>
<p>æ›´æ–°ï¼š<a href="https://www.jianshu.com/p/bbc7cd207a85">https://www.jianshu.com/p/bbc7cd207a85</a></p>
<h3 id="5-ç”¨ideaçš„ç¬¬ä¸€ä¸ªjavaç¨‹åº"><a href="#5-ç”¨ideaçš„ç¬¬ä¸€ä¸ªjavaç¨‹åº" class="headerlink" title="5.ç”¨ideaçš„ç¬¬ä¸€ä¸ªjavaç¨‹åº"></a>5.ç”¨ideaçš„ç¬¬ä¸€ä¸ªjavaç¨‹åº</h3><p>![image-20210823173916506](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210823173916506.png)</p>
<p>å³é”®è¿è¡Œã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatiså…¥é—¨</title>
    <url>/2022/03/12/myblog/JAVA/Mybatis%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<p><strong>mybatis</strong></p>
<h3 id="â›½ï¸ç¬¬ä¸€è¯¾"><a href="#â›½ï¸ç¬¬ä¸€è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸€è¯¾"></a>â›½ï¸ç¬¬ä¸€è¯¾</h3><p>âœ…å¼€å‘æ­¥éª¤ï¼š</p>
<p>1.æ·»åŠ Mybatisçš„åæ ‡ã€mysqlçš„é©±åŠ¨ï¼ˆpom.xmlä¸­ï¼‰</p>
<p>2.åˆ›å»ºæ•°æ®è¡¨ã€ç¼–å†™å¯¹åº”çš„å®ä½“ç±»ï¼ˆæ“ä½œå®ä½“ä»è€Œé—´æ¥æ“ä½œè¡¨ï¼ŒæŸ¥è¯¢è¡¨ä»è€Œé—´æ¥å°è£…å®ä½“ï¼‰</p>
<p>3.ç¼–å†™æ˜ å°„æ–‡ä»¶UserMapper.xml  ä¸»è¦æè¿°sqlæ–‡ä»¶ï¼ˆç¬¬ä¸€ä¸ªç‚¹ï¼šnamespaceå‘½åç©ºé—´ï¼Œç¬¬äºŒä¸ªç‚¹ï¼šidå’ŒresultTypeï¼Œé€šè¿‡å‘½åç©ºé—´.idè¿›è¡Œè°ƒç”¨ï¼ŒresultTypeç»“æœé›†ï¼Œå°è£…åˆ°æŒ‡å®šçš„ç±»å‹ä¸­ï¼‰</p>
<p>4.ç¼–å†™æ ¸å¿ƒæ–‡ä»¶sqlMapConfig.xmlï¼Œé…ç½®mybatisæ ¸å¿ƒå†…å®¹çš„ï¼Œé…ç½®æ•°æ®æºä¿¡æ¯ã€åŠ è½½æ˜ å°„æ–‡ä»¶ï¼ˆå¯èƒ½å¾ˆå¤šï¼‰ã€‚</p>
<p>5.ç¼–å†™æµ‹è¯•ç±»ï¼ˆ1.è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶ 2.è·å¾—sessionå·¥å‚å¯¹è±¡ 3.è·å¾—sessionä¼šè¯å¯¹è±¡ 4.æ‰§è¡Œæ“ä½œ 5.æ‰“å°æ•°æ® 6.é‡Šæ”¾èµ„æºï¼‰</p>
<p>mybatisæ˜ å°„æ–‡ä»¶ï¼š </p>
<p><img src="https://img-blog.csdnimg.cn/6779525e71d546109fea38a2120c0479.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Pasted Graphic.tiff"></p>
<p>DTDçº¦æŸå¤´åœ¨å†™æ ‡ç­¾æˆ–è€…å±æ€§æ—¶èƒ½ç»™æç¤ºã€‚</p>
<p>âœ…ä»€ä¹ˆæ˜¯mybatisï¼Ÿ</p>
<p>æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatisï¼Œ2010å¹´è¿ç§»åˆ°google codeï¼Œæ”¹åä¸ºmybatisï¼Œ2013å¹´è¿ç§»åˆ°githubã€‚</p>
<p>Mybatisæ˜¯ä¸€ä¸ªå®ç°äº†æ•°æ®æŒä¹…åŒ–çš„å¼€æºæ¡†æ¶ï¼Œç®€å•ç†è§£å°±æ˜¯å¯¹JDBCè¿›è¡Œå°è£…ã€‚</p>
<p>ORMappingï¼šObject Relationship Mapping å¯¹è±¡å…³ç³»æ˜ å°„</p>
<p>å¯¹è±¡ï¼šé¢å‘å¯¹è±¡</p>
<p>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</p>
<p>æ˜ å°„ï¼šjavaåˆ°mysqlçš„æ˜ å°„ï¼Œå¼€å‘è€…ä»¥é¢å‘å¯¹è±¡çš„æ€æƒ³æ¥ç®¡ç†æ•°æ®åº“ã€‚</p>
<p>âœ…mybatisä¼˜ç¼ºç‚¹</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>1âƒ£ï¸ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘50%ä»£ç é‡</p>
<p>2âƒ£ï¸æœ€ç®€å•çš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå°å·§ç®€å•</p>
<p>3âƒ£ï¸çµæ´»ï¼Œä¸ä¼šå¯¹ç¨‹åºæˆ–æ•°æ®åº“çš„ç°æœ‰è®¾è®¡å¼ºè¡ŒåŠ ä»»ä½•å½±å“ï¼Œsqlå†™åœ¨xmlä¸­ï¼Œä»ç¨‹åºä»£ç ä¸­å½»åº•åˆ†ç¦»ï¼Œè§£è€¦åˆï¼Œå¯é‡ç”¨ã€‚</p>
<p>4âƒ£ï¸æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlè¯­å¥ã€‚</p>
<p>5âƒ£ï¸æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡çš„å±æ€§ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1âƒ£ï¸åŠè‡ªåŠ¨çš„ï¼Œsqlè¯­å¥ç¼–å†™å·¥ä½œé‡å¤§</p>
<p>2âƒ£ï¸ä¾èµ–äºæ•°æ®åº“ï¼Œæ•°æ®åº“è¿ç§»æ€§å·®ã€‚</p>
<p>âœ…Mybatisæ ¸å¿ƒæ¥å£å’Œç±»</p>
<p>javaå’ŒMybatisçš„è¿æ¥è€…ï¼šsqlsession</p>
<p>SqlSessionFactoryBuilderæ¥å£ build()æ–¹æ³•ã€‚å¾—åˆ°SqlSessionFactoryï¼ˆå·¥å‚å¯¹è±¡ï¼‰ã€‚è°ƒç”¨openSession()æ–¹æ³•ï¼Œè·å¾—SqlSessionã€‚</p>
<p>âœ…Mybatisçš„å¼€å‘æ–¹å¼</p>
<p>1âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£</p>
<p>2âƒ£ï¸Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>ä¸¤ç§æ–¹æ³•éƒ½æ˜¯é€šè¿‡sqlsessionçš„ç›¸å…³æ–¹æ³•æ¥å®Œæˆçš„ã€‚</p>
<p>âœ…åˆ›å»ºç¬¬ä¸€ä¸ªmybatisé¡¹ç›®</p>
<p>1âƒ£ï¸æ–°å»ºä¸€ä¸ªmavené¡¹ç›®</p>
<p>pom.xmlæ–‡ä»¶ï¼šå¢åŠ mybatisåæ ‡org.mybatis. mysqlé©±åŠ¨</p>
<p>â“pom.xmlä¸­åŠ å…¥ä¾èµ–æ˜¾çº¢æ€ä¹ˆåŠï¼Ÿ</p>
<p>è§£å†³ï¼šé¦–å…ˆåˆ é™¤.mæ–‡ä»¶å¤¹ä¸‹çš„repoæ–‡ä»¶å¤¹ï¼Œç„¶åå›åˆ°é¡¹ç›®å³é”®pom.xmlï¼Œé€‰mavenï¼Œé€‰reimport</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºè¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database mybatis;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> account(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸æ–°å»ºæ•°æ®è¡¨å¯¹åº”çš„å®ä½“ç±»</p>
<p>è¿™é‡Œç”¨Lombokåº“ï¼Œç”¨æ¥è‡ªåŠ¨ç”Ÿæˆæ„é€ æ–¹æ³•.ç±»çº§åˆ«çš„ @Data æ³¨é‡Šæ˜¯ç”± Lombok æä¾›çš„ï¼Œå®ƒå‘Šè¯‰ Lombok ç”Ÿæˆæ‰€æœ‰ç¼ºå°‘çš„æ–¹æ³•ï¼Œä»¥åŠæ¥å—æ‰€æœ‰finalå±æ€§ä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p>
<p>åŠ lombokä¾èµ–æ—¶ï¼Œæœ‰é”™è¯¯ï¼Œå› ä¸ºç‰ˆæœ¬å·çš„åŸå› ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.18<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>4âƒ£ï¸åˆ›å»ºmybatisé…ç½®æ–‡ä»¶ config.xml æ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼Œå»ºåœ¨resourceæ–‡ä»¶å¤¹ä¸­</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>5âƒ£ï¸ä½¿ç”¨åŸç”Ÿæ¥å£çš„æ–¹å¼å¼€å‘</p>
<p>ï¼ˆ1ï¼‰Mybatisæ¡†æ¶éœ€è¦å¼€å‘è€…è‡ªå®šä¹‰sqlè¯­å¥ï¼Œå†™åœ¨Mapper.xmlæ–‡ä»¶ä¸­ï¼Œå®é™…å¼€å‘ä¸­ï¼Œä¼šä¸ºæ¯ä¸ªå®ä½“ç±»åˆ›å»ºå¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰ç®¡ç†è¯¥å¯¹è±¡æ•°æ®çš„SQLã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- namespaceæ˜¯mybatisåŠ è½½é…ç½®æ–‡ä»¶æ—¶è¦æ‰¾çš„è·¯å¾„ï¼ˆåŒ…+æ–‡ä»¶åçš„å½¢å¼ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">  idæ˜¯ä¸€ä¼šå„¿è°ƒç”¨sqlè¯­å¥æ—¶è¦ç”¨çš„åå­—ï¼Œè‡ªå®šä¹‰çš„.</span></span><br><span class="line"><span class="comment">  parameterTypeæ˜¯è¦ä¼ å…¥çš„å‚æ•°,ä¸‹é¢è¯­å¥æ˜¯ä»å¯¹è±¡ä¸­å–å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.mapper.AccountMapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨å…¨å±€é…ç½®æ–‡ä»¶config.xmlä¸­æ³¨å†ŒAccountMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰è°ƒç”¨mybatisçš„åŸç”Ÿæ¥å£æ‰§è¡Œæ·»åŠ æ“ä½œï¼Œå†™æµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//åŠ è½½mybatisé…ç½®æ–‡ä»¶config.xml</span></span><br><span class="line">â€‹    InputStream inputStream = TestInsert.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>); <span class="comment">//å˜æˆä¸€ä¸ªæµ</span></span><br><span class="line">â€‹    SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span class="keyword">new</span> SqlSessionFactoryBuilder();</span><br><span class="line">â€‹    SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); <span class="comment">//ä¼ å…¥æµ</span></span><br><span class="line">â€‹    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ç„¶åå°±å¯ä»¥è¿›è¡Œjavaå’Œmysqlçš„å…³è”ï¼Œç»“åˆnamespaceå’Œidè·å–ä½ç½®</span></span><br><span class="line">â€‹    <span class="comment">//å› ä¸ºé…ç½®æ–‡ä»¶å·²ç»åŠ è½½åˆ°ç¯å¢ƒä¸­ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä¸‹é¢æ‰¾åˆ°</span></span><br><span class="line">â€‹    String statement = <span class="string">&quot;com.demo.mybatis.mapper.AccountMapper.save&quot;</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="comment">//ä¼ å‚æ•°éœ€è¦å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">â€‹    Account account = <span class="keyword">new</span> Account(<span class="number">1L</span>, <span class="string">&quot;liu&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="number">12</span>);</span><br><span class="line">â€‹    sqlSession.insert(statement, account);</span><br><span class="line">â€‹    <span class="comment">//commitæ–¹æ³•æäº¤äº‹åŠ¡</span></span><br><span class="line">â€‹    sqlSession.commit();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â“å‡ºç°é—®é¢˜ï¼Œæ˜æ˜å·²ç»æœ‰lombokï¼Œå¯æ˜¯åœ¨å¯¹è±¡å®ä¾‹åŒ–çš„æ—¶å€™è¿˜æ˜¯æœ‰é—®é¢˜ã€‚</p>
<p>è§£å†³ï¼šæ·»åŠ æ’ä»¶ï¼šè®¾ç½®é‡Œæ‰¾åˆ°pluginsï¼Œæœç´¢lombok pluginï¼Œå®‰è£…ï¼Œé‡å¯ã€‚å‹¾é€‰é…ç½®ï¼šsettingâ€“&gt;build,excecution,deploymentâ€“&gt;compilerâ€“&gt;annotation processorså‹¾é€‰ä¸Š enable annotation processingã€‚å³å¯ç”Ÿæ•ˆã€‚</p>
<p>âš ï¸mavenå·¥ç¨‹ä¸­ä¸èƒ½ç›´æ¥è¯»å–resourceä»¥å¤–çš„xmlæ–‡ä»¶ï¼Œå¾—åœ¨pomé‡ŒåŠ ä¸€ä¸ªé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">include</span>&gt;</span>*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>â“java.lang.ClassNotFoundException: Cannot find class: com.mysql.cj.jdbc</p>
<p>è§£å†³ï¼š<property name="driver" value="com.mysql.cj.jdbc.Driver"> å°‘å†™äº†Driver</property></p>
<p>ğŸ‰Success</p>
<h3 id="â›½ï¸ç¬¬äºŒè¯¾"><a href="#â›½ï¸ç¬¬äºŒè¯¾" class="headerlink" title="â›½ï¸ç¬¬äºŒè¯¾"></a>â›½ï¸ç¬¬äºŒè¯¾</h3><p>âœ…ä½¿ç”¨Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£</p>
<p>å®é™…å¼€å‘ä¸­æ¨èç”¨è¿™ç§ã€‚</p>
<p>Mapperæ˜¯mybatiså†…éƒ¨æä¾›çš„ç»„å»ºï¼Œæ¥å£æ˜¯å¼€å‘è€…è‡ªå·±å†™ï¼Œæ¥å£çš„å®ç°ç±»æ˜¯ç”±mybatisåŠ¨æ€ç”Ÿæˆå®ç°ç±»ï¼ŒåŒæ—¶è·å–å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>1âƒ£ï¸è‡ªå®šä¹‰æ¥å£ï¼Œå®šä¹‰ç›¸å…³çš„ä¸šåŠ¡æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.demo.mybatis.entity.Account;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">save</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Account <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸ç¼–å†™ä¸æ¥å£ç›¸å¯¹åº”çš„Mapper.xmlï¼Œå®šä¹‰æ¥å£æ–¹æ³•å¯¹åº”çš„sqlè¯­å¥ã€‚</p>
<p>statementæ ‡ç­¾ï¼ˆå¦‚<code>&lt;insert&gt;</code>ï¼‰å¯æ ¹æ®sqlæ‰§è¡Œçš„ä¸šåŠ¡é€‰æ‹©insertã€deleteã€updateã€selectã€‚</p>
<p>Mybatisä¼šè‡ªåŠ¨æ ¹æ®è§„åˆ™è‡ªåŠ¨åˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡ã€‚</p>
<p>è§„åˆ™ï¼š</p>
<ol>
<li>Mapper.xmlä¸­namespaceä¸ºæ¥å£çš„å…¨ç±»åã€‚</li>
<li>Mapper.xmlä¸­statementçš„idä¸ºæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•åã€‚</li>
<li>Mapper.xmlä¸­statementçš„parameterTypeå’Œæ¥å£ä¸­å¯¹åº”æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸€è‡´ã€‚</li>
<li>Mapper.xmlä¸­statementçš„resultTypeå’Œæ¥å£ä¸­å¯¹åº”çš„æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸€è‡´ã€‚</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mybatis.repository.AccountRepository&quot;</span>&gt;</span>  <span class="comment">&lt;!-- æ˜ å°„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ·»åŠ  ä¿®æ”¹ åˆ é™¤ ä¸‰ä¸ªæ“ä½œåœ¨æ•°æ®åº“è¿”å›çš„ç»“æœä¸€å®šæ˜¯intï¼Œ æ‰€ä»¥è¿™é‡Œæ²¡æœ‰resultTypeå±æ€§ --&gt;</span></span><br><span class="line">â€‹    insert into account(username, password, age) values(#&#123;username&#125;, #&#123;password&#125;, #&#123;age&#125;)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    update account set username = #&#123;username&#125;, password = #&#123;password&#125;, age = #&#123;age&#125; where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span></span><br><span class="line">â€‹    delete from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸å†™é›†åˆç±»å‹ï¼Œè€Œå†™é›†åˆé‡Œçš„æ³›å‹ç±»å‹ --&gt;</span></span><br><span class="line">â€‹    select * from account</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line">â€‹    select * from account where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>3âƒ£ï¸åœ¨config.xmlä¸­æ³¨å†ŒAccountRepository.xml</p>
<p><code>&lt;mappers&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p>  <code>&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</code></p>
<p>  <code>&lt;mapper resource=&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;&gt;&lt;/mapper&gt;</code></p>
<p><code>&lt;/mappers&gt;</code></p>
<p>4âƒ£ï¸æµ‹è¯•</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">â€‹    <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é…ç½®Mybatisè¿è¡Œç¯å¢ƒ ,é…ç½®æ•°æ®æºä¿¡æ¯--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- ä¸‹é¢å¯ä»¥å¤šä¸ªenvironmentï¼Œä½†æ˜¯ä¸Šé¢é€‰ä¸€ä¸ª --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!-- é…ç½®jdbcäº‹åŠ¡ç®¡ç† --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">â€‹      <span class="comment">&lt;!--POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xuan&quot;</span>/&gt;</span></span><br><span class="line">â€‹        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jade&quot;</span>/&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- æ³¨å†ŒAccountMapper.xmlï¼ŒåŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œè¿™é‡Œå¸¦åç¼€ï¼Œæ‰€ä»¥ç”¨è·¯å¾„/ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/mapper/AccountMapper.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">â€‹    <span class="comment">&lt;!-- æ³¨å†Œç¬¬äºŒè¯¾ä¸­çš„AccountRepository.xml --&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/demo/mybatis/repository/AccountRepository.xml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ğŸ¤”æˆ‘å¯¹åŠ¨æ€ä»£ç†çš„ç†è§£ï¼š</p>
<p>è‡ªå·±åªéœ€è¦å†™ä¸€ä¸ªç±»ï¼Œæ¡†æ¶ä¸ºæˆ‘åŠ¨æ€ä»£ç†å®ç°æ¥å£çš„å®ç°ç±»ï¼Œå¹¶ä¸”è¿˜ç»™æˆ‘å®ç°ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¡®å®æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è‡ªå·±å†™statementï¼Œä½†æ˜¯è¯´çš„è‡ªå·±å†™æ¥å£å®ç°ç±»ï¼Ÿæ²¡æœ‰å§</p>
<h3 id="â›½ï¸ç¬¬ä¸‰è¯¾"><a href="#â›½ï¸ç¬¬ä¸‰è¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸‰è¯¾"></a>â›½ï¸ç¬¬ä¸‰è¯¾</h3><p>Mapper.xmlè§£è¯»</p>
<ol>
<li><p>statementæ ‡ç­¾ï¼Œselectã€updateã€deleteã€insertåˆ†åˆ«å¯¹åº”æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤ã€æ·»åŠ </p>
</li>
<li><p>parameterTypeï¼šå‚æ•°æ•°æ®ç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡idæŸ¥è¯¢Account,  â€œlongâ€</p>
<p>b. Stringç±»å‹ï¼Œé€šè¿‡nameæŸ¥è¯¢Accountï¼Œâ€java.lang.Stringâ€</p>
<p>C. åŒ…è£…ç±»ï¼Œé€šè¿‡idæŸ¥è¯¢Accountã€‚â€œjava.lang.longâ€</p>
</li>
</ol>
<p>â€‹     {ç”¨åŒ…è£…ç±»çš„å¥½å¤„ï¼šåŸºæœ¬æ•°æ®ç±»å‹æ¥å—ä¸äº†nullï¼Œnullä¼ è¿›æ¥æŠ¥å¼‚å¸¸ï¼Œä¸šåŠ¡ä¸­å¯èƒ½ä¼šæœ‰nullï¼Œéœ€è¦åˆ¤æ–­}</p>
<p>   D.å¤šä¸ªå‚æ•°ï¼Œé€šè¿‡usernameå’ŒageæŸ¥è¯¢account</p>
<p>â€‹     âš ï¸ï¼šå¦‚æœè¿”å›ç»“æœå¯èƒ½å¤šä¸ªï¼Œå°±å¾—Listã€‚å¥½åƒå¤šä¸ªæ“ä½œcommitä¸€æ¬¡å°±è¡Œå§ã€‚</p>
<p>   e.java bean</p>
<p>â€‹    updateæ“ä½œä¼ å…¥çš„accountå¯¹è±¡</p>
<ol>
<li><p>resultTypeç»“æœç±»å‹</p>
<p>A. åŸºæœ¬æ•°æ®ç±»å‹</p>
<p>B. åŒ…è£…ç±» java.lang.Integer</p>
<p>C. stringç±»å‹ï¼Œæ¯”å¦‚é€šè¿‡idæŸ¥è¯¢username</p>
</li>
</ol>
<p>  âš ï¸çœ‹åˆ°idæœ‰ä¸­æ–­ï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰ç¨‹åºæœ‰é”™å¼‚å¸¸äº†ï¼Œæ²¡commitæäº¤ï¼Œä½†æ˜¯idå·²ç»æ¶¨äº†ã€‚</p>
<p>   D. Java bean</p>
<p>â€‹    findAllè¿”å›çš„accountå¯¹è±¡</p>
<h3 id="â›½ï¸ç¬¬å››è¯¾"><a href="#â›½ï¸ç¬¬å››è¯¾" class="headerlink" title="â›½ï¸ç¬¬å››è¯¾"></a>â›½ï¸ç¬¬å››è¯¾</h3><p>âœ…åŠè”æŸ¥è¯¢</p>
<p>1âƒ£ï¸ä¸€å¯¹å¤šï¼Œä¸€ä¸ªç­å¯¹åº”å¤šä¸ªå­¦ç”Ÿ</p>
<p>è¦æŸ¥è¯¢id=1çš„å­¦ç”Ÿçš„åå­—ã€ç­çº§</p>
<p>å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> cid <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> classes(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¯­å¥ï¼š <code>select * from student s, classes c where s.id =1 and s.cid=c.id;</code></p>
<p>ğŸ¤”é¦–å…ˆå»ºæ¥å£ï¼Œå†å†™xxxRepository.xml, å†æŠŠxmlæ–‡ä»¶åŠ è½½åˆ°configä¸­ã€‚ æµ‹è¯•ä»£ç ä¸­ï¼Œç”¨æ–¹æ³•å°±å¥½äº†ã€‚</p>
<p>ğŸmybatiså’Œjavaç±»æ€ä¹ˆåšåˆ°æ˜ å°„ï¼Œmybatisä¸å…³æ³¨è¡¨å’Œç±»çš„ç»“æ„ï¼Œå…³æ³¨çš„æ˜¯ç»“æœé›†å’Œç±»çš„æ˜ å°„ã€‚</p>
<p>ä»selectæŸ¥å‡ºæ¥çš„ç»“æœé›†ï¼Œåˆ°èµ‹ç»™resutlçš„ç»“æœçš„æ˜ å°„ã€‚ä»ç»“æœé›†é‡ŒæŒ‰é¡ºåºæ‰¾resultå¯¹çš„ä¸Šçš„å­—æ®µï¼Œèµ‹ç»™resultã€‚</p>
<p>åº”è¯¥ç»™åé¢çš„å–åˆ«åã€‚è¿™é‡Œå…³äºç­çº§çš„ä¿¡æ¯è¦èµ‹ç»™classeså¯¹è±¡ï¼Œéœ€è¦å»ºç«‹æ˜ å°„ï¼Œç”¨resultMapã€‚</p>
<p>æ³¨æ„æ˜ å°„çš„æ—¶å€™ï¼Œæ˜¯çœ‹è¿™ä¸ªæŸ¥è¯¢ç»“æœé›†ä¸Šé¢çš„å­—æ®µã€‚</p>
<p>è¿™æ ·å°±å®Œæˆäº†ï¼Œç»“æœç±» å’Œ ç»“æœé›†çš„æ˜ å°„</p>
<p>2âƒ£ï¸é€šè¿‡classesæŸ¥students</p>
<p>é€šè¿‡ç­çº§idï¼ŒæŸ¥å‡ºæ•´ä¸ªclassesç±».</p>
<p>é¦–å…ˆå†™æ¥å£ï¼Œå†å†™xmlæ–‡ä»¶ï¼Œxmlæ–‡ä»¶ä¸­å…ˆå†™sqlè¯­å¥ï¼Œå®Œæˆæ˜ å°„ï¼Œæ·»åŠ åˆ°configï¼Œæµ‹è¯•ã€‚</p>
<p>âš ï¸æ³¨æ„ç»“æœé›†è¦ç”¨resultMapï¼Œè¦è¿˜æ˜¯ç”¨resultTypeçš„è¯ï¼Œç›¸å½“äºå†™çš„æ˜ å°„æ²¡æœ‰ç”¨åˆ°ã€‚</p>
<p>3âƒ£ï¸å¤šå¯¹å¤š</p>
<p>æ¯”å¦‚è¯´ï¼Œå®¢æˆ·å’Œå•†å“ï¼Œè¿™ä¸¤ä¸ªæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p>
<p>customerè¡¨å’Œgoodsè¡¨ï¼Œä¸­é—´éœ€è¦å»ºä¸€ä¸ªä»è¡¨customer_goodsï¼Œé‡Œé¢cidè¡¨ç¤ºå®¢æˆ·è¡¨çš„å¤–é”®ï¼Œgidè¡¨ç¤ºå•†å“è¡¨çš„å¤–é”®ã€‚</p>
<p>customerç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªgoodsé›†åˆ</p>
<p>goodsç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªcustimeré›†åˆ</p>
<p>è¦åšçš„æ˜¯ï¼šæ ¹æ®customerçš„idï¼Œè¿”å›custimerç±»ã€‚</p>
<p><code>select c.id as cid, c.name as came, g.id as gid, g.name as gname from customer as c, goods as gï¼Œ customer_goods as cg where c.id=1 and cg.cid = c.id and cg.gid = g.id;</code> </p>
<p>è¿”å›id=1çš„å®¢äººä¹°çš„å•†å“ã€‚</p>
<p>âš ï¸çŸ¥è¯†ç‚¹ï¼›ç¬›å¡å°”ç§¯ï¼Œéœ€è¦æ‰¾è¿™ä¸¤å¼ è¡¨çš„å…³è”å…³ç³»ï¼šç¬¬ä¸‰å¼ è¡¨.</p>
<p>æ ¹æ®ä¸€å¯¹å¤šæ¥å»ºç«‹å¤šå¯¹å¤šçš„æ˜ å°„å°±å¥½äº†ï¼Œä¸åŒä¹‹å¤„åœ¨å»sqlè¯­å¥ä¸­ä¸¤å¼ è¡¨å»ºç«‹å…³ç³»çš„æ–¹å¼æ˜¯é€šè¿‡ç¬¬ä¸‰å¼ è¡¨äº†ã€‚</p>
<p>ä½†æ˜¯xmlæ–‡ä»¶ä¸­æ„å»ºæ˜ å°„è¦çœ‹çš„æ˜¯sqlè¯­å¥è¿”å›ç»“æœé›†å’Œæ¥å£æ–¹æ³•è¦è¿”å›çš„è¿”å›ç±»å¯¹è±¡ã€‚</p>
<h3 id="â›½ï¸ç¬¬äº”è¯¾"><a href="#â›½ï¸ç¬¬äº”è¯¾" class="headerlink" title="â›½ï¸ç¬¬äº”è¯¾"></a>â›½ï¸ç¬¬äº”è¯¾</h3><p>âœ…é€†å‘å·¥ç¨‹</p>
<p>å¯¹ä¼ ç»Ÿå¼€å‘åå‘çš„ä¸€ä¸ªæ–¹å¼ã€‚</p>
<p>Mybatisæ¡†æ¶éœ€è¦ï¼šå®ä½“ç±»ã€è‡ªå®šä¹‰çš„Mapperæ¥å£ã€Mapper.xmlã€‚</p>
<p>ä¼ ç»Ÿçš„å¼€å‘ä¸­ï¼Œä¸Šè¿°çš„ä¸‰ä¸ªç»„ä»¶éœ€è¦å¼€å‘è€…æ‰‹åŠ¨åˆ›å»ºï¼Œé€†å‘å·¥ç¨‹å¯ä»¥å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨åˆ›å»ºè¿™ä¸‰ä¸ªç»„ä»¶ï¼Œå‡è½»å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>ç¼ºç‚¹ï¼šé€†å‘å·¥ç¨‹åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œé€†å‘å·¥ç¨‹æ ¹æ®æ•°æ®è¡¨æ¥å»ºç«‹å®ä½“ç±»ç­‰ï¼Œå¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡é€†å‘å·¥ç¨‹ã€‚</p>
<p>å¦‚æœæ”¹äº†è¡¨ç»“æ„ï¼Œå°±éœ€è¦åˆ äº†å·²ç»å­˜åœ¨çš„ï¼Œé‡æ–°æ‰§è¡Œã€‚</p>
<p>====</p>
<p>å¦‚ä½•ä½¿ç”¨ï¼š</p>
<p>Mybatis Generatorï¼Œç®€ç§°MBGï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºMybatisæ¡†æ¶å¼€å‘è€…å®šåˆ¶çš„ä»£ç ç”Ÿæˆå™¨å’Œè‡ªåŠ¨ç”ŸæˆMybatisæ¡†æ¶æ‰€éœ€çš„å®ä½“ç±»ã€Mapperæ¥å£ã€Mapper.xmlï¼Œæ”¯æŒåŸºæœ¬CRUDæ“ä½œï¼Œä½†æ˜¯ä¸€äº›ç›¸å¯¹å¤æ‚çš„sqléœ€è¦å¼€å‘è€…è‡ªå·±æ¥å®Œæˆã€‚</p>
<p>1âƒ£ï¸æ–°å»ºMavenå·¥ç¨‹ï¼Œå¼•å…¥ä¾èµ–</p>
<p>æ•°æ®åº“å»ºä¸ªè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table t_user(</span><br><span class="line"> id int primary key auto_increment,</span><br><span class="line"> name varchar(11),</span><br><span class="line"> age int</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>2âƒ£ï¸åˆ›å»ºMBGé…ç½®æ–‡ä»¶generatorConfig.xml</p>
<p> \1. jdbcConnection é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</p>
<p> \2. javaModelGenerator é…ç½®javaBeançš„ç”Ÿæˆç­–ç•¥ï¼Œè¦æŠŠåˆ›å»ºçš„å®ä½“ç±»æ”¾åœ¨å“ªä¸ªåŒ…é‡Œ</p>
<p> \3. sqlMapGenerator é…ç½®sqlæ˜ å°„æ–‡ä»¶ç”Ÿæˆç­–ç•¥</p>
<p> \4. javaClientGenerator é…ç½®Mapperæ¥å£</p>
<p> \5. table é…ç½®ç›®æ ‡æ•°æ®è¡¨ï¼ˆtableNameï¼šè¡¨åï¼ŒdominObjectNameï¼šJavaBeanç±»åï¼‰</p>
<p>3âƒ£ï¸åˆ›å»ºGeneratoræ‰§è¡Œç±»</p>
<p>å¯åŠ¨ç±»mainï¼Œé‡Œé¢æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡ç†è§£åæ­£æ˜¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.api.MyBatisGenerator;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.config.xml.ConfigurationParser;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.InvalidConfigurationException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.exception.XMLParserException;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.generator.internal.DefaultShellCallback;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">â€‹    List&lt;String&gt;warings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">â€‹    <span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line">â€‹    String genCig = <span class="string">&quot;/generatorConfig.xml&quot;</span>; <span class="comment">// /å°±è¡¨ç¤ºresourceæ–‡ä»¶å¤¹</span></span><br><span class="line">â€‹    File configFile = <span class="keyword">new</span> File(Main.class.getResource(genCig).getFile()); <span class="comment">//è·å–è¿è¡Œæ—¶ç±»ï¼ŒgetResource(è·¯å¾„)ï¼Œè·å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">â€‹    ConfigurationParser configurationParser = <span class="keyword">new</span> ConfigurationParser(warings);</span><br><span class="line">â€‹    Configuration configuration = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      configuration = configurationParser.parseConfiguration(configFile);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (XMLParserException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line">â€‹    MyBatisGenerator myBatisGenerator = <span class="keyword">null</span>;</span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(configuration, callback, warings);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InvalidConfigurationException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line"></span><br><span class="line">â€‹    <span class="keyword">try</span> &#123;</span><br><span class="line">â€‹      myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">â€‹      throwables.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">â€‹      e.printStackTrace();</span><br><span class="line">â€‹    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>IDEAæŠ›å‡ºå¼‚å¸¸å¿«æ·é”®ï¼š</strong></p>
<p><strong>Mac</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œoption+Enterï¼‰ï¼Œå¯ä»¥å¼‚å¸¸å¤–æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥try-catchï¼š</strong></p>
<p><strong>æ–¹å¼äºŒï¼ˆå…‰æ ‡ç§»åˆ°è¯¥ä»£ç è¡Œï¼Œæˆ–è€…é€‰ä¸­è¯¥è¡Œä»£ç ï¼Œoption+command+Tï¼‰ï¼š[ä½¿ç”¨å…³é”®å­—æˆ–æ§åˆ¶è¯­å¥ï¼Œæ¯”å¦‚ifâ€¦else, tryâ€¦catch, for, synchronizedç­‰]</strong></p>
<p>4âƒ£ï¸<strong>ç„¶åè¿è¡Œmainæ–¹æ³•ï¼Œæ–‡ä»¶å¤¹ä¸‹ä»€ä¹ˆéƒ½æœ‰äº†ï¼Œè€Œä¸”æ ¹æ®æ•°æ®åº“çš„è¡¨å»ºç«‹äº†å®ä½“ç±»ã€‚</strong></p>
<h3 id="â›½ï¸ç¬¬å…­è¯¾"><a href="#â›½ï¸ç¬¬å…­è¯¾" class="headerlink" title="â›½ï¸ç¬¬å…­è¯¾"></a>â›½ï¸<strong>ç¬¬å…­è¯¾</strong></h3><p>âœ…<strong>å»¶è¿ŸåŠ è½½</strong></p>
<p><strong>ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿä¹Ÿå«æ‡’åŠ è½½ã€æƒ°æ€§åŠ è½½</strong></p>
<p><strong>ä½¿ç”¨å»¶è¿ŸåŠ è½½å¯ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ï¼Œé’ˆå¯¹äºæ•°æ®çš„æŒä¹…å±‚çš„æ“ä½œã€‚åœ¨æŸäº›ç‰¹å®šçš„æƒ…å†µä¸‹å»è®¿é—®ç‰¹å®šçš„æ•°æ®åº“ï¼Œåœ¨å…¶ä»–æƒ…å†µä¸‹å¯ä»¥ä¸è®¿é—®æŸäº›è¡¨ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ã€‚</strong></p>
<p><strong>æ¯”å¦‚è¯´ä¸Šé¢åŠè”æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢å­¦ç”Ÿå’Œç­çº§ï¼Œå­¦ç”Ÿå’Œç­çº§åœ¨ä¸¤å¼ ä¸åŒçš„è¡¨ï¼Œå¦‚æœå½“å‰çš„éœ€æ±‚åªéœ€è¦è·å–å­¦ç”Ÿçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæŸ¥è¯¢å­¦ç”Ÿå•è¡¨å³å¯ï¼Œå¦‚æœéœ€è¦é€šè¿‡å­¦ç”Ÿè·å–å¯¹åº”çš„ç­çº§ä¿¡æ¯ï¼Œåˆ™å¿…é¡»æŸ¥è¯¢ä¸¤å¼ è¡¨ã€‚</strong></p>
<p><strong>ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æŸ¥è¯¢ä¸åŒçš„è¡¨ï¼Œæ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚æ¥åŠ¨æ€å‡å°‘æ•°æ®è¡¨æŸ¥è¯¢çš„å·¥ä½œå°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚</strong></p>
<p><strong>ä¸¾ä¾‹ï¼šstudentå’Œclassesçš„ä¾‹å­é‡Œï¼Œä¸¤ä¸ªæ¥å£é‡Œéƒ½å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œå„è‡ªé‡å†™xmlé‡Œé¢å¯¹åº”æ–°å¢æ–¹æ³•çš„sqlè¯­å¥ï¼Œselectè¯­å¥ä¸è”è¡¨æŸ¥è¯¢äº†ï¼Œå„æŸ¥å„çš„ï¼Œæµ‹è¯•æ—¶ï¼Œé¦–å…ˆå¾—åˆ°studentçš„åå­—ï¼Œå¦‚æœå¤Ÿäº†ï¼Œå°±ä¸ç”¨æŸ¥classesè¡¨äº†ï¼Œå¦‚æœä¸å¤Ÿï¼Œå†æ ¹æ®studentçš„cidè·å¾—classesç›¸å…³ä¿¡æ¯ã€‚</strong></p>
<p><strong>å› æ­¤è¦åœ¨é…ç½®æ–‡ä»¶é‡Œå®Œæˆä¸€ä¸ªè¿æ¥çš„æ“ä½œæ¥è‡ªåŠ¨è¯†åˆ«æ˜¯å¦è¿˜éœ€è¦æŸ¥å¦ä¸€å¼ è¡¨ï¼Œåœ¨</strong>associationä¸­ã€‚</p>
<p>å®è·µæ•ˆæœï¼šæ ¹æ®å­¦ç”Ÿidï¼ŒæŸ¥åˆ°å­¦ç”Ÿå®Œæˆä¿¡æ¯ï¼ŒåŒ…æ‹¬é‡Œé¢çš„Classesç±»ã€‚</p>
<p>å®é™…ä¸Šè¿›è¡Œäº†ä¸¤æ¬¡sqlæŸ¥è¯¢ï¼Œæœ¬èº«studentæ¥å£æ–¹æ³•è°ƒç”¨æŸ¥è¯¢ä¸€æ¬¡ï¼Œstudenté…ç½®æ–‡ä»¶ä¸­selectæ ‡ç­¾åˆæŸ¥ä¸€æ¬¡ã€‚</p>
<p>é€šè¿‡é…ç½®configæ–‡ä»¶ä¸­settingå¯ä»¥æ‰“å°sqlæ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<p>ä½†æ˜¯ï¼Œåªæ‹¿nameçš„è¯ï¼Œè¿˜æ˜¯æ‰§è¡Œä¸¤æ¬¡sqlã€‚å› æ­¤éœ€è¦åœ¨configä¸­å¼€å¯å»¶è¿ŸåŠ è½½ã€‚</p>
<p>å¥‡æ€ªäº†ï¼Œæˆ‘å¼€å¯äº†å»¶è¿ŸåŠ è½½ï¼Œåªè·å¾—studentçš„nameï¼Œè¿˜æ˜¯æŸ¥ä¸¤æ¬¡ã€‚</p>
<p>âš ï¸å‡ºç°é—®é¢˜ï¼ŒCannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.</p>
<p>åº”è¯¥å¢åŠ CGLIBä¾èµ–ã€‚</p>
<p>â“ä¾èµ–é—²çº¢çš„æ—¶å€™ï¼Œå¿…é¡»è¦åˆ é™¤.m2æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ä¾èµ–ï¼Œç„¶åreimportå—ï¼Ÿ</p>
<h3 id="â›½ï¸ç¬¬ä¸ƒè¯¾"><a href="#â›½ï¸ç¬¬ä¸ƒè¯¾" class="headerlink" title="â›½ï¸ç¬¬ä¸ƒè¯¾"></a>â›½ï¸ç¬¬ä¸ƒè¯¾</h3><p>âœ…MyBatisç¼“å­˜</p>
<p>ä»€ä¹ˆäº‹mybatisç¼“å­˜ï¼Ÿä½¿ç”¨ç¼“å­˜å¯ä»¥å‡å°‘Javaåº”ç”¨ä¸æ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œä»è€Œæé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚æ¯”å¦‚æŸ¥è¯¢å‡ºid=1çš„å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢å‡ºä¹‹åä¼šè‡ªåŠ¨å°†è¯¥å¯¹è±¡ä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œå½“ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºå¯¹è±¡å³å¯ï¼Œæ— éœ€å†æ¬¡è®¿é—®æ•°æ®åº“ã€‚</p>
<p>Mybatisç¼“å­˜åˆ†ç±»ï¼š</p>
<ol>
<li><strong>ä¸€çº§ç¼“å­˜ï¼šSqlSessionçº§åˆ«ï¼Œé»˜è®¤å¼€å¯ï¼Œå¹¶ä¸”ä¸èƒ½å…³é—­ã€‚</strong></li>
</ol>
<p>  <strong>æ“ä½œæ•°æ®åº“æ—¶éœ€è¦åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªHashMapç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ï¼Œä¸åŒçš„SqlSessionä¹‹é—´ç¼“å­˜æ•°æ®åŒºåŸŸæ˜¯äº’ä¸å½±å“çš„ã€‚</strong></p>
<p>  <strong>ä¸€çº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯SqlSessionèŒƒå›´çš„ï¼Œå½“åœ¨åŒä¸€ä¸ªSqlSessionä¸­æ‰§è¡Œä¸¤æ¬¡ç›¸åŒçš„SQLè¯­å¥æ—¶ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œæ¯•å°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚</strong></p>
<p>  <strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœSqlSessionæ‰§è¡Œäº†DMLæ“ä½œï¼ˆinsertã€updateã€deleteï¼‰ï¼ŒMybatiså¿…é¡»å°†ç¼“å­˜æ¸…ç©ºï¼Œæ¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚</strong></p>
<ol>
<li><strong>äºŒçº§ç¼“å­˜ï¼šMapperçº§åˆ«çš„ï¼Œé»˜è®¤å…³é—­ï¼Œå¯ä»¥å¼€å¯ã€‚</strong></li>
</ol>
<p>  <strong>ä½¿ç”¨äºŒçº§ç¼“å­˜æ—¶ï¼Œå¤šä¸ªSqlSessionä½¿ç”¨åŒä¸€ä¸ªMapperçš„sqlè¯­å¥æ“ä½œæ•°æ®åº“ï¼Œå¾—åˆ°çš„æ•°æ®ä¼šå­˜åœ¨äºŒçº§ç¼“å­˜ä¸­ï¼ŒåŒæ ·æ˜¯ä½¿ç”¨HashMapè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œç›¸æ¯”è¾ƒä¸€çº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜çš„èŒƒå›´æ›´å¤§ï¼Œå¤šä¸ªsqlsessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯è·¨sqlsessionçš„ã€‚</strong></p>
<p>  <strong>äºŒçº§ç¼“å­˜æ˜¯å¤šä¸ªsqlsessionå…±äº«çš„ï¼Œå…¶ä½œç”¨åŸŸæ˜¯mapperçš„åŒä¸€ä¸ªnamespqceï¼Œä¸åŒçš„sqlsessionä¸¤æ¬¡æ‰§è¡Œç›¸åŒçš„namespaceä¸‹çš„sqlè¯­å¥ï¼Œå‚æ•°ä¹Ÿç›¸åŒï¼Œåˆ™ç¬¬ä¸€æ¬¡æ‰§è¡ŒæˆåŠŸä¹‹åä¼šå°†æ•°æ®ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡å¯ç›´æ¥ä»äºŒçº§ç¼“å­˜ä¸­å–å‡ºæ•°æ®ã€‚</strong></p>
<p>âš ï¸<strong>ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªsqlsessionä¸€ä¸ªç¼“å­˜ã€‚äºŒçº§ç¼“å­˜æ˜¯ä¸€ä¸ªmapperä¸€ä¸ªï¼Œå¤šä¸ªsqlsession å¯èƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€mapperï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªnamespaceã€‚äºŒçº§ç¼“å­˜èŒƒå›´æ›´å¤§ã€‚</strong></p>
<p><strong>å¦‚ä½•å¼€å¯äºŒçº§ç¼“å­˜ï¼š</strong></p>
<p><strong>config.xmlä¸­</strong></p>
<p><code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</code></p>
<p><strong>ç„¶åå†å¯¹åº”çš„mapper.xmlä¸­ï¼Œæ·»åŠ é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<p><code>&lt;cache&gt;&lt;/cache&gt;</code></p>
<p><strong>ç„¶åå®ä½“ç±»å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<p><code>public class Classes implements Serializable</code></p>
<ol>
<li><strong>ç¬¬ä¸‰æ–¹äºŒçº§ç¼“å­˜ã€‚éœ€è¦åœ¨pom.xmlé‡Œæ·»åŠ ç›¸å…³ä¾èµ–</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">   &lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶åæ·»åŠ é…ç½®æ–‡ä»¶ehcache.xml ä¸ç”¨è‡ªå·±å†™ï¼Œå®šä¹‰äº†ä¸€äº›äºŒçº§ç¼“å­˜çš„è®¾ç½®</strong></p>
<p><strong>ç„¶ååœ¨config.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜</strong></p>
<p><strong>ç„¶ååœ¨mapper.xmlä¸­é…ç½®äºŒçº§ç¼“å­˜</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜åˆ›å»ºä¹‹åï¼Œæœ€åä¸€æ¬¡è®¿é—®ç¼“å­˜çš„æ—¶é—´è‡³ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToIdleSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜è‡ªåˆ›å»ºæ—¶é—´èµ·è‡³å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt;</span><br><span class="line">  &lt;property name=&quot;timeToLiveSeconds&quot; value=&quot;3600&quot;/&gt;</span><br><span class="line">  &lt;!-- ç¼“å­˜çš„å›æ”¶ç­–ç•¥ ,LRUç§»é™¤è¿‘æœŸä½¿ç”¨æœ€å°‘--&gt;</span><br><span class="line">  &lt;property name=&quot;memoryStoreEvictionPolicy&quot; value=&quot;LRU&quot;/&gt;</span><br><span class="line">&lt;/cache&gt;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™ä¸ªç¼“å­˜é‡Œå®ä½“ç±»å†…ä¸éœ€è¦å®ç°åºåˆ—åŒ–æ¥å£</strong></p>
<h3 id="â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql"><a href="#â›½ï¸ç¬¬å…«è¯¾-MybatisåŠ¨æ€sql" class="headerlink" title="â›½ï¸ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql"></a>â›½ï¸<strong>ç¬¬å…«è¯¾ MybatisåŠ¨æ€sql</strong></h3><p><strong>sqlè¯­å¥æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œåªéœ€è¦å®šä¸€ä¸ªå¤§è‡´çš„æ ·å¼ï¼Œå®ƒä¼šæ ¹æ®å…·ä½“çš„å‚æ•°ã€å…·ä½“çš„ä¸šåŠ¡å»åŠ¨æ€ç”Ÿæˆä¸åŒçš„sqlã€‚</strong></p>
<p><strong>èƒŒæ™¯ï¼šä¸šåŠ¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¦‚æœéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»æ‹¼æ¥sqlè¯­å¥æ¥å®Œæˆæ“ä½œï¼Œæ•ˆç‡æ¯”è¾ƒä½è€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</strong></p>
<p>â“<strong>å‘ç°testç±»é‡Œï¼Œç¬¬ä¸€è¡Œçš„åŠ è½½ç±»ä¸€ç›´æ˜¯ç¬¬ä¸€æ¬¡ç”¨çš„ï¼Œè¿™åˆç†å—ï¼Ÿ</strong></p>
<p><strong>ç”¨ä¸€ä¸ªaccountå¯¹è±¡æŸ¥accountå¯¹è±¡ï¼Œæ ¹æ®å¯¹è±¡çš„å››ä¸ªå‚æ•°å¯¹åº”æ”¾åˆ°sqlè¯­å¥ä¸­ï¼Œå¦‚æœä¼ å…¥çš„accountçš„ä¸€ä¸ªå‚æ•°æ²¡è®¾ç½®ï¼Œåˆ™ä¼ åˆ°sqlè¯­å¥é‚£é‡Œï¼Œè¿™ä¸ªå­—æ®µ=nullã€‚ä¸€èˆ¬å°±æ²¡ç»“æœã€‚</strong></p>
<p><strong>åŠ¨æ€sqlï¼šåªéœ€è¦å†™ä¸€ä¸ªæ¨¡ç‰ˆï¼Œè®©ç¨‹åºè‡ªåŠ¨æ ¹æ®å±æ€§æ˜¯å¦æœ‰å€¼ï¼Œæ¥åŠ¨æ€å†³å®šæ˜¯å¦åŠ è¿™ä¸ªæ¡ä»¶ã€‚</strong></p>
<p><strong>å…¶å®å°±æ˜¯ä¸€ä¸ªif elseçš„æµç¨‹ï¼Œåˆ¤æ–­å¦‚æœä¸ºnullï¼Œå°±å¿½ç•¥æ‰ï¼Œä½¿å¾—æœ‰ç»“æœã€‚</strong></p>
<p><strong>ä½¿ç”¨åŠ¨æ€sqlçš„ä½œç”¨ï¼šå¯ç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œå‡å°‘å¼€å‘è€…çš„å·¥ä½œé‡ï¼Œç¨‹åºå¯ä»¥è‡ªåŠ¨æ ¹æ®ä¸šåŠ¡å‚æ•°æ¥å†³å®šsalçš„ç»„æˆã€‚</strong></p>
<ul>
<li><strong>ifæ ‡ç­¾</strong></li>
</ul>
<p><strong>ï½ï½ï½ï½ï½</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account where</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and username = #&#123;username&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹    and password = #&#123;password&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹    age = #&#123;age&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>ä½†æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ç»™ï¼Œå°±ä¼šå‡ºé”™ï¼Œå› ä¸ºç›´æ¥andåé¢çš„ï¼Œè¯­æ³•é”™è¯¯ã€‚</strong></p>
<p><strong>å°†ifæ ‡ç­¾çš„è¯­å¥ï¼Œæ”¾åœ¨whereæ ‡ç­¾é‡Œå°±å¯ä»¥äº†ã€‚</strong></p>
<p><strong>ifæ ‡ç­¾å¯ä»¥è‡ªåŠ¨æ ¹æ®è¡¨è¾¾å¼çš„ç»“æœæ¥å†³å®šæ˜¯å¦å°†å¯¹åº”çš„è¯­å¥æ·»åŠ åˆ°sqlä¸­ï¼Œå¦‚æœæ¡ä»¶ä¸æˆç«‹åˆ™ä¸æ·»åŠ ï¼Œå¦‚æœæ¡ä»¶æˆç«‹åˆ™æ·»åŠ ã€‚</strong></p>
<p><strong>whereæ ‡ç­¾å¯ä»¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è¦åˆ é™¤è¯­å¥å—ä¸­çš„andå…³é”®å­—ï¼Œå¦‚æœç›‘æµ‹åˆ°whereç›´æ¥è·Ÿandæ‹¼æ¥ï¼Œåˆ™è‡ªåŠ¨åˆ é™¤andï¼Œé€šå¸¸æƒ…å†µä¸‹ if å’Œ whereç»“åˆä½¿ç”¨ã€‚</strong></p>
<ul>
<li><strong>chooseã€whenæ ‡ç­¾</strong></li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount2&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  select * from account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;id !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        id = #&#123;id&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;username !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        username = #&#123;username&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;password !=null &quot;</span>&gt;</span></span><br><span class="line">â€‹        password = #&#123;password&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹      <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span> = <span class="string">&quot;age !=0 &quot;</span>&gt;</span></span><br><span class="line">â€‹        age = #&#123;age&#125;</span><br><span class="line">â€‹      <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>trimæ ‡ç­¾ï¼štrimæ ‡ç­¾ä¸­çš„prefixå’Œsuffixå±æ€§ä¼šè¢«ç”¨äºç”Ÿæˆå®é™…çš„sqlè¯­å¥ï¼Œä¼šå’Œæ ‡ç­¾å†…éƒ¨çš„è¯­å¥è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœè¯­å¥å‰åå‡ºç°äº†prefixOverridesæˆ–è€…suffixOverrideså±æ€§ä¸­æŒ‡å®šçš„å€¼ï¼ŒMybatisæ¡†æ¶ä¼šè‡ªåŠ¨å°†å…¶åˆ é™¤ã€‚</strong></li>
</ul>
<ul>
<li><strong>setæ ‡ç­¾ï¼šç”¨äºupdateæ“ä½œï¼Œä¼šè‡ªåŠ¨æ ¹æ®å‚æ•°æ¥é€‰æ‹©ç”Ÿæˆsqlè¯­å¥ã€‚</strong></li>
</ul>
<p><strong>updateä¼ å…¥çš„å¯¹è±¡ï¼Œå¦‚æœsetå±æ€§åªæœ‰ä¸€ä¸ªï¼Œç›¸å½“äºå…¶ä»–å±æ€§ä¸ä¼ å€¼ï¼Œå˜ä¸ºäº†nullæˆ–è€…0.</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update1&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.demo.mybatis.entity.Account&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  update account</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      id = #&#123;id&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and username = #&#123;username&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">â€‹      and password = #&#123;password&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"></span><br><span class="line">â€‹    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;age != 0&quot;</span>&gt;</span></span><br><span class="line">â€‹      age = #&#123;age&#125;</span><br><span class="line">â€‹    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">   where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿™æ˜¯sqlæ‹¼æ¥å—ï¼Ÿ</strong></p>
<ul>
<li><strong>foreachæ ‡ç­¾</strong></li>
</ul>
<p><strong>foreachæ ‡ç­¾å¯ä»¥è¿­ä»£ç”Ÿæˆä¸€ç³»åˆ—å€¼ï¼Œè¿™ä¸ªæ ‡ç­¾ä¸»è¦ç”¨äºsqlçš„inè¯­å¥ã€‚</strong></p>
<p><code>private List&lt;Long&gt; ids;</code></p>
<p><code>List&lt;Long&gt; ids = new ArrayList&lt;Long&gt;();</code></p>
<p><strong>è¿˜å¾—åœ¨å®ä½“ç±»é‡Œå»ºä¸€ä¸ªListå—ï¼Ÿæ„Ÿè§‰ä¸å¤ªä¾¿åˆ©ã€‚</strong></p>
<p><code>&lt;select id=&quot;findByIds&quot; param&gt;</code></p>
<h3 id="â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper"><a href="#â›½ï¸ç¬¬ä¹è¯¾-mybatis-é€šç”¨Mapper" class="headerlink" title="â›½ï¸ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper"></a>â›½ï¸<strong>ç¬¬ä¹è¯¾ mybatis é€šç”¨Mapper</strong></h3><p><strong>è™½ç„¶æœ‰é€†å‘å·¥ç¨‹MBGï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œä½†æ˜¯entityæ”¹å˜ä¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</strong></p>
<p>1âƒ£ï¸<strong>å»ºè¡¨</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mapperdemo(</span><br><span class="line"> id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line"> username <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> password <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mapperdemo (username, password, age) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, <span class="number">23</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>, <span class="number">22</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>, <span class="number">12</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸æ–°å»ºjavaå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.mybatis.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">//æœ‰å‚æ„é€ </span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span>  <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mapperdemo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>~~~~</p>
<p>è€ƒè™‘åˆ°åŸºæœ¬æ•°æ®ç±»å‹åœ¨Javaç±»å‹ä¸­éƒ½æœ‰é»˜è®¤å€¼ï¼Œä¼šå¯¼è‡´mybatisåœ¨æ‰§è¡Œç›¸å…³æ“ä½œæ—¶å¾ˆéš¾åˆ¤æ–­å½“å‰å­—æ®µæ˜¯å¦ä¸ºnullã€‚å› æ­¤åœ¨mybatisç¯å¢ƒä¸‹ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»å‹ã€‚(ä¸Šé¢çš„ä½œåºŸ)</p>
<p>âœ…mapperæ³¨è§£é‡æ¥ï¼š</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/jintingbo/article/details/80517053">https://blog.csdn.net/jintingbo/article/details/80517053</a></p>
<p>ä»mybatis3.4.0å¼€å§‹åŠ å…¥äº†@Mapperæ³¨è§£ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†ä¸å†å†™mapperæ˜ å°„æ–‡ä»¶</p>
<p>ç°åœ¨æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€æ˜“çš„mavené¡¹ç›®å»äº†è§£@Mapperæ³¨è§£çš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<p>1âƒ£ï¸å»ºè¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line"> pwd <span class="type">varchar</span>(<span class="number">11</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> (name, pwd) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;liuxuan&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;jade&#x27;</span>, <span class="string">&#x27;kk&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;aks&#x27;</span>, <span class="string">&#x27;aa&#x27;</span>);</span><br></pre></td></tr></table></figure>



<p>2âƒ£ï¸å®ä½“ç±»</p>
<p>æ“ä½œä¹‹å‰ï¼Œä»githubä¸Šcloneä¸‹æ¥çš„é¡¹ç›®å‡ºç°é—®é¢˜</p>
<p>1.æ–‡ä»¶å·¦ä¸‹è§’æœ‰ä¸ªæ©™è‰²çš„å°æ—¶é’Ÿï¼Œå‡ºç°æ©™è‰²åŸå› ï¼šæ²¡æœ‰æ·»åŠ åˆ°mavenè§£å†³åŠæ³•ï¼šæ‰¾åˆ°é¡¹ç›®çš„xml,å¦‚æœæœ€å¤–å±‚æ²¡æœ‰xml,æ‰¾åˆ°æ¨¡å—é‡Œé¢å¯¹åº”çš„xml,å³é”®é€‰æ‹©Add as Maven project. å¯¼å…¥é€šè¿‡mavenå¯¼å…¥jarã€‚å°±è§£å†³äº†äº†ã€‚</p>
<p>2.é¡¹ç›®ä¾èµ–æ˜¯çº¢çš„ï¼Œå»mavenä»“åº“<a href="https://mvnrepository.com/">Maven Repository: Search/Browse/Explore</a>ä¸‹ä¸‹æ¥ï¼Œæ”¾åœ¨.m2æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>3.æ²¡å¼„sdkï¼Œå¼„æˆjdk1.8</p>
<p>4.å¥‡äº†æ€ªäº†ï¼Œè¿™ä¸ªé¡¹ç›®é‡Œå®ä½“ç±»ç”¨Lombokï¼Œä¾èµ–æ˜¾çº¢ï¼Œæ‡µé€¼äº†ã€‚</p>
<p>5.pç©ºé—´æ˜¾çº¢çš„è§£å†³åŠæ³•ï¼šfileâ€“&gt;settingsâ€¦â€“&gt;languages &amp; frameworksâ€“&gt;schemas and DTDs â€“&gt; æ·»åŠ url</p>
<p>3âƒ£ï¸åŠ è½½é…ç½®æ–‡ä»¶æ—¶æ‰¾ä¸åˆ°bean</p>
<p>ä¸çŸ¥é“å•¥åŸå› äº†ï¼Œåº”è¯¥æ˜¯mybatisç»“åˆspringï¼Œè¿™ä¸€ç‚¹è¿˜æ²¡æŒæ¡ã€‚</p>
<p>æ€»ä¹‹ï¼Œä½¿ç”¨æ–¹é¢ï¼Œä¸éœ€è¦åœ¨mapper.xmlé‡Œå†™sqlè¯­å¥ï¼Ÿ</p>
<p>æµ‹è¯•ç±»é‡Œç›´æ¥è°ƒç”¨daoæ¥å£é‡Œçš„æ–¹æ³•å³å¯ï¼Ÿ</p>
<p>ï¼ï¼ï¼é¡¹ç›®é‡Œè¿˜æ˜¯æœ‰sqlè¯­å¥çš„ï¼Œæ¥å£é‡Œç”¨@mapper @paramæ³¨è§£ï¼Œåªæ˜¯ä¼ é€’å‚æ•°ã€‚å’Œä¹‹å‰å­¦çš„ï¼Œåªæ˜¯åœ¨æ¥å£é‡Œå¤šäº†è¿™ä¿©æ³¨è§£ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>spring Bç«™å­¦ä¹ ç¬”è®°</title>
    <url>/2022/01/12/myblog/JAVA/Spring%20b%E7%AB%99%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h2><h3 id="bean"><a href="#bean" class="headerlink" title="bean"></a>bean</h3><p>ç†å¿µï¼šIOCï¼ˆinversion of controlï¼‰AOPï¼ˆaspect oriented programmingï¼‰æ§åˆ¶åè½¬ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚</p>
<p>1 ã€JavaBeanï¼šä¸€ç§javaè¯­è¨€å†™æˆçš„å¯é‡ç”¨ç»„ä»¶ï¼Œæ›´å¤šæ˜¯ä¸€ç§è§„èŒƒï¼Œå¯ä»¥è¢«å…¶å®ƒçš„ç¨‹åºå‘˜æˆ–è€…æ¡†æ¶ä½¿ç”¨ï¼ŒåŒ…å«ä¸€ç»„setå’Œgetæ–¹æ³•çš„javaå¯¹è±¡ï¼Œå¯ä»¥ä½¿åº”ç”¨ç¨‹åºæ›´åŠ é¢å‘å¯¹è±¡ï¼ŒæŠŠæ•°æ®å°è£…èµ·æ¥ï¼ŒæŠŠåº”ç”¨çš„ä¸šåŠ¡é€»è¾‘å’Œæ˜¾ç¤ºé€»è¾‘åˆ†å¼€ï¼Œé™ä½äº†å¼€å‘çš„å¤æ‚æ€§å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<p>2.pojoï¼šplain ordinary java objectï¼Œç®€å•çš„javaå¯¹è±¡ï¼Œé‚£äº›æ²¡æœ‰ç»§æ‰¿ä»»ä½•ç±»ã€ä¹Ÿæ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œæ›´æ²¡æœ‰è¢«å…¶å®ƒæ¡†æ¶ä¾µå…¥çš„javaå¯¹è±¡ã€‚ä¸å…è®¸æœ‰ä¸šåŠ¡æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½æºå¸¦connectionä¹‹ç±»çš„æ–¹æ³•ï¼Œå®é™…å°±æ˜¯æ™®é€šJavaBeansã€‚</p>
<p>pojoç±»å’ŒBeanå‡ç”¨äºå®šä¹‰Javaå¯¹è±¡ï¼Œä»¥æé«˜å…¶å¯è¯»æ€§å’Œå¯é‡ç”¨æ€§ã€‚pojoæ²¡æœ‰å…¶ä»–é™åˆ¶ï¼Œè€Œbeanæ˜¯å…·æœ‰æŸäº›é™åˆ¶çš„ç‰¹æ®Špojoã€‚</p>
<p>SpringBeanæ˜¯å—Springç®¡ç†çš„å¯¹è±¡ï¼Œæ‰€æœ‰èƒ½å—Springå®¹å™¨ç®¡ç†çš„å¯¹è±¡éƒ½å¯ä»¥æˆä¸ºSpringBeanã€‚Springä¸­çš„beanï¼Œæ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ã€javaconfigç­‰çš„è®¾ç½®ï¼Œç”±Springè‡ªåŠ¨å®ä¾‹åŒ–ï¼Œç”¨å®Œåè‡ªåŠ¨é”€æ¯çš„å¯¹è±¡ã€‚</p>
<p>3.entityï¼š Entity Beanæ˜¯åŸŸæ¨¡å‹å¯¹è±¡ï¼Œç”¨äºå®ç°O/Ræ˜ å°„ï¼Œè´Ÿè´£å°†æ•°æ®åº“ä¸­çš„è¡¨è®°å½•æ˜ å°„ä¸ºå†…å­˜ä¸­çš„Entityå¯¹è±¡ï¼Œäº‹å®ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªEntity Beanå¯¹è±¡ç›¸å½“äºæ–°å»ºä¸€æ¡è®°å½•ï¼Œåˆ é™¤ä¸€ä¸ª Entity Beanä¼šåŒæ—¶ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹åº”è®°å½•ï¼Œä¿®æ”¹ä¸€ä¸ªEntity Beanæ—¶ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å°†Entity Beançš„çŠ¶æ€å’Œæ•°æ®åº“åŒæ­¥ã€‚</p>
<h3 id="IOCå®¹å™¨"><a href="#IOCå®¹å™¨" class="headerlink" title="IOCå®¹å™¨"></a>IOCå®¹å™¨</h3><p>é‡Œé¢è£…çš„æ˜¯javaå¯¹è±¡ï¼Œåƒä¸€ä¸ªå†œè´¸å¸‚åœºã€‚</p>
<p>ä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°±æ˜¯å°†åŸæœ¬åœ¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç»™springæ¡†æ¶æ¥ç®¡ç†ã€‚</p>
<p>ä»¥å¾€çš„æ€æƒ³æ˜¯ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œè‡ªå·±å»è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€‚</p>
<p>åè½¬çš„æ€æƒ³ï¼šè‹¥è¦ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œåªéœ€è¦ä»springå®¹å™¨ä¸­è·å–éœ€è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒåè½¬ç»™äº†springæ¡†æ¶ã€‚</p>
<p>å…·ä½“ä¾‹å­ï¼šè¦åšä¸€ä¸ªé’æ¤’è‚‰ä¸ï¼ŒåŸæœ¬æ˜¯éœ€è¦ç§é’æ¤’å’Œå…»çŒªçš„ï¼Œè€Œæœ‰äº†springï¼Œåªéœ€è¦å»å†œè´¸å¸‚åœºä¹°é’æ¤’å’ŒçŒªè‚‰ï¼Œå°±å¯ä»¥ã€‚</p>
<p>springå®˜ç½‘ï¼š<a href="https://spring.io/">https://spring.io</a></p>
<h2 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h2><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>mavenä»“åº“ï¼š<a href="https://mvnrepository.com/">https://mvnrepository.com</a></p>
<p>releaseç¨³å®šç‰ˆæœ¬ã€‚ </p>
<h3 id="springæ¡†æ¶æ¦‚å¿µ"><a href="#springæ¡†æ¶æ¦‚å¿µ" class="headerlink" title="springæ¡†æ¶æ¦‚å¿µ"></a>springæ¡†æ¶æ¦‚å¿µ</h3><p>springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„å¼€æºçš„JavaEEæ¡†æ¶ã€‚</p>
<p>è½»é‡çº§ï¼šä½“ç§¯æ¯”è¾ƒå°ï¼Œé‡Œé¢çš„jaråŒ…æ¯”è¾ƒå°‘ã€‚è§£å†³ä¼ä¸šåº”ç”¨å¼€å‘çš„å¤æ‚æ€§ã€‚</p>
<p>springæœ‰ä¸¤ä¸ªæ ¸å¿ƒå†…å®¹ï¼šIOCæ§åˆ¶åè½¬ï¼ŒåŸå§‹éœ€è¦newä¸ªç±»æ¥åˆ›å»ºå¯¹è±¡ï¼Œè€Œiocå°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™springã€‚AOPé¢å‘åˆ‡é¢ï¼Œç¨‹åºä¸­æ‰©å±•ä¸ªåŠŸèƒ½ï¼ŒåŸå§‹éœ€è¦ä¿®æ”¹æºä»£ç æ¥å®ç°ï¼Œè€Œspringä¸éœ€è¦ä¿®æ”¹ä»£ç è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚å½“ç„¶è¿˜æœ‰äº‹åŠ¡ã€mvcç­‰æ“ä½œã€‚</p>
<p>springæ¡†æ¶çš„ç›¸å…³ç‰¹ç‚¹ï¼š1.æ–¹ä¾¿è§£è€¦ï¼Œç®€åŒ–å¼€å‘ï¼Œiocåˆ›å»ºå¯¹è±¡åŒ…æ‹¬è°ƒç”¨é€šè¿‡springå®ç°ï¼Œä½¿å¾—è€¦åˆåº¦é™ä½ã€‚2.Aopç¼–ç¨‹æ”¯æŒã€‚3.æ–¹ä¾¿ç¨‹åºæµ‹è¯•ã€‚4.æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ï¼šhibernateã€strutsã€mybatisã€‚5.é™ä½javaEE APIçš„ä½¿ç”¨ï¼šjdbcç­‰ã€‚6.æ–¹ä¾¿è¿›è¡Œäº‹åŠ¡æ“ä½œã€‚</p>
<p>ä¸‹è½½å®˜ç½‘ï¼šspring.ioï¼Œåè·ŸGAçš„æ˜¯ç¨³å®šç‰ˆæœ¬ã€‚</p>
<p><a href="https://repo.spring.io/ui/native/release/org/springframework/spring/">https://repo.spring.io/ui/native/release/org/springframework/spring/</a> 5.2.6ç‰ˆæœ¬ã€‚ä¸‹è½½spring-5.2.6.RELEASE-dist.zipã€‚docsæ–‡ä»¶å¤¹ä¸‹æ˜¯ä¸€äº›æ–‡æ¡£ã€libsæ˜¯ä¸€äº›jaråŒ…ã€schemaæ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ã€‚jaråŒ…ä¸­æ¯ä¸€ç§éƒ½æœ‰ä¸‰ä¸ªï¼šjaråŒ…ã€æ–‡æ¡£ã€æºä»£ç ã€‚</p>
<h3 id="spring5æ¨¡å—"><a href="#spring5æ¨¡å—" class="headerlink" title="spring5æ¨¡å—"></a>spring5æ¨¡å—</h3><p>ä»ä¸‹å¾€ä¸Š</p>
<p>testç›¸å…³æµ‹è¯•</p>
<p>Core Containerï¼šåŒ…å«beansã€coreï¼ˆå‰ä¸¤ä¸ªå¯¹åº”IOCï¼‰ã€contextã€expressionã€‚åŸºæœ¬åŠŸèƒ½è‡³å°‘è¦æœ‰è¿™å››ä¸ªjaråŒ…ã€‚commons-loggingåŒ…æ—¥å¿—ç›¸å…³çš„jaråŒ…ã€‚</p>
<p>å†å¾€ä¸Šæ˜¯Aopï¼Œå†å¾€ä¸Šæ˜¯æ•°æ®è®¿é—®éƒ¨åˆ†å’Œç½‘ç»œéƒ¨åˆ†ã€‚</p>
<h3 id="å¯¼å…¥jaråŒ…ï¼Œioc-xmlæ¡ˆä¾‹"><a href="#å¯¼å…¥jaråŒ…ï¼Œioc-xmlæ¡ˆä¾‹" class="headerlink" title="å¯¼å…¥jaråŒ…ï¼Œioc+xmlæ¡ˆä¾‹"></a>å¯¼å…¥jaråŒ…ï¼Œioc+xmlæ¡ˆä¾‹</h3><p>ä¸ç”¨mavençš„æƒ…å†µä¸‹ï¼Œå·¥ç¨‹ä¸‹æ–°å»ºlibæ–‡ä»¶å¤¹ï¼Œå°†è¦ç”¨çš„jaråŒ…ï¼ˆåªè¦jaråŒ…ï¼‰å¤åˆ¶åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå†åœ¨file-project structureä¸­ï¼Œé€‰æ‹©moduleï¼ŒåŠ +å·å¯¼å…¥ç›¸å…³çš„jaråŒ…ã€‚</p>
<p>æ¢ç©¶iocï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œç±»å†…åˆ›å»ºä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ™®é€šçš„åˆ›å»ºå¯¹è±¡æ˜¯é€šè¿‡newæ¥å®ç°ï¼Œç”¨springåˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶åšåˆ°ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£åšåˆ°ã€‚</p>
<p>å› æ­¤ï¼Œåˆ›å»ºspringé…ç½®æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ›å»ºçš„å¯¹è±¡ã€‚<br>ï¼ˆ1ï¼‰springé…ç½®æ–‡ä»¶ä½¿ç”¨xmlæ ¼å¼ï¼Œbean1.xmlï¼Œç”¨beanæ ‡ç­¾è¿›è¡Œé…ç½®ï¼Œidæ˜¯åˆ«åï¼Œclassæ˜¯ç±»è·¯å¾„+åå­—ã€‚ï¼ˆå¯¼äº†åŒ…æ‰å¯ä»¥æ–°å»ºxmlæ—¶å‡ºç°spring configï¼‰</p>
<blockquote>
<p>Create project from template æ˜¯æ˜¯å¦åˆ›å»ºæ¨¡æ¿çš„æ„æ€ï¼Œä¼šå¤šä¸€äº›å†…å®¹ã€‚</p>
<p>æ‰“åŒ…jaråŒ…ï¼š<a href="https://blog.csdn.net/weixin_45760579/article/details/114777280">https://blog.csdn.net/weixin_45760579/article/details/114777280</a></p>
<p>å¦‚ä½•è·å–jaråŒ…ï¼Œ<a href="https://mvnrepository.com/">https://mvnrepository.com</a> æœç´¢å³å¯</p>
</blockquote>
<p>åœ¨srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºxmlæ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-é…ç½®Userå¯¹è±¡åˆ›å»º--&gt;</span><br><span class="line">&lt;bean id=&quot;user&quot; class=&quot;com.company.User&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰è¿›è¡Œæµ‹è¯•ä»£ç ç¼–å†™ï¼ŒåŠ è½½springé…ç½®æ–‡ä»¶ï¼Œè·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p>com.companyä¸‹åˆ›å»ºtestdemoåŒ…ï¼ŒåŒ…ä¸‹æ–°å»ºTestXMLç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestXML</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        User user = context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        user.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/7d4472b3d6674ef698ade89c5bf40865.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h2 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h2><h3 id="IOCå®¹å™¨-1"><a href="#IOCå®¹å™¨-1" class="headerlink" title="IOCå®¹å™¨"></a>IOCå®¹å™¨</h3><p>æ§åˆ¶åè½¬ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œé™ä½ä»£ç è€¦åˆåº¦ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºæ—¶ï¼Œç”±ä¸€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“å°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒï¼Œä¹Ÿå«ä¾èµ–æ³¨å…¥DIã€‚</p>
<p>é€šä¿—ï¼šåˆ›å»ºå¯¹è±¡ï¼ŒåŸå§‹æ–¹æ³•newå¯¹è±¡ï¼ŒIOCæŠŠå¯¹è±¡çš„åˆ›å»ºå’Œå¯¹è±¡ä¹‹é—´çš„è°ƒç”¨è¿‡ç¨‹éƒ½äº¤ç»™Springè¿›è¡Œç®¡ç†ã€‚ä½¿ç”¨IOCæ¥ä½¿å¾—è€¦åˆåº¦é™ä½ã€‚</p>
<p>ä¸¤ç§æ–¹å¼è¿›è¡ŒBeanç®¡ç†ï¼š1.åŸºäºxmlé…ç½®æ–‡ä»¶  2.åŸºäºæ³¨è§£æ–¹å¼</p>
<h3 id="IOCåº•å±‚åŸç†"><a href="#IOCåº•å±‚åŸç†" class="headerlink" title="IOCåº•å±‚åŸç†"></a>IOCåº•å±‚åŸç†</h3><p>ï¼ˆ1ï¼‰xmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„</p>
<p>åŸå§‹æ–¹å¼ï¼šä¸€ä¸ªç±»å†…è°ƒç”¨å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œéœ€è¦åœ¨ç±»Aä¸­åˆ›å»ºä¸€ä¸ªç±»Bçš„å¯¹è±¡ï¼Œå†é€šè¿‡ç±»Bçš„å¯¹è±¡è°ƒç”¨ç±»Bçš„æ–¹æ³•ã€‚è¿™æ ·åšçš„ç¼ºç‚¹ï¼šè€¦åˆåº¦å¤ªé«˜ï¼Œç±»Bçš„è·¯å¾„å’Œæ–¹æ³•å¦‚æœæ”¹å˜çš„è¯ï¼Œç±»Aä¹Ÿè¦è·Ÿç€è¯¥ï¼Œä¸åˆ©äºç¨‹åºæ‰©å±•ã€‚</p>
<p>å·¥å‚æ¨¡å¼è¿›è¡Œè§£è€¦åˆï¼šé™¤äº†ç±»Aå’Œç±»Bï¼Œè¿˜æ–°å»ºä¸€ä¸ªå·¥å‚ç±»ï¼Œé‡Œé¢public staticæ–¹æ³•ä¸­ï¼šreturn new B()ï¼› è¿”å›ç±»Bçš„å¯¹è±¡ï¼Œå› æ­¤åœ¨ç±»Aä¸­è°ƒç”¨ç±»Bçš„æ–¹æ³•æ—¶ï¼Œè°ƒç”¨å·¥å‚ç±»çš„æ–¹æ³•æ¥åˆ›å»ºç±»Bçš„å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ç±»Bçš„æ–¹æ³•ã€‚é™ä½ç±»Aå’Œç±»Bä¹‹é—´çš„è€¦åˆåº¦ã€‚æ€»ç»“æ¥è¯´ï¼Œé€šè¿‡å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ï¼Œå®ç°è§£è€¦ã€‚</p>
<p>ï¼ˆ2ï¼‰IOCè¿‡ç¨‹ï¼šxmlè§£æã€å·¥å‚æ¨¡å¼ã€åå°„</p>
<p>ç¬¬ä¸€æ­¥ï¼šxmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®åˆ›å»ºçš„å¯¹è±¡</p>
<p><code>&lt;bean id=&quot;dao&quot; class=&quot;UserDao&quot;&gt;&lt;/bean&gt; </code></p>
<p>ç¬¬äºŒæ­¥ï¼šæœ‰serviceç±»ï¼ˆAç±»ï¼‰å’Œdaoç±»ï¼ˆBç±»ï¼‰ï¼Œåˆ›å»ºå·¥å‚ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserFactory</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UserDao <span class="title">getDao</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String classValue = <span class="class"><span class="keyword">class</span>å±æ€§å€¼</span>; <span class="comment">//1.xmlè§£æï¼Œå¤šç§æ–¹å¼ï¼Œå¯ä»¥ç”¨dom4jå®ç°</span></span><br><span class="line">      	Class clazz = Class.forName(classValue); <span class="comment">//2.ç”¨åå°„æŠ€æœ¯åˆ›å»ºå¯¹è±¡ï¼Œå¾—åˆ°ç±»çš„å­—èŠ‚ç æ–‡ä»¶</span></span><br><span class="line">      	<span class="keyword">return</span> (UserDao)clazz.newInstance();  <span class="comment">//3.å¾—åˆ°å¯¹è±¡ï¼Œå¼ºè½¬ä¸€ä¸‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿›ä¸€æ­¥è§£è€¦ï¼Œä¾‹å¦‚å½“daoç±»è·¯å¾„æ”¹äº†ï¼Œè¿™é‡Œä¸éœ€è¦ä¿®æ”¹serviceç±»ï¼Œåªéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶é‡Œçš„ç±»è·¯å¾„ã€‚</p>
<h3 id="IOCæ¥å£ï¼ˆBeanFactoryï¼‰"><a href="#IOCæ¥å£ï¼ˆBeanFactoryï¼‰" class="headerlink" title="IOCæ¥å£ï¼ˆBeanFactoryï¼‰"></a>IOCæ¥å£ï¼ˆBeanFactoryï¼‰</h3><p>IOCæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œæ€æƒ³ä¸­åŸºäºå®¹å™¨æ¥å®Œæˆï¼Œå®¹å™¨æœ¬è´¨ä¸Šå°±æ˜¯<strong>å¯¹è±¡å·¥å‚</strong>ï¼Œåœ¨é‡Œé¢å¯ä»¥è¯»å–é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ã€‚å› æ­¤ï¼ŒIOCæ€æƒ³åŸºäºIOCå®¹å™¨ï¼ŒIOCå®¹å™¨ï¼Œåº•å±‚æœ¬è´¨æ˜¯å¯¹è±¡å·¥å‚ã€‚</p>
<p>å·¥å‚éœ€è¦å®ä¾‹åŒ–ï¼ŒSpringæä¾›IOCå®¹å™¨å®ç°çš„ä¸¤ç§æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªé‡è¦çš„æ¥å£ï¼šéƒ½èƒ½å®ç°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡å·¥å‚åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>ï¼ˆ1ï¼‰BeanFactoryï¼šIOCå®¹å™¨åŸºæœ¬å®ç°ï¼ŒSpringé‡Œé¢å†…éƒ¨çš„ä½¿ç”¨æ¥å£ï¼Œä¸€èˆ¬å¼€å‘äººå‘˜ä¸ä½¿ç”¨ã€‚<br>*åŠ è½½é…ç½®æ–‡ä»¶æ—¶ä¸ä¼šåˆ›å»ºå¯¹è±¡ï¼Œåœ¨è·å–å¯¹è±¡ï¼ˆä½¿ç”¨ï¼‰æ—¶æ‰å»åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ApplicationContextï¼šBeanFactoryæ¥å£çš„å­æ¥å£ï¼Œæä¾›æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ç”±å¼€å‘äººå‘˜ä½¿ç”¨ã€‚<br>*åŠ è½½é…ç½®æ–‡ä»¶æ—¶å°±ä¼šæŠŠé…ç½®æ–‡ä»¶å¯¹è±¡è¿›è¡Œåˆ›å»º</p>
<p>è¿™ä¸¤ç§ï¼Œå“ªç§æ›´å¥½ï¼Œè™½ç„¶ç¬¬ä¸€ç§èŠ‚çº¦èµ„æºï¼Œä½†æ˜¯ä¸€èˆ¬springæ¡†æ¶ç»“åˆwebé¡¹ç›®ï¼Œç”¨tomcatè¿›è¡Œå¯åŠ¨ï¼Œå› æ­¤è€—æ—¶å¥½èµ„æºçš„å·¥ä½œéƒ½åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è¿›è¡Œæ“ä½œã€‚</p>
<hr>
<p>ApplicationContextæ¥å£æœ‰ä¸åŒçš„å®ç°ç±»ï¼ˆcontrol+hæ‰“å¼€ï¼Œï¼‰</p>
<p>ä¾‹å¦‚ï¼šä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œä¸€ä¸ªç±»è·¯å¾„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/c9c28cbc9a81449ea73c442cf5b4e847.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºXMLï¼‰</h3><p> ä»€ä¹ˆæ˜¯Beanç®¡ç†ï¼Ÿï¼š1.Springåˆ›å»ºå¯¹è±¡ï¼Œ2.ç”¨Springæ³¨å…¥å±æ€§ï¼ˆåˆ›å»ºå¯¹è±¡æ—¶å‘å˜é‡è®¾ç½®å€¼ï¼Œæœ€æ™®é€šçš„è¯ç”¨setæ–¹æ³•è®¾ç½®å€¼ï¼Œä½†æ˜¯ç°åœ¨ç”¨springåšåˆ°ï¼‰</p>
<p>ï¼ˆ1ï¼‰åŸºäºxmlæ–¹å¼åˆ›å»ºå¯¹è±¡</p>
<p>åšæ³•ï¼šåœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨beanæ ‡ç­¾ï¼Œæ ‡ç­¾é‡Œé¢æ·»åŠ å¯¹åº”å±æ€§ï¼Œå°±å¯ä»¥å®ç°å¯¹è±¡åˆ›å»ºã€‚<code>&lt;bean id=&quot;dao&quot; class=&quot;UserDao&quot;&gt;&lt;/bean&gt;</code></p>
<p>åœ¨beanæ ‡ç­¾ä¸­æœ‰å¾ˆå¤šå±æ€§ï¼š<br>*idå±æ€§ï¼šç»™å¯¹è±¡å–ä¸€ä¸ªåˆ«åï¼Œå”¯ä¸€æ ‡è¯†<br>*classå±æ€§ï¼šç±»å…¨è·¯å¾„ï¼ˆåŒ…å«è·¯å¾„ï¼‰<br>*nameå±æ€§ï¼šå’Œidä¸€æ ·ä½œç”¨ï¼Œidå±æ€§ä¸­ä¸èƒ½åŠ ç‰¹æ®Šç¬¦å·ï¼Œnameå±æ€§ä¸­å¯ä»¥åŠ ç‰¹æ®Šç¬¦å·ï¼Œnameå±æ€§æ¯”è¾ƒæ—©æœŸï¼Œç”¨å¾—å°‘ã€‚</p>
<p>Xmlåˆ›å»ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤æ‰§è¡Œæ— å‚æ•°çš„æ„é€ æ–¹æ³•å®Œæˆå¯¹è±¡åˆ›å»ºã€‚å› æ­¤ï¼Œå¦‚æœç±»é‡Œåˆ›å»ºäº†æœ‰å‚æ„é€ ä½†æ˜¯æ²¡æœ‰å£°æ˜æ— å‚æ„é€ ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<blockquote>
<p>IDEAä¸ºä¸€ä¸ªç±»åˆ›å»ºæ„é€ æ–¹æ³•ã€setæ–¹æ³•ã€getæ–¹æ³•å¿«æ·é”®ï¼šalt+insertï¼ˆWindowsï¼‰command+nï¼ˆMacï¼‰</p>
</blockquote>
<p>ï¼ˆ2ï¼‰åŸºäºxmlæ–¹å¼æ³¨å…¥å±æ€§</p>
<p>DIï¼šä¾èµ–æ³¨å…¥ï¼Œå°±æ˜¯æ³¨å…¥å±æ€§ã€‚</p>
<p>&lt;1&gt;ç¬¬ä¸€ç§æ³¨å…¥å±æ€§æ–¹å¼ï¼šä½¿ç”¨setæ–¹æ³•è¿›è¡Œæ³¨å…¥ã€‚</p>
<p>é¦–å…ˆåœ¨ç±»ä¸­å®šä¹‰å±æ€§ï¼Œå¹¶å®šä¹‰å¯¹åº”çš„setæ–¹æ³•ï¼Œä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ªsetæ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String bname;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBname</span><span class="params">(String bname)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.bname = bname;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDemo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(bname);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®å¯¹è±¡åˆ›å»ºï¼Œé…ç½®å±æ€§æ³¨å…¥ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨propertyå®Œæˆå±æ€§æ³¨å…¥</span></span><br><span class="line"><span class="comment">    	nameï¼šç±»é‡Œå±æ€§åç§°</span></span><br><span class="line"><span class="comment">    	valueï¼šå‘å±æ€§æ³¨å…¥çš„å€¼</span></span><br><span class="line"><span class="comment">    	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¥¿æ¸¸è®°&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå†™ä¸€ä¸ªæµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestXML</span> </span>&#123;</span><br><span class="line">  <span class="comment">//ä¸€ä¸ªç±»ä¸‹å°±è¡Œ</span></span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBook</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        Book book = context.getBean(<span class="string">&quot;book&quot;</span>, Book.class);</span><br><span class="line">        System.out.println(book);</span><br><span class="line">        book.testDemo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&lt;2&gt;ç¬¬äºŒç§æ³¨å…¥å±æ€§æ–¹å¼ï¼šæœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</p>
<p>é¦–å…ˆåœ¨ç±»ä¸­å®šä¹‰å±æ€§ï¼Œå¹¶å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Music</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> String mname;</span><br><span class="line">		<span class="keyword">private</span> String mauthor;</span><br><span class="line">		<span class="comment">//æœ‰å‚æ„é€ </span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">Music</span><span class="params">(String mname, String mauthor)</span></span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.mname = mname;</span><br><span class="line">				<span class="keyword">this</span>.mauthor = mauthor;</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDemo</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(mname+<span class="string">&quot;::&quot;</span>+mauthor);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡ï¼Œåœ¨Springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;music&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Music&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨æœ‰å‚æ„é€ è¿›è¡Œæ³¨å…¥</span></span><br><span class="line"><span class="comment">    	--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;mname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å€¾åŸ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;mauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é™ˆå¥•è¿…&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--nameæ˜¯ä½¿ç”¨åç§°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•å€¼indexï¼Œindex=&quot;0&quot; è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå†™ä¸€ä¸ªæµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMusic</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">    <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">    <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">    Music music = context.getBean(<span class="string">&quot;music&quot;</span>, Music.class);</span><br><span class="line">    System.out.println(music);</span><br><span class="line">    music.testDemo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Day-4"><a href="#Day-4" class="headerlink" title="Day 4"></a>Day 4</h2><h3 id="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥"><a href="#ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥" class="headerlink" title="ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥"></a>ä½¿ç”¨Påç§°ç©ºé—´æ³¨å…¥</h3><p>é’ˆå¯¹setæ–¹æ³•è¿›è¡Œå±æ€§æ³¨å…¥ï¼Œå¯ä»¥ä½¿ç”¨påç§°ç©ºé—´æ³¨å…¥ï¼Œæ¥ç®€åŒ–xmlé…ç½®æ–¹å¼ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ påç§°ç©ºé—´åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<p><code>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</code></p>
<p>ç¬¬äºŒæ­¥ï¼šè¿›è¡Œå±æ€§æ³¨å…¥ï¼Œåœ¨beanæ ‡ç­¾é‡Œè¿›è¡Œæ“ä½œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.Book&quot;</span> <span class="attr">p:bname</span>=<span class="string">&quot;çº¢æ¥¼æ¢¦&quot;</span> <span class="attr">p:bauthor</span>=<span class="string">&quot;æ›¹é›ªèŠ¹&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥å…¶ä»–ç±»å‹å±æ€§ï¼‰</h3><p>1.å­—é¢é‡ï¼šä¸ç‰¹æ®Šçš„å±æ€§</p>
<p>ï¼ˆ1ï¼‰nullå€¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;property name=&quot;bname&quot;&gt;</span><br><span class="line">   &lt;null/&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å±æ€§å€¼åŒ…å«ç‰¹æ®Šç¬¦å·</p>
<p>å¯ä»¥å°†ç‰¹æ®Šç¬¦å·è¿›è¡Œè½¬ä¹‰</p>
<p><code>&lt;property name=&quot;bname&quot; value=&quot;&amp;lt;&amp;gt;ã€Šè¥¿æ¸¸è®°ã€‹&quot;&gt;&lt;/property&gt;</code></p>
<p>ä¹Ÿå¯ä»¥æŠŠå¸¦æœ‰ç‰¹æ®Šç¬¦å·å†…å®¹å†™åˆ°CDATA</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;property name=&quot;bname&quot;&gt; </span><br><span class="line">  &lt;value&gt;&lt;![CDATA[ã€Šå—äº¬ã€‹]]&gt;&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>2.æ³¨å…¥å±æ€§-å¤–éƒ¨bean</p>
<p>webå±‚è°ƒç”¨serviceå±‚ï¼Œserviceè°ƒç”¨daoå±‚</p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºä¸¤ä¸ªç±»serviceç±»å’Œdaoç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class UserService&#123;</span><br><span class="line">	public void add()&#123;</span><br><span class="line">		System.out.println(&quot;service add.....&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public interface UserDao&#123;</span><br><span class="line">	public void update();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åœ¨serviceè°ƒç”¨daoé‡Œé¢çš„æ–¹æ³•</p>
<p>åŸå§‹æ–¹å¼ï¼šserviceä¸­åˆ›å»ºUserDaoå¯¹è±¡ï¼Œå†è°ƒç”¨ç±»ä¸­æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">userDao.update();</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼šç”¨springçš„xmlé…ç½®æ–¹æ³•è¿›è¡Œè°ƒç”¨</p>
<p>é¦–å…ˆé…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œç„¶åå°†Daoå¯¹è±¡æ³¨å…¥åˆ°Serviceå¯¹è±¡ä¸­ã€‚setæ³¨å…¥æˆ–æœ‰å‚æ³¨å…¥éƒ½è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//UserServiceç±»ä¸­åˆ›å»ºUserDaoç±»å‹å±æ€§ï¼Œç”Ÿæˆsetæ–¹æ³•</span></span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.service.UserService&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.dao.UserDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>refå±æ€§ï¼šåˆ›å»ºuserDaoå¯¹è±¡beanæ ‡ç­¾idå€¼ï¼Œå®Œæˆå¤–éƒ¨beanæ³¨å…¥</p>
<p>å†™æµ‹è¯•ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span>   <span class="comment">//å•å…ƒæµ‹è¯•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼Œä¸åœ¨srcä¸‹ï¼Œéœ€è¦è·¯å¾„+åç§°</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean2.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//ApplicationContextä¹Ÿå¯ä»¥æ¢ä¸ºBeanFactory</span></span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        UserService userService = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        System.out.println(userService);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.æ³¨å…¥å±æ€§-å†…éƒ¨beanå’Œçº§è”èµ‹å€¼</p>
<p>ï¼ˆ1ï¼‰ä¸€å¯¹å¤šå…³ç³»ï¼šéƒ¨é—¨å’Œå‘˜å·¥</p>
<p>ï¼ˆ2ï¼‰åœ¨å®ä½“ä¹‹é—´è¡¨ç¤ºä¸€å¯¹å¤šå…³ç³»ï¼Œå†™éƒ¨é—¨ç±»å’Œå‘˜å·¥ç±»ï¼Œå‘˜å·¥è¡¨ç¤ºæ‰€å±éƒ¨é—¨ï¼Œä½¿ç”¨å¯¹è±¡ç±»å‹å±æ€§è¿›è¡Œè¡¨ç¤ºã€‚</p>
<p>ï¼ˆ3ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p>
<p>åœ¨empå¯¹è±¡åˆ›å»ºæ—¶ï¼Œæœ‰ä¸€ä¸ªå±æ€§æ˜¯deptï¼Œå¯ä»¥ç”¨refå¤–éƒ¨beançš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨å†…éƒ¨beançš„æ–¹å¼ã€‚ç›¸å½“äºæ˜¯åµŒå¥—beanäº†ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å†…éƒ¨bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¼ ä¸‰&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç”·&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">	            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç ”å‘éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰æµ‹è¯•æ–¹æ³•</p>
<p>4.æ³¨å…¥å±æ€§â€“çº§è”èµ‹å€¼</p>
<p>çº§è”èµ‹å€¼æŒ‡çš„æ˜¯ä¸€ä¸ªç±»å†…æœ‰å…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºå±æ€§ï¼Œå¯ä»¥ç”¨å¤–éƒ¨beançš„æ–¹æ³•refï¼Œä¹Ÿå¯ä»¥å†…éƒ¨beançš„æ–¹æ³•ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Emp&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æå››&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept.dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æµ‹è¯•éƒ¨é—¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept.dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è´¢åŠ¡éƒ¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæµ‹è¯•éƒ¨é—¨ï¼Œè€Œä¸æ˜¯è´¢åŠ¡éƒ¨ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlæ³¨å…¥é›†åˆå±æ€§ï¼‰</h3><p>1.æ³¨å…¥æ•°ç»„ç±»å‹å±æ€§ï¼Œæ³¨å…¥Listé›†åˆç±»å‹å±æ€§ï¼Œæ³¨å…¥Mapé›†åˆç±»å‹å±æ€§</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stu</span></span>&#123;</span><br><span class="line">    <span class="comment">//1 æ•°ç»„ç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> String[] course;</span><br><span class="line">    <span class="comment">//2 listé›†åˆç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; lists;</span><br><span class="line">    <span class="comment">//3 mapé›†åˆç±»å‹å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt;maps;</span><br><span class="line">    <span class="comment">//4 seté›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt;sets;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCourse</span><span class="params">(String[] course)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.course = course;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSets</span><span class="params">(Set&lt;String&gt; sets)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sets = sets;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(List&lt;String&gt; lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lists = lists;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMaps</span><span class="params">(Map&lt;String, String&gt; maps)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.maps = maps;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.åœ¨springé…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é›†åˆç±»å‹å±æ€§æ³¨å…¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;course&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;lists&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ•°æ®åº“<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ•°ç»„å¦‚æœç›´æ¥è¾“å‡ºï¼Œä¸æ˜¯å€¼ï¼Œè€Œæ˜¯åœ°å€å€¼ï¼Œéœ€è¦Arrays.toString()</p>
</blockquote>
<p>3.é›†åˆä¸­è®¾ç½®å¯¹è±¡ç±»å‹å€¼</p>
<p> beané…ç½®ä¸­ï¼Œåˆ›å»ºå¤šä¸ªcourseå¯¹è±¡ï¼Œç„¶åç”¨refæ³¨å…¥åˆ°stuå¯¹è±¡çš„é›†åˆå±æ€§ä¸­ã€‚</p>
<p>æ³¨æ„ï¼šè¿™é‡ŒCourseç±»ä¸­æ²¡æœ‰é‡å†™toStringç±»çš„è¯ï¼Œè¾“å‡ºclistä¸­çš„å€¼æ˜¯å¯¹è±¡åœ°å€ï¼Œåªæœ‰é‡å†™Courseç±»ä¸­çš„toStringæ–¹æ³•ï¼Œè¾“å‡ºæ‰èƒ½æ˜¯å¯¹è±¡ä¸­çš„å„ç§å±æ€§å€¼ã€‚</p>
<p>4.æŠŠé›†åˆæ³¨å…¥éƒ¨åˆ†æå–å‡ºæ¥ä½œä¸ºå…¬å…±éƒ¨åˆ†</p>
<p>ï¼ˆ1ï¼‰åœ¨Springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´util</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æå–listé›†åˆå±æ€§æ³¨å…¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æå–listé›†åˆå±æ€§æ³¨å…¥,å¤šä¸ªbeanéƒ½å¯ä½¿ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;stulist&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯¾ç¨‹1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¯¾ç¨‹2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨å…¬å…±listé›†åˆ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.collectiontype.Stu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;lists&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;stulist&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆFactoryBeanï¼‰</h3><p>1.Springä¸­æœ‰ä¸¤ç§ç±»å‹beanï¼Œä¸€ç§æ™®é€šbeanï¼Œå¦å¤–ä¸€ç§FactoryBeanã€‚</p>
<p>2.æ™®é€šbeanï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰beanç±»å‹å°±æ˜¯è¿”å›ç±»å‹ã€‚</p>
<p>3.å·¥å‚beanï¼šåœ¨é…ç½®æ–‡ä»¶å®šä¹‰beanç±»å‹å¯ä»¥å’Œè¿”å›ç±»å‹ä¸ä¸€æ ·ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç±»ï¼Œè®©è¿™ä¸ªç±»ä½œä¸ºå·¥å‚beanï¼Œå®ç°æ¥å£FactoryBean</p>
<p>ç¬¬äºŒæ­¥ï¼šå®ç°æ¥å£é‡Œé¢çš„æ–¹æ³•ï¼Œåœ¨å®ç°çš„æ–¹æ³•ä¸­å®šä¹‰è¿”å›çš„beanç±»å‹ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆBeançš„ä½œç”¨åŸŸï¼‰</h3><p>1.åœ¨Springä¸­ï¼Œå¯ä»¥è®¾ç½®åˆ›å»ºbeanå®ä¾‹æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ã€‚</p>
<blockquote>
<p>æ‰€è°“å•ä¾‹å°±æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ç”¨ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„serviceå’Œdaoå±‚çš„å¯¹è±¡é€šå¸¸éƒ½æ˜¯å•ä¾‹çš„ï¼Œè€Œå¤šä¾‹åˆ™æŒ‡æ¯ä¸ªè¯·æ±‚ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡æ¥å¤„ç†ï¼Œæ¯”å¦‚action;</p>
</blockquote>
<p>2.åœ¨Springä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºçš„beanæ˜¯å•å®ä¾‹å¯¹è±¡ã€‚</p>
<p>æµ‹è¯•ç±»ä¸­åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œè¾“å‡ºåœ°å€ï¼Œå¯ä»¥å‘ç°å¤šä¸ªå¯¹è±¡çš„åœ°å€ç›¸åŒã€‚ä¹Ÿå°±æ˜¯å¤šä¸ªè¯·æ±‚ç”¨ä¸€ä¸ªå¯¹è±¡å¤„ç†ã€‚</p>
<p>3.å¦‚ä½•è®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p>
<p>ï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶beanæ ‡ç­¾é‡Œé¢æœ‰å±æ€§ï¼ˆscopeï¼‰ç”¨äºè®¾ç½®å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹</p>
<p>ï¼ˆ2ï¼‰scopeå±æ€§å€¼ï¼šé»˜è®¤å€¼singletonï¼Œè¡¨ç¤ºå•å®ä¾‹å¯¹è±¡ã€‚prototypeï¼Œè¡¨ç¤ºå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<p>å…¶ä»–ä¸å¸¸ç”¨çš„ï¼š<br>requestè¡¨ç¤ºä¸€æ¬¡è¯·æ±‚<br>sessionè¡¨ç¤ºä¸€æ¬¡ä¼šè¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;bean id=&quot;emp&quot; class=&quot;com.company.bean.Emp&quot; scope=&quot;prototype&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>å†çœ‹å¤šä¸ªå¯¹è±¡çš„åœ°å€ï¼Œä¸ä¸€æ ·ï¼Œå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<p>ï¼ˆ3ï¼‰singletonå’ŒprototypeåŒºåˆ«</p>
<p>ç¬¬ä¸€ singletonå•å®ä¾‹  prototypeå¤šå®ä¾‹</p>
<p>ç¬¬äºŒ singletonåœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶å°±ä¼šåˆ›å»ºå•å®ä¾‹å¯¹è±¡ï¼Œprototypeä¸æ˜¯åœ¨åŠ è½½springé…ç½®æ–‡ä»¶æ—¶åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨getBeanæ–¹æ³•æ—¶åˆ›å»ºå¤šå®ä¾‹å¯¹è±¡ã€‚</p>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆbeanç”Ÿå‘½å‘¨æœŸï¼‰</h3><p>1.ç”Ÿå‘½å‘¨æœŸï¼šä»å¯¹è±¡åˆ›å»ºåˆ°å¯¹è±¡é”€æ¯çš„è¿‡ç¨‹</p>
<p>2.beanç”Ÿå‘½å‘¨æœŸ</p>
<p>ï¼ˆ1ï¼‰é€šè¿‡æ„é€ å™¨åˆ›å»ºbeanå®ä¾‹ï¼ˆxmlè°ƒç”¨æ— å‚æ„é€ ï¼‰<br>ï¼ˆ2ï¼‰ä¸ºbeanä¸­çš„å±æ€§è®¾ç½®å€¼å’Œå¯¹å…¶ä»–beanå¼•ç”¨ï¼ˆè°ƒç”¨setæ–¹æ³•ï¼‰<br>ï¼ˆ3ï¼‰è°ƒç”¨beançš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®ï¼‰<br>ï¼ˆ4ï¼‰beanå¯ä»¥ä½¿ç”¨ï¼ˆå¯¹è±¡è·å–åˆ°ï¼‰<br>ï¼ˆ5ï¼‰å½“å®¹å™¨å…³é—­æ—¶ï¼Œè°ƒç”¨beançš„é”€æ¯æ–¹æ³•ï¼ˆéœ€è¦è¿›è¡Œé…ç½®ï¼‰</p>
<p>3.æ¼”ç¤ºbeanç”Ÿå‘½å‘¨æœŸï¼šè§ç¨‹åºorderç›¸å…³</p>
<p>4.åŠ ä¸Šbeançš„åç½®å¤„ç†å™¨ï¼šbeançš„ç”Ÿå‘½å‘¨æœŸæœ‰ä¸ƒæ­¥ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ä¹‹å‰ï¼šæŠŠbeanå®ä¾‹ä¼ é€’beanåç½®å¤„ç†å™¨çš„æ–¹æ³•before</p>
<p>ç¬¬ä¸‰æ­¥ä¹‹åï¼šæŠŠbeanå®ä¾‹ä¼ é€’beanåç½®å¤„ç†å™¨çš„æ–¹æ³•after</p>
<p>åˆ›å»ºç±»å®ç°BeanPostProcessoræ¥å£ï¼Œåˆ›å»ºåç½®å¤„ç†å™¨ã€‚é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<h2 id="Day-5"><a href="#Day-5" class="headerlink" title="Day 5"></a>Day 5</h2><h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆxmlè‡ªåŠ¨è£…é…ï¼‰</h3><p>1.ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…ï¼Ÿ<br>propertyæ³¨å…¥å±æ€§ï¼Œname-valueå€¼ï¼Œè¿™æ˜¯æ‰‹åŠ¨è£…é…ã€‚æ ¹æ®æŒ‡å®šè£…é…è§„åˆ™ï¼ˆå±æ€§åç§°æˆ–è€…å±æ€§ç±»å‹ï¼‰ï¼Œspringè‡ªåŠ¨å°†åŒ¹é…çš„å±æ€§å€¼è¿›è¡Œæ³¨å…¥ã€‚</p>
<p>2.æ¼”ç¤ºè‡ªåŠ¨è£…é…<br>å¤–éƒ¨beanæ‰‹åŠ¨è£…é…ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;deport&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è‡ªåŠ¨è£…é…ï¼šbeanæ ‡ç­¾å±æ€§autowireï¼Œé…ç½®è‡ªåŠ¨è£…é…ï¼Œautowireå±æ€§å¸¸ç”¨ä¸¤ä¸ªå€¼ï¼šbyNameæ ¹æ®å±æ€§åç§°æ³¨å…¥ï¼ˆæ³¨å…¥å€¼beançš„idå€¼å’Œç±»å±æ€§åå­—ä¸€æ ·ï¼‰ï¼ŒbyTypeæ ¹æ®å±æ€§ç±»å‹æ³¨å…¥ï¼ˆç›¸åŒç±»å‹çš„beanä¸èƒ½å®šä¹‰å¤šä¸ªï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼‰ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Employee&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.company.autowire.Deport&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼‰</h3><p>å¦‚æœä¸€ä¸ªç±»çš„å±æ€§å¾ˆå¤šï¼Œéœ€è¦å¾ˆå¤špropertyï¼Œå¹¶ä¸”ç±»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦ä¿®æ”¹xmlé…ç½®æ–‡ä»¶ï¼Œæ”¹èµ·æ¥éº»çƒ¦ã€‚å°†å›ºå®šçš„å€¼æ”¾åœ¨å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚åœºæ™¯åº”ç”¨åœ¨æ“ä½œæ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“çš„å€¼æ”¾åœ¨propertyæ–‡ä»¶ä¸­ï¼Œå¼•ç”¨è¿›æ¥ï¼Œè¿›è¡Œè¯»å–ã€‚</p>
<p>1.ç›´æ¥é…ç½®æ•°æ®åº“ä¿¡æ¯</p>
<p>ï¼ˆ1ï¼‰é…ç½®å¾·é²ä¼Šdruidè¿æ¥æ± </p>
<p>ï¼ˆ2ï¼‰å¼•å…¥å¾·é²ä¼Šè¿æ¥æ± ä¾èµ–jaråŒ…</p>
<p><a href="https://mvnrepository.com/artifact/com.alibaba/druid/1.1.9%EF%BC%88%E6%89%BE%E5%88%B0durid1.9%E4%B8%8B%E8%BD%BD%EF%BC%8C%E5%AF%BC%E5%85%A5lib%EF%BC%89">https://mvnrepository.com/artifact/com.alibaba/druid/1.1.9ï¼ˆæ‰¾åˆ°durid1.9ä¸‹è½½ï¼Œå¯¼å…¥libï¼‰</a></p>
<p>ï¼ˆ3ï¼‰é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼ˆbean10ï¼‰ï¼Œå‡ ä¸ªå±æ€§ï¼šé©±åŠ¨åç§°ã€æ•°æ®åº“åœ°å€ã€ç”¨æˆ·ã€å¯†ç </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/userDb&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<p>2.å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶é…ç½®æ•°æ®åº“è¿æ¥æ± </p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºå¤–éƒ¨å±æ€§æ–‡ä»¶ï¼Œpropertiesæ ¼å¼æ–‡ä»¶ï¼Œå†™æ•°æ®åº“ä¿¡æ¯ã€‚ç­‰å·å·¦è¾¹çš„åå­—å¯ä»¥éšä¾¿å†™ã€‚</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/userDb</span></span><br><span class="line"><span class="meta">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">prop.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æŠŠå¤–éƒ¨propertieså±æ€§æ–‡ä»¶å¼•å…¥åˆ°springé…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥contextåç§°ç©ºé—´</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šåœ¨springé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ ‡ç­¾å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span>   <span class="comment">&lt;!--æ–‡ä»¶åœ¨æœ¬åœ°å†™æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»¥ä¸Šæ˜¯åŸºäºxmlæ–¹å¼è¿›è¡Œbeanç®¡ç†ï¼Œæœ€é‡è¦çš„ï¼šåˆ›å»ºå¯¹è±¡ã€æ³¨å…¥å±æ€§</p>
</blockquote>
<h3 id="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰"><a href="#IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰" class="headerlink" title="IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰"></a>IOCæ“ä½œBeanç®¡ç†ï¼ˆåŸºäºæ³¨è§£æ–¹å¼ï¼‰</h3><p>1.ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ<br>æ³¨è§£æ˜¯ä»£ç ä¸­ç‰¹æ®Šçš„æ ‡è®°ï¼Œæ ¼å¼ï¼š@æ³¨è§£åç§°(å±æ€§åç§°=å±æ€§å€¼, å±æ€§åç§°=å±æ€§å€¼â€¦)<br>æ³¨è§£å¯ä»¥ä½œç”¨åœ¨ç±»ä¸Šé¢ï¼Œæ–¹æ³•ä¸Šé¢ï¼Œå±æ€§ä¸Šé¢ã€‚<br>ä½¿ç”¨æ³¨è§£çš„åŸå› ï¼šä¸ºäº†ç®€åŒ–xmlé…ç½®</p>
<p>2.Springé’ˆå¯¹Beanç®¡ç†ä¸­åˆ›å»ºå¯¹è±¡æä¾›æ³¨è§£</p>
<p>ï¼ˆ1ï¼‰@Component</p>
<p>ï¼ˆ2ï¼‰@Serviceï¼šä¸šåŠ¡é€»è¾‘å±‚serviceå±‚</p>
<p>ï¼ˆ3ï¼‰@Controllerï¼šwebå±‚</p>
<p>ï¼ˆ4ï¼‰@Repositoryï¼šdaoæŒä¹…å±‚</p>
<p>*ä¸Šé¢çš„å››ä¸ªæ³¨è§£åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨æ¥åˆ›å»ºbeanå®ä¾‹ï¼Œå¯ä»¥ä¸åŒå±‚æ··ç”¨çš„ã€‚</p>
<p>3.åŸºäºæ³¨è§£æ–¹å¼å®ç°å¯¹è±¡åˆ›å»º</p>
<p>é‡æ–°æä¸€ä¸ªå·¥ç¨‹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–ï¼Œaopã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šå¼€å¯ç»„ä»¶æ‰«æï¼Œçœ‹æœ‰æ²¡æœ‰æ³¨è§£ï¼Œæ‰«æå“ªä¸ªåŒ…ä¸­çš„å“ªä¸ªç±»ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ,æ‰«æå¤šä¸ªåŒ…ç”¨,éš”å¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºç±»ï¼Œåœ¨ç±»ä¸Šæ·»åŠ åˆ›å»ºå¯¹è±¡çš„æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/&gt;, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestZhujie</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testZhujie</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ApplicationContext con = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        UserService userService = con.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class); <span class="comment">//æ‰“åé¢çš„ï¼Œç„¶å.varä¼šå‡ºç°å‰é¢çš„åŒ¹é…ç±»å‹</span></span><br><span class="line">        System.out.println(userService);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.ä¸Šé¢æ˜¯æ‰«æä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œä¹Ÿå¯ä»¥ä¸æ‰«ææ‰€æœ‰ç±»</p>
<p>ç¤ºä¾‹1 ï¼š<br><code>user-default-filters=&quot;false&quot; </code>è¡¨ç¤ºç°åœ¨ä¸ä½¿ç”¨é»˜è®¤filterï¼Œè‡ªå·±é…ç½®filterã€‚<br><code>context:include-filter</code>ï¼Œè®¾ç½®æ‰«æå“ªäº›å†…å®¹ï¼Œ<code>type=&quot;annotation&quot;</code>æ ¹æ®æ³¨è§£æ¥æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¤ºä¾‹1 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span> <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åªæ‰«æ<code>@component</code>æ³¨è§£çš„ç±»ã€‚</p>
<p>ç¤ºä¾‹2ï¼š<br><code>contextï¼šexclude-filter</code> è®¾ç½®å“ªäº›å†…å®¹ä¸æ‰«æã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¤ºä¾‹2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.dao,com.company.service&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>5.åŸºäºæ³¨è§£æ–¹å¼å®ç°å±æ€§æ³¨å…¥</p>
<p>ï¼ˆ1ï¼‰@Autowiredï¼šæ ¹æ®å±æ€§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…</p>
<p>ç¬¬ä¸€æ­¥ï¼šæŠŠserviceå’Œdaoå¯¹è±¡éƒ½åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯åœ¨ç±»ä¸Šéƒ½æ·»åŠ æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDapImpt</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;dao add ......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šåœ¨serviceä¸­æ³¨å…¥daoå¯¹è±¡ï¼Œåœ¨serviceå†…çš„daoå¯¹è±¡å±æ€§ä¸Šæ·»åŠ æ³¨å…¥å±æ€§æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userdao;  <span class="comment">//UserDaoæ˜¯æ¥å£ä¹Ÿå¯ä»¥å•Š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">        userdao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>*Autowiredæ ‡æ³¨äº†UserDaoç±»å‹çš„ï¼Œæ ¹æ®ç±»å‹è‡ªåŠ¨æ‰¾åˆ°å®ƒçš„å®ç°ç±»</p>
<p>ï¼ˆ2ï¼‰@Qualifierï¼šæ ¹æ®å±æ€§åç§°è¿›è¡Œæ³¨å…¥</p>
<p>éœ€è¦ä¸ªä¸Šé¢çš„@Autowiredä¸€èµ·è¿›è¡Œä½¿ç”¨ã€‚å’Œä¸Šé¢çš„bytypeè‡ªåŠ¨æ³¨å…¥ç±»ä¼¼ï¼Œå¦‚æœä¸€ä¸ªæ¥å£æœ‰ä¸åŒå®ç°ç±»ï¼Œå°±ä¼šæœ‰å¤šä¸ªå¯åŒ¹é…çš„ï¼Œè¿™æ—¶éœ€è¦æ ¹æ®åç§°ï¼ˆ@componentæ‹¬å·é‡Œçš„valueï¼‰è¿›è¡Œè£…é…ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span>  <span class="comment">//ç±»ä¼¼äº&lt;bean id=&quot;&quot; class=&quot;&quot;/, valueå±æ€§å¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;hh&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userdao;  <span class="comment">//UserDaoæ˜¯æ¥å£ä¹Ÿå¯ä»¥å•Š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ......&quot;</span>);</span><br><span class="line">        userdao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰@Resourceï¼šå¯ä»¥æ ¹æ®ç±»å‹æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åç§°æ³¨å…¥</p>
<p>ç›´æ¥@Resourceæ˜¯æ ¹æ®ç±»å‹ï¼Œ@Resource(name=â€hhâ€)æ ¹æ®åç§°ã€‚</p>
<p>Resourceæ˜¯javaæ‰©å±•åŒ…javaxä¸­çš„ï¼Œä¸Šé¢ä¸¤ä¸ªæ˜¯springä¸­çš„ã€‚</p>
<p>ï¼ˆ4ï¼‰@Valueï¼šæ³¨å…¥æ™®é€šç±»å‹å±æ€§</p>
<p>ä¸Šé¢ä¸‰ä¸ªéƒ½æ˜¯æ³¨å…¥å¯¹è±¡ç±»å‹æ•°æ®ï¼Œè¿™ä¸ªæ³¨å…¥æ™®é€šç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Value(value = &quot;liu&quot;)</span>  <span class="comment">//liuæ³¨å…¥åˆ°snameä¸­ï¼Œç›¸å½“äºxmlçš„property</span></span><br><span class="line"><span class="keyword">private</span> String sname;</span><br></pre></td></tr></table></figure>

<p>6.å®Œå…¨æ³¨è§£å¼€å‘</p>
<p>ä½¿ç”¨æ³¨è§£æ–¹å¼ç®¡ç†Beançš„ç›®çš„æ˜¯ï¼Œç®€åŒ–xmlé…ç½®ï¼Œç›®å‰åªæœ‰ä¸€è¡Œå¼€å¯ç»„ä»¶æ‰«æï¼Œå…¶ä»–çš„éƒ½ç”¨æ³¨è§£æ¥æ›¿ä»£ã€‚</p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>   <span class="comment">//ä½œä¸ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.company&quot;&#125;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼Œé™¤äº†ç¬¬ä¸€æ­¥åŠ è½½é…ç½®ç±»ä¸åŒï¼Œå…¶ä»–éƒ½ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testZhujie2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ApplicationContext con = <span class="keyword">new</span> AnnotationConfigApplicationContext(SpringConfig.class);  <span class="comment">//åŠ è½½é…ç½®ç±»</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    UserService userService = con.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class); <span class="comment">//æ‰“åé¢çš„ï¼Œç„¶å.varä¼šå‡ºç°å‰é¢çš„åŒ¹é…ç±»å‹</span></span><br><span class="line">    System.out.println(userService);</span><br><span class="line">    userService.add();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å¼€å‘ï¼Œåœ¨å®é™…å¼€å‘ä¸­ç”¨springbootï¼Œspringbootæœ¬è´¨ä¸Šè¿˜æ˜¯springï¼Œå¯¹springåšäº†ç®€åŒ–å¼€å‘ã€‚</p>
<h2 id="Day-6"><a href="#Day-6" class="headerlink" title="Day 6"></a>Day 6</h2><h3 id="AOP-åŸºæœ¬æ¦‚å¿µ"><a href="#AOP-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="AOP åŸºæœ¬æ¦‚å¿µ"></a>AOP åŸºæœ¬æ¦‚å¿µ</h3><p>ä»€ä¹ˆæ˜¯AOPï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯OOPå»¶ç»­ï¼Œå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜å¼€å‘çš„æ•ˆç‡ã€‚</p>
<p>ä¾‹å¦‚ï¼šåœ¨ç”¨æˆ·ç™»å½•åŠŸèƒ½åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½â€“æƒé™åˆ¤æ–­</p>
<p>åŸå§‹æ–¹å¼ï¼šä¿®æ”¹æºä»£ç å®ç° if else</p>
<p>AOPï¼šä¸é€šè¿‡ä¿®æ”¹æºä»£ç æ–¹å¼åœ¨ä¸»å¹²åŠŸèƒ½é‡Œæ·»åŠ æ–°åŠŸèƒ½ï¼Œå°†æƒé™åˆ¤æ–­æ¨¡å—é€šè¿‡é…ç½®æ–¹å¼æ·»åŠ ã€‚</p>
<h3 id="AOPåº•å±‚åŸç†"><a href="#AOPåº•å±‚åŸç†" class="headerlink" title="AOPåº•å±‚åŸç†"></a>AOPåº•å±‚åŸç†</h3><p>AOPåº•å±‚ä½¿ç”¨åŠ¨æ€ä»£ç†</p>
<p>æœ‰ä¸¤ç§æƒ…å†µçš„åŠ¨æ€ä»£ç†ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šæœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨JDKåŠ¨æ€ä»£ç†</p>
<p>å®šä¹‰UserDaoæ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªUserDaoImplå®ç°ç±»ï¼Œç±»å†…é‡å†™ç™»å½•å‡½æ•°å®ç°ç™»å½•åŠŸèƒ½ã€‚ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºUserDaoæ¥å£å®ç°ç±»ä»£ç†å¯¹è±¡ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡å¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒç§ï¼šæ²¡æœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨CGLIBåŠ¨æ€ä»£ç†</p>
<p>æœ‰ä¸€ä¸ªUserç±»ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå­ç±»æ¥ç»§æ‰¿Userç±»ï¼Œé‡å†™æ–¹æ³•æ‰©å±•åŠŸèƒ½å¢å¼ºé€»è¾‘ã€‚CGLIBåŠ¨æ€ä»£ç†ï¼šåˆ›å»ºä¸€ä¸ªå½“å‰ç±»ä¹‹ç±»çš„ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºç±»çš„æ–¹æ³•ã€‚</p>
<h3 id="AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰"><a href="#AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰" class="headerlink" title="AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰"></a>AOPï¼ˆæœ‰æ¥å£æƒ…å†µJDKåŠ¨æ€ä»£ç†å®ç°ï¼‰</h3><p>1.æ¦‚å¿µï¼šä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œä½¿ç”¨Proxyç±»é‡Œé¢çš„æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<p>APIæ–‡æ¡£ï¼š<a href="https://www.matools.com/api/java8%EF%BC%88java.lang.reflect.Proxy%EF%BC%89">https://www.matools.com/api/java8ï¼ˆjava.lang.reflect.Proxyï¼‰</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">newProxyInstance(ClassLoader loader, ç±»&lt;?&gt;[] interfaces, InvocationHandler h)    //é™æ€æ–¹æ³•</span><br></pre></td></tr></table></figure>

<p>è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£å°†æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</p>
<p>newProxyInstanceæ–¹æ³•çš„ä¸‰ä¸ªå‚æ•°ï¼šç±»åŠ è½½å™¨ï¼›å¢å¼ºæ–¹æ³•è¦å¢å¼ºçš„æ¥å£å®ç°ç±»ï¼Œæ”¯æŒå¤šä¸ªæ¥å£ï¼›å†™ä¸ªç±»å®ç°InvocationHandleræ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œé‡Œé¢å†™å¢å¼ºçš„æ–¹æ³•ï¼ˆå¯ä»¥å†™åŒ¿åå†…éƒ¨ç±»ï¼Œä¹Ÿå¯ä»¥å†™ä¸ªç±»å®ç°è¿™ä¸ªæ¥å£ï¼‰ã€‚ </p>
<p>2.ç¼–å†™JDKåŠ¨æ€ä»£ç†ä»£ç </p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºæ¥å£ï¼Œå®šä¹‰æ–¹æ³•</p>
<p>ä»£ç ä¸­çš„UserDaoæ¥å£</p>
<p>ï¼ˆ2ï¼‰åˆ›å»ºæ¥å£å®ç°ç±»ï¼Œå®ç°æ–¹æ³•</p>
<p>ä»£ç ä¸­çš„UserDaoImplç±»</p>
<p>ï¼ˆ3ï¼‰ä½¿ç”¨Proxyç±»åˆ›å»ºæ¥å£ä»£ç†å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">package</span> com.company;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: SpringAop</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-27 21:08</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDKProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ¥å£å®ç°ç±»ä»£ç†å¯¹è±¡</span></span><br><span class="line">        Class[] interfaces = &#123;UserDao.class&#125;;</span><br><span class="line">        <span class="comment">//1.å‡½æ•°å¼æ¥å£æ–¹æ³•</span></span><br><span class="line"><span class="comment">//        Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() &#123;</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span></span><br><span class="line"><span class="comment">//                return null;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;);</span></span><br><span class="line">        <span class="comment">//2.å¤–é¢å†™ä¸ªç±»æ–¹æ³•</span></span><br><span class="line">        UserDaoImpl userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">        <span class="comment">//åšä¸€ä¸ªå¼ºè½¬ï¼Œåˆ›å»ºæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡</span></span><br><span class="line">        UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, <span class="keyword">new</span> UserDaoProxy(userDao));</span><br><span class="line">        <span class="comment">//int res = dao.add(1,2);</span></span><br><span class="line">        String res = dao.update(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;result:&quot;</span>+res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDaoProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span></span>&#123;</span><br><span class="line">    <span class="comment">//æŠŠåˆ›å»ºçš„æ˜¯è°çš„ä»£ç†å¯¹è±¡ï¼ŒæŠŠè°ä¼ é€’è¿‡æ¥</span></span><br><span class="line">    <span class="comment">//æœ‰å‚æ„é€ ä¼ é€’</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserDaoProxy</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¢å¼ºçš„é€»è¾‘</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">//å¯ä»¥å¯¹è¦å¢å¼ºçš„æ–¹æ³•ä½œå‡ºåˆ¤æ–­ï¼Œå¢å¼ºå“ªä¸ªï¼Œç”¨getName()æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹å‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å“ªä¸ªæ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼š&quot;</span>+method.getName()+<span class="string">&quot;ï¼›ä¼ é€’çš„å‚æ•°ï¼š&quot;</span>+ Arrays.toString(args));</span><br><span class="line">        <span class="comment">//è¢«å¢å¼ºçš„æ–¹æ³•</span></span><br><span class="line">        Object res= method.invoke(obj, args);</span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹å</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å“ªä¸ªæ–¹æ³•ä¹‹åæ‰§è¡Œï¼š&quot;</span>+method.getName()+<span class="string">&quot;ï¼›ä¼ é€’çš„å‚æ•°ï¼š&quot;</span>+ Arrays.toString(args));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="AOP-æ“ä½œæœ¯è¯­"><a href="#AOP-æ“ä½œæœ¯è¯­" class="headerlink" title="AOP-æ“ä½œæœ¯è¯­"></a>AOP-æ“ä½œæœ¯è¯­</h3><p>1.è¿æ¥ç‚¹</p>
<p>ç±»ä¸­æœ‰è‹¥å¹²æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½å¯ä»¥è¢«å¢å¼ºï¼Œåœ¨ä¸€ä¸ªç±»ä¸­å“ªäº›æ–¹æ³•å¯ä»¥è¢«å¢å¼ºï¼Œè¿™äº›æ–¹æ³•å°±å«åšè¿æ¥ç‚¹ã€‚</p>
<p>2.åˆ‡å…¥ç‚¹</p>
<p>å®é™…è¢«çœŸæ­£å¢å¼ºçš„æ–¹æ³•ï¼Œå«åšåˆ‡å…¥ç‚¹ã€‚</p>
<p>3.é€šçŸ¥ï¼ˆå¢å¼ºï¼‰</p>
<p>ï¼ˆ1ï¼‰å®é™…å¢å¼ºçš„é€»è¾‘éƒ¨åˆ†ç§°ä¸ºé€šçŸ¥æˆ–æ˜¯å¢å¼ºã€‚</p>
<p>ï¼ˆ2ï¼‰é€šçŸ¥æœ‰å¤šç§ç±»å‹<br>*å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•ä¹‹å‰ä¼šæ‰§è¡Œ<br>*åç½®é€šçŸ¥ï¼šæ–¹æ³•ä¹‹åä¼šæ‰§è¡Œ<br>*ç¯ç»•é€šçŸ¥ï¼šæ–¹æ³•çš„å‰åéƒ½æ‰§è¡Œ<br>*å¼‚å¸¸é€šçŸ¥ï¼šæ–¹æ³•å‡ºç°å¼‚å¸¸æ‰§è¡Œ<br>*æœ€ç»ˆé€šçŸ¥ï¼šç±»ä¼¼try-catch-finallyï¼Œä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸éƒ½æ‰§è¡Œ</p>
<p>4.åˆ‡é¢</p>
<p>æ˜¯åŠ¨ä½œï¼ŒæŠŠé€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹çš„è¿‡ç¨‹å«åšåˆ‡é¢ã€‚</p>
<h3 id="AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ"><a href="#AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ" class="headerlink" title="AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ"></a>AOPæ“ä½œ-å‡†å¤‡å·¥ä½œ</h3><p>1.Springæ¡†æ¶ä¸­ä¸€èˆ¬åŸºäºAspectJå®ç°AOPæ“ä½œã€‚</p>
<p>ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯AspectJï¼Ÿ</p>
<p>*AspectJæ˜¯ç‹¬ç«‹çš„æ¡†æ¶ï¼Œä¸æ˜¯Springç»„æˆéƒ¨åˆ†ï¼Œç‹¬ç«‹AOPæ¡†æ¶ï¼Œä¸€èˆ¬æŠŠAspectJå’ŒSpringæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡ŒAOPæ“ä½œã€‚</p>
<p>2.åŸºäºAspectJå®ç°AOPæ“ä½œ</p>
<p>ï¼ˆ1ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°</p>
<p>ï¼ˆ2ï¼‰åŸºäºæ³¨è§£æ–¹å¼å®ç°ï¼ˆä¸€èˆ¬ç”¨è¿™ä¸ªï¼‰</p>
<p>3.åœ¨é¡¹ç›®å·¥ç¨‹ä¸­å¼•å…¥AOPç›¸å…³ä¾èµ–ã€‚</p>
<p>éœ€è¦æ·»åŠ ä¸€ä¸ªaspectçš„ä¾èµ–åŒ…ã€‚åœ¨<a href="https://mvnrepository.comä¸­æœç´¢aspectjã€cglibã€aopallianceä¾èµ–åŒ…./">https://mvnrepository.comä¸­æœç´¢aspectjã€cglibã€aopallianceä¾èµ–åŒ…ã€‚</a></p>
<p>4.åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p>
<p>ï¼ˆ1ï¼‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä½œç”¨ï¼šçŸ¥é“å¯¹å“ªä¸ªç±»é‡Œé¢çš„å“ªä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p>
<p>ï¼ˆ2ï¼‰è¯­æ³•ç»“æ„ï¼š<code>execution([æƒé™ä¿®é¥°ç¬¦][è¿”å›ç±»å‹][ç±»å…¨è·¯å¾„][æ–¹æ³•åç§°][å‚æ•°åˆ—è¡¨])</code></p>
<p>ä¸¾ä¾‹1ï¼šå¯¹com.company.dao.BookDaoç±»é‡Œé¢çš„addè¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.BookDao.add(...))</code></p>
<p>ä¸¾ä¾‹2ï¼šå¯¹com.company.dao.BookDaoç±»é‡Œé¢çš„æ‰€æœ‰è¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.BookDao.*(...))</code></p>
<p>ä¸¾ä¾‹3ï¼šå¯¹com.company.daoåŒ…é‡Œé¢æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼º<br><code>execution(* com.company.dao.*.*(...))</code></p>
<h3 id="AOP-AspectJæ³¨è§£æ“ä½œ"><a href="#AOP-AspectJæ³¨è§£æ“ä½œ" class="headerlink" title="AOP-AspectJæ³¨è§£æ“ä½œ"></a>AOP-AspectJæ³¨è§£æ“ä½œ</h3><p>1.åˆ›å»ºç±»ï¼Œåœ¨ç±»ä¸­å®šä¹‰æ–¹æ³•</p>
<p>åˆ›å»ºUserç±»</p>
<p>2.åˆ›å»ºå¢å¼ºç±»ï¼ˆç¼–å†™å¢å¼ºé€»è¾‘ï¼‰</p>
<p>åœ¨å¢å¼ºç±»UserProxyä¸­ï¼Œåˆ›å»ºæ–¹æ³•ï¼Œè®©ä¸åŒæ–¹æ³•ä»£è¡¨ä¸åŒé€šçŸ¥ç±»å‹ã€‚</p>
<p>3.è¿›è¡Œé€šçŸ¥çš„é…ç½®</p>
<p>ï¼ˆ1ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£æ‰«æï¼ˆå¯ä»¥å†™é…ç½®ç±»ï¼Œä¹Ÿå¯ä»¥å†™é…ç½®æ–‡ä»¶ï¼‰é¦–å…ˆæ˜¯åç§°ç©ºé—´ï¼Œå†å¼€å¯ç»„ä»¶æ‰«æ</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨æ³¨è§£åˆ›å»ºUserå’ŒUserProxyå¯¹è±¡ï¼Œç”¨@Component</p>
<p>ï¼ˆ3ï¼‰åœ¨å¢å¼ºç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Aspect</p>
<p>ï¼ˆ4ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­å¼€å¯ç”Ÿæˆä»£ç†å¯¹è±¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                   http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯ç»„ä»¶æ‰«æ,æ‰«æå¤šä¸ªåŒ…ç”¨,éš”å¼€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company.aopdemo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯Aspectç”Ÿæˆä»£ç†å¯¹è±¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.é…ç½®ä¸åŒç±»å‹çš„é€šçŸ¥</p>
<p>åœ¨å¢å¼ºç±»çš„é‡Œé¢ï¼Œåœ¨ä½œä¸ºé€šçŸ¥æ–¹æ³•ä¸Šé¢æ·»åŠ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.aopdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: SpringAop</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-29 21:48</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProxy</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterReturning(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterThrowing(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¯ç»•é€šçŸ¥ï¼Œæ–¹æ³•ä¹‹å‰å’Œæ–¹æ³•ä¹‹åéƒ½æ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Around(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before around......&quot;</span>);</span><br><span class="line">        proceedingJoinPoint.proceed();  <span class="comment">//è¡¨ç¤ºæ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•ï¼Œæœ‰å¼‚å¸¸å¤„ç†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;after around......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>//afterè¡¨ç¤ºæ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</strong>ï¼Œæœ€ç»ˆé€šçŸ¥ï¼Œä¸ç®¡æœ‰æ²¡æœ‰å¼‚å¸¸</p>
<p><strong>//afterreturningè¡¨ç¤ºåœ¨æ–¹æ³•è¿”å›å€¼ä¹‹åæ‰§è¡Œ</strong>ï¼Œåç½®é€šçŸ¥ï¼Œè¿”å›é€šçŸ¥ï¼Œæœ‰å¼‚å¸¸ä¸æ‰§è¡Œ</p>
<p><strong>//å¦‚æœå¼‚å¸¸äº†ï¼ŒafterReturningå’Œç¯ç»•ä¹‹åä¸æ‰§è¡Œ</strong></p>
<p>5.ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–ï¼Œ@Pointcutæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–</span></span><br><span class="line"><span class="meta">@Pointcut(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointdemo</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">//@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line"><span class="meta">@Before(value = &quot;pointdemo()&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;before......&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.æœ‰å¤šä¸ªå¢å¼ºç±»å¯¹åŒä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºï¼Œå¯ä»¥è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§</p>
<p>åœ¨å¢å¼ºç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Order(æ•°å­—ç±»å‹å€¼)ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonProxy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç›¸åŒåˆ‡å…¥ç‚¹æŠ½å–</span></span><br><span class="line">    <span class="meta">@Pointcut(value = &quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointdemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Beforeæ³¨è§£è¡¨ç¤ºä½œä¸ºå‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¡¨ç¤ºå¢å¼ºå“ªä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//@Before(value=&quot;execution(* com.company.aopdemo.User.add(..))&quot;)</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;pointdemo()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;person before,order1,é«˜ä¼˜å…ˆçº§......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Day-7"><a href="#Day-7" class="headerlink" title="Day 7"></a>Day 7</h2><h3 id="AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶"><a href="#AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶" class="headerlink" title="AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶"></a>AOPæ“ä½œ-åŸºäºAspectJé…ç½®æ–‡ä»¶</h3><p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬ç±»ï¼Œå†åˆ›å»ºä¸€ä¸ªå¢å¼ºç±»ï¼Œç„¶åé…ç½®æ–‡ä»¶ä¸­ç”¨<code>&lt;bean&gt;</code>åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œå†åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®åˆ‡å…¥ç‚¹ï¼Œä½¿ç”¨<code>&lt;aop:config&gt;</code>æ³¨è§£ï¼Œä½¿ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼<code>&lt;aop:pointcut ...</code>ï¼Œå†é…ç½®åˆ‡é¢ï¼Œé…ç½®å¢å¼ºä½œç”¨åœ¨å“ªä¸ªåœ°æ–¹ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/340e68569bac47c6b2772ec3c24a0490.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h3 id="å®Œå…¨æ³¨è§£å¼€å‘"><a href="#å®Œå…¨æ³¨è§£å¼€å‘" class="headerlink" title="å®Œå…¨æ³¨è§£å¼€å‘"></a>å®Œå…¨æ³¨è§£å¼€å‘</h3><p>åˆ›å»ºé…ç½®ç±»ï¼Œä¸éœ€è¦å†™xmlé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>   <span class="comment">//ä½œä¸ºé…ç½®ç±»ï¼Œæ›¿ä»£xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.company&quot;&#125;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy(proxyTargetClass=true)</span>  <span class="comment">//ä»£æ›¿é…ç½®åˆ‡å…¥ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"><a href="#JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ" class="headerlink" title="JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ"></a>JDBCTemplate-æ¦‚è¿°å’Œå‡†å¤‡å·¥ä½œ</h3><p>1.ä»€ä¹ˆæ˜¯JDBCTemplateï¼Ÿ</p>
<p>Springæ¡†æ¶å¯¹JDBCè¿›è¡Œå°è£…ï¼Œä½¿ç”¨JDBCTemplateå¯ä»¥æ–¹ä¾¿å®ç°å¯¹æ•°æ®åº“çš„æ“ä½œã€‚</p>
<p>2.å‡†å¤‡å·¥ä½œ</p>
<p>ï¼ˆ1ï¼‰å¼•å…¥ç›¸å…³çš„jaråŒ…</p>
<p>éœ€è¦mysqlåŒ…ã€druidå¾·é²ä¼ŠåŒ…ã€springä¸­çš„jdbcåŒ…ã€springä¸­çš„txçš„äº‹åŠ¡ç›¸å…³ã€springä¸­çš„ormåŒ…ç”¨æ¥æ•´åˆå…¶ä»–æ¡†æ¶ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“çš„è¿æ¥æ± </p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/userDb&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰é…ç½®JDBCTemplateå¯¹è±¡ï¼Œæ³¨å…¥DataSourceï¼Œç”¨çš„setæ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span><br><span class="line">    &lt;!-- æ³¨å…¥DataSource --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;dataSource&quot;</span> ref=<span class="string">&quot;dataSource&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰åˆ›å»ºserviceç±»ï¼Œåˆ›å»ºdaoç±»ï¼Œå®Œæˆæ³¨å…¥ï¼Œåœ¨daoæ³¨å…¥jdbcTemplateå¯¹è±¡ã€‚</p>
<p>å¼€å¯ç»„ä»¶æ‰«æï¼Œç”¨æ³¨è§£åˆ›å»ºå¯¹è±¡ï¼Œserviceä¸­æ³¨å…¥daoï¼Œdaoä¸­æ³¨å…¥jdbcTemplateå¯¹è±¡ã€‚</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ·»åŠ ï¼‰</h3><p>1.macå®‰è£…æ•°æ®åº“å¯è§†åŒ–å·¥å…·ï¼Œæœ€ç»ˆè£…äº†DataGripï¼Œè§å¸–å­ã€ŠMacå®‰è£…mysqlã€‹</p>
<p>2.å»ºåº“å»ºè¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -uliuxuan -p</span><br><span class="line">create database b_jdbc;</span><br><span class="line">show databases;</span><br><span class="line">use b_jdbc;</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS `user_db`(</span><br><span class="line">   `user_id` bigint unsigned NOT NULL,</span><br><span class="line">   `username` varchar(100) NOT NULL,</span><br><span class="line">   `ustate` varchar(50) NOT NULL,</span><br><span class="line">   PRIMARY KEY(`user_id`)</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;biao&#x27;;</span><br><span class="line"></span><br><span class="line"> CREATE TABLE `kiss_share_idproducer` (</span><br><span class="line">  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#x27;è‡ªå¢&#x27;,</span><br><span class="line">  `app_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;äº§å“çº¿id&#x27;,</span><br><span class="line">  `init_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;åˆå§‹åŒ–id&#x27;,</span><br><span class="line">  `max_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;å½“å‰id&#x27;,</span><br><span class="line">  `setp` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ¯æ¬¡åˆ†é…æ•°&#x27;,</span><br><span class="line">  `mix_id` smallint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;å¯ç”¨ä¸ªä½æ··æ·†å› å­&#x27;,</span><br><span class="line">  `desc` varchar(16) NOT NULL DEFAULT &#x27;&#x27; COMMENT &#x27;desc&#x27;,</span><br><span class="line">  `mtime` int NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ›´æ–°æ—¶é—´&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `idx_app` (`app_id`) USING BTREE</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;å‘å·å™¨&#x27;;</span><br></pre></td></tr></table></figure>

<p>3.entityåŒ…é‡Œå¯¹åº”æ•°æ®åº“åˆ›å»ºå®ä½“ç±»</p>
<p>4.ç¼–å†™serveicå’Œdao</p>
<p>ï¼ˆ1ï¼‰åœ¨daoä¸­æ“ä½œæ•°æ®åº“æ·»åŠ æ–¹æ³•</p>
<p>ï¼ˆ2ï¼‰è°ƒç”¨JdbcTemplateå¯¹è±¡é‡Œé¢updateæ–¹æ³•å®ç°æ·»åŠ æ“ä½œï¼šä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯sqlè¯­å¥ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯å˜å‚æ•°ï¼Œè®¾ç½®sqlè¯­å¥å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span>  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³¨å…¥Dao</span></span><br><span class="line">    <span class="meta">@Autowired</span>  <span class="comment">//ä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">private</span> BookDao userDao;  <span class="comment">//ä½¿ç”¨daoä¸­çš„æ–¹æ³•å¾—åˆ›å»ºBookDaoï¼ˆæ¥å£ï¼Ÿï¼‰çš„å¯¹è±¡ï¼Œç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆæ˜¯æ¥å£ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userDao.add(user);  <span class="comment">//ç”¨daoé‡Œçš„æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Repository</span>  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³¨å…¥JDBCTemplate</span></span><br><span class="line">    <span class="meta">@Autowired</span>  <span class="comment">//æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„JdbcTemplate</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ•°æ®åº“æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºsqlè¯­å¥</span></span><br><span class="line">        String sql = <span class="string">&quot;insert into user_db values(?,?,?)&quot;</span>;</span><br><span class="line">        <span class="comment">//2.è°ƒç”¨æ–¹æ³•å®ç°</span></span><br><span class="line">        <span class="comment">//å¯å˜å‚æ•°å°±æ˜¯ä¸€ä¸ªæ•°ç»„å‹ï¼Œå¯ä»¥ç”¨Object</span></span><br><span class="line">        Object[] args = &#123;user.getUserId(), user.getUserName(), user.getUstate()&#125;;</span><br><span class="line">        <span class="keyword">int</span> update = jdbcTemplate.update(sql, args);  <span class="comment">//updateè¡¨ç¤ºå½±å“è¡Œæ•°</span></span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.ç¼–å†™æµ‹è¯•æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJDBC</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testJDBC</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½springé…ç½®æ–‡ä»¶</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">        BookService service = context.getBean(<span class="string">&quot;bookService&quot;</span>, BookService.class);</span><br><span class="line">        <span class="comment">//getBeançš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºbeançš„åç§°ï¼Œxmlé…ç½®æ–‡ä»¶ä¸­çš„idï¼Œå¦‚æœæ˜¯æ³¨è§£åˆ›å»ºï¼Œåˆ™å°å†™ç¬¬ä¸€ä½</span></span><br><span class="line">        <span class="comment">//æ–°å»ºä¸€ä¸ªUserå¯¹è±¡</span></span><br><span class="line">        User u = <span class="keyword">new</span> User();</span><br><span class="line">        u.setUserId(<span class="number">2</span>);</span><br><span class="line">        u.setUserName(<span class="string">&quot;lucky&quot;</span>);</span><br><span class="line">        u.setUstate(<span class="string">&quot;online&quot;</span>);</span><br><span class="line">        <span class="comment">//è°ƒç”¨serviceä¸­çš„æ–¹æ³•</span></span><br><span class="line">        service.addUser(u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.å‘ç”Ÿé”™è¯¯ï¼š</p>
<p><code>ä¸¥é‡: create connection SQLException, url: jdbc:mysql://localhost:3306/b_jdbc, errorCode 1251, state 08004</code></p>
<p>mysql-connectorçš„jaråŒ…ç‰ˆæœ¬å¤ªä½ï¼ŒåŸæ¥æ˜¯5.å‡ ï¼Œæ”¹ä¸º8.å‡ ï¼Œæ”¹è¿‡ä¹‹åï¼Œéœ€è¦åŠ jcï¼Œ<code>value=&quot;com.mysql.cj.jdbc.Driver</code>ï¼Œä»¥åŠï¼Œurlåé¢è¦åŠ æ—¶åŒºï¼Œ<code>value=&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</code></p>
<p>åæ¥åˆå‘ç”Ÿé”™è¯¯ï¼š<code> create connection SQLException, url: jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC, errorCode 1045, state 28000</code> è¿™ä¸ªæ˜¯å› ä¸ºç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯rootï¼Œè¿æ¥ä¸ä¸Šã€‚rootçš„å¯†ç ä¸ºç©ºï¼Œæ˜¯å¯ä»¥çš„è¿æ¥æˆåŠŸçš„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç›´æ¥é…ç½®è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸ªjdbcè¿æ¥æ•°æ®åº“çš„æ–¹æ³•ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶ï¼‰ï¼Œå’Œã€Šjavaå¼€å‘å…¥é—¨jdbcã€‹é‡Œé¢çš„è¿æ¥æ•°æ®åº“æ–¹æ³•ä¸åŒã€‚</p>
</blockquote>
<h2 id="Day-8"><a href="#Day-8" class="headerlink" title="Day 8"></a>Day 8</h2><h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆä¿®æ”¹ã€åˆ é™¤ï¼‰</h3><p>1.é¦–å…ˆdaoæ¥å£åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œdaoå®ç°ç±»é‡Œé‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<p>2.serviceå±‚é‡Œåˆ›å»ºdaoå®ç°ç±»å¯¹è±¡ï¼Œåˆ›å»ºæ–¹æ³•ï¼Œé‡Œé¢è°ƒç”¨å¯¹è±¡çš„daoå±‚æ–¹æ³•ã€‚serviceå’Œdaoçš„æ–¹æ³•ä¼ å…¥å¿…è¦å‚æ•°ï¼Œuserå¯¹è±¡æˆ–æ˜¯idä¹‹ç±»çš„ã€‚</p>
<p>3.é‡ç‚¹å†™daoå±‚å†…æ“ä½œæ•°æ®åº“çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;update user_db set username=?, ustate=? where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> update = jdbcTemplate.update(sql, user.getUserName(), user.getUstate(), user.getUserId());</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;delete from user_db where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> update = jdbcTemplate.update(sql, id);</span><br><span class="line">    System.out.println(update);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æµ‹è¯•æ–¹æ³•</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›æŸä¸ªå€¼ï¼‰</h3><p>ä¾‹å¦‚è¿”å›å¤šå°‘è¡Œæ•°æ®ã€‚<code>select count(*) from user_db;</code></p>
<p>ä¾‹å¦‚ï¼šæŸ¥è¯¢è¡¨é‡Œæœ‰å¤šå°‘æ¡è®°å½•ã€‚</p>
<p>é¦–å…ˆå†™ä¸€ä¸ªserviceæ–¹æ³•findCountï¼Œè°ƒç”¨daoé‡Œçš„æ–¹æ³•ï¼Œå†™daoæ–¹æ³•ã€‚daoæ–¹æ³•é‡Œå†™selectè¯­å¥ï¼Œå¹¶è¿”å›ã€‚ä½¿ç”¨jdbcæ–¹æ³•queryForObject(sqlè¯­å¥, è¿”å›ç±»å‹çš„classä¾‹å¦‚Integer.class)ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;select count(*) from user_db&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> nums = jdbcTemplate.queryForObject(sql, Integer.class);</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›å¯¹è±¡ï¼‰</h3><p>ä¾‹å¦‚ï¼šæŸ¥è¯¢ç”¨æˆ·çš„è¯¦æƒ…é¡µé¢ã€‚</p>
<p>æ ¹æ®idè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œserviceå†™ä¸€ä¸ªfindUseræ–¹æ³•ï¼Œdaoå†™ä¸€ä¸ªfindæ–¹æ³•ã€‚daoå†…é‡‡ç”¨jdbcæ¨¡ç‰ˆä¸­çš„queryForObjectæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼šsqlè¯­å¥ï¼›ç¬¬äºŒä¸ªå‚æ•°ï¼šRowMapperæ¥å£ï¼Œspringæä¾›ï¼Œåšåˆ°ä¸€äº›å°è£…ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£é‡Œé¢çš„å®ç°ç±»å¯ä»¥å®Œæˆæ•°æ®çš„å°è£…ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šsqlè¯­å¥?å€¼ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>new BeanPropertyRowMapper&lt;è¿”å›ç±»å‹çš„åå­—&gt;(è¿”å›ç±»å‹çš„class)</code> ã€‚æä¾›å¥½çš„å®ç°ç±»ï¼Œç›´æ¥ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">find</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    String sql= <span class="string">&quot;select * from user_db where user_id=?&quot;</span>;</span><br><span class="line">    User u = jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;User&gt;(User.class), id);</span><br><span class="line">    <span class="keyword">return</span> u;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ˜¾ç¤ºUserå¯¹è±¡ï¼Œé‡å†™é‡Œé¢çš„tostringæ–¹æ³•ã€‚</p>
<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæŸ¥è¯¢è¿”å›é›†åˆï¼‰</h3><p>åœºæ™¯ï¼šæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œè¿”å›ä¸€ä¸ªé›†åˆã€‚è¿”å›<code>List&lt;User&gt;</code></p>
<p> é¦–å…ˆserviceè°ƒç”¨daoçš„æ–¹æ³•ï¼Œç¼–å†™daoæ–¹æ³•ã€‚daoå†…ç”¨queryæ–¹æ³•æ“ä½œæ•°æ®åº“ã€‚queryä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°sqlè¯­å¥ï¼›ç¬¬äºŒä¸ªå‚æ•°å’Œä¸Šé¢ä¸€æ ·ï¼›ç¬¬ä¸‰ä¸ªå¯æœ‰å¯æ— ï¼Ÿå‚æ•°å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;select * from user_db&quot;</span>;</span><br><span class="line">    List&lt;User&gt;res = jdbcTemplate.query(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;User&gt;(User.class));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡æ·»åŠ æ“ä½œï¼‰</h3><p>æ‰¹é‡æ“ä½œæŒ‡æ“ä½œè¡¨é‡Œçš„å¤šæ¡è®°å½•</p>
<p>æ‰¹é‡æ·»åŠ ï¼Œä½¿ç”¨ jdbcçš„<code>batchUpdate(sqlè¯­å¥, List&lt;Object[]&gt;batchArgs)</code>æ–¹æ³•ã€‚è¿”å›çš„æ˜¯int[]ç±»å‹ã€‚åº•å±‚æ˜¯å¯¹é›†åˆè¿›è¡Œéå†ï¼ŒæŒ¨ä¸ªæ·»åŠ ã€‚æ•°ç»„è¾“å‡ºè¦ç”¨Arrays.toString(æ•°ç»„å)ã€‚</p>
<p>serviceå±‚å»ºä¸€ä¸ªbatchAddæ–¹æ³•ï¼Œä¼ å…¥List&lt;Object[]&gt;batchArgsã€‚daoä¸­åˆ›å»ºæ–¹æ³•ï¼Œå®ç°æ“ä½œæ•°æ®åº“ï¼Œ<code>insert into user_db values(?,?,?)</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchAdd</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;insert into user_db values(?,?,?)&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡ä¿®æ”¹æ“ä½œï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdate</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;update user_db set username=?,ustate=? where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ‰¹é‡æ›´æ–°å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªå»ºList</span></span><br><span class="line">List&lt;Object[]&gt; batchArgs2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Object[] o3 = &#123;<span class="string">&quot;java&quot;</span>, <span class="string">&quot;on&quot;</span>, <span class="number">1</span>&#125;;</span><br><span class="line">Object[] o4 = &#123;<span class="string">&quot;c++&quot;</span>, <span class="string">&quot;off&quot;</span>, <span class="number">2</span>&#125;;</span><br><span class="line">batchArgs2.add(o3);</span><br><span class="line">batchArgs2.add(o4);</span><br><span class="line">service.batchUpdate(batchArgs2);</span><br></pre></td></tr></table></figure>

<h3 id="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰"><a href="#JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰" class="headerlink" title="JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰"></a>JDBCTemplateæ“ä½œæ•°æ®åº“ï¼ˆæ‰¹é‡åˆ é™¤æ“ä½œï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchDelete</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">    String sql = <span class="string">&quot;delete from user_db where user_id=?&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span>[] update = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ‰¹é‡åˆ é™¤å½±å“è¡Œæ•°ï¼š&quot;</span>+ Arrays.toString(update));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªå»ºList</span></span><br><span class="line">List&lt;Object[]&gt; batchArgs3 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Object[] o5= &#123;<span class="number">17</span>&#125;;</span><br><span class="line">Object[] o6 = &#123;<span class="number">18</span>&#125;;</span><br><span class="line">batchArgs3.add(o5);</span><br><span class="line">batchArgs3.add(o6);</span><br><span class="line">service.batchDelete(batchArgs3);</span><br></pre></td></tr></table></figure>

<h2 id="Day-9"><a href="#Day-9" class="headerlink" title="Day 9"></a>Day 9</h2><h3 id="äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ"><a href="#äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ" class="headerlink" title="äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ"></a>äº‹åŠ¡æ“ä½œ-äº‹åŠ¡æ¦‚å¿µ</h3><p>1ã€ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</p>
<p>äº‹åŠ¡æ˜¯æ•°æ®åº“æ“ä½œçš„æœ€åŸºæœ¬å•å…ƒï¼Œé€»è¾‘ä¸Šçš„ä¸€ç»„æ“ä½œï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ã€‚</p>
<p>2ã€äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼šACIDï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"><a href="#äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ" class="headerlink" title="äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ"></a>äº‹åŠ¡æ“ä½œ-æ­å»ºäº‹åŠ¡æ“ä½œç¯å¢ƒ</h3><p>åœºæ™¯ï¼šè½¬è´¦ç¯å¢ƒ</p>
<p>javaeeæœ‰ä¸‰å±‚ï¼šwebå±‚ã€serviceä¸šåŠ¡é€»è¾‘å±‚ã€daoå¯¹æ•°æ®åº“æ“ä½œå±‚ä¸å†™ä¸šåŠ¡æ“ä½œã€‚</p>
<p>daoå±‚åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼šï¼ˆ1ï¼‰å°‘é’±çš„æ–¹æ³•ï¼ˆ2ï¼‰å¤šé’±çš„æ–¹æ³•ã€‚</p>
<p>serviceå±‚åˆ›å»ºæ–¹æ³•ï¼šè½¬è´¦æ–¹æ³•ä¸­è°ƒç”¨daoçš„ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<p>1.åˆ›å»ºæ•°æ®åº“è¡¨ï¼Œæ·»åŠ è®°å½•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `acount`(</span><br><span class="line">   `id` int unsigned NOT NULL,</span><br><span class="line">   `username` varchar(100) NOT NULL,</span><br><span class="line">   `money` bigint NOT NULL,</span><br><span class="line">   PRIMARY KEY(`id`)</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;acount&#x27;;</span><br><span class="line"></span><br><span class="line">insert into acount values(1, &quot;liu&quot;, 1000);</span><br><span class="line">insert into acount values(2, &quot;hao&quot;, 1000);</span><br></pre></td></tr></table></figure>

<p>2.åˆ›å»ºserviceï¼Œæ­å»ºdaoï¼Œå®Œæˆå¯¹è±¡åˆ›å»ºå’Œæ³¨å…¥å…³ç³»ã€‚</p>
<p>serviceæ³¨å…¥daoï¼Œåœ¨daoæ³¨å…¥JdbcTemplateï¼Œåœ¨JdbcTemplateæ³¨å…¥DataSourceã€‚</p>
<p>serviceç±»ï¼Œä½¿ç”¨æ³¨è§£@Serviceæ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œ@Autowiredæ³¨å…¥daoã€‚åŒæ ·åœ¨daoç”¨@Autowiredæ³¨å…¥jdbcã€‚</p>
<p>3.åœ¨daoä¸­åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œå¤šé’±addMoneyå’Œå°‘é’±reduceMoneyçš„æ–¹æ³•ï¼Œåœ¨serviceä¸­åˆ›å»ºæ–¹æ³•ï¼Œè½¬è´¦çš„æ–¹æ³•ã€‚daoä¸­ç”¨updateæ–¹æ³•ã€‚</p>
<p>4.æµ‹è¯•</p>
<p>5.å‘ç°é—®é¢˜ï¼Œå¦‚æœå…ˆæ‰§è¡Œå®Œdaoä¸­çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œå‘ç”Ÿå¼‚å¸¸ï¼Œç¬¬äºŒä¸ªæ–¹æ³•å°†ä¸æ‰§è¡Œï¼Œäº§ç”Ÿæ•°æ®å¼‚å¸¸ã€‚å¦‚ä½•è§£å†³ï¼Ÿä½¿ç”¨äº‹åŠ¡ã€‚</p>
<p>åœ¨serviceçš„æ–¹æ³•ä¸­ï¼Œtry catchæ•è·å¼‚å¸¸ã€‚é¦–å…ˆå¼€å¯äº‹åŠ¡ï¼Œç„¶åè¿›è¡Œäº‹åŠ¡æ“ä½œï¼Œæ²¡æœ‰å‘ç°å¼‚å¸¸åˆ™æäº¤äº‹åŠ¡ï¼Œå‡ºç°å¼‚å¸¸åˆ™äº‹åŠ¡å›æ»šã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»"><a href="#äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»" class="headerlink" title="äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»"></a>äº‹åŠ¡æ“ä½œ-Springäº‹åŠ¡ç®¡ç†ä»‹ç»</h3><p>1.äº‹åŠ¡ç®¡ç†åŠ åˆ°å“ªä¸ªå±‚ï¼Ÿå»ºè®®åŠ åˆ°ä¸šåŠ¡é€»è¾‘å±‚serviceã€‚</p>
<p>2.åœ¨Springè¿›è¡Œäº‹åŠ¡ç®¡ç†æ“ä½œ</p>
<p>ï¼ˆ1ï¼‰æœ‰ä¸¤ç§æ–¹å¼ï¼šç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼ˆä¸€èˆ¬ä½¿ç”¨å£°æ˜å¼ï¼‰</p>
<p>ç¼–ç¨‹å¼æŒ‡çš„æ˜¯ç”¨ä»£ç å®ç°ç¬¬ä¸€æ­¥ç¬¬äºŒæ­¥ç¬¬ä¸‰æ­¥ã€‚ã€‚ã€‚try catchæ•è·å¼‚å¸¸ä¹‹ç±»çš„ã€‚</p>
<p>3.å£°æ˜å¼äº‹åŠ¡ç®¡ç†ä¸¤ç§æ–¹å¼</p>
<p>ï¼ˆ1ï¼‰åŸºäºæ³¨è§£æ–¹å¼ï¼ˆä½¿ç”¨ï¼‰</p>
<p>ï¼ˆ2ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶æ–¹å¼</p>
<p>4.åœ¨Springè¿›è¡Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œåº•å±‚ä½¿ç”¨AOPã€‚</p>
<p>5.Springäº‹åŠ¡ç®¡ç†API</p>
<p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œä»£è¡¨äº‹åŠ¡ç®¡ç†å™¨ï¼Œè¿™ä¸ªæ¥å£é’ˆå¯¹ä¸åŒçš„æ¡†æ¶æä¾›ä¸åŒçš„å®ç°ç±»ã€‚</p>
<p>PlatformTransactionManageræ¥å£ã€‚DatasourceTransactionManagerå®ç°ç±»é’ˆå¯¹jdbcã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚æœ¬è´¨ä¸Šå°±æ˜¯åˆ›å»ºPlatformTransactionManageræ¥å£å®ç°ç±»çš„å¯¹è±¡ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥DataSourceæ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.åœ¨springé…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯äº‹åŠ¡æ³¨è§£</p>
<p>ï¼ˆ1ï¼‰åœ¨Springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥åç§°ç©ºé—´tx. <code>xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</code></p>
<p>ï¼ˆ2ï¼‰å¼€å¯äº‹åŠ¡æ³¨è§£</p>
<p><code>&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;</code></p>
<p>3.åœ¨serviceç±»ä¸Šé¢ï¼ˆæˆ–è€…serviceç±»é‡Œé¢çš„æ–¹æ³•ä¸Šé¢ï¼‰æ·»åŠ æ³¨è§£ @Transactional</p>
<p>å¦‚æœæ·»åŠ åˆ°ç±»ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»é‡Œçš„æ‰€æœ‰æ–¹æ³•éƒ½æ·»åŠ äº‹åŠ¡ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®"><a href="#äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®" class="headerlink" title="äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®-"></a>äº‹åŠ¡æ“ä½œ-å£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®-</h3><p>1.åœ¨serviceç±»ä¸Šé¢æ·»åŠ æ³¨è§£@Transactionalï¼Œåœ¨è¿™ä¸ªæ³¨è§£é‡Œé¢å¯ä»¥é…ç½®äº‹åŠ¡ç›¸å…³å‚æ•°ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong>ï¼špropagation è¡¨ç¤ºäº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œå¤šäº‹åŠ¡æ–¹æ³•ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­äº‹åŠ¡æ˜¯å¦‚ä½•è¿›è¡Œç®¡ç†çš„ã€‚</p>
<p>äº‹åŠ¡æ–¹æ³•ï¼šå¯¹æ•°æ®åº“è¡¨æ•°æ®è¿›è¡Œå˜åŒ–çš„æ“ä½œã€‚</p>
<p>Springæ¡†æ¶äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæœ‰ä¸ƒç§ï¼Œåˆ—å‡ºæœ€å¸¸è§çš„ä¸¤ç§ï¼š<br>ï¼ˆ1ï¼‰requiredï¼šaddæ–¹æ³•ä¸­æœ‰äº‹åŠ¡ï¼Œupdateæ²¡æœ‰ï¼Œaddæ–¹æ³•å†…è°ƒç”¨updateæ–¹æ³•ï¼Œåˆ™updateæ–¹æ³•ä½¿ç”¨addæ–¹æ³•å†…çš„äº‹åŠ¡ã€‚å¦‚æœaddæ–¹æ³•æ²¡æœ‰äº‹åŠ¡ï¼Œè°ƒç”¨updateæ–¹æ³•ä¹‹åï¼Œaddåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¹¶åœ¨äº‹åŠ¡å†…è¿è¡Œã€‚ä¹Ÿæ˜¯é»˜è®¤çš„ä¼ æ’­è¡Œä¸ºã€‚</p>
<p>ï¼ˆ2ï¼‰required_newï¼šä½¿ç”¨addæ–¹æ³•è°ƒç”¨updateæ–¹æ³•ï¼Œæ— è®ºaddæ–¹æ³•æ˜¯å¦æœ‰äº‹åŠ¡ï¼Œaddæ–¹æ³•éƒ½ä¼šæ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<p><strong>ç¬¬äºŒä¸ªå‚æ•°</strong>ï¼šioslation è¡¨ç¤ºäº‹åŠ¡éš”ç¦»çº§åˆ«</p>
<p>äº‹åŠ¡çš„éš”ç¦»æ€§ï¼šå¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“ã€‚æœ‰ä¸‰ä¸ªè¯»çš„é—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šï¼ˆå¹»ï¼‰è¯»ã€‚</p>
<p>è„è¯»ï¼šå¤šä¸ªäº‹ç‰©ä¹‹é—´ï¼Œä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡ã€‚ä¾‹å¦‚ä¸¤ä¸ªäººéƒ½è¦æ“ä½œä¸€æ¡è®°å½•ï¼ŒåŸæ¥1000ï¼Œäº‹åŠ¡aæ”¹äº†è¿™æ¡è®°å½•ï¼Œå˜ä¸º2000ï¼Œäº‹åŠ¡bè¯»å–åˆ°äº‹åŠ¡aä¿®æ”¹çš„2000ï¼Œä½†æ˜¯äº‹åŠ¡aå›æ»šäº†ã€‚ç®—æ˜¯ä¸€ä¸ªè‡´å‘½é—®é¢˜ï¼Œä¸èƒ½å‡ºç°ã€‚</p>
<p>ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œäº‹åŠ¡aè¯»å–åˆ°åŸæ•°æ®100ï¼Œäº‹åŠ¡bè¯»å–åˆ°åŸæ•°æ®100ï¼Œå¹¶å°†å…¶ä¿®æ”¹ä¸º200ï¼Œäº‹åŠ¡bæäº¤ï¼Œäº‹åŠ¡aè¯»å–åˆ°æ•°æ®200ï¼Œè¿™æ ·äº‹åŠ¡bå¯¹äº‹åŠ¡aäº§ç”Ÿäº†å½±å“ã€‚æ˜¯ä¸€ç§ç°è±¡ï¼Œä¸èƒ½ç®—ä½œé—®é¢˜ã€‚</p>
<p>å¹»è¯»ï¼šä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡æ·»åŠ æ•°æ®ã€‚</p>
<p>é€šè¿‡è®¾ç½®éš”ç¦»çº§åˆ«å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚read uncommitted è¯»æœªæäº¤ï¼›read committed è¯»å·²æäº¤ï¼›repeatable read å¯é‡å¤è¯»ï¼ˆé»˜è®¤çš„ï¼‰ï¼›serializable ä¸²è¡ŒåŒ–ã€‚</p>
<p><strong>ç¬¬ä¸‰ä¸ªå‚æ•°</strong>ï¼štimeout è¡¨ç¤ºäº‹åŠ¡è¶…æ—¶æ—¶é—´ï¼Œäº‹åŠ¡éœ€è¦åœ¨ä¸€å®šæ—¶é—´å†…æäº¤ï¼Œè¶…æ—¶ä¸æäº¤åˆ™è¿›è¡Œå›æ»šã€‚é»˜è®¤å€¼æ˜¯ -1ï¼Œä¸è¶…æ—¶ã€‚è®¾ç½®æ—¶é—´æ˜¯ä»¥ç§’ä¸ºå•ä½ã€‚</p>
<p><strong>ç¬¬å››ä¸ªå‚æ•°</strong>ï¼šreadOnly æ˜¯å¦åªè¯»ï¼Œè¯»æ˜¯æŸ¥è¯¢æ“ä½œï¼ŒreadOnlyé»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢å¯ä»¥æ·»åŠ ä¿®æ”¹åˆ é™¤ï¼Œè®¾ç½®ä¸ºtrueï¼Œåˆ™åªèƒ½æŸ¥è¯¢ã€‚</p>
<p><strong>ç¬¬äº”ä¸ªå‚æ•°</strong>ï¼šrollbackFor å›æ»šï¼Œè®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»šã€‚</p>
<p><strong>ç¬¬å…­ä¸ªå‚æ•°</strong>ï¼šnoRollbackFor ä¸å›æ»šï¼Œè®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œäº‹åŠ¡å›æ»šã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-xmlå£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åœ¨Springé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<p>ç¬¬ä¸€æ­¥ é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p>
<p>ç¬¬äºŒæ­¥ é…ç½®é€šçŸ¥ï¼Œaopä¸­å¢å¼ºçš„é‚£éƒ¨åˆ†ï¼Œè¿™é‡Œå°±æ˜¯äº‹åŠ¡ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢ï¼Œè¦å°†äº‹åŠ¡åŠ åˆ°å“ªä¸ªç±»çš„å“ªä¸ªæ–¹æ³•ä¸­ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1.åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨å…¥DataSourceæ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯äº‹åŠ¡æ³¨è§£ï¼Œ xmlæ–¹å¼ä¸­ ä¸éœ€è¦äº†</span></span><br><span class="line"><span class="comment">&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 2.é…ç½®é€šçŸ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txadvice&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®äº‹åŠ¡çš„ä¸€äº›ç›¸å…³å‚æ•° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šå“ªç§è§„åˆ™çš„æ–¹æ³•ä¸Šé¢æ·»åŠ äº‹åŠ¡ï¼Œä¾‹å¦‚ add* è¡¨ç¤ºaddå¼€å¤´çš„æ·»åŠ äº‹åŠ¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;jiaoyi&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">isolation</span>=<span class="string">&quot;REPEATABLE_READ&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 3.é…ç½®åˆ‡å…¥ç‚¹å’Œåˆ‡é¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;qierudiansname&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.company.service.UserService.*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®åˆ‡å…¥ç‚¹, å°†äº‹åŠ¡çš„é€šçŸ¥è®¾ç½®åˆ°ä¸Šé¢çš„åˆ‡å…¥ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txadvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;qierudiansname&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œäº‹åŠ¡çš„åº•å±‚ä½¿ç”¨aopå®ç°ã€‚</p>
<p>æµ‹è¯•æ—¶ï¼ŒæŠŠæ³¨è§£æ³¨é‡Šæ‰ã€‚</p>
<h3 id="äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"><a href="#äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†" class="headerlink" title="äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†"></a>äº‹åŠ¡æ“ä½œ-å®Œå…¨æ³¨è§£å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h3><p>1.åˆ›å»ºé…ç½®ç±»ï¼Œä½¿ç”¨é…ç½®ç±»æ›¿ä»£xmlé…ç½®æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//é…ç½®ç±»</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.company&quot;)</span>  <span class="comment">//å¼€å¯ç»„ä»¶æ‰«æ</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span>  <span class="comment">//å¼€å¯äº‹åŠ¡æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TxConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºæ•°æ®åº“è¿æ¥æ± </span></span><br><span class="line">    <span class="meta">@Bean</span>  <span class="comment">//é…ç½®æ–‡ä»¶ä¸­å°±æ˜¯åœ¨iocå®¹å™¨ä¸­åˆ›å»ºä¸€ä¸ªbeanå®ä¾‹ å†™æ–¹æ³•è¿”å›ä¸€ä¸ªDataSourceå¾·é²ä¼Šè¿æ¥æ± å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">getDuridDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DruidDataSource dataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        dataSource.setDriverClassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/b_jdbc?serverTimezone=UTC&quot;</span>);</span><br><span class="line">        dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dataSource.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="comment">//åˆ›å»ºjdbcæ¨¡ç‰ˆå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JdbcTemplate <span class="title">getJdbcTemplate</span><span class="params">(DataSource dataSource)</span></span>&#123;</span><br><span class="line">        JdbcTemplate jdbcTemplate =<span class="keyword">new</span> JdbcTemplate();</span><br><span class="line">        <span class="comment">//éœ€è¦æ³¨å…¥datasSurce, xmlä¸­æ˜¯ä½¿ç”¨setæ–¹æ³•è¿›è¡Œé…ç½®æ³¨å…¥çš„</span></span><br><span class="line">        <span class="comment">//setæ–¹æ³•é‡Œé¢å¦‚æœç”¨ä¸Šé¢çš„getDuridDataSourceæ–¹æ³•ï¼Œå°±ä¼šåˆ›å»ºä¸¤ä¸ªå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//ä½¿ç”¨å‚æ•°æ–¹æ³•ï¼Œå¯ä»¥åœ¨iocå®¹å™¨ä¸­æ ¹æ®ç±»å‹æ‰¾åˆ°å¯¹è±¡è¿›è¡Œæ³¨å…¥ï¼Œå°±åƒ@autowiredæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…</span></span><br><span class="line">        jdbcTemplate.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span></span>&#123;</span><br><span class="line">        DataSourceTransactionManager dataSourceTransactionManager =<span class="keyword">new</span> DataSourceTransactionManager();</span><br><span class="line">        dataSourceTransactionManager.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> dataSourceTransactionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æµ‹è¯•æ—¶ï¼Œå¼€å¯æ³¨è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wanquanzhujietrans</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.åŠ è½½é…ç½®ç±»</span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(TxConfig.class);</span><br><span class="line">    <span class="comment">//2.è·å–é…ç½®åˆ›å»ºçš„å¯¹è±¡</span></span><br><span class="line">    UserService service = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">    <span class="comment">//getBeançš„ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºbeançš„åç§°ï¼Œxmlé…ç½®æ–‡ä»¶ä¸­çš„idï¼Œå¦‚æœæ˜¯æ³¨è§£åˆ›å»ºï¼Œåˆ™å°å†™ç¬¬ä¸€ä½</span></span><br><span class="line">    service.jiaoyi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”¨springbootè¿›è¡Œå¼€å‘ï¼Œæ›¿ä»£springåŸºç¡€ä¸Šçš„å®Œå…¨æ³¨è§£å¼€å‘ï¼Œspringbootæ˜¯å¯¹springåšçš„å°è£…ã€‚</p>
<h2 id="æ€»ç»“-amp-amp-æœªå®Œ"><a href="#æ€»ç»“-amp-amp-æœªå®Œ" class="headerlink" title="æ€»ç»“&amp;&amp;æœªå®Œ"></a>æ€»ç»“&amp;&amp;æœªå®Œ</h2><p>1.Springæ¡†æ¶æ¦‚è¿°</p>
<p>ï¼ˆ1ï¼‰è½»é‡çº§å¼€æºJavaEEæ¡†æ¶ï¼Œä¸ºäº†è§£å†³ä¼ä¸šå¤æ‚æ€§ã€‚ä¸¤ä¸ªæ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼šiocã€aopã€‚</p>
<p>ï¼ˆ2ï¼‰Spring5.2.6ç‰ˆæœ¬</p>
<p>2.IOCå®¹å™¨</p>
<p>ï¼ˆ1ï¼‰IOCåº•å±‚åŸç†ï¼šxmlé…ç½®æ–‡ä»¶ã€å·¥å‚ã€åå°„ç­‰</p>
<p>ï¼ˆ2ï¼‰IOCæ¥å£ï¼ˆBeanFactoryï¼‰</p>
<p>ï¼ˆ3ï¼‰beanç®¡ç†æ“ä½œï¼šåŸºäºxmlè¿›è¡Œå¯¹è±¡åˆ›å»ºæ³¨å…¥å±æ€§ï¼›åŸºäºæ³¨è§£è¿›è¡Œå¯¹è±¡åˆ›å»ºæ³¨å…¥å±æ€§</p>
<p>3.AOP</p>
<p>ï¼ˆ1ï¼‰AOPåº•å±‚åŸç†ï¼šåŠ¨æ€ä»£ç†ï¼Œæœ‰æ¥å£ï¼ˆJDKåŠ¨æ€ä»£ç†ï¼‰ï¼Œæ²¡æœ‰æ¥å£ï¼ˆCGLIBåŠ¨æ€ä»£ç†ï¼‰</p>
<p>ï¼ˆ2ï¼‰æœ¯è¯­ï¼šåˆ‡å…¥ç‚¹ã€å¢å¼ºï¼ˆé€šçŸ¥ï¼‰ã€åˆ‡é¢</p>
<p>ï¼ˆ3ï¼‰åŸºäºAspectJå®ç°AOPæ“ä½œï¼šåŸºäºæ³¨è§£æ–¹å¼ï¼›åŸºäºé…ç½®æ–‡ä»¶</p>
<p>4.JdbcTemplate</p>
<p>ï¼ˆ1ï¼‰ä½¿ç”¨JdbcTemplateå¯¹æ•°æ®åº“çš„curdæ“ä½œ</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨JdbcTemplateå®ç°æ•°æ®åº“æ‰¹é‡æ“ä½œ</p>
<p>5.äº‹åŠ¡æ“ä½œ</p>
<p>ï¼ˆ1ï¼‰äº‹åŠ¡æ¦‚å¿µ</p>
<p>ï¼ˆ2ï¼‰é‡è¦æ¦‚å¿µï¼ˆä¼ æ’­è¡Œä¸ºå’Œéš”ç¦»çº§åˆ«ï¼‰</p>
<p>ï¼ˆ3ï¼‰åŸºäºæ³¨è§£å®ç°å£°æ˜å¼äº‹åŠ¡ç®¡ç†</p>
<p>ï¼ˆ4ï¼‰åŸºäºxmlé…ç½®æ–‡ä»¶å®ç°äº‹åŠ¡ç®¡ç†</p>
<p>ï¼ˆ5ï¼‰å®Œå…¨æ³¨è§£æ–¹å¼å®ç°äº‹åŠ¡ç®¡ç†</p>
<p>6.Spring5æ–°ç‰¹æ€§ï¼š</p>
<p>ï¼ˆ1ï¼‰æ•´åˆæ—¥å¿—æ¡†æ¶</p>
<p>ï¼ˆ2ï¼‰@Nullableæ³¨è§£</p>
<p>ï¼ˆ3ï¼‰å‡½æ•°å¼æ³¨å†Œå¯¹è±¡</p>
<p>ï¼ˆ4ï¼‰æ•´åˆJUnit5å•å…ƒæµ‹è¯•æ¡†æ¶</p>
<p>ï¼ˆ5ï¼‰SpringWebfluxä½¿ç”¨</p>
<p><a href="https://www.bilibili.com/video/BV1Vf4y127N5?p=49&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Vf4y127N5?p=49&amp;spm_id_from=pageDriver</a></p>
<h2 id="æ–‡ä»¶è¯´æ˜"><a href="#æ–‡ä»¶è¯´æ˜" class="headerlink" title="æ–‡ä»¶è¯´æ˜"></a>æ–‡ä»¶è¯´æ˜</h2><p>b_studyä¸­ã€‚</p>
<p>xmlï¼šåŸºäºxmlé…ç½®æ–‡ä»¶å®ç°æ§åˆ¶åè½¬ï¼Œç®¡ç†beanå¯¹è±¡ï¼Œåˆ›å»ºå¯¹è±¡ï¼Œä¾èµ–æ³¨å…¥ï¼ˆæ³¨å…¥å±æ€§ï¼‰ã€‚</p>
<p>zhujieï¼šåŸºäºæ³¨è§£çš„beanç®¡ç†ã€‚</p>
<p>aopï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹</p>
<p>jdbcï¼šæ“ä½œæ•°æ®åº“</p>
<p>transactionï¼šäº‹åŠ¡ç›¸å…³</p>
<hr>
<p><em><strong>å­¦ä¹ ç¬”è®°ï¼Œä¾µæƒè¯·è”ç³»ï¼Œä¸€å®šç«‹åˆ»åˆ é™¤ã€‚</strong></em></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>springå…¥é—¨æ¡ˆä¾‹</title>
    <url>/2021/08/25/myblog/JAVA/Spring%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B/</url>
    <content><![CDATA[<h1 id="Springå…¥é—¨æ¡ˆä¾‹"><a href="#Springå…¥é—¨æ¡ˆä¾‹" class="headerlink" title="Springå…¥é—¨æ¡ˆä¾‹"></a>Springå…¥é—¨æ¡ˆä¾‹</h1><h2 id="0-javaåŸºç¡€"><a href="#0-javaåŸºç¡€" class="headerlink" title="0.javaåŸºç¡€"></a>0.javaåŸºç¡€</h2><h3 id="a-javaç‰ˆæœ¬"><a href="#a-javaç‰ˆæœ¬" class="headerlink" title="a.javaç‰ˆæœ¬"></a>a.javaç‰ˆæœ¬</h3><p>Javaæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ï¼Œæ‹¥æœ‰è·¨å¹³å°ã€é¢å‘å¯¹è±¡ã€æ³›å‹ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå¹¿æ³›åº”ç”¨äºä¼ä¸šçº§Webåº”ç”¨å¼€å‘å’Œç§»åŠ¨åº”ç”¨å¼€å‘ã€‚</p>
<p>Javaç¼–ç¨‹è¯­è¨€çš„é£æ ¼ååˆ†æ¥è¿‘C++è¯­è¨€ã€‚ç»§æ‰¿äº†C++è¯­è¨€é¢å‘å¯¹è±¡æŠ€æœ¯çš„æ ¸å¿ƒï¼Œèˆå¼ƒäº†å®¹æ˜“å¼•èµ·é”™è¯¯çš„æŒ‡é’ˆï¼Œä»¥å¼•ç”¨å–ä»£ï¼›ç§»é™¤äº†C++ä¸­çš„è¿ç®—ç¬¦é‡è½½å’Œå¤šé‡ç»§æ‰¿ç‰¹æ€§ï¼Œç”¨æ¥å£å–ä»£ï¼›å¢åŠ åƒåœ¾å›æ”¶å™¨åŠŸèƒ½ã€‚åœ¨Java SE 1.5ç‰ˆæœ¬ä¸­å¼•å…¥äº†æ³›å‹ç¼–ç¨‹ã€ç±»å‹å®‰å…¨çš„æšä¸¾ã€ä¸å®šé•¿å‚æ•°å’Œè‡ªåŠ¨è£…/æ‹†ç®±ç‰¹æ€§ã€‚</p>
<blockquote>
<p>Javaçš„ä¸‰ä¸ªç‰ˆæœ¬ : JAVASE(æ ‡å‡†ç‰ˆ),JAVAEE(ä¼ä¸šç‰ˆ),JAVAME(å¾®å‹ç‰ˆ).</p>
<p>javaæ˜¯ä¸€ä¸ªå¹³å°ã€‚ä»–åŒ…æ‹¬äº†ï¼Œjavaè¯­è¨€ï¼Œjavaå¼€å‘ç¯å¢ƒ(jdk)ã€‚javaæœ‰ä¸‰ä¸ªç‰ˆæœ¬<br>j2se(æ ‡å‡†ç‰ˆ),j2ee(ä¼ä¸šç‰ˆ),j2me(å¾®å‹ç‰ˆ)<br>ä¸ç®¡å“ªä¸ªç‰ˆæœ¬ï¼Œéƒ½æ˜¯javaè¯­è¨€å®ç°çš„ä¸€ä¸ªæ¡†æ¶ã€‚ä¹‹æ‰€ä»¥è¦åˆ†ç‰ˆæœ¬ï¼Œæ˜¯å› ä¸º3ä¸ªç‰ˆæœ¬æ˜¯é’ˆå¯¹ä¸åŒé—®é¢˜ï¼Œè®¾è®¡çš„è§£å†³æ–¹æ¡ˆã€‚<br>j2EEæ˜¯javaçš„ä¼ä¸šçº§å¼€å‘ç‰ˆæœ¬ï¼Œå…¶å®æ¢å¥è¯è¯´å°±æ˜¯ç”¨æ¥åšwebå¼€å‘çš„javaæ¡†æ¶ã€‚javaEEé€šè¿‡è®¾å®šç»Ÿä¸€çš„æ ‡å‡†æ¥è§£å†³webå¼€å‘çš„é—®é¢˜ï¼ŒjavaEEçš„æ¥å£ï¼ŒæŠ½è±¡ç±»ï¼Œè§„å®šäº†webå¼€å‘æ‰€éœ€è¦å®ç°çš„æµç¨‹ã€‚æ•´ä¸ªwebçš„å¼€å‘ï¼Œæœ‰2å±‚ï¼Œç¬¬1å±‚æ˜¯æœåŠ¡å™¨å®¹å™¨ï¼Œæ¯”å¦‚tomcatï¼Œweblogicã€‚ä»–ä»¬åœ¨javaEEçš„è§„èŒƒä¸‹ï¼Œå®ç°å¥—æ¥å­—çš„è¿æ¥ï¼Œå°è£…æ¶ˆæ¯ç­‰ç­‰ï¼Œç¬¬2å±‚æ˜¯ä¸šåŠ¡ï¼Œè€Œè¿™ä¸€å±‚æ˜¯ä½ è¦åšçš„ï¼Œé€šè¿‡tomcatå°è£…çš„æ¶ˆæ¯ï¼Œè¿›è¡Œç›¸åº”çš„ä¸šåŠ¡å¤„ç†ã€‚æœåŠ¡å™¨å®¹å™¨çš„å¼€å‘ç”±å¤§å‹çš„äº§å•†å¼€å‘ï¼Œè€Œæˆ‘ä»¬é€šå¸¸åšçš„å¼€å‘æ˜¯åœ¨æœåŠ¡å™¨å®¹å™¨ä¸Šçš„ä¸šåŠ¡å¼€å‘ï¼Œæ­£æ˜¯sunçš„javaEEç»Ÿä¸€äº†è§„èŒƒ(æ¯”å¦‚ç”¨servlet)æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ï¼Œèƒ½å’Œcomcatè¿›è¡Œå¾ˆå¥½çš„é€šè®¯ã€‚</p>
</blockquote>
<p>J2SEæ˜¯æ ‡å‡†ç‰ˆæœ¬ï¼ŒJ2MEæ˜¯æ‰‹æœºæ–¹å‘çš„ï¼ŒJ2EEæ˜¯ç½‘ç«™å¼€å‘æ–¹å‘çš„ã€‚</p>
<blockquote>
<p>ä»JDK 5.0å¼€å§‹ J2EE æ”¹åä¸º java EEï¼ŒJ2SE æ”¹åä¸º java SEï¼ŒJ2ME æ”¹åæˆ java ME.java EE æ˜¯javaçš„ä¼ä¸šç‰ˆï¼Œä¸»è¦é¢å‘webåº”ç”¨ï¼Œå°¤å…¶æ˜¯ä¼ä¸šçº§å¼€å‘</p>
</blockquote>
<h3 id="b-jdkç‰ˆæœ¬"><a href="#b-jdkç‰ˆæœ¬" class="headerlink" title="b.jdkç‰ˆæœ¬"></a>b.jdkç‰ˆæœ¬</h3><p>Java Development Kitï¼ˆJDKï¼‰æ˜¯å¤ªé˜³å¾®ç³»ç»Ÿé’ˆå¯¹Javaå¼€å‘äººå‘˜å‘å¸ƒçš„å…è´¹è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ˆSDKï¼ŒSoftware development kitï¼‰ã€‚è‡ªä»Javaæ¨å‡ºä»¥æ¥ï¼ŒJDKå·²ç»æˆä¸ºä½¿ç”¨æœ€å¹¿æ³›çš„Java SDKã€‚</p>
<p>ä½œä¸ºJavaè¯­è¨€çš„SDKï¼Œæ™®é€šç”¨æˆ·å¹¶ä¸éœ€è¦å®‰è£…JDKæ¥è¿è¡ŒJavaç¨‹åºï¼Œè€Œåªéœ€è¦å®‰è£…JREï¼ˆJava Runtime Environmentï¼‰ã€‚è€Œç¨‹åºå¼€å‘è€…å¿…é¡»å®‰è£…JDKæ¥ç¼–è¯‘ã€è°ƒè¯•ç¨‹åºã€‚</p>
<p>JDKæ˜¯ä¸ªJavaå¼€å‘çš„å·¥å…·åŒ…ï¼ŒJavaæ˜¯é—¨ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>JDK8æˆ–è€…JDK1.8æ˜¯ç”±äºè‡ªä»JDK1.5/JDK5å‘½åæ–¹å¼æ”¹å˜åé—ç•™çš„æ–°æ—§å‘½ä»¤æ–¹å¼é—®é¢˜ã€‚æ‰€ä»¥JDK8æˆ–è€…JDK1.8ä¹Ÿæ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚</p>
<blockquote>
<p>JDK1.4 æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¼‚å¸¸é“¾ï¼ŒNIOï¼Œæ—¥å¿—ç±»ï¼ŒXMLè§£æå™¨ï¼ŒXLSTè½¬æ¢å™¨<br>JDK1.5 è‡ªåŠ¨è£…ç®±ã€æ³›å‹ã€åŠ¨æ€æ³¨è§£ã€æšä¸¾ã€å¯å˜é•¿å‚æ•°ã€éå†å¾ªç¯<br>JDK1.6 æä¾›åŠ¨æ€è¯­è¨€æ”¯æŒã€æä¾›ç¼–è¯‘APIå’Œå«æ˜ŸHTTPæœåŠ¡å™¨APIï¼Œæ”¹è¿›JVMçš„é”ï¼ŒåŒæ­¥åƒåœ¾å›æ”¶ï¼Œç±»åŠ è½½<br>JDK1.7 æä¾›GIæ”¶é›†å™¨ã€åŠ å¼ºå¯¹éJavaè¯­è¨€çš„è°ƒç”¨æ”¯æŒï¼ˆJSR-292,å‡çº§ç±»åŠ è½½æ¶æ„<br>JDK8 Lambda è¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨ã€é»˜è®¤æ–¹æ³•ã€æ–°å·¥å…·ã€Stream APIã€Date Time API ã€Optional ç±»ã€Nashorn, JavaScript å¼•æ“<br>JDK9 1ã€é›†åˆåŠ å¼ºï¼›2ã€ç§æœ‰æ¥å£æ–¹æ³•ï¼›3ã€åƒåœ¾æ”¶é›†æœºåˆ¶ï¼›4ã€I/OæµåŠ å¼ºï¼›5ã€JShellå·¥å…·<br>JDK10 1ã€å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­ï¼›2ã€çº¿ç¨‹æœ¬åœ°æ¡æ‰‹ï¼›3ã€GCæ”¹è¿›å’Œå†…å­˜ç®¡ç†ï¼›<br>JDK11 1ã€å­—ç¬¦ä¸²åŠ å¼ºï¼›2ã€HttClient Apiï¼›3ã€ç”¨äº Lambda å‚æ•°çš„å±€éƒ¨å˜é‡è¯­æ³•ï¼›4ã€ZGC<br>JDK12 1ã€Switch Expressionsï¼›2ã€Shenandoah GCï¼›<br>JDK13 1ã€switchä¼˜åŒ–æ›´æ–°ï¼›2ã€æ–‡æœ¬å—å‡çº§ï¼›3ã€é‡æ–°å®ç°æ—§ç‰ˆå¥—æ¥å­—APIï¼›4ã€æ ¸å¿ƒåº“/java.utilä¸­ï¼šI18Nï¼›5ã€å–æ¶ˆä½¿ç”¨æœªä½¿ç”¨çš„å†…å­˜<br>JDK14 1ã€switchä¼˜åŒ–å˜æ›´ä¸ºæœ€ç»ˆç‰ˆï¼›2ã€åƒåœ¾å›æ”¶ç›¸å…³ï¼›3ã€instanceofçš„æ¨¡å¼åŒ¹é…ï¼ˆé¢„è§ˆç‰ˆï¼‰ï¼›4ã€åˆ é™¤äº†å®‰å…¨åº“java.security.acl APIï¼›5ã€è´§å¸æ ¼å¼ï¼ˆä¼˜åŒ–ï¼‰<br>JDK15</p>
</blockquote>
<h2 id="1-Springç®€ä»‹"><a href="#1-Springç®€ä»‹" class="headerlink" title="1.Springç®€ä»‹"></a>1.Springç®€ä»‹</h2><p>Springæ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼ŒSpringæ˜¯2003å¹´å…´èµ·çš„è½»é‡çº§javaå¼€å‘æ¡†æ¶ï¼Œå®ƒæ˜¯ä¸ºäº†è§£å†³ä¼ä¸šçº§å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚Springçš„ç”¨é€”ä¸ä»…é™äºæœåŠ¡å™¨ç«¯çš„å¼€å‘ï¼Œä»ç®€å•æ€§ã€å¯æµ‹è¯•æ€§ã€ä½è€¦åˆçš„è§’åº¦è€Œè¨€ä»»ä½•javaåº”ç”¨éƒ½å¯ä»¥åœ¨springä¸­å—ç›Šã€‚</p>
<p>ç®€å•çš„æ¥è¯´Springå°±æ˜¯è½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIOCï¼‰å’Œé¢å‘åˆ‡é¢ï¼ˆAOPï¼‰çš„å®¹å™¨æ¡†æ¶ã€‚</p>
<blockquote>
<p>javaBeanï¼š<br>ç¬¦åˆä¸€å®šè§„èŒƒç¼–å†™çš„Javaç±»ï¼Œä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è§„èŒƒã€‚é’ˆå¯¹è¿™ç§è§„èŒƒï¼Œæ€»ç»“äº†å¾ˆå¤šå¼€å‘æŠ€å·§ã€å·¥å…·å‡½æ•°ã€‚ç¬¦åˆè¿™ç§è§„èŒƒçš„ç±»ï¼Œå¯ä»¥è¢«å…¶ä»–çš„ç¨‹åºå‘˜æˆ–è€…æ¡†æ¶ä½¿ç”¨ã€‚è¿™äº›çº¦å®šåŒ…æ‹¬ï¼šgetXXXï¼ŒsetXXXï¼ŒisXXXï¼ŒaddXXXã€‚</p>
</blockquote>
<h3 id="Springè§£å†³ä»€ä¹ˆï¼š"><a href="#Springè§£å†³ä»€ä¹ˆï¼š" class="headerlink" title="Springè§£å†³ä»€ä¹ˆï¼š"></a>Springè§£å†³ä»€ä¹ˆï¼š</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨æŠŠå¾—åˆ°çš„è¯·æ±‚å‘é€ç»™æ§åˆ¶å™¨Servletï¼Œè€Œåœ¨Servletä¸­éœ€è¦åˆ›å»ºServiceå¯¹è±¡æ¥è°ƒç”¨ä¸šåŠ¡å±‚ç›¸å…³åŠŸèƒ½(æ•…è¯´æ§åˆ¶å™¨å±‚Servletä¾èµ–äºä¸šåŠ¡å±‚Service),è€Œåœ¨Serviceä¸­åˆéœ€è¦åˆ›å»ºæ•°æ®åº“å±‚DAOå¯¹è±¡æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ(æ•…è¯´ä¸šåŠ¡å±‚Serviceä¾èµ–äºæ•°æ®åº“å±‚DAO)ã€‚</span><br><span class="line"></span><br><span class="line">é’ˆå¯¹ä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦è€ƒè™‘ï¼š1.Servletã€Serviceä»¥åŠDaoå¯¹è±¡çš„åˆ›å»ºæ—¶é—´ã€åˆ›å»ºæ•°é‡ã€‚2.Servletã€Serviceä»¥åŠDaoä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</span><br><span class="line"></span><br><span class="line">springï¼š</span><br><span class="line">ç”¨æ¥å¤„ç†å¯¹è±¡çš„åˆ›å»ºã€ä»¥åŠå¯¹è±¡ä¹‹é—´ä¾èµ–å…³ç³»çš„ä¸€ä¸ªå¼€å‘æ¡†æ¶ã€‚å®ƒæ‰“ç ´äº†æˆ‘ä»¬ä¼ ç»Ÿå¼€å‘çš„è§‚å¿µï¼Œæˆ‘ä»¬ä¸å†éœ€è¦åƒä»¥å‰é‚£æ ·åœ¨å…·ä½“çš„ç±»ä¸­åˆ›å»ºå…·ä½“çš„å¯¹è±¡ï¼Œè€Œæ˜¯å°†å¯¹è±¡çš„åˆ›å»ºäº¤ç»™å®ƒå»å®Œæˆã€‚</span><br></pre></td></tr></table></figure>

<p>éä¾µå…¥å¼è®¾è®¡ï¼šå¼•å…¥äº†æ¡†æ¶ï¼Œå¯¹ç°æœ‰çš„ç±»ç»“æ„æ²¡æœ‰å½±å“ã€‚</p>
<h3 id="IOCæ§åˆ¶åè½¬"><a href="#IOCæ§åˆ¶åè½¬" class="headerlink" title="IOCæ§åˆ¶åè½¬"></a>IOCæ§åˆ¶åè½¬</h3><p>Inversion On Controlï¼Œç®€ç§°IOCã€‚å¯¹è±¡çš„åˆ›å»ºäº¤ç»™å¤–éƒ¨å®¹å™¨è‡ªåŠ¨å®Œæˆï¼Œè¿™ä¸ªå°±å«åšæ§åˆ¶åè½¬ã€‚(æœ‰æ§åˆ¶åè½¬å°±æœ‰æ§åˆ¶æ­£è½¬ï¼Œæ§åˆ¶æ­£è½¬:å¯¹è±¡çš„åˆ›å»ºç”±æˆ‘ä»¬è‡ªå·±åˆ›å»º)</p>
<p>ä¾èµ–æ³¨å…¥dependency injection,ç®€ç§°DIï¼Œç”¨äºå¤„ç†å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»ã€‚</p>
<p><strong>äºŒè€…åŒºåˆ«:</strong><br>æ§åˆ¶åè½¬(IOC):è§£å†³å¯¹è±¡åˆ›å»ºçš„é—®é¢˜ï¼Œ(å¯¹è±¡çš„åˆ›å»ºäº¤ç»™åˆ«äºº)ã€‚<br>ä¾èµ–æ³¨å…¥(DI):åœ¨åˆ›å»ºå®Œå¯¹è±¡åï¼Œå¯¹è±¡å…³ç³»çš„å¤„ç†å°±æ˜¯ä¾èµ–æ³¨å…¥ï¼Œ(é€šè¿‡setæ–¹æ³•ä¾èµ–æ³¨å…¥ã€‚)</p>
<h3 id="AOPé¢å‘åˆ‡é¢"><a href="#AOPé¢å‘åˆ‡é¢" class="headerlink" title="AOPé¢å‘åˆ‡é¢"></a>AOPé¢å‘åˆ‡é¢</h3><p>é¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚åˆ‡é¢ï¼Œç®€å•æ¥è¯´å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç±»ï¼Œç”±å¾ˆå¤šé‡å¤ä»£ç å½¢æˆçš„ç±»ã€‚åˆ‡é¢ä¸¾ä¾‹:äº‹åŠ¡ã€æ—¥å¿—ã€æƒé™ã€‚</p>
<h2 id="2-Macä¸‹springé…ç½®"><a href="#2-Macä¸‹springé…ç½®" class="headerlink" title="2.Macä¸‹springé…ç½®"></a>2.Macä¸‹springé…ç½®</h2><p>é…ç½®Springä¸ç®¡åœ¨å“ªä¸ªç¯å¢ƒä¸‹éƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œä¸‹è½½Spring-frameworkï¼Œè§£å‹ç¼©ï¼Œç„¶åå¯¼å…¥ä½¿ç”¨çš„é¡¹ç›®å³å¯ã€‚</p>
<p>spring3.xä¸jdk1.7å…¼å®¹ï¼Œspring4.xä¸jdk1.8æ‰å…¼å®¹ï¼ŒIDEAé»˜è®¤ä¸‹çš„JDKä½¿ç”¨1.8ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p>ç›´æ¥é€šè¿‡IDEAåˆ›å»ºé¡¹ç›®é€‰æ‹©springæ¨¡ç‰ˆ<br>å‘ç°ï¼šæ²¡æœ‰springæ¨¡æ¿ï¼Œæ‰“å¼€è®¾ç½®-&gt;plugins-&gt;æœç´¢spring assistant-&gt;å®‰è£…åé‡å¯</p>
<p>ä¾ç„¶æ²¡æœ‰ï¼Œæ²¡æ³•äº†</p>
</blockquote>
<p>![image-20210825183129555](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210825183129555.png)</p>
<h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><p>Spring Boot æ˜¯ Pivotal å›¢é˜Ÿåœ¨ Spring çš„åŸºç¡€ä¸Šæä¾›çš„ä¸€å¥—å…¨æ–°çš„å¼€æºæ¡†æ¶ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ– Spring åº”ç”¨çš„æ­å»ºå’Œå¼€å‘è¿‡ç¨‹ã€‚Spring Boot å»é™¤äº†å¤§é‡çš„ XML é…ç½®æ–‡ä»¶ï¼Œç®€åŒ–äº†å¤æ‚çš„ä¾èµ–ç®¡ç†ã€‚</p>
<p>Spring Boot å…·æœ‰ Spring ä¸€åˆ‡ä¼˜ç§€ç‰¹æ€§ï¼ŒSpring èƒ½åšçš„äº‹ï¼ŒSpring Boot éƒ½å¯ä»¥åšï¼Œè€Œä¸”ä½¿ç”¨æ›´åŠ ç®€å•ï¼ŒåŠŸèƒ½æ›´åŠ ä¸°å¯Œï¼Œæ€§èƒ½æ›´åŠ ç¨³å®šè€Œå¥å£®ã€‚éšç€è¿‘äº›å¹´æ¥å¾®æœåŠ¡æŠ€æœ¯çš„æµè¡Œï¼ŒSpring Boot ä¹Ÿæˆäº†æ—¶ä¸‹ç‚™æ‰‹å¯çƒ­çš„æŠ€æœ¯ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>tomcatå…¥é—¨æ•™ç¨‹</title>
    <url>/2022/03/12/myblog/JAVA/Tomcat%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a><strong>tomcat</strong></h3><p>ä¸ºä»€ä¹ˆæœ‰tomcatï¼Ÿ</p>
<p>ä¸€ä¸ªé¡¹ç›®ï¼šå®¢æˆ·ç«¯+åç«¯+æ•°æ®åº“ã€‚</p>
<p>å¦‚ä½•è®¿é—®åˆ°æœåŠ¡ï¼Ÿéœ€è¦åœ¨webåº”ç”¨æœåŠ¡å™¨é‡Œè¿›è¡Œéƒ¨ç½²ã€‚</p>
<p>tomcatå°±æ˜¯ä¸€ä¸ªwebåº”ç”¨æœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œé‡Œé¢æ”¾javaç¨‹åºã€‚</p>
<p>webåº”ç”¨æœåŠ¡å™¨ï¼štomcatã€Jboosã€Weblogicã€Jettyã€‚</p>
<p>æœ‰äº†tomcatå¯ä»¥å®ç°ä¸¤ä¸ªç”µè„‘ä¹‹é—´çš„äº’ç›¸è®¿é—®ï¼Œå‰ææ˜¯åœ¨ä¸€ä¸ªå±€åŸŸç½‘é‡Œã€‚</p>
<h3 id="1âƒ£ï¸å®‰è£…tomcatã€‚"><a href="#1âƒ£ï¸å®‰è£…tomcatã€‚" class="headerlink" title="1âƒ£ï¸å®‰è£…tomcatã€‚"></a>1âƒ£ï¸å®‰è£…tomcatã€‚</h3><p>apacheå‡ºçš„ï¼Œè¿›å…¥å®˜ç½‘ï¼Œé€‰æ‹©tomcat9ï¼Œä¸‹è½½å‹ç¼©æ–‡ä»¶tar.gz</p>
<p>è§£å‹ç¼©ï¼Œæ”¾libraryé‡Œã€‚</p>
<p>binï¼šå­˜æ”¾å„ä¸ªå¹³å°ä¸‹å¯åŠ¨å’Œåœæ­¢tomcatæœåŠ¡çš„è„šæœ¬æ–‡ä»¶ã€‚batæ˜¯windowsç³»ç»Ÿä¸‹çš„è„šæœ¬æ–‡ä»¶ï¼Œshæ˜¯macå’Œlinuxçš„ã€‚</p>
<p>confï¼šå­˜æ”¾å„ç§tomcatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®ç«¯å£ï¼Œserver.xmlã€‚</p>
<p>libï¼šå­˜æ”¾tomcatæœåŠ¡å™¨éœ€è¦çš„jaråŒ…ã€‚</p>
<p>logsï¼šå­˜æ”¾tomcatæœåŠ¡è¿è¡Œçš„æ—¥å¿—ã€‚</p>
<p>tempï¼štomcatè¿è¡Œæ—¶çš„ä¸´æ—¶æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸Šä¼ ä¸‹è½½ioæµçš„æ—¶å€™ç”¨ï¼Œå¤§æ–‡ä»¶æ”¾åœ¨javaè™šæ‹Ÿæœºå†…å­˜é‡Œå ç”¨èµ„æºå¤§ï¼Œå…ˆæ”¾åœ¨tempæ–‡ä»¶å¤¹é‡Œã€‚</p>
<p>webappsï¼šå­˜æ”¾å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„èµ„æºï¼ˆjavaç¨‹åºï¼‰ã€‚</p>
<p>workï¼šå­˜æ”¾tomcatå°†jspè½¬æ¢ä¹‹åçš„servletæ–‡ä»¶ã€‚</p>
<h3 id="2âƒ£ï¸ideaé›†æˆtomcat"><a href="#2âƒ£ï¸ideaé›†æˆtomcat" class="headerlink" title="2âƒ£ï¸ideaé›†æˆtomcat"></a>2âƒ£ï¸ideaé›†æˆtomcat</h3><p>create new project â€“&gt; java enterprise â€“&gt; web application â€“&gt; å®Œæˆ</p>
<p>index.jspï¼šå†™htmlçš„</p>
<p>web.xmlï¼šé…ç½®åº”ç”¨çš„</p>
<p>æ·»åŠ tomcaté…ç½®ï¼šå³ä¸Šè§’add configurationï¼Œç‚¹åŠ å·ï¼Œtomcalï¼Œé€‰localï¼Œé…ä¸€ä¸ªæœ¬åœ°çš„tomcatï¼Œè®¾ç½®ï¼Œå†™åå­—ï¼Œé€‰tomcatè·¯å¾„ï¼ˆä¸»è¦å°±ç”¨tomcatçš„ä¸¤ä¸ªjaråŒ…ï¼šjspã€servletï¼‰ã€‚ç›¸å½“äºæ˜¯æŠŠideaå’Œtomcatæ˜ å°„èµ·æ¥äº†ã€‚è®¾ç½®urlï¼šé»˜è®¤æµè§ˆå™¨ï¼Œafter launchæ˜¯å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œurlæ˜¯è®¿é—®è·¯å¾„ï¼Œè®¿é—®åˆ°tomcatæœåŠ¡ã€‚ç„¶åé€‰deploymentæ·»åŠ javaå·¥ç¨‹ï¼Œç‚¹åŠ å·ï¼Œé€‰artifactï¼Œè‡ªåŠ¨åŠ è¿›æ¥äº†ã€‚ç›¸å½“äºæ˜¯æŠŠjavaå·¥ç¨‹æ”¾åœ¨testé‡Œäº†ã€‚ç„¶åapplyï¼Œokã€‚</p>
<p>ç‚¹å³ä¸Šè§’è™«å­å›¾æ ‡ã€‚è‡ªåŠ¨è·³å‡ºæ¥é¡µé¢ã€‚å…³æ‰ideaï¼Œå°±æ²¡äº†ã€‚</p>
<p>urlç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šip:port/application name</p>
<p>å¯ä»¥æ”¹åº”ç”¨çš„åå­—ï¼Œåœ¨å³ä¸Šè§’edit applicationï¼Œé€‰deploymentï¼Œä¸‹é¢contextæ”¹åå­—ã€‚é‡å¯å°±å¯ä»¥äº†ã€‚</p>
<p>ä¹Ÿå¯ä»¥æ²¡æœ‰åå­—ï¼Œåªæ˜¯ä¸€ä¸ª/ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title>javaå®ç°è‡ªå®šä¹‰æ³¨è§£</title>
    <url>/2022/03/19/myblog/JAVA/java%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3/</url>
    <content><![CDATA[<h3 id="å…³äºæ³¨è§£"><a href="#å…³äºæ³¨è§£" class="headerlink" title="å…³äºæ³¨è§£"></a>å…³äºæ³¨è§£</h3><p>Annotationï¼Œæ³¨è§£æ˜¯Java SE 5.0ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹javaæºä»£ç çš„è¯´æ˜ï¼Œæ˜¯ä¸€ç§å…ƒæ•°æ®ï¼ˆæè¿°æ•°æ®çš„æ•°æ®ï¼‰ã€‚</p>
<ul>
<li>æ³¨é‡Š<br>   æ³¨é‡Šæ˜¯å¯¹ä»£ç çš„è¯´æ˜ï¼Œç»™ä»£ç çš„è¯»è€…çœ‹ï¼Œä¾¿äºå¸®è¯»è€…æ¢³ç†ä¸šåŠ¡é€»è¾‘ï¼›</li>
<li>æ³¨è§£<br>  æ³¨è§£ä¹Ÿæ˜¯å¯¹ä»£ç çš„è¯´æ˜ï¼Œéœ€è¦é…åˆå·¥å…·ï¼ˆè§£æå®ƒçš„ä»£ç ï¼‰ä½¿ç”¨ï¼Œå‚ä¸ä»£ç çš„ç¼–è¯‘ï¼Œç»™åº”ç”¨ç¨‹åºçœ‹çš„ã€‚</li>
</ul>
<p>æ³¨è§£çš„æ¸Šæºï¼š</p>
<p>åœ¨é¢‘ç¹ä½¿ç”¨æ³¨è§£ä¹‹å‰ï¼Œæ˜¯ç”¨xml æ¥ä½œä¸ºå…ƒæ•°æ®ä½¿ç”¨ï¼Œåœ¨æœ€å¼€å§‹ä½¿ç”¨ssm(Spring,SpringMVC,Mybatis)æ¡†æ¶æ—¶ï¼Œbeanä¸beanä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯é€šè¿‡xmlæ–‡ä»¶æ¥é…ç½®ï¼Œè¿™ä¸ªxmlæ–‡ä»¶å’Œæºä»£ç åˆ†æ•£ï¼Œå½“å¾®æœåŠ¡ã€åˆ†å¸ƒå¼æ³¨è§£æµè¡Œï¼Œç³»ç»Ÿè¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦è¶Šæ¥è¶Šå¤šçš„xmlæ–‡ä»¶æ¥é…ç½®ç®¡ç†ï¼Œæ–‡ä»¶é…ç½®å†—é•¿ï¼Œè€Œä¸”ç±»å‹ä¸å®‰å…¨ï¼ˆè¿è¡ŒæœŸæ‰ä¼šå‘ç°é”™è¯¯ï¼‰,æ­¤æ—¶å°±éœ€è¦ä¸€ç§æ¯”è¾ƒç®€å•ç›´è§‚è€Œä¸”ç±»å‹å®‰å…¨çš„é…ç½®æ–¹å¼ï¼Œæ³¨è§£å°±åº”è¿è€Œç”Ÿäº†ï¼ŒæŒ‰ç…§Springbootâ€œçº¦å®šå¤§äºé…ç½®â€çš„æ–¹å¼ï¼Œé€šè¿‡æ³¨è§£æ¥çº¦å®šå…¶å«ä¹‰ï¼Œæ›´æ˜¯å‡å°‘äº†xmlé…ç½®æ–‡ä»¶çš„æ•°é‡ã€‚<br>     å¯¹äºä¸€äº›ç»å¸¸å˜åŠ¨æˆ–è€…é…ç½®å¤æ‚çš„é…ç½®ï¼Œä½¿ç”¨xmlæ–‡ä»¶æ¥è¯´æ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œæ‰€ä»¥ç°åœ¨ç»å¸¸æ˜¯æ³¨è§£å’Œxmlæ–¹å¼å…±å­˜ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/zt15732625878/article/details/99671586">https://blog.csdn.net/zt15732625878/article/details/99671586</a></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h3 id="æ³¨è§£åˆ†ç±»"><a href="#æ³¨è§£åˆ†ç±»" class="headerlink" title="æ³¨è§£åˆ†ç±»"></a>æ³¨è§£åˆ†ç±»</h3><p>æŒ‰ç…§æ¥æºåˆ’åˆ†ï¼Œå¯ä»¥åˆ†ä¸º JDKçš„æ³¨è§£ï¼Œç¬¬ä¸‰æ–¹çš„æ³¨è§£ï¼Œè‡ªå®šä¹‰æ³¨è§£ã€‚</p>
<p>JDKæ³¨è§£</p>
<p>Java å†…ç½®ä¸‰å¤§æ³¨è§£<br>@Override ï¼ˆæ ‡è®°é‡å†™æ–¹æ³•ï¼‰<br>@Deprecated ï¼ˆæ ‡è®°è¿‡æ—¶ï¼‰<br>@SuppressWarnings ï¼ˆå¿½ç•¥è­¦å‘Šï¼‰</p>
<p>å…ƒæ³¨è§£ (æ³¨è§£çš„æ³¨è§£)<br>@Target ï¼ˆæ³¨è§£çš„ä½œç”¨ç›®æ ‡ï¼‰<br>@Retention ï¼ˆæ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼‰<br>@Document ï¼ˆæ³¨è§£æ˜¯å¦è¢«åŒ…å«åœ¨JavaDocä¸­ï¼‰<br>@Inherited ï¼ˆæ˜¯å¦å…è®¸å­ç±»é›†æˆè¯¥æ³¨è§£ï¼‰</p>
<p>ç¬¬ä¸‰æ–¹æ³¨è§£ï¼ˆä¸»è¦æ¥æºäºå„ç§æ¡†æ¶ï¼‰<br>Springæ³¨è§£<br>@RequestMapping,@RestController,@Configuration,@Value,@Controller,@Service,@Repository,@Componentç­‰<br>SpringBootæ³¨è§£<br>@SpringBootApplication,@EnableAutoConfigurationç­‰<br>JPAæ³¨è§£<br>@Table,@Entity,@Column,@Idç­‰<br>â€¦â€¦</p>
<p>è‡ªå®šä¹‰æ³¨è§£<br>ä½¿ç”¨å…ƒæ³¨è§£è‡ªå·±å®šä¹‰çš„æ³¨è§£</p>
<h3 id="æ³¨è§£çš„å®šä¹‰"><a href="#æ³¨è§£çš„å®šä¹‰" class="headerlink" title="æ³¨è§£çš„å®šä¹‰"></a>æ³¨è§£çš„å®šä¹‰</h3><p>1&gt;.æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°,<br>2&gt;.æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°,<br>3&gt;.è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹,(è¿”å›å€¼ç±»å‹åªèƒ½æ˜¯åŸºæœ¬ç±»å‹ã€Classã€Stringã€enum)<br>4&gt;.å¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¿®é¥°ç¬¦ <span class="meta">@interface</span> æ³¨è§£å &#123;</span><br><span class="line">    æ³¨è§£å…ƒç´ çš„å£°æ˜<span class="number">1</span> </span><br><span class="line">    æ³¨è§£å…ƒç´ çš„å£°æ˜<span class="number">2</span></span><br><span class="line">    <span class="function">type <span class="title">elementName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">type <span class="title">elementName</span><span class="params">()</span> <span class="keyword">default</span> value</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Serviceçš„å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ElementType.TYPE ä»£è¡¨åœ¨ç±»ä¸Šä½¿ç”¨</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="comment">// RetentionPolicy.RUNTIME ä»£è¡¨è¿è¡Œæ—¶ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡åå°„è·å–åˆ°</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="comment">//åŒ…å«åœ¨JavaDocä¸­</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="comment">//å…è®¸é€šè¿‡åŒ…æ‰«æçš„æ–¹å¼è‡ªåŠ¨æ£€æµ‹</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Service &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * The value may indicate a suggestion for a logical component name,</span></span><br><span class="line"><span class="comment">	 * to be turned into a Spring bean in case of an autodetected component.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> the suggested component name, if any (or empty String otherwise)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@AliasFor(annotation = Component.class)</span></span><br><span class="line">	<span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Annotationï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Annotation</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ‰€æœ‰æ³¨è§£</strong>ï¼Œ<strong>é»˜è®¤æ˜¯ä¸€ä¸ªå®ç°äº†Annotationæ¥å£çš„æ¥å£ã€‚</strong></p>
<h3 id="è‡ªå®šä¹‰æ³¨è§£"><a href="#è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£"></a>è‡ªå®šä¹‰æ³¨è§£</h3><p>æ³¨è§£æ˜¯ä¸€ç§èƒ½è¢«æ·»åŠ åˆ°javaæºä»£ç ä¸­çš„å…ƒæ•°æ®ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‡è®°ï¼Œå¯ä»¥ç”¨åœ¨æ–¹æ³•ã€ç±»ã€å‚æ•°å’ŒåŒ…ä¸Šï¼Œç¨‹åºåœ¨ç¼–è¯‘æˆ–è€…è¿è¡Œæ—¶å¯ä»¥æ£€æµ‹åˆ°è¿™äº›æ ‡è®°è€Œè¿›è¡Œä¸€äº›ç‰¹æ®Šçš„å¤„ç†ã€‚</p>
<p>æ³¨è§£çš„åŸºæœ¬å…ƒç´ ï¼š</p>
<ul>
<li>ä¿®é¥°ç¬¦<br> è®¿é—®ä¿®é¥°ç¬¦å¿…é¡»ä¸ºpublic,ä¸å†™é»˜è®¤ä¸ºpubicï¼›</li>
<li>å…³é”®å­—<br> å…³é”®å­—ä¸º@interfaceï¼›</li>
<li>æ³¨è§£åç§°<br> æ³¨è§£åç§°ä¸ºè‡ªå®šä¹‰æ³¨è§£çš„åç§°ï¼Œä½¿ç”¨æ—¶è¿˜ä¼šç”¨åˆ°ï¼›</li>
<li>æ³¨è§£ç±»å‹å…ƒç´ <br> æ³¨è§£ç±»å‹å…ƒç´ æ˜¯æ³¨è§£ä¸­å†…å®¹ï¼Œå¯ä»¥ç†è§£æˆè‡ªå®šä¹‰æ¥å£çš„å®ç°éƒ¨åˆ†ï¼›</li>
</ul>
<p>ä½¿ç”¨å…ƒæ³¨è§£ä¿®é¥°æ³¨è§£ï¼š</p>
<p>@Targetï¼Œ@Retention,@Document,@Inheritedç”¨æ¥ä¿®é¥°æ³¨è§£ã€‚</p>
<p><strong>@Target</strong><br> è¡¨æ˜è¯¥æ³¨è§£å¯ä»¥åº”ç”¨çš„javaå…ƒç´ ç±»å‹ã€‚<br>ElementType.TYPE    åº”ç”¨äºç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬æ³¨è§£ç±»å‹ï¼‰ã€æšä¸¾<br>ElementType.FIELD    åº”ç”¨äºå±æ€§ï¼ˆåŒ…æ‹¬æšä¸¾ä¸­çš„å¸¸é‡ï¼‰<br>ElementType.METHOD    åº”ç”¨äºæ–¹æ³•<br>ElementType.PARAMETER    åº”ç”¨äºæ–¹æ³•çš„å½¢å‚<br>ElementType.CONSTRUCTOR    åº”ç”¨äºæ„é€ å‡½æ•°<br>ElementType.LOCAL_VARIABLE    åº”ç”¨äºå±€éƒ¨å˜é‡<br>ElementType.ANNOTATION_TYPE    åº”ç”¨äºæ³¨è§£ç±»å‹<br>ElementType.PACKAGE    åº”ç”¨äºåŒ…<br>ElementType.TYPE_PARAMETER    1.8ç‰ˆæœ¬æ–°å¢ï¼Œåº”ç”¨äºç±»å‹å˜é‡<br>ElementType.TYPE_USE    1.8ç‰ˆæœ¬æ–°å¢ï¼Œåº”ç”¨äºä»»ä½•ä½¿ç”¨ç±»å‹çš„è¯­å¥ä¸­ï¼ˆä¾‹å¦‚å£°æ˜è¯­å¥ã€æ³›å‹å’Œå¼ºåˆ¶è½¬æ¢è¯­å¥ä¸­çš„ç±»å‹ï¼‰</p>
<p>@Retention<br>  è¡¨æ˜è¯¥æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ<br>RetentionPolicy.SOURCE    ç¼–è¯‘æ—¶è¢«ä¸¢å¼ƒï¼Œä¸åŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­<br>RetentionPolicy.CLASS    JVMåŠ è½½æ—¶è¢«ä¸¢å¼ƒï¼ŒåŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œé»˜è®¤å€¼<br>RetentionPolicy.RUNTIME    ç”±JVM åŠ è½½ï¼ŒåŒ…å«åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥è¢«è·å–åˆ°</p>
<p>@Document<br>  è¡¨æ˜è¯¥æ³¨è§£æ ‡è®°çš„å…ƒç´ å¯ä»¥è¢«Javadoc æˆ–ç±»ä¼¼çš„å·¥å…·æ–‡æ¡£åŒ–</p>
<p>@Inherited<br>  è¡¨æ˜ä½¿ç”¨äº†@Inheritedæ³¨è§£çš„æ³¨è§£ï¼Œæ‰€æ ‡è®°çš„ç±»çš„å­ç±»ä¹Ÿä¼šæ‹¥æœ‰è¿™ä¸ªæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Info &#123;</span><br><span class="line">      <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;tracy&quot;</span>;</span><br><span class="line">      <span class="function"><span class="keyword">boolean</span> <span class="title">isDelete</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£"><a href="#ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£"></a>ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="comment">// ä¸ºPersonç±»é…ç½®äº†åˆšåˆšå®šä¹‰çš„æ³¨è§£@Info</span></span><br><span class="line"><span class="meta">@Info(isDelete = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åå°„è§£ææ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è·å–Personçš„Classå¯¹è±¡(ç±»)</span></span><br><span class="line">            Person person = Person.builder().build();</span><br><span class="line">            Class clazz = person.getClass();</span><br><span class="line">            <span class="comment">//åˆ¤æ–­ç±»ä¸Šæ˜¯å¦æœ‰Infoæ³¨è§£</span></span><br><span class="line">            <span class="keyword">if</span> (clazz.isAnnotationPresent(Info.class)) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Personç±»ä¸Šé…ç½®äº†Infoæ³¨è§£ï¼&quot;</span>);</span><br><span class="line">                <span class="comment">//è·å–è¯¥å¯¹è±¡ä¸ŠInfoç±»å‹çš„æ³¨è§£</span></span><br><span class="line">                Info infoAnno = (Info) clazz.getAnnotation(Info.class);</span><br><span class="line">                System.out.println(<span class="string">&quot;infoAnno.value :&quot;</span> + infoAnno.value() + <span class="string">&quot;,infoAnno.isDelete:&quot;</span> + infoAnno.isDelete());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Personç±»ä¸Šæ²¡æœ‰é…ç½®Infoæ³¨è§£ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸€ä¸ªç±»æˆ–è€…æ¥å£æ¥è¯´ï¼ŒClassç±»(java.langåŒ…ä¸‹)ä¸­æä¾›äº†ä¸€äº›æ–¹æ³•ç”¨äºåå°„æ³¨è§£ï¼Œå½“ç„¶å¯¹äºå­—æ®µã€æ–¹æ³•æ¥è¯´åå°„æ³¨è§£çš„æ–¹å¼å¾ˆç±»ä¼¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿”å›æŒ‡å®šçš„æ³¨è§£</span></span><br><span class="line">getAnnotation</span><br><span class="line"><span class="comment">//åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦è¢«æŒ‡å®šæ³¨è§£ä¿®é¥°</span></span><br><span class="line">isAnnotationPresent</span><br><span class="line"><span class="comment">//è¿”å›æ‰€æœ‰çš„æ³¨è§£</span></span><br><span class="line">getAnnotations</span><br></pre></td></tr></table></figure>

<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/zt15732625878/article/details/100061528">https://blog.csdn.net/zt15732625878/article/details/100061528</a></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h3 id="ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä¾‹å­2"><a href="#ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä¾‹å­2" class="headerlink" title="ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä¾‹å­2"></a>ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ä¾‹å­2</h3><p>&lt;1&gt;.ä½œç”¨åœ¨å±æ€§ä¸Šæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> FiledAnnotation &#123;</span><br><span class="line">	 <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;GetFiledAnnotation&quot;</span>;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&lt;2&gt;.ä½œç”¨åœ¨æ–¹æ³•ä¸Šæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MethodAnnotation &#123;</span><br><span class="line">	<span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;MethodAnnotation&quot;</span>;   </span><br><span class="line">    <span class="function">String <span class="title">url</span><span class="params">()</span> <span class="keyword">default</span> &quot;https:<span class="comment">//www.cnblogs.com&quot;;</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<p>&lt;3&gt;.ä½œç”¨åœ¨ç±»ä¸Šæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> TypeAnnotation &#123;</span><br><span class="line">	<span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;Is-TypeAnnotation&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&lt;4&gt;.ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@TypeAnnotation(value = &quot;doWork&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Worker</span> </span>&#123;</span><br><span class="line"><span class="meta">@FiledAnnotation(value = &quot;CSDNåšå®¢&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String myfield = <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@MethodAnnotation()</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getDefaultInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;do the getDefaultInfo method&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@MethodAnnotation(name = &quot;ç™¾åº¦&quot;, url = &quot;www.baidu.com&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getDefineInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;do the getDefineInfo method&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&lt;5&gt;.æµ‹è¯•è‡ªå®šä¹‰æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMain</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	</span><br><span class="line">    Class cls = Class.forName(<span class="string">&quot;com.zbz.annotation.pattern3.Worker&quot;</span>);</span><br><span class="line">    Method[] method = cls.getMethods();</span><br><span class="line">    <span class="comment">/**åˆ¤æ–­Workerç±»ä¸Šæ˜¯å¦æœ‰TypeAnnotationæ³¨è§£*/</span></span><br><span class="line">    <span class="keyword">boolean</span> flag = cls.isAnnotationPresent(TypeAnnotation.class);</span><br><span class="line">    <span class="comment">/**è·å–Workerç±»ä¸Šæ˜¯TypeAnnotationæ³¨è§£å€¼*/</span></span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    	TypeAnnotation typeAnno = (TypeAnnotation) cls.getAnnotation(TypeAnnotation.class);</span><br><span class="line">    	System.out.println(<span class="string">&quot;@TypeAnnotationå€¼:&quot;</span> + typeAnno.value());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**æ–¹æ³•ä¸Šæ³¨è§£*/</span></span><br><span class="line">    List&lt;Method&gt; list = <span class="keyword">new</span> ArrayList&lt;Method&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; method.length; i++) &#123;</span><br><span class="line">        list.add(method[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (Method m : list) &#123;</span><br><span class="line">    	MethodAnnotation methodAnno = m.getAnnotation(MethodAnnotation.class);</span><br><span class="line">        <span class="keyword">if</span> (methodAnno == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        System.out.println( <span class="string">&quot;æ–¹æ³•åç§°:&quot;</span> + m.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•ä¸Šæ³¨è§£name = &quot;</span> + methodAnno.name());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•ä¸Šæ³¨è§£url = &quot;</span> + methodAnno.url());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**å±æ€§ä¸Šæ³¨è§£*/</span></span><br><span class="line">    List&lt;Field&gt; fieldList = <span class="keyword">new</span> ArrayList&lt;Field&gt;();  <span class="comment">//Fieldè¡¨ç¤ºå±æ€§</span></span><br><span class="line">    <span class="keyword">for</span> (Field f : cls.getDeclaredFields()) &#123;<span class="comment">// è®¿é—®æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">    	FiledAnnotation filedAno = f.getAnnotation(FiledAnnotation.class);</span><br><span class="line">    	System.out.println( <span class="string">&quot;å±æ€§åç§°:&quot;</span> + f.getName());</span><br><span class="line">    	System.out.println(<span class="string">&quot;å±æ€§æ³¨è§£å€¼FiledAnnotation = &quot;</span> + filedAno.value());</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/zhangbeizhen18/article/details/87885441/">https://blog.csdn.net/zhangbeizhen18/article/details/87885441/</a></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><p>è‡ªå®šä¹‰æ³¨è§£åƒæ˜¯ä¸ºç±»æˆ–è€…ä»€ä¹ˆçš„æ–°å¢åŠ äº†å±æ€§ï¼Œå¯ä»¥æœ‰é»˜è®¤å€¼ï¼Œé€šè¿‡ç±»å¯ä»¥è·å¾—ç±»ä¸Šçš„è‡ªå®šä¹‰æ³¨è§£ï¼Œç„¶åé€šè¿‡æ³¨è§£è·å¾—è·å¾—æ³¨è§£ä¸­çš„å€¼ã€‚æ³¨è§£ä¸æ˜¯å±äºå¯¹è±¡çš„ã€‚å®šä¹‰åœ¨å±æ€§ä¸Šçš„ï¼Œå¯ä»¥ç”¨å±æ€§æ¥åŒºåˆ«è¿™äº›å±æ€§ï¼Œç›¸å½“äºå±æ€§åçš„åˆ«åã€‚</p>
<h3 id="å…¶ä»–å‚è€ƒ"><a href="#å…¶ä»–å‚è€ƒ" class="headerlink" title="å…¶ä»–å‚è€ƒ"></a>å…¶ä»–å‚è€ƒ</h3><p>è‡ªå®šä¹‰æ³¨è§£+AOPï¼š<a href="https://zhuanlan.zhihu.com/p/283936459">https://zhuanlan.zhihu.com/p/283936459</a></p>
<p>ä½¿ç”¨æ–¹æ³•ä¸Šçš„æ³¨è§£ï¼Œå®ç°é€šè¿‡æ³¨è§£æ¥å”¤é†’ä¸€ä¸ªç±»é‡Œæ–¹æ³•çš„æ•ˆæœï¼š</p>
<p><a href="https://www.jianshu.com/p/b5b79434d3b5">https://www.jianshu.com/p/b5b79434d3b5</a></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>logæ—¥å¿—ä¸mavenæ‰“åŒ…</title>
    <url>/2022/04/03/myblog/JAVA/log%E6%97%A5%E5%BF%97%E4%B8%8Emaven%E6%89%93%E5%8C%85/</url>
    <content><![CDATA[<p>å·¥ä½œä¸­éœ€è¦å°†åº”ç”¨éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œæƒ³æ¥ä¹‹å‰ç”¨goçš„æ—¶å€™è²Œä¼¼æ˜¯ç›´æ¥ç¼–è¯‘è¿è¡Œå°±åœ¨æœ¬åœ°éƒ¨ç½²äº†ï¼Œä½†æ˜¯javaéœ€è¦ç”¨åˆ°mavenæ‰“åŒ…ï¼Œè¿˜æ²¡æ‰“åŒ…è¿‡ï¼Œå­¦ä¹ ä¸€ä¸‹ã€‚é¡ºä¾¿å·¥ä½œä¸­æŸ¥çœ‹æ—¥å¿—å¯¹log4jã€sjf4jã€logbackã€lombackè¿™å‡ ä¸ªä¸œè¥¿æœ‰ç‚¹è¿·ç³Šï¼Œæ‰€ä»¥å…ˆå­¦ä¸€ä¸‹æ—¥å¿—ç›¸å…³çš„ï¼Œç„¶åå»ºå·¥ç¨‹æ‰“åŒ…éƒ¨ç½²åœ¨æœ¬åœ°çœ‹ä¸‹æ•ˆæœã€‚</p>
<h3 id="1-lombok"><a href="#1-lombok" class="headerlink" title="1.lombok"></a>1.lombok</h3><p>è‡ªç„¶ä¸å¿…å¤šè¯´ï¼Œlombokå¯ä»¥é€šè¿‡ç®€å•çš„æ³¨è§£çš„å½¢å¼æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–å’Œæ¶ˆé™¤ä¸€äº›å¿…é¡»æœ‰ä½†æ˜¾å¾—å¾ˆè‡ƒè‚¿çš„Javaä»£ç ï¼Œæ¯”å¦‚å¸¸è§çš„Getter&amp;Setterã€toString()ã€æ„é€ å‡½æ•°ç­‰ç­‰ã€‚lombokä¸ä»…æ–¹ä¾¿ç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿè®©æˆ‘ä»¬çš„ä»£ç æ›´ç®€æ´ã€‚</p>
<p>lombokæä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„jaråŒ…ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œé›†æˆã€‚</p>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>ç¬¬ä¸€æ­¥ï¼šåŠ å…¥lombokä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>scop=providedï¼Œè¡¨ç¤ºå®ƒåªåœ¨ç¼–è¯‘é˜¶æ®µç”Ÿæ•ˆï¼Œä¸éœ€è¦æ‰“å…¥åŒ…ä¸­ï¼Œlombokåœ¨ç¼–è¯‘æœŸå°†å¸¦lombokæ³¨è§£çš„javaæ–‡ä»¶æ­£ç¡®ç¼–è¯‘ä¸ºå®Œæ•´çš„classæ–‡ä»¶ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šideaä¸­æ·»åŠ lombokæ’ä»¶</p>
<p>å¦åˆ™ä¼šæŠ¥ç¼ºå°‘æ–¹æ³•å’Œæ²¡æœ‰è®¾ç½®å±æ€§çš„å¼‚å¸¸ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®å¯ç”¨æ³¨é‡Šå¤„ç†</p>
<p>è®¾ç½®ä¸­ Annotation processorsï¼Œenable annotation processingã€‚</p>
<h4 id="lombokåŸç†"><a href="#lombokåŸç†" class="headerlink" title="lombokåŸç†"></a>lombokåŸç†</h4><ol>
<li>javacå¯¹æºä»£ç è¿›è¡Œåˆ†æï¼Œç”Ÿæˆäº†ä¸€æ£µæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</li>
<li>ç¼–è¯‘è¿‡ç¨‹ä¸­è°ƒç”¨å®ç°äº†â€œJSR 269 APIâ€çš„Lombokç¨‹åº</li>
<li>æ­¤æ—¶Lombokå°±å¯¹ç¬¬ä¸€æ­¥éª¤å¾—åˆ°çš„ASTè¿›è¡Œå¤„ç†ï¼Œæ‰¾åˆ°@Dataæ³¨è§£æ‰€åœ¨ç±»å¯¹åº”çš„è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œç„¶åä¿®æ”¹è¯¥è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œå¢åŠ getterå’Œsetteræ–¹æ³•å®šä¹‰çš„ç›¸åº”æ ‘èŠ‚ç‚¹</li>
<li>javacä½¿ç”¨ä¿®æ”¹åçš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ï¼Œå³ç»™classå¢åŠ æ–°çš„èŠ‚ç‚¹ï¼ˆä»£ç å—ï¼‰</li>
</ol>
<h3 id="2-SLF4J"><a href="#2-SLF4J" class="headerlink" title="2.SLF4J"></a>2.SLF4J</h3><h4 id="æ¥å£ä¸åŒ…å…³ç³»"><a href="#æ¥å£ä¸åŒ…å…³ç³»" class="headerlink" title="æ¥å£ä¸åŒ…å…³ç³»"></a>æ¥å£ä¸åŒ…å…³ç³»</h4><p>Simple logging Facade for Javaï¼Œæ„æ€ä¸ºç®€å•æ—¥å¿—é—¨é¢ï¼Œå®ƒæ˜¯æŠŠä¸åŒçš„æ—¥å¿—ç³»ç»Ÿçš„å®ç°è¿›è¡Œäº†å…·ä½“çš„æŠ½è±¡åŒ–ï¼Œåªæä¾›äº†ç»Ÿä¸€çš„æ—¥å¿—ä½¿ç”¨æ¥å£ï¼Œä½¿ç”¨æ—¶åªéœ€è¦æŒ‰ç…§å…¶æä¾›çš„æ¥å£æ–¹æ³•è¿›è¡Œè°ƒç”¨å³å¯ï¼Œç”±äº<strong>å®ƒåªæ˜¯ä¸€ä¸ªæ¥å£</strong>ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯ä»¥ç›´æ¥å•ç‹¬ä½¿ç”¨çš„æ—¥å¿—æ¡†æ¶ï¼Œæ‰€ä»¥æœ€ç»ˆæ—¥å¿—çš„æ ¼å¼ã€è®°å½•çº§åˆ«ã€è¾“å‡ºæ–¹å¼ç­‰éƒ½è¦<strong>é€šè¿‡æ¥å£ç»‘å®šçš„å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿæ¥å®ç°</strong>ï¼Œè¿™äº›å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿå°±æœ‰log4jã€logbackã€java.util.loggingç­‰ï¼Œå®ƒä»¬æ‰å®ç°äº†å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿçš„åŠŸèƒ½ã€‚</p>
<p>SLF4Jåªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®é™…ä½¿ç”¨æ—¶å¿…é¡»è¦ç»“åˆå…·ä½“çš„æ—¥å¿—ç³»ç»Ÿæ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹SLF4Jå’Œå„ä¸ªå…·ä½“çš„æ—¥å¿—ç³»ç»Ÿè¿›è¡Œç»‘å®šæ—¶çš„æ¡†æ¶åŸç†å›¾ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/e5308c09a82e0c57889adea715d6a602.png"></p>
<p>slf4jåŸç†å¾ˆç®€å•ï¼Œä»–åªæä¾›ä¸€ä¸ªæ ¸å¿ƒslf4j api(å°±æ˜¯slf4j-api.jaråŒ…)ï¼Œè¿™ä¸ªåŒ…åªæœ‰æ—¥å¿—çš„æ¥å£ï¼Œå¹¶æ²¡æœ‰å®ç°ï¼Œæ‰€ä»¥å¦‚æœè¦ä½¿ç”¨å°±å¾—<strong>å†ç»™å®ƒæä¾›ä¸€ä¸ªå®ç°äº†äº›æ¥å£çš„æ—¥å¿—åŒ…</strong>ï¼Œæ¯” å¦‚ï¼šlog4jã€common loggingã€jdk logæ—¥å¿—å®ç°åŒ…ç­‰ï¼Œä½†æ˜¯<strong>è¿™äº›æ—¥å¿—å®ç°åˆä¸èƒ½é€šè¿‡æ¥å£ç›´æ¥è°ƒç”¨</strong>ï¼Œå®ç°ä¸Šä»–ä»¬æ ¹æœ¬å°±å’Œslf4j-apiä¸ä¸€è‡´ï¼Œå› æ­¤slf4jåˆå¢åŠ äº†ä¸€å±‚æ¥<strong>è½¬æ¢å„æ—¥å¿—å®ç°åŒ…çš„ä½¿ç”¨</strong>ï¼Œå½“ç„¶slf4j-simpleé™¤å¤–ã€‚å…¶ç»“æ„å¦‚ä¸‹ï¼š </p>
<blockquote>
<p>slf4j-api(æ¥å£å±‚)<br> | |<br>å„æ—¥å¿—å®ç°åŒ…çš„è¿æ¥å±‚( slf4j-jdk14, slf4j-log4j)<br> | |<br>å„æ—¥å¿—å®ç°åŒ…     </p>
</blockquote>
<p><strong>æ‰€ä»¥ï¼Œç»“åˆå„æ—¥å¿—å®ç°åŒ…ä½¿ç”¨æ—¶æä¾›çš„jaråŒ…æƒ…å†µä¸ºï¼š</strong></p>
<p>SLF4Jå’Œlogbackç»“åˆä½¿ç”¨æ—¶éœ€è¦æä¾›çš„jarï¼šslf4j-api.jarã€logback-classic.jarã€logback-core.jar</p>
<p>SLF4Jå’Œlog4jç»“åˆä½¿ç”¨æ—¶éœ€è¦æä¾›çš„jarï¼šslf4j-api.jarã€slf4j-log4j12.jarã€log4j.jar</p>
<p>å’Œlog4j2é…åˆéœ€è¦å¯¼å…¥log4j2çš„<strong>log4j-api.jar</strong>ã€<strong>log4j-core.jar</strong>å’Œæ¡¥æ¥åŒ…<strong>log4j-slf4j-impl.jar</strong>ã€‚</p>
<p>SLF4Jå’ŒJDKä¸­java.util.loggingç»“åˆä½¿ç”¨æ—¶éœ€è¦æä¾›çš„jarï¼šslf4j-api.jarã€slf4j-jdk14.jar</p>
<p>SLF4Jå’Œsimple(SLF4Jæœ¬èº«æä¾›çš„ä¸€ä¸ªæ¥å£çš„ç®€å•å®ç°)ç»“åˆä½¿ç”¨æ—¶éœ€è¦æä¾›çš„jarï¼šslf4j-api.jarã€slf4j-simple.jar</p>
<p>å½“ç„¶è¿˜æœ‰å…¶ä»–çš„æ—¥å¿—å®ç°åŒ…ï¼Œä»¥ä¸Šæ˜¯ç»å¸¸ä¼šä½¿ç”¨åˆ°çš„ä¸€äº›ã€‚</p>
<p>*<strong>æ³¨æ„ï¼Œä»¥ä¸Šslf4jå’Œå„æ—¥å¿—å®ç°åŒ…ç»“åˆä½¿ç”¨æ—¶æœ€å¥½åªä½¿ç”¨ä¸€ç§ç»“åˆï¼Œä¸ç„¶çš„è¯ä¼šæç¤ºé‡å¤ç»‘å®šæ—¥å¿—ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´æ—¥å¿—æ— æ³•è¾“å‡ºã€‚*</strong></p>
<h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>*<strong>slf4j-api.jar:å¯¹å¤–æä¾›ç»Ÿä¸€çš„æ—¥å¿—è°ƒç”¨æ¥å£ï¼Œè¯¥æ¥å£å…·ä½“æä¾›çš„è°ƒç”¨æ–¹å¼å’Œæ–¹æ³•ä¸¾ä¾‹è¯´æ˜ï¼š*</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(Tester.class);  </span><br><span class="line">ã€€ã€€<span class="comment">//é€šè¿‡LoggerFactoryè·å–Loggerå®ä¾‹</span></span><br><span class="line">ã€€ã€€<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//æ¥å£é‡Œçš„ç»Ÿä¸€çš„è°ƒç”¨æ–¹æ³•ï¼Œå„å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿéƒ½æœ‰å®ç°è¿™äº›æ–¹æ³•</span></span><br><span class="line">ã€€ã€€		logger.info(<span class="string">&quot;testlog: &#123;&#125;&quot;</span>, <span class="string">&quot;test&quot;</span>); </span><br><span class="line">       logger.debug(<span class="string">&quot;testlog: &#123;&#125;&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">       logger.error(<span class="string">&quot;testlog: &#123;&#125;&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">       logger.trace(<span class="string">&quot;testlog: &#123;&#125;&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">       logger.warn(<span class="string">&quot;testlog: &#123;&#125;&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Lombokæä¾›çš„@Slf4jæ³¨è§£ï¼Œå¯ä»¥çœå»è·å–Loggerå¯¹è±¡çš„æ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨log.info()â€¦</p>
<p><strong>å¦‚æœç³»ç»Ÿä¸­ä¹‹å‰å·²ç»ä½¿ç”¨äº†log4jåšæ—¥å¿—è¾“å‡ºï¼Œæƒ³ä½¿ç”¨slf4jä½œä¸ºç»Ÿä¸€çš„æ—¥å¿—è¾“å‡ºï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</strong></p>
<p>å¦‚æœä¹‹å‰ç³»ç»Ÿä¸­æ˜¯å•ç‹¬ä½¿ç”¨log4jåšä¸ºæ—¥å¿—è¾“å‡ºçš„ï¼Œè¿™æ—¶å†æƒ³ä½¿ç”¨slf4jåšä¸ºæ—¥å¿—è¾“å‡ºæ—¶ï¼Œå¦‚æœç³»ç»Ÿä¸­æ—¥å¿—æ¯”è¾ƒå¤šï¼Œæ­¤æ—¶æ›´æ”¹æ—¥å¿—è¾“å‡ºæ–¹æ³•è‚¯å®šæ˜¯ä¸å¤ªç°å®çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨log4j-over-slf4j.jarå°†ä½¿ç”¨log4jæ—¥å¿—æ¡†æ¶è¾“å‡ºçš„æ—¥å¿—è·¯ç”±åˆ°slf4jä¸Šæ¥ç»Ÿä¸€é‡‡ç”¨slf4jæ¥è¾“å‡ºæ—¥å¿—ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Ÿ</h4><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SLF4J?</strong></p>
<ul>
<li> slf4jæ˜¯ä¸€ä¸ª<strong>æ—¥å¿—æ¥å£ï¼Œè‡ªå·±æ²¡æœ‰å…·ä½“å®ç°æ—¥å¿—ç³»ç»Ÿ</strong>ï¼Œåªæä¾›äº†ä¸€ç»„æ ‡å‡†çš„è°ƒç”¨api,è¿™æ ·<strong>å°†è°ƒç”¨å’Œå…·ä½“çš„æ—¥å¿—å®ç°åˆ†ç¦»</strong>ï¼Œ<strong>ä½¿ç”¨slf4jåæœ‰åˆ©äºæ ¹æ®è‡ªå·±å®é™…çš„éœ€æ±‚æ›´æ¢å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿ</strong>ï¼Œæ¯”å¦‚ï¼Œä¹‹å‰ä½¿ç”¨çš„å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿä¸ºlog4jï¼Œæƒ³æ›´æ¢ä¸ºlogbackæ—¶ï¼Œåªéœ€è¦åˆ é™¤log4jç›¸å…³çš„jarï¼Œç„¶ååŠ å…¥logbackç›¸å…³çš„jarå’Œæ—¥å¿—é…ç½®æ–‡ä»¶å³å¯ï¼Œè€Œä¸éœ€è¦æ”¹åŠ¨å…·ä½“çš„æ—¥å¿—è¾“å‡ºæ–¹æ³•ï¼Œè¯•æƒ³å¦‚æœæ²¡æœ‰é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå½“ä½ çš„ç³»ç»Ÿä¸­æ—¥å¿—è¾“å‡ºæœ‰æˆåƒä¸Šä¸‡æ¡æ—¶ï¼Œä½ è¦æ›´æ¢æ—¥å¿—ç³»ç»Ÿå°†æ˜¯å¤šä¹ˆåºå¤§çš„ä¸€é¡¹å·¥ç¨‹ã€‚å¦‚æœä½ å¼€å‘çš„æ˜¯ä¸€ä¸ªé¢å‘å…¬ä¼—ä½¿ç”¨çš„ç»„ä»¶æˆ–å…¬å…±æœåŠ¡æ¨¡å—ï¼Œé‚£ä¹ˆä¸€å®šè¦ä½¿ç”¨slf4çš„è¿™ç§å½¢å¼ï¼Œè¿™æœ‰åˆ©äºåˆ«äººåœ¨è°ƒç”¨ä½ çš„æ¨¡å—æ—¶ä¿æŒå’Œä»–ç³»ç»Ÿä¸­ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—è¾“å‡ºã€‚</li>
<li><strong>slf4jæ—¥å¿—è¾“å‡ºæ—¶å¯ä»¥ä½¿ç”¨{}å ä½ç¬¦</strong>ï¼Œå¦‚ï¼Œlogger.info(â€œtestlog: {}â€, â€œtestâ€)ï¼Œè€Œå¦‚æœåªä½¿ç”¨log4jåšæ—¥å¿—è¾“å‡ºæ—¶ï¼Œåªèƒ½ä»¥logger.info(â€œtestlog:â€+â€testâ€)è¿™ç§å½¢å¼ï¼Œå‰è€…è¦æ¯”åè€…åœ¨æ€§èƒ½ä¸Šæ›´å¥½ï¼Œåè€…é‡‡ç”¨+è¿æ¥å­—ç¬¦ä¸²æ—¶å°±æ˜¯new ä¸€ä¸ªString å­—ç¬¦ä¸²ï¼Œåœ¨æ€§èƒ½ä¸Šå°±ä¸å¦‚å‰è€…ã€‚</li>
</ul>
<h3 id="3-log4j-log-for-java"><a href="#3-log4j-log-for-java" class="headerlink" title="3.log4j(log for java)"></a>3.<strong>log4j(log for java)</strong></h3><p>Log4jæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥<strong>æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°</strong>æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ã€GUIç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€NTçš„äº‹ä»¶è®°å½•å™¨ã€UNIX Syslogå®ˆæŠ¤è¿›ç¨‹ç­‰ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥<strong>æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼</strong>ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚æœ€ä»¤äººæ„Ÿå…´è¶£çš„å°±æ˜¯ï¼Œè¿™äº›å¯ä»¥<strong>é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥çµæ´»åœ°è¿›è¡Œé…ç½®</strong>ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</p>
<p><strong>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></p>
<ul>
<li>å¼•å…¥jar,ä½¿ç”¨log4jæ—¶éœ€è¦çš„jarä¸ºï¼šlog4j.jarã€‚</li>
<li>å®šä¹‰é…ç½®æ–‡ä»¶log4j.propertiesæˆ–log4j.xml</li>
<li>åœ¨å…·ä½“çš„ç±»ä¸­è¿›è¡Œä½¿ç”¨ï¼š<ul>
<li>åœ¨éœ€è¦æ—¥å¿—è¾“å‡ºçš„ç±»ä¸­åŠ å…¥ï¼šprivate static final Logger logger = Logger.getLogger(Tester.class);  //é€šè¿‡Loggerè·å–Loggerå®ä¾‹</li>
<li>åœ¨éœ€è¦è¾“å‡ºæ—¥å¿—çš„åœ°æ–¹è°ƒç”¨ç›¸åº”æ–¹æ³•å³å¯ï¼šlogger.debug(â€œSystem â€¦..â€)</li>
</ul>
</li>
</ul>
<h3 id="4-logback"><a href="#4-logback" class="headerlink" title="4.logback"></a>4.logback</h3><p>logbackåŒæ ·æ˜¯ç”±log4jçš„ä½œè€…è®¾è®¡å®Œæˆçš„ï¼Œæ‹¥æœ‰æ›´å¥½çš„ç‰¹æ€§ï¼Œç”¨æ¥å–ä»£log4jçš„ä¸€ä¸ªæ—¥å¿—æ¡†æ¶ï¼Œæ˜¯slf4jçš„åŸç”Ÿå®ç°(å³ç›´æ¥å®ç°äº†slf4jçš„æ¥å£ï¼Œè€Œlog4jå¹¶æ²¡æœ‰ç›´æ¥å®ç°ï¼Œæ‰€ä»¥å°±éœ€è¦ä¸€ä¸ªé€‚é…å™¨slf4j-log4j12.jar)ï¼Œlogbackä¸€å…±æœ‰ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p>
<ul>
<li>logback-coreï¼šå…¶å®ƒä¸¤ä¸ªæ¨¡å—çš„åŸºç¡€æ¨¡å—</li>
<li>logback-classicï¼šå®ƒæ˜¯log4jçš„ä¸€ä¸ªæ”¹è‰¯ç‰ˆæœ¬ï¼ŒåŒæ—¶å®ƒå®Œæ•´å®ç°äº†slf4j APIä½¿ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›´æ¢æˆå…¶å®ƒæ—¥å¿—ç³»ç»Ÿå¦‚log4jæˆ–JDK14 Logging</li>
<li>logback-accessï¼šè®¿é—®æ¨¡å—ä¸Servletå®¹å™¨é›†æˆæä¾›é€šè¿‡Httpæ¥è®¿é—®æ—¥å¿—çš„åŠŸèƒ½</li>
</ul>
<p>åŒæ ·ï¼Œå•ç‹¬ä½¿ç”¨å®ƒæ—¶ï¼Œéœ€è¦å¼•å…¥ä»¥ä¸Šjarï¼Œç„¶åè¿›è¡Œé…ç½®æ–‡ä»¶çš„é…ç½®ï¼Œæœ€åå°±æ˜¯åœ¨ç›¸å…³ç±»ä¸­è¿›è¡Œä½¿ç”¨ï¼Œä½¿ç”¨æ—¶åŠ å…¥ä»¥ä¸‹è¯­å¥:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ã€€ã€€<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(Test.class);</span><br><span class="line"> ã€€logger.info(<span class="string">&quot;æ‰“å°æ—¥å¿—&quot;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="5-logå‘å±•å²"><a href="#5-logå‘å±•å²" class="headerlink" title="5.logå‘å±•å²"></a>5.logå‘å±•å²</h3><p>ä»JDK1.4å¼€å§‹æä¾›java.until.loggingæ—¥å¿—æ¡†æ¶æ¥æ‰“å°æ—¥å¿—ï¼Œä½†æ˜¯å¤§ä½¬è§‰å¾—JULå¤ªéš¾ç”¨äº†ï¼Œå°±è‡ªå·±æ‰‹æ’¸äº†ä¸ªlog4jï¼Œåæ¥log4jå‘ç°å®‰å…¨æ¼æ´ï¼ŒåŠ ä¸Šä»£ç ç»“æ„é—®é¢˜éš¾ä»¥ç»´æŠ¤ï¼Œäºæ˜¯ä»1.2å°±åœæ­¢æ›´æ–°log4jï¼Œå¹¶åˆé‡æ–°æ‰‹æ’¸äº†ä¸ªlog4j2ï¼Œå†åæ¥ï¼Œè¿™ä¸ªå¤§ä½¬åˆåŒæ‰‹æ’¸äº†ä¸€ä¸ªæ€§èƒ½æ›´é«˜ã€åŠŸèƒ½æ›´å…¨çš„logbackã€‚</p>
<p>ä»æ­¤ï¼Œè¿™ä¸ªå¤§ä½¬æ„å»ºäº†logçš„ä¸–ç•Œï¼Œä¹Ÿåˆ›é€ äº†æœ€å¸¸è§çš„æ—¥å¿—æ¡†æ¶ï¼šlog4jã€log4j2ã€logbackã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨log4jï¼Œéœ€è¦log4j.jar</span></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line">Logger logger_log4j = Logger.getLogger(Test.class);</span><br><span class="line">logger_log4j.info(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨log4j2ï¼Œéœ€è¦log4j-api.jarã€log4j-core.jar</span></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line">Logger logger_log4j2 = LogManager.getLogger(Test.class);</span><br><span class="line">logger_log4j2.info(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// logbackï¼Œéœ€è¦logback-classic.jarã€logback-core.jar</span></span><br><span class="line"><span class="keyword">import</span> ch.qos.logback.classic.Logger;</span><br><span class="line"><span class="keyword">import</span> ch.qos.logback.classic.LoggerContext;</span><br><span class="line">Logger logger_logback = <span class="keyword">new</span> LoggerContext().getLogger(Test.class);</span><br><span class="line">logger_logback.info(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// java.until.loggingï¼Œç®€ç§°jul</span></span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line">Logger logger_jul = Logger.getLogger(<span class="string">&quot;java.Test&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢ä¸éš¾çœ‹å‡ºï¼Œä½¿ç”¨ä¸åŒçš„æ—¥å¿—æ¡†æ¶ï¼Œå°±è¦å¼•å…¥ä¸åŒçš„jaråŒ…ï¼Œä½¿ç”¨ä¸åŒçš„ä»£ç è·å–Loggerã€‚</p>
<p>äºæ˜¯Apache Commons Loggingå‡ºç°äº†ã€‚</p>
<p>Common-loggingæä¾›äº†ä¸€ä¸ªæ—¥å¿—å…¥å£ï¼Œç§°ä½œâ€é—¨é¢æ—¥å¿—â€ï¼Œå³å®ƒä¸è´Ÿè´£å†™æ—¥å¿—ï¼Œè€Œæ˜¯<strong>æä¾›ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œé€šè¿‡jaræ¥å†³å®šä½¿ç”¨çš„æ—¥å¿—æ¡†æ¶</strong>ï¼Œè¿™æ ·å°±ä¸è¦å†æ›´æ¢æ¡†æ¶çš„æ—¶å€™å†ä¿®æ”¹ä»£ç äº†ã€‚åæ¥å¼€å‘äº†log4jçš„å¤§ä½¬åˆå› ä¸ºå«Œå¼ƒCommon-loggingéš¾ç”¨ï¼Œå¼€å‘äº†é—¨é¢æ—¥å¿—æ¡†æ¶<strong>slf4j</strong>ï¼Œä»Šå¤©å°±æ‹¿slf4jè®²è¿°é—¨é¢æ—¥å¿—ã€‚</p>
<p>é—¨é¢æ—¥å¿—å’Œè®¾è®¡æ¨¡å¼ä¸­çš„<strong>å¤–è§‚æ¨¡å¼</strong>å¦‚å‡ºä¸€è¾™ï¼Œæœ¬èº«ä¸æä¾›æœåŠ¡ï¼Œä¸ºå­ç³»ç»Ÿæä¾›ç»Ÿä¸€çš„å…¥å£ï¼Œå°è£…å­ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œä¾¿äºå®¢æˆ·ç«¯è°ƒç”¨ã€‚slf4jå°±åƒæ˜¯èœé¸Ÿé©¿ç«™ï¼Œæœ¬èº«æ²¡æœ‰å¿«é€’æœåŠ¡ï¼Œä½†æ˜¯æä¾›é¡ºä¸°ã€ä¸­é€šç­‰å¿«é€’æœåŠ¡ï¼Œè‡³äºä½ æƒ³ç”¨é¡ºä¸°è¿˜æ˜¯ç”¨ä¸­é€šï¼Œå®Œå…¨å–å†³äºä½ çš„æƒ³æ³•ã€‚</p>
<p>ä½¿ç”¨slf4jï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line">Logger logger = LoggerFactory.getLogger(Test.class);</span><br><span class="line">logger.info(<span class="string">&quot;Hello World!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨slf4jéœ€è¦é¦–å…ˆå¯¼å…¥<strong>slf4j-api.jar</strong>ï¼Œå’Œlog4jé…åˆï¼Œéœ€è¦å¯¼å…¥<strong>log4j.jar</strong>ï¼Œä»¥åŠæ¡¥æ¥åŒ…<strong>slf4j-log412.jar</strong>ã€‚</p>
<p>logbackåªéœ€è¦å¯¼å…¥<strong>logback-classic.jar</strong>å’Œ<strong>logback-core.jar</strong>å³å¯ï¼Œä¸éœ€è¦æ¡¥æ¥åŒ…ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆä½¿ç”¨æ¡¥æ¥åŒ…ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨æ¡¥æ¥åŒ…ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨æ¡¥æ¥åŒ…ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨æ¡¥æ¥åŒ…ï¼Ÿ</h4><p>slf4jä»LoggerFactory.getLogger()å¼€å§‹ï¼ŒåŸç†å°±æ˜¯å°±æ˜¯è®©ClassLoaderä»classpath(ä¾èµ–çš„jar)ä¸­æ‰¾åˆ°<strong>StaticLoggerBinder</strong>è¿™ä¸ªç±»ï¼Œç„¶ååˆ©ç”¨ä»–æ¥è¿”å›log4jã€logbackä¸­çš„Loggerï¼Œç„¶åæ‰“å°æ—¥å¿—ã€‚</p>
<p>æ‰€è°“çš„æ¡¥æ¥åŒ…ï¼Œå°±æ˜¯å®ç°StaticLoggerBinderç±»ï¼Œç”¨æ¥è¿æ¥slf4jå’Œæ—¥å¿—æ¡†æ¶ã€‚å› ä¸ºlog4jå’Œlog4j2åˆšå¼€å§‹æ²¡æœ‰StaticLoggerBinderè¿™ä¸ªç±»ï¼Œä¸ºäº†ä¸æ”¹å˜ç¨‹åºç»“æ„ï¼Œåªèƒ½é‡æ–°å†™ä¸€ä¸ªæ–°çš„jaræ¥å®ç°StaticLoggerBinderã€‚è€Œlogbackå‡ºç°slf4jä¹‹åï¼Œäºæ˜¯åœ¨logbackæœ¬èº«çš„jarä¸­å®ç°äº†StaticLoggerBinderï¼Œæ‰€ä»¥å°±ä¸éœ€è¦æ¡¥æ¥åŒ…ã€‚</p>
<p>StaticLoggerBinderå®ç°äº†ä½¿ç”¨åº•å±‚æ—¥å¿—æ¡†æ¶åˆ›å»ºLoggerçš„åŠŸèƒ½ï¼Œå„è‡ªçš„StaticLoggerBinderä¸ºslf4jæä¾›çš„Loggerï¼Œå†æä¾›ç»™ç”¨æˆ·æ‰“å°æ—¥å¿—ã€‚</p>
<p>log4jå’Œlog4j2æ¡¥æ¥åŒ…åŠlogbackä¾èµ–é‡Œï¼Œéƒ½æœ‰StaticLoggerBinderç±»ã€‚</p>
<p>â€œClass path contains multiple SLF4J bindings.â€åœ¨ä½¿ç”¨slf4jçš„æ—¶å€™ä¼šé‡åˆ°ä»¥ä¸Šçš„æŠ¥å‘Šä¿¡æ¯ã€‚ç©¶å…¶æ ¹æœ¬æ˜¯å› ä¸ºlogback-classicã€log4j-slf4j-implã€slf4j-log412ã€slf4j-jdkè¿™äº›jarä¸èƒ½åŒæ—¶å­˜åœ¨ã€‚ä»–ä»¬éƒ½å®ç°äº†StaticLoggerBinderç±»è€Œå¯¼è‡´å†²çªï¼Œslf4jæ— æ³•ç¡®å®šåˆ°åº•ç”¨å“ªä¸ªæ—¥å¿—æ¡†æ¶ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol>
<li><p>lombokæ˜¯ä¸€ä¸ªå¯ä»¥ç®€åŒ–ä»£ç çš„jaråŒ…ï¼Œéœ€è¦å¯¼å…¥ä¾èµ–ï¼Œæ·»åŠ æ’ä»¶ï¼Œå¯ä»¥è¯´æ˜¯å¼€å‘å¿…å¤‡ã€‚è·Ÿæ—¥å¿—æ²¡å•¥å…³ç³»ï¼Œåªä¸è¿‡@Slf4jæ³¨è§£æ˜¯lombokæä¾›çš„ï¼Œç”¨æ¥åœ¨æ–¹æ³•ä¸­ç›´æ¥ä½¿ç”¨logã€‚</p>
</li>
<li><p>slf4jæ˜¯æ—¥å¿—é—¨é¢ï¼Œä¸€ä¸ªæ—¥å¿—æ¥å£ï¼Œè€Œä¸æä¾›æ—¥å¿—ç³»ç»Ÿå®ç°ï¼Œæ–¹ä¾¿æ—¥å¿—ç³»ç»Ÿä¸è°ƒç”¨çš„åˆ†ç¦»ï¼Œå¯ä»¥æ–¹ä¾¿æ›´æ¢æ—¥å¿—ç³»ç»Ÿã€‚ç›¸å½“äºæ˜¯æä¾›äº†ä¸€ç§æ—¥å¿—è¾“å‡ºçš„è§„èŒƒï¼Œä¸‹é¢çš„æ—¥å¿—ç³»ç»Ÿéƒ½éœ€è¦å®ç°è¿™äº›æ–¹æ³•ï¼Œç»Ÿä¸€äº†æ—¥å¿—è¾“å‡ºè§„èŒƒã€‚å®ƒå®ç°äº†æ—¥å¿—æ¡†æ¶ä¸€äº›é€šç”¨çš„apiï¼Œlog4jå’Œlogbackæ˜¯å…·ä½“çš„æ—¥å¿—æ¡†æ¶ã€‚</p>
</li>
<li><p>log4jå°±æ˜¯ä¸€ä¸ªæ—¥å¿—å®ç°ç³»ç»Ÿï¼Œå…·ä½“çš„é…ç½®æ–‡ä»¶log4j.propertiesæ€ä¹ˆå†™ï¼Œè¿˜å¾—å†çœ‹çœ‹ã€‚log4jåœ¨ç»“åˆslf4jæ—¶éœ€è¦ä½¿ç”¨ä¸€ä¸ªé€‚é…ç±»æ¡¥æ¥åŒ…ã€‚ä½¿ç”¨Logger.getLoggerã€‚</p>
</li>
<li><p>logbackæ—¶æ¯”log4jæ–°çš„æ—¥å¿—å®ç°ç³»ç»Ÿï¼Œç›´æ¥å®ç°äº†slf4jæ¥å£ï¼Œä½¿ç”¨LoggerFactory.getLoggerã€‚</p>
<p>ä»–ä»¬å¯ä»¥å•ç‹¬çš„ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»‘å®šslf4jä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>å•ç‹¬ä½¿ç”¨ï¼Œåˆ†åˆ«è°ƒç”¨æ¡†æ¶è‡ªå·±çš„æ–¹æ³•æ¥è¾“å‡ºæ—¥å¿—ä¿¡æ¯ã€‚ç»‘å®šslf4jä¸€èµ·ä½¿ç”¨ã€‚è°ƒç”¨slf4jçš„apiæ¥è¾“å…¥æ—¥å¿—ä¿¡æ¯ï¼Œå…·ä½“ä½¿ç”¨ä¸åº•å±‚æ—¥å¿—æ¡†æ¶æ— å…³ï¼ˆéœ€è¦åº•å±‚æ¡†æ¶çš„é…ç½®æ–‡ä»¶ï¼‰ã€‚æ˜¾ç„¶ä¸æ¨èå•ç‹¬ä½¿ç”¨æ—¥å¿—æ¡†æ¶ã€‚å‡è®¾é¡¹ç›®ä¸­å·²ç»ä½¿ç”¨äº†log4jï¼Œè€Œæˆ‘ä»¬æ­¤æ—¶åŠ è½½äº†ä¸€ä¸ªç±»åº“ï¼Œè€Œè¿™ä¸ªç±»åº“ä¾èµ–å¦ä¸€ä¸ªæ—¥å¿—æ¡†æ¶ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ—¥å¿—æ¡†æ¶ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸éº»çƒ¦çš„äº‹æƒ…ã€‚è€Œä½¿ç”¨äº†slf4jå°±ä¸åŒäº†ï¼Œç”±äºåº”ç”¨è°ƒç”¨çš„æŠ½è±¡å±‚çš„apiï¼Œä¸åº•å±‚æ—¥å¿—æ¡†æ¶æ˜¯æ— å…³çš„ï¼Œå› æ­¤å¯ä»¥ä»»æ„æ›´æ¢æ—¥å¿—æ¡†æ¶ã€‚</p>
</li>
</ol>
<h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><h4 id="1-mavené¡¹ç›®"><a href="#1-mavené¡¹ç›®" class="headerlink" title="1.mavené¡¹ç›®"></a>1.mavené¡¹ç›®</h4><p>å¾ˆä¹…æ²¡åœ¨è¿™ä¸ªç”µè„‘ä¸Šæ–°å»ºmavené¡¹ç›®ï¼Œç»“æœé—®é¢˜æ¥äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">~/.m2 â¯ mvn -v      </span><br><span class="line">zsh: command not found: mvn</span><br></pre></td></tr></table></figure>

<p>ä¹‹å‰å‡ºç°çš„é—®é¢˜åˆå‡ºç°äº†ï¼Œä¹‹å‰é‡æ–°é…ç½®äº†ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œå¯æ˜¯brew info maven ä¹Ÿæ‰¾ä¸åˆ°ä¹‹å‰mavenå®‰è£…çš„è·¯å¾„ï¼Œéš¾é“ä¹‹å‰æˆ‘ä¸æ˜¯é€šè¿‡brewå®‰è£…çš„å—ï¼Ÿ</p>
<p>å¦å¤–åœ¨èµ„æºåº“ä¸­ä¹Ÿæ²¡æ‰¾åˆ°ï¼Œå¥½å§ï¼Œé‡æ–° brew install maven ğŸ˜…ã€‚å¯æ˜¯brewå®‰è£…æŠ¥é”™ã€‚</p>
<p>å®˜ç½‘<a href="https://maven.apache.org/download.cgi%E4%B8%8B%E8%BD%BDapache-maven-3.8.5-bin.tar.gz%E3%80%82%E8%A7%A3%E5%8E%8B%E5%88%B0%E8%B5%84%E6%BA%90%E5%BA%93%E4%B8%AD%E3%80%82%E9%82%A3%E4%B9%88%E5%A6%82%E4%BD%95%E4%BD%BF%E5%BE%97%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E8%BE%93%E5%85%A5mvn%E8%83%BD%E5%A4%9F%E6%89%BE%E5%88%B0maven%E5%8C%85%EF%BC%9F%E5%B0%B1%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%BA%86%E3%80%82">https://maven.apache.org/download.cgiä¸‹è½½apache-maven-3.8.5-bin.tar.gzã€‚è§£å‹åˆ°èµ„æºåº“ä¸­ã€‚é‚£ä¹ˆå¦‚ä½•ä½¿å¾—åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥mvnèƒ½å¤Ÿæ‰¾åˆ°mavenåŒ…ï¼Ÿå°±éœ€è¦é…ç½®ç¯å¢ƒå˜é‡äº†ã€‚</a></p>
<p>ä¸‹è½½ä¹‹åï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œä¸ç»æƒ³èµ·ä¹‹å‰çš„ç–‘é—®ï¼šjdkç¯å¢ƒå˜é‡åœ¨/etc/profileä¸­é…ç½®ï¼Œè€Œmavenä¸­çš„ç¯å¢ƒå˜é‡åœ¨~/.bash_profileï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>æˆ‘ä»¬å¸¸è¯´çš„ç¯å¢ƒå˜é‡ä¿®æ”¹ä¸»è¦åŒ…å«ä¸¤ç±»æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ profile å’Œ bashrc æ–‡ä»¶ã€‚profile æ–‡ä»¶åˆåˆ†ä¸ºï¼šâ€/etc/profileâ€ï¼Œâ€<del>/.bash_profileâ€ï¼›bashrc æ–‡ä»¶åˆ™åˆåˆ†ä¸º â€œ/etc/bashrcâ€ï¼Œå’Œ â€œ</del>/.bashrcâ€ æ–‡ä»¶ã€‚</p>
<p>è¯´åˆ°è¿™å„¿ï¼Œå¯èƒ½è¿·æƒ‘äº†ï¼Œæˆ‘åœ¨æˆ‘ç”µè„‘é‡Œæ²¡çœ‹åˆ°.bash_profileå’Œ.bashrcå•Šï¼Œä½†æ˜¯çœ‹åˆ°.zshrcäº†ï¼Œè¿™æ˜¯ä¸ºå•¥ï¼Ÿ</p>
<blockquote>
<p>iterm2ä»¥åŠmacè‡ªå¸¦çš„terminaléƒ½æ˜¯ç»ˆç«¯æ¨¡æ‹Ÿå™¨ã€‚æœ€å¼€å§‹æ—¶å€™å°±ç”¨èµ·äº†iterm2.</p>
<p>bashï¼Œzshæ˜¯shellï¼Œzshå…¼å®¹bash</p>
<p>shellï¼šå£³ï¼Œç”¨å®ƒè¡¨ç¤ºâ€œä¸ºä½¿ç”¨è€…æä¾›çš„æ“ä½œç•Œé¢â€ï¼ŒShellæ³›æŒ‡æ‰€æœ‰ä¸ºç”¨æˆ·æä¾›æ“ä½œç•Œé¢çš„ç¨‹åºï¼Œåˆ†ä¸ºä¸¤ç±»ï¼šå‘½ä»¤è¡Œï¼ˆCLIï¼‰ä¸å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨èŠshellçš„æ—¶å€™ï¼Œå…¶å®éƒ½æ˜¯èŠçš„Linuxçš„å‘½ä»¤è¡Œç•Œé¢ã€‚</p>
</blockquote>
<blockquote>
<p>shå’Œbashå’Œzsh :</p>
<p>shå…¨ç§°ä¸ºBourne Shellï¼Œæ¥è‡ªäº1977å¹´åº•çš„Unix v7ç‰ˆã€‚äºŒè¿›åˆ¶æ–‡ä»¶ä½ç½®ä¸º<code>/bin/sh</code>ã€‚ </p>
<p>bashå…¨ç§°ä¸ºBourne-Again Shellï¼Œæ˜¯åœ¨1989å¹´å¯¹shçš„é‡å†™ç‰ˆï¼Œæ›¿ä»£äº†shã€‚äºŒè¿›åˆ¶æ–‡ä»¶ä½ç½®ä¸º<code>/bin/bash</code>ã€‚ </p>
<p>ç°åœ¨çš„Linuxç³»ç»Ÿä»¥åŠmacOSç³»ç»Ÿçš„shelléƒ½é»˜è®¤ä½¿ç”¨bashã€‚</p>
<p>Zshå³Z shellï¼Œæ˜¯ä¸€æ¬¾å¯ç”¨ä½œäº¤äº’å¼ç™»å½•çš„shellåŠè„šæœ¬ç¼–å†™çš„å‘½ä»¤è§£é‡Šå™¨ã€‚Zshå¯¹Bourne shellåšå‡ºäº†å¤§é‡æ”¹è¿›ï¼ŒåŒæ—¶åŠ å…¥äº†Bashã€kshåŠtcshçš„æŸäº›åŠŸèƒ½ã€‚ </p>
<p>æ‰€ä»¥è¯´Zshä¹Ÿæ˜¯ä¸€ä¸ªShellï¼Œå°±æ˜¯ä¼šæ¯”bashèƒ½å¥½ç”¨å¾ˆå¤šã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯2019å¹´èµ·ï¼ŒmacOSçš„é»˜è®¤Shellä»Bashæ”¹ä¸ºZshçš„åŸå› ï¼Ÿ</p>
<p>zshæ‹¥æœ‰å®Œå–„çš„æ’ä»¶æœºåˆ¶ä»¥åŠä¸°å¯Œçš„ç”Ÿæ€ï¼Œå’Œoh my zshä¸€èµ·é£Ÿç”¨æ›´ä½³</p>
</blockquote>
<h5 id="æŸ¥çœ‹æœ¬åœ°Shellçš„å‘½ä»¤"><a href="#æŸ¥çœ‹æœ¬åœ°Shellçš„å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°Shellçš„å‘½ä»¤"></a>æŸ¥çœ‹æœ¬åœ°Shellçš„å‘½ä»¤</h5><ul>
<li><p>æŸ¥çœ‹å½“å‰Linuxçš„å…¨éƒ¨Shellï¼š<code>cat /etc/shells</code></p>
</li>
<li><p>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„Shellï¼š<code>echo $SHELL</code>æˆ–è€…<code>echo $0</code></p>
</li>
<li><p>åˆ‡æ¢é»˜è®¤çš„Shellï¼š<code>chsh -s [shellçš„äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„]</code>ï¼Œä¹‹åè¦é‡æ–°ç™»é™†Shellæ‰èƒ½ç”Ÿæ•ˆå“ˆã€‚ä¾‹å¦‚ï¼š</p>
</li>
<li><ul>
<li>åˆ‡æ¢ä¸ºBashï¼š <code>chsh -s /bin/bash</code></li>
<li>åˆ‡æ¢ä¸ºZshï¼š<code>chsh -s /bin/zsh</code></li>
</ul>
</li>
</ul>
<h5 id="Shellçš„å„ç§é…ç½®æ–‡ä»¶"><a href="#Shellçš„å„ç§é…ç½®æ–‡ä»¶" class="headerlink" title="Shellçš„å„ç§é…ç½®æ–‡ä»¶"></a>Shellçš„å„ç§é…ç½®æ–‡ä»¶</h5><p>æ— è®ºæ˜¯Bashè¿˜æ˜¯Zshï¼Œéƒ½æ˜¯æœ‰å„è‡ªçš„é…ç½®æ–‡ä»¶æ¥å®Œæˆè‡ªå·±çš„å·¥ä½œçš„ã€‚è¿™äº›é…ç½®æ–‡ä»¶éƒ½æ˜¯éšè—æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“è¿™äº›é…ç½®ã€‚ä½†æ˜¯åœ¨è¿™é‡Œä¹Ÿè¦ç»™å¤§å®¶æ€»ç»“ä¸€ä¸‹éƒ½æœ‰å“ªäº›é…ç½®æ–‡ä»¶ï¼Œä¹Ÿè®¸ä»¥åç”¨çš„ä¸Šå‘¢ã€‚ </p>
<h5 id="Bashçš„é…ç½®æ–‡ä»¶"><a href="#Bashçš„é…ç½®æ–‡ä»¶" class="headerlink" title="Bashçš„é…ç½®æ–‡ä»¶"></a>Bashçš„é…ç½®æ–‡ä»¶</h5><ul>
<li>/etc/profileï¼šä¸ºç³»ç»Ÿçš„<strong>æ¯ä¸ªç”¨æˆ·</strong>è®¾ç½®ç¯å¢ƒä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡<strong>ç™»å½•</strong>æ—¶ä¼šæ‰§è¡Œè¯¥æ–‡ä»¶é‡Œçš„å‘½ä»¤ã€‚é»˜è®¤ä¼šç›´æ¥è°ƒç”¨/etc/bashrcã€‚è¯¥æ–‡ä»¶çš„æ”¹åŠ¨éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆã€‚ç”¨äºè®¾ç½®ç³»ç»Ÿçº§åˆ«çš„ç¯å¢ƒå˜é‡å’Œå¯åŠ¨ç¨‹åºï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸‹é…ç½®ä¼šå¯¹æ‰€æœ‰çš„ç”¨æˆ·ç”Ÿæ•ˆã€‚</li>
<li>/etc/bashrcï¼šä¸ºæ¯ä¸€ä¸ªè¿è¡Œbash shellçš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶ã€‚å½“bash shellè¢«æ‰“å¼€æ—¶ï¼Œä¼šè¯»å–å¹¶æ‰§è¡Œè¯¥æ–‡ä»¶ä¸­çš„å‘½ä»¤ã€‚æ‰€ä»¥ä¿®æ”¹è¯¥æ–‡ä»¶åï¼Œé‡æ–°æ‰“å¼€Shellå³å¯ç”Ÿæ•ˆã€‚</li>
<li>~/.bash_profileï¼šå’Œ/etc/profileç±»ä¼¼ï¼Œä½†æ˜¯åªå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆã€‚åªå¯¹å•ä¸€ç”¨æˆ·ç”Ÿæ•ˆï¼Œè¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„è®¾ç½®ï¼Œå¯ä»¥ç†è§£ä¸ºæŸä¸€ç”¨æˆ·ä¸‹çš„profile</li>
<li>~/.bashrcï¼šå’Œ/etc/bashrcç±»ä¼¼ï¼Œä½†æ˜¯åªå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆã€‚</li>
<li>~/.bash_logoutï¼šå½“æ¯æ¬¡é€€å‡ºbash shellæ—¶ï¼Œæ‰§è¡Œè¯¥æ–‡ä»¶ã€‚</li>
<li>~/.bash_historyï¼šä¿å­˜äº†å†å²å‘½ä»¤ã€‚åœ¨Shellä¸ºBashæ—¶ï¼Œæ¯æ¬¡æ•²å‡»å‘½ä»¤æ—¶ï¼Œéƒ½ä¼šä¿å­˜åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œ</li>
</ul>
<h5 id="Zshçš„é…ç½®æ–‡ä»¶"><a href="#Zshçš„é…ç½®æ–‡ä»¶" class="headerlink" title="Zshçš„é…ç½®æ–‡ä»¶"></a>Zshçš„é…ç½®æ–‡ä»¶</h5><ul>
<li>/etc/bashrc å¯¹åº” /etc/zshrc</li>
<li>~/.bash_profile å¯¹åº” ~/.zprofile</li>
</ul>
<p>åŠ è½½é¡ºåºï¼šzshenvã€zprofileã€zshrcã€zlogin</p>
<hr>
<p>æ‰€ä»¥è¯´ï¼Œå„ç§æ•™ç¨‹é‡Œè¯´çš„é…ç½®éƒ½æ˜¯é»˜è®¤bashçš„ï¼Œbashçš„é…ç½®æ–‡ä»¶å¯¹æ ‡åˆ°zshä¸­å°±å¯ä»¥ã€‚</p>
<p><strong>/etc/profile å’Œ /etc/bashrc è¿™ç§åœ¨ /etc ç›®å½•ä¸‹çš„é…ç½®åˆ™éƒ½å±äºå…¨å±€é…ç½®ï¼Œæ‰€æœ‰ç”¨æˆ·çš„shelléƒ½æœ‰æƒä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡ï¼Œï½/ åˆ™å±äºç”¨æˆ·çº§åˆ«çš„</strong></p>
<h5 id="æ€»ç»“ä¸€ä¸‹ï¼šå„ç§é…ç½®æ–‡ä»¶å¯ä»¥æŒ‰ä¸¤ç§æ–¹å¼åˆ†ç±»ï¼š"><a href="#æ€»ç»“ä¸€ä¸‹ï¼šå„ç§é…ç½®æ–‡ä»¶å¯ä»¥æŒ‰ä¸¤ç§æ–¹å¼åˆ†ç±»ï¼š" class="headerlink" title="æ€»ç»“ä¸€ä¸‹ï¼šå„ç§é…ç½®æ–‡ä»¶å¯ä»¥æŒ‰ä¸¤ç§æ–¹å¼åˆ†ç±»ï¼š"></a>æ€»ç»“ä¸€ä¸‹ï¼šå„ç§é…ç½®æ–‡ä»¶å¯ä»¥æŒ‰ä¸¤ç§æ–¹å¼åˆ†ç±»ï¼š</h5><table>
<thead>
<tr>
<th></th>
<th>profile</th>
<th align="center">bashrc/zshrc</th>
</tr>
</thead>
<tbody><tr>
<td>å…¨å±€</td>
<td>/etc/profileï¼ˆæ— å…³å“ªä¸ªshellï¼‰</td>
<td align="center">/etc/bashrc</td>
</tr>
<tr>
<td>ç”¨æˆ·</td>
<td>~/.bash_profile ï¼ˆä¸“ç”¨äºå“ªä¸ªshellï¼‰</td>
<td align="center">~/.bashrc</td>
</tr>
</tbody></table>
<p>profileçš„bashrcåŒºåˆ«?</p>
<p>è¦ææ¸…bashrcä¸profileçš„åŒºåˆ«ï¼Œé¦–å…ˆè¦å¼„æ˜ç™½ä»€ä¹ˆæ˜¯äº¤äº’å¼shellå’Œéäº¤äº’å¼shellï¼Œå³login shell å’Œnon-login shellã€‚</p>
<p>äº¤äº’å¼æ¨¡å¼å°±æ˜¯shellç­‰å¾…ä½ çš„è¾“å…¥ï¼Œå¹¶ä¸”æ‰§è¡Œä½ æäº¤çš„å‘½ä»¤ã€‚è¿™ç§æ¨¡å¼è¢«ç§°ä½œäº¤äº’å¼æ˜¯å› ä¸ºshellä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚è¿™ç§æ¨¡å¼ä¹Ÿæ˜¯å¤§å¤šæ•°ç”¨æˆ·éå¸¸ç†Ÿæ‚‰çš„ï¼šç™»å½•ã€æ‰§è¡Œä¸€äº›å‘½ä»¤ã€ç­¾é€€ã€‚å½“ä½ ç­¾é€€åï¼Œshellä¹Ÿç»ˆæ­¢äº†ã€‚ shellä¹Ÿå¯ä»¥è¿è¡Œåœ¨å¦å¤–ä¸€ç§æ¨¡å¼ï¼šéäº¤äº’å¼æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œshellä¸ä¸ä½ è¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯è¯»å–å­˜æ”¾åœ¨æ–‡ä»¶ä¸­çš„å‘½ä»¤,å¹¶ä¸”æ‰§è¡Œå®ƒä»¬ã€‚å½“å®ƒè¯»åˆ°æ–‡ä»¶çš„ç»“å°¾ï¼Œshellä¹Ÿå°±ç»ˆæ­¢äº†ã€‚</p>
<p>bashrc ä¸ profile éƒ½ç”¨äºä¿å­˜ç”¨æˆ·çš„ç¯å¢ƒä¿¡æ¯ï¼Œbashrcç”¨äºäº¤äº’å¼non-loginshellï¼Œè€Œprofileç”¨äºäº¤äº’å¼login shellã€‚</p>
<ol>
<li><p>/etc/profile: æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œ.å¹¶ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shellçš„è®¾ç½®.</p>
</li>
<li><p>/etc/bashrc: ä¸ºæ¯ä¸€ä¸ªè¿è¡Œbash shellçš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶.å½“bash shellè¢«æ‰“å¼€æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–.</p>
</li>
<li><p>~/.bash_profile: æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡!é»˜è®¤æƒ…å†µä¸‹,ä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡,æ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶.</p>
</li>
<li><p>~/.bashrc: è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºä½ çš„bash shellçš„bashä¿¡æ¯,å½“ç™»å½•æ—¶ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–.</p>
</li>
<li><p>~/.bash_logout: å½“æ¯æ¬¡é€€å‡ºç³»ç»Ÿ(é€€å‡ºbash shell)æ—¶,æ‰§è¡Œè¯¥æ–‡ä»¶.</p>
</li>
</ol>
<p>å¦å¤–,/etc/profileä¸­è®¾å®šçš„å˜é‡(å…¨å±€)çš„å¯ä»¥ä½œç”¨äºä»»ä½•ç”¨æˆ·,è€Œ~/.bashrcç­‰ä¸­è®¾å®šçš„å˜é‡(å±€éƒ¨)åªèƒ½ç»§æ‰¿/etc/profileä¸­çš„å˜é‡,ä»–ä»¬æ˜¯â€çˆ¶å­â€å…³ç³».</p>
<hr>
<p>å½“ç™»å…¥ç³»ç»Ÿæ—¶å€™è·å¾—ä¸€ä¸ªshellè¿›ç¨‹æ—¶ï¼Œå…¶è¯»å–ç¯å¢ƒè®¾å®šæ¡£æœ‰ä¸‰æ­¥</p>
<p>1ã€é¦–å…ˆè¯»å…¥çš„æ˜¯å…¨å±€ç¯å¢ƒå˜é‡è®¾å®šæ¡£/etc/profileï¼Œç„¶åæ ¹æ®å…¶å†…å®¹è¯»å–é¢å¤–çš„è®¾å®šçš„æ–‡æ¡£ï¼Œå¦‚<br>/etc/profile.då’Œ/etc/inputrc</p>
<p>2ã€ç„¶åæ ¹æ®ä¸åŒä½¿ç”¨è€…å¸å·ï¼Œå»å…¶å®¶ç›®å½•è¯»å–<del>/.bash_profileï¼Œå¦‚æœè¿™è¯»å–ä¸äº†å°±è¯»å–</del>/.bash_loginï¼Œè¿™ä¸ªä¹Ÿè¯»å–ä¸äº†æ‰ä¼šè¯»å–<br>~/.profileï¼Œè¿™ä¸‰ä¸ªæ–‡æ¡£è®¾å®šåŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œè¯»å–æœ‰ä¼˜å…ˆå…³ç³»</p>
<p>3ã€ç„¶ååœ¨æ ¹æ®ç”¨æˆ·å¸å·è¯»å–~/.bashrc</p>
<hr>
<p>æ€»ç»“ï¼šé…ç½®æ–‡ä»¶å…¨å±€/ç”¨æˆ·â€”äº¤äº’çš„/éäº¤äº’çš„ï¼Œjdkçš„é…ç½®å°±æ˜¯åœ¨/etc/profileä¸­ï¼Œmavençš„é…ç½®åœ¨ï½/.bash_profileæ—¢ç„¶ç”¨çš„æ˜¯zshï¼Œå°±åœ¨ ~/.zprofileé‡Œé¢é…ç½®ã€‚</p>
<hr>
<p>åœ¨ï½/.zprofileæ–‡ä»¶ä¸­ï¼Œæ·»åŠ é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export M=&quot;/usr/local/ApacheMaven&quot;</span><br><span class="line">export PATH=&quot;$M/bin:$PATH&quot;</span><br></pre></td></tr></table></figure>

<p>source ï½/.zprofile å³å¯ã€‚</p>
<p>ç„¶åé…ç½®ä¸€ä¸‹é˜¿é‡Œäº‘ä»“åº“ã€‚åœ¨setting.xmlæ–‡ä»¶ä¸­ï¼Œè¦å…³æ³¨ä¸¤ä¸ªåœ°æ–¹ï¼Œ<em><strong>localRepository</strong></em>å’Œ<em><strong>mirrors</strong></em>ã€‚ç¬¬ä¸€ä¸ªlocalRepositoryæ˜¯ä½ æœ¬åœ°ä»“åº“æ‰€åœ¨çš„ä½ç½®ï¼Œä½ çš„åŒ…éƒ½ä¼šä¸‹è½½åˆ°è¿™é‡Œï¼Œé»˜è®¤åœ¨ä½ ç”¨æˆ·ç›®å½•çš„.m2ç›®å½•ä¸‹ï¼Œè¿™é‡Œå¯ä»¥æ¢æˆä½ æƒ³å­˜æ”¾çš„åœ°å€ã€‚ç¬¬äºŒä¸ªmirroræ˜¯ä½ çš„åŒ…ä¸‹è½½åœ°å€ï¼Œå› ä¸ºæœ‰å¢™ï¼Œæ‰€ä»¥å»ºè®®å¢åŠ é˜¿é‡Œäº‘ä»“åº“é…ç½®ï¼Œæ¥åŠ é€Ÿä¸‹è½½ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyunmaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-åˆ›å»ºmaven-webé¡¹ç›®"><a href="#2-åˆ›å»ºmaven-webé¡¹ç›®" class="headerlink" title="2.åˆ›å»ºmaven webé¡¹ç›®"></a>2.åˆ›å»ºmaven webé¡¹ç›®</h4><p>æ–°å»ºmavené¡¹ç›®æ—¶é€‰ä¸­create from archetypeï¼Œé€‰æ‹©org.apache.maven.archetypes:maven-archetype-webappã€‚</p>
<p>é€‰æ‹©è‡ªå·±mavençš„setting.xmlã€‚</p>
<p>é…ç½®tomcatæœåŠ¡å™¨ï¼Œé€‰æ‹©tomcat-localï¼Œç»™æœåŠ¡å™¨å–åå­—ï¼Œé€‰ç‰ˆæœ¬ç«¯å£å·ä¹‹ç±»çš„ã€‚</p>
<p>deploymentä¸­artifacté€‰æ‹©è¦éƒ¨ç½²çš„jaråŒ…ï¼Œé€‰explodedçš„ã€‚</p>
<p>é€‰æ‹©çƒ­éƒ¨ç½²ï¼Œåœ¨å®é™…å¼€å‘ä¸­æ˜¯å¾ˆç®¡ç”¨çš„webå¼€å‘ï¼Œä½ åå°ï¼Œæ”¹äº†å•¥ä»–å°±çƒ­éƒ¨ç½²ï¼Œä¸ç”¨ä½ é‡å¯tomcatï¼Œå‰å°çš„ä¹Ÿæ˜¯ï¼Œä½ ä¿®æ”¹jsp,css,jsä»€ä¹ˆçš„éƒ½å¯ä»¥ç›´æ¥è¿›è¡Œçƒ­éƒ¨ç½²ï¼Œä½ åªè¦è‡ªå·±åˆ·æ–°ä¸€ä¸‹ä½ çš„é¡µé¢å°±è¡Œäº†ã€‚</p>
<h4 id="3-ä½¿ç”¨log4jé›†åˆslf4j"><a href="#3-ä½¿ç”¨log4jé›†åˆslf4j" class="headerlink" title="3.ä½¿ç”¨log4jé›†åˆslf4j"></a>3.ä½¿ç”¨log4jé›†åˆslf4j</h4><p>Apache Log4jæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æ—¥å¿—è®°å½•å·¥å…·ï¼Œå®ƒçš„æ—¥å¿—çº§åˆ«æŒ‰ä¸‹é¢é¡ºåºé€’å‡ï¼š</p>
<table>
<thead>
<tr>
<th>çº§åˆ«</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>OFF</td>
<td>æœ€é«˜çº§åˆ«ï¼Œç”¨äºå…³é—­æ—¥å¿—è®°å½•ã€‚</td>
</tr>
<tr>
<td>FATAL</td>
<td>å°†å¯¼è‡´åº”ç”¨ç¨‹åºæå‰ç»ˆæ­¢çš„ä¸¥é‡é”™è¯¯çš„ä¿¡æ¯å°†ç«‹å³å‘ˆç°åœ¨æ—¥å¿—ä¸Šã€‚</td>
</tr>
<tr>
<td>ERROR</td>
<td>å°†å…¶ä»–è¿è¡Œæ—¶é”™è¯¯æˆ–æ„å¤–æƒ…å†µçš„ä¿¡æ¯å‘ˆç°åœ¨æ—¥å¿—ä¸Šã€‚</td>
</tr>
<tr>
<td>WARN</td>
<td>ä½¿ç”¨å·²è¿‡æ—¶çš„APIï¼ŒAPIçš„æ»¥ç”¨ï¼Œæ½œåœ¨é”™è¯¯ï¼Œå…¶ä»–ä¸è‰¯çš„æˆ–æ„å¤–çš„è¿è¡Œæ—¶çš„çŠ¶å†µï¼ˆä½†ä¸ä¸€å®šæ˜¯é”™è¯¯çš„ï¼‰</td>
</tr>
<tr>
<td>INFO</td>
<td>ä¸€äº›æ„Ÿå…´è¶£çš„è¿è¡Œæ—¶äº‹ä»¶ï¼ˆå¯åŠ¨/å…³é—­</td>
</tr>
<tr>
<td>DEBUG</td>
<td>ä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼ŒæŸ¥çœ‹ç¨‹åºçš„è¿è¡ŒçŠ¶æ€</td>
</tr>
<tr>
<td>TRACE</td>
<td>æœ€è¯¦ç»†çš„ä¿¡æ¯ã€‚ä¸€èˆ¬è¿™äº›ä¿¡æ¯åªè®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚</td>
</tr>
</tbody></table>
<h5 id="ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–"><a href="#ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–"></a>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–</h5><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0-alpha7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬äºŒæ­¥ï¼šé…ç½®log4jçš„é…ç½®æ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥ï¼šé…ç½®log4jçš„é…ç½®æ–‡ä»¶" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šé…ç½®log4jçš„é…ç½®æ–‡ä»¶"></a>ç¬¬äºŒæ­¥ï¼šé…ç½®log4jçš„é…ç½®æ–‡ä»¶</h5><p>å…¶é…ç½®æ–‡ä»¶åä¸ºlog4j.propertiesï¼Œ<strong>éœ€è¦æ‰‹åŠ¨åœ¨java/resourcesä¸‹åˆ›å»º</strong>ï¼Œå¦‚æœå»ºåœ¨å…¶ä»–ä½ç½®ï¼Œideaè¿™ä¸ªå·¥å…·å°†æ— æ³•è¯†åˆ«ã€‚è¯¥é…ç½®æ–‡ä»¶ç”¨æ¥è®¾ç½®è®°å½•å™¨çš„çº§åˆ«ã€å­˜æ”¾å™¨å’Œå¸ƒå±€çš„ï¼Œå®ƒå¯æ¥key=valueæ ¼å¼çš„è®¾ç½®æˆ–xmlæ ¼å¼çš„è®¾ç½®ä¿¡æ¯ã€‚é€šè¿‡é…ç½®ï¼Œå¯ä»¥åˆ›å»ºå‡ºLog4Jçš„è¿è¡Œç¯å¢ƒã€‚</p>
<p>Log4Jé…ç½®æ–‡ä»¶çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">### set log levels é…ç½®æ ¹Logger###</span></span><br><span class="line"><span class="comment">### log4j.rootLogger  = [ level ] , appenderName1 , appenderName2 ,  â€¦ ###</span></span><br><span class="line"><span class="comment">###  level : æ˜¯æ—¥å¿—è®°å½•çš„ä¼˜å…ˆçº§ ä¼˜å…ˆçº§ä»é«˜åˆ°ä½åˆ†åˆ«æ˜¯ERRORã€WARNã€INFOã€DEBUG</span></span><br><span class="line"><span class="comment">###  æ¯”å¦‚åœ¨è¿™é‡Œå®šä¹‰äº†INFOçº§åˆ«ï¼Œåˆ™åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰DEBUGçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯å°†ä¸è¢«æ‰“å°å‡ºæ¥</span></span><br><span class="line"><span class="comment">### Appender ä¸ºæ—¥å¿—è¾“å‡ºç›®çš„åœ° è¿™é‡Œ å°†debugå±‚çº§åŠä»¥ä¸Šçš„ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileï¼Œè‡ªå·±å®šä¹‰çš„åå­—  ###</span></span><br><span class="line"><span class="meta">log4j.rootLogger</span> = <span class="string">DEBUG,Console,File</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">###  è¾“å‡ºåˆ°æ§åˆ¶å°  ###</span></span><br><span class="line"><span class="meta">log4j.appender.Console</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.Console.Target</span>=<span class="string">System.out</span></span><br><span class="line"><span class="meta">log4j.appender.Console.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.Console.layout.ConversionPattern</span>=<span class="string">[%d&#123;yy/MM/dd HH:mm:ss:SSS&#125;]-%l:%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ ###</span></span><br><span class="line"><span class="meta">log4j.appender.File</span>=<span class="string">org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.File.File</span>=<span class="string">$&#123;project&#125;src/main/resources/log/app.log</span></span><br><span class="line"><span class="meta">log4j.appender.File.MaxFileSize</span>=<span class="string">10MB</span></span><br><span class="line"><span class="meta">log4j.appender.File.Threshold</span>=<span class="string">ALL</span></span><br><span class="line"><span class="meta">log4j.appender.File.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.File.layout.ConversionPattern</span>=<span class="string">[%p][%d&#123;yyyy-MM-dd HH\:mm\:ss,SSS&#125;][%c]%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#   %m   è¾“å‡ºä»£ç ä¸­æŒ‡å®šçš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">#ã€€ã€€%p   è¾“å‡ºä¼˜å…ˆçº§ï¼Œå³DEBUGï¼ŒINFOï¼ŒWARNï¼ŒERRORï¼ŒFATAL</span></span><br><span class="line"><span class="comment">#ã€€ã€€%r   è¾“å‡ºè‡ªåº”ç”¨å¯åŠ¨åˆ°è¾“å‡ºè¯¥logä¿¡æ¯è€—è´¹çš„æ¯«ç§’æ•°</span></span><br><span class="line"><span class="comment">#ã€€ã€€%c   è¾“å‡ºæ‰€å±çš„ç±»ç›®ï¼Œé€šå¸¸å°±æ˜¯æ‰€åœ¨ç±»çš„å…¨å</span></span><br><span class="line"><span class="comment">#ã€€ã€€%t   è¾“å‡ºäº§ç”Ÿè¯¥æ—¥å¿—äº‹ä»¶çš„çº¿ç¨‹å</span></span><br><span class="line"><span class="comment">#ã€€ã€€%n   è¾“å‡ºä¸€ä¸ªå›è½¦æ¢è¡Œç¬¦ï¼ŒWindowså¹³å°ä¸ºâ€œ\r\nâ€ï¼ŒUnixå¹³å°ä¸ºâ€œ\nâ€</span></span><br><span class="line"><span class="comment">#ã€€ã€€%d   è¾“å‡ºæ—¥å¿—æ—¶é—´ç‚¹çš„æ—¥æœŸæˆ–æ—¶é—´ï¼Œé»˜è®¤æ ¼å¼ä¸ºISO8601ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶åæŒ‡å®šæ ¼å¼ï¼Œæ¯”å¦‚ï¼š%d&#123;yyy MMM dd HH:mm:ss , SSS&#125;ï¼Œè¾“å‡ºç±»ä¼¼ï¼š2002å¹´10æœˆ18æ—¥  22 ï¼š 10 ï¼š 28 ï¼Œ 921</span></span><br><span class="line"><span class="comment">#ã€€ã€€%l   è¾“å‡ºæ—¥å¿—äº‹ä»¶çš„å‘ç”Ÿä½ç½®ï¼ŒåŒ…æ‹¬ç±»ç›®åã€å‘ç”Ÿçš„çº¿ç¨‹ï¼Œä»¥åŠåœ¨ä»£ç ä¸­çš„è¡Œæ•°ã€‚ä¸¾ä¾‹ï¼šTestlog4.main(TestLog4.java: 10 )</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### Appender ä¸ºæ—¥å¿—è¾“å‡ºç›®çš„åœ°ï¼ŒLog4jæä¾›çš„appenderæœ‰ä»¥ä¸‹å‡ ç§ï¼š</span></span><br><span class="line"><span class="comment">#org.apache.log4j.ConsoleAppenderï¼ˆæ§åˆ¶å°ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.FileAppenderï¼ˆæ–‡ä»¶ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.DailyRollingFileAppenderï¼ˆæ¯å¤©äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.RollingFileAppenderï¼ˆæ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.WriterAppenderï¼ˆå°†æ—¥å¿—ä¿¡æ¯ä»¥æµæ ¼å¼å‘é€åˆ°ä»»æ„æŒ‡å®šçš„åœ°æ–¹ï¼‰</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### Layoutï¼šæ—¥å¿—è¾“å‡ºæ ¼å¼ï¼ŒLog4jæä¾›çš„layoutæœ‰ä»¥ä¸‹å‡ ç§</span></span><br><span class="line"><span class="comment">#org.apache.log4j.HTMLLayoutï¼ˆä»¥HTMLè¡¨æ ¼å½¢å¼å¸ƒå±€ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.PatternLayoutï¼ˆå¯ä»¥çµæ´»åœ°æŒ‡å®šå¸ƒå±€æ¨¡å¼ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.SimpleLayoutï¼ˆåŒ…å«æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«å’Œä¿¡æ¯å­—ç¬¦ä¸²ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#org.apache.log4j.TTCCLayoutï¼ˆåŒ…å«æ—¥å¿—äº§ç”Ÿçš„æ—¶é—´ã€çº¿ç¨‹ã€ç±»åˆ«ç­‰ç­‰ä¿¡æ¯ï¼‰</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œé€šè¿‡Thresholdè®¾ç½®ï¼Œå¯ä»¥æŠŠå¼‚å¸¸æ—¥å¿—å•ç‹¬è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">### set log levels ###</span></span><br><span class="line"><span class="meta">log4j.rootLogger</span> = <span class="string">debug ,  stdout ,  D ,  E</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºåˆ°æ§åˆ¶å° ###</span></span><br><span class="line"><span class="meta">log4j.appender.stdout</span> = <span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout.ConversionPattern</span> =  <span class="string">[%p][%d&#123;yyyy-MM-dd HH\:mm\:ss,SSS&#125;][%c]%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ ###</span></span><br><span class="line"><span class="meta">log4j.appender.D</span> = <span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.D.File</span> = <span class="string">$&#123;project&#125;src/main/resources/log/app.log</span></span><br><span class="line"><span class="meta">log4j.appender.D.Append</span> = <span class="string">true</span></span><br><span class="line"><span class="meta">log4j.appender.D.Threshold</span> = <span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.appender.D.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.D.layout.ConversionPattern</span> = <span class="string">[%p][%d&#123;yyyy-MM-dd HH\:mm\:ss,SSS&#125;][%c]%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### ä¿å­˜å¼‚å¸¸ä¿¡æ¯åˆ°å•ç‹¬æ–‡ä»¶ ###</span></span><br><span class="line"><span class="meta">log4j.appender.E</span> = <span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.E.File</span> = <span class="string">$&#123;project&#125;src/main/resources/log/error.log</span></span><br><span class="line"><span class="meta">log4j.appender.E.Append</span> = <span class="string">true</span></span><br><span class="line"><span class="meta">log4j.appender.E.Threshold</span> = <span class="string">ERROR</span></span><br><span class="line"><span class="meta">log4j.appender.E.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.E.layout.ConversionPattern</span> = <span class="string">[%p][%d&#123;yyyy-MM-dd HH\:mm\:ss,SSS&#125;][%c]%m%n</span></span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç±»"><a href="#ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç±»"></a>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æµ‹è¯•ç±»</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.PropertyConfigurator;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Log4jDemo</span> </span>&#123;</span><br><span class="line">    <span class="comment">//private static Logger logger = LoggerFactory.getLogger(Log4jTestDemo.class);</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•</span></span><br><span class="line">        String relativelyPath=System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">        <span class="comment">// æŒ‡å®špropertiesæ–‡ä»¶ä½ç½®</span></span><br><span class="line">        PropertyConfigurator.configure(relativelyPath+ <span class="string">&quot;/src/main/resources/conf/log4j.properties&quot;</span>);</span><br><span class="line">        <span class="comment">// è®°å½•debugçº§åˆ«çš„ä¿¡æ¯</span></span><br><span class="line">        log.debug(<span class="string">&quot;This is debug message.&quot;</span>);</span><br><span class="line">        <span class="comment">// è®°å½•infoçº§åˆ«çš„ä¿¡æ¯</span></span><br><span class="line">        log.info(<span class="string">&quot;This is info message.&quot;</span>);</span><br><span class="line">        <span class="comment">// è®°å½•errorçº§åˆ«çš„ä¿¡æ¯</span></span><br><span class="line">        log.error(<span class="string">&quot;This is error message.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤éé…ç½®æ–‡ä»¶åœ¨resourcesç›®å½•ä¸‹ï¼Œå¦åˆ™ä¸èƒ½è‡ªå·±æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿˜éœ€è¦åœ¨ä»£ç ä¸­æŒ‡å®šä½ç½®ï¼Œä½æ•ˆï¼</p>
<p>è¿™ä¸ªé—®é¢˜è²Œä¼¼åœ¨springä¸­å¾—åˆ°è§£å†³ï¼Œåœ¨web.xmlä¸­å¢åŠ é…ç½®ï¼š</p>
<p><a href="https://blog.csdn.net/HenryMrZ/article/details/79258057">https://blog.csdn.net/HenryMrZ/article/details/79258057</a></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>log4jConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:/conf/log4j.properties<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="4-mavené¡¹ç›®æ‰“åŒ…"><a href="#4-mavené¡¹ç›®æ‰“åŒ…" class="headerlink" title="4.mavené¡¹ç›®æ‰“åŒ…"></a>4.mavené¡¹ç›®æ‰“åŒ…</h4><p>æœ‰ä¸ªé—®é¢˜ï¼šwebé¡¹ç›®è¿›è¡Œéƒ¨ç½²å‰ï¼Œå¿…é¡»è¦å°†é¡¹ç›®è¿›è¡Œæ‰“åŒ…å—ï¼Ÿ</p>
<p>ç›´æ¥éƒ¨ç½²åœ¨tomcatï¼Œå¹¶æ²¡æœ‰åœ¨targetæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°waråŒ…ã€‚</p>
<p>maven-webé¡¹ç›®è¦ä½¿ç”¨servletï¼Œå°±è¦å¯¼å…¥ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥ä¹‹åreimportä¸€ä¸‹pom.xmlã€‚</p>
<p>å‘ç°éƒ¨ç½²ä¹‹åï¼ŒåŸæœ¬çš„System.getPropertyè¾“å‡ºçš„é¡¹ç›®ç›®å½•å˜æˆäº†tomcatçš„binç›®å½•ã€‚</p>
<h5 id="ä»‹ç»ä¸€ä¸‹System-getProperty"><a href="#ä»‹ç»ä¸€ä¸‹System-getProperty" class="headerlink" title="ä»‹ç»ä¸€ä¸‹System.getProperty()"></a>ä»‹ç»ä¸€ä¸‹System.getProperty()</h5><p>Javaä¸­ç»™æˆ‘ä»¬æä¾›äº†System.getProperty()è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥è·å–åˆ°Java JVMä»¥åŠæ“ä½œç³»ç»Ÿçš„ä¸€äº›å‚æ•°ï¼Œå¯ä»¥ä¾›ç¨‹åºåˆ¤æ–­ç­‰ã€‚</p>
<p>System.getProperty()æ–¹æ³•ä¸­éœ€è¦ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‚æ•°ï¼Œè¡¨ç¤ºéœ€è¦è·å–é‚£ä¸ªç¯å¢ƒé…ç½®ï¼Œè·å¾—ç»“æœä¸ºStringã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.getProperty(<span class="string">&quot;java.vm.version&quot;</span>);<span class="comment">//javaè™šæ‹Ÿæœºç‰ˆæœ¬  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;java.vendor.url&quot;</span>); <span class="comment">//javaå®˜æ–¹ç½‘ç«™  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;java.vm.nam&quot;</span>); <span class="comment">//javaè™šæ‹Ÿæœºåç§°  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;user.country&quot;</span>); <span class="comment">//å›½å®¶æˆ–åœ°åŒº  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;user.dir&quot;</span>); <span class="comment">//å·¥ç¨‹çš„è·¯å¾„  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;java.runtime.version&quot;</span>);<span class="comment">//javaè¿è¡Œç¯å¢ƒç‰ˆæœ¬  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;os.arch&quot;</span>); <span class="comment">//æ“ä½œç³»ç»Ÿä½æ•°ï¼ˆ32æˆ–64ï¼‰  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;os.name&quot;</span>); <span class="comment">//æ“ä½œç³»ç»Ÿåç§°  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;sun.jnu.encoding&quot;</span>); <span class="comment">//ç¼–ç æ ¼å¼  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;os.version&quot;</span>); <span class="comment">//æ“çºµç³»ç»Ÿç‰ˆæœ¬  </span></span><br><span class="line">System.getProperty(<span class="string">&quot;java.version&quot;</span>); <span class="comment">//javaç‰ˆæœ¬ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°è·¯å¾„ä¸‹çš„log4j.propertiesé…ç½®æ–‡ä»¶å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String filePath = req.getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">System.out.println(filePath); <span class="comment">// æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">// æŒ‡å®špropertiesæ–‡ä»¶ä½ç½®</span></span><br><span class="line">PropertyConfigurator.configure(filePath + <span class="string">&quot;WEB-INF/classes/conf/log4j.properties&quot;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="é¡¹ç›®ä¸­targetç›®å½•æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#é¡¹ç›®ä¸­targetç›®å½•æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="é¡¹ç›®ä¸­targetç›®å½•æ˜¯ä»€ä¹ˆï¼Ÿ"></a>é¡¹ç›®ä¸­targetç›®å½•æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>targetæ˜¯ç”¨æ¥å­˜æ”¾é¡¹ç›®æ„å»ºåçš„æ–‡ä»¶å’Œç›®å½•ã€jaråŒ…ã€waråŒ…ã€ç¼–è¯‘çš„classæ–‡ä»¶ï¼Œæ‰€æœ‰éƒ½æ˜¯Mavenæ„å»ºæ—¶ç”Ÿæˆçš„ã€‚</p>
<p><a href="https://blog.51cto.com/zhangzhixi/5102490?b=totalstatistic">https://blog.51cto.com/zhangzhixi/5102490?b=totalstatistic</a></p>
<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼štomcatè¿è¡Œä¹‹åï¼Œæ—¥å¿—ä¸ä¿å­˜åœ¨æ–‡ä»¶ä¸­äº†ï¼Œéš¾é“æ˜¯è¯†åˆ«ä¸äº†projectç›®å½•äº†å—ï¼Ÿ</p>
<p>ç¡®å®ï¼Œlogè¾“å‡ºåˆ°äº†tomcatä¸­çš„binç›®å½•ä¸­ã€‚æ”¹æˆç»å¯¹ç›®å½•ã€‚</p>
<h5 id="æ‰“åŒ…éƒ¨ç½²"><a href="#æ‰“åŒ…éƒ¨ç½²" class="headerlink" title="æ‰“åŒ…éƒ¨ç½²"></a>æ‰“åŒ…éƒ¨ç½²</h5><p>ç”±äºwebé¡¹ç›®æ²¡æœ‰å†™javaæ–‡ä»¶æ²¡æœ‰mainå‡½æ•°, æ˜¯æ— æ³•ç›´æ¥è¿è¡Œçš„, å› æ­¤webé¡¹ç›®éœ€è¦æ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œæ‰èƒ½è¿è¡Œ</p>
<p>è¿™é‡Œå°±å°†webé¡¹ç›®æ”¾åœ¨Tomcatè¿™ä¸ªwebæœåŠ¡å™¨é‡Œè¿è¡Œ</p>
<p>åŸºäºmavençš„webé¡¹ç›® â€œ æ‰“åŒ…ã€éƒ¨ç½²ã€ä½¿ç”¨â€ æ“ä½œæ­¥éª¤å¦‚ä¸‹:</p>
<ol>
<li>æ‰“åŒ…ï¼šåœ¨IDEAä¸»ç•Œé¢çš„å³è¾¹æ‰¾åˆ°maven, åœ¨mavençš„ç”Ÿå‘½å‘¨æœŸLifecycleä¸‹é¢æ‰¾åˆ°package, åŒå‡»packageå‘½ä»¤è¿›è¡Œè¿è¡Œã€‚åº•ä¸‹çš„æ§åˆ¶å°æç¤º BUILD SUCCESS ä»£è¡¨æ„å»ºæˆåŠŸã€‚æ„å»ºæˆåŠŸä¹‹å, æ ¹æ®æ§åˆ¶å°é‡Œæç¤ºçš„waråŒ…è·¯å¾„æ‰¾åˆ°warçš„ä½ç½®ã€‚</li>
<li>éƒ¨ç½²ï¼šâ€éƒ¨ç½²â€œ æ“ä½œ      (éƒ¨ç½²å°±æ˜¯æ‰‹åŠ¨æŠŠæ‰“åŒ…å¥½çš„waråŒ…å¤åˆ¶åˆ°tomcat-webappsä¸‹è¾¹)</li>
</ol>
<blockquote>
<p>ä¸æ‰“jaråŒ…è¿è¡Œï¼Œtomcatæ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰åº”ç”¨çš„ç—•è¿¹å•Šã€‚ã€todoã€‘åº”è¯¥æ˜¯æŠŠwaråŒ…æ”¾åœ¨tomcatç›®å½•ä¸‹å’Œideaä¸­å¯åŠ¨ä¸å¤ªä¸€æ ·ã€‚ideaä¸­éœ€è¦ideaä¸€ç›´åœ¨è¿è¡ŒçŠ¶æ€ã€‚ä½†æ˜¯ideaä¸­è¿è¡Œçš„ä¹Ÿæ˜¯tomcatï¼Ÿ</p>
</blockquote>
<ol start="3">
<li><p>è¿è¡Œï¼Œé¦–å…ˆå°†TomcatåŠ è½½åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡</p>
<blockquote>
<p>é…ç½®tomcatç¯å¢ƒå˜é‡ï¼š</p>
<p>å¦‚æœä¸é…ç½®çš„è¯ï¼Œéœ€è¦æ¯æ¬¡éƒ½è¿›åˆ°tomcatçš„binç›®å½•ä¸‹è¿è¡Œstartup.shå¯åŠ¨ã€‚</p>
<p>åœ¨ ï½/.zprofile æ–‡ä»¶ä¸­å¢åŠ   export PATH=${PATH}:tomcat binç›®å½•</p>
<p>â€‹    è¯­æ³•ï¼š</p>
<p>â€‹    ${}ä¸ºå ä½ç¬¦ï¼Œ${PATH} å’Œ $PATHç­‰æ•ˆ</p>
<p>â€‹    =å‰åä¸èƒ½æœ‰ç©ºæ ¼</p>
<p>â€‹    : ä¸ºåˆ†éš”ç¬¦ï¼ˆç­‰åŒäºwindowsç¯å¢ƒå˜é‡ä¸­çš„ ; ï¼‰</p>
<p>â€‹    PATH=$PATH:xxx å¯ä»¥ç†è§£ä¸º â€œ PATH+=xxx â€œï¼ˆå½“ç„¶ä¸èƒ½è¿™ä¹ˆå†™ï¼‰<br>â€‹    PATH=xxx:$PATHè¿™ç§å†™æ³•äº¦å¯ï¼Œåªæ˜¯å‰åé¡ºåºçš„é—®é¢˜ï¼›</p>
<p>export -p æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡</p>
<ol>
<li>sudo su ç”³è¯·æƒé™</li>
<li>startup.sh            //å¯åŠ¨tomacat</li>
<li>shutdown.sh          //å…³é—­tomcat</li>
</ol>
</blockquote>
</li>
</ol>
<p>å¯åŠ¨ä¹‹åï¼Œå¥½å¥‡æ—¶ä¸€ç›´åœ¨è¿è¡Œè¿˜æ˜¯æ€ä¹ˆçš„ï¼Œåº”è¯¥æ˜¯ä¸€ç›´åœ¨è¿è¡Œã€‚èµ·ä¸ªå®šæ—¶çº¿ç¨‹è¯•ä¸€ä¸‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ScheduledExecutorService service = Executors.newSingleThreadScheduledExecutor();</span><br><span class="line">service.scheduleAtFixedRate(()-&gt;&#123;</span><br><span class="line">    log.info(<span class="string">&quot;Thread &#123;&#125;, now &#123;&#125;.&quot;</span>, Thread.currentThread(), <span class="keyword">new</span> Date());</span><br><span class="line">&#125;, <span class="number">1</span>, <span class="number">3</span>, TimeUnit.SECONDS);</span><br></pre></td></tr></table></figure>

<p>æŠ¥ä¸èƒ½ç”¨lambadaè¡¨è¾¾å¼çš„é”™è¯¯ï¼Œæˆ‘æ”¹äº†levelç­‰çº§ä¸º8ï¼Œæ‰“åŒ…æ—¶è¿˜æŠ¥é”™ã€‚ä¸ç”¨è¯•äº†ï¼Œåªè¦tomcatå¼€çš„ï¼Œåº”ç”¨å°±ä¸€ç›´æ˜¯èµ·çš„ã€‚æ¯è®¿é—®ä¸€æ¬¡ï¼Œlogæ–‡ä»¶ä¸­å°±è®°å½•æ—¥å¿—ã€‚</p>
<h3 id="mavenæ‰“åŒ…"><a href="#mavenæ‰“åŒ…" class="headerlink" title="mavenæ‰“åŒ…"></a>mavenæ‰“åŒ…</h3><h4 id="1-ideaä¸­ä½¿ç”¨mavenæ’ä»¶æ‰“åŒ…"><a href="#1-ideaä¸­ä½¿ç”¨mavenæ’ä»¶æ‰“åŒ…" class="headerlink" title="1.ideaä¸­ä½¿ç”¨mavenæ’ä»¶æ‰“åŒ…"></a>1.ideaä¸­ä½¿ç”¨mavenæ’ä»¶æ‰“åŒ…</h4><p>ä¸Šé¢å°±æ˜¯ç”¨æ­¤æ“ä½œï¼Œåº”è¯¥å…ˆcleanï¼Œå†compileç¼–è¯‘ï¼Œå†æ‰“åŒ…çš„ã€‚</p>
<p>mvn clean æ¸…ç©ºclassæ–‡ä»¶<br>mvn compile ç¼–è¯‘<br>mvn package æ‰“åŒ…<br>mvn test æµ‹è¯•<br>mvn install æ‰“åŒ…å¹¶ä¸Šä¼ åˆ°æœ¬åœ°ä»“åº“<br>mvn deploy ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“<br>mvn -Dmaven.test.skip=true è·³è¿‡æµ‹è¯•</p>
<p>pomä¸­çš„æ’ä»¶åº”è¯¥æ˜¯è‡ªåŠ¨ç»™æˆ‘åŠ çš„ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>log-maven-package<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span><span class="comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-clean-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-resources-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.22.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>  è¿™ç§æ‰“åŒ…æ–¹å¼ä¼šæœ‰å¤–éƒ¨ä¾èµ–åŒ…ã€‚</p>
<h4 id="2-ç›´æ¥ä½¿ç”¨mvn-packageæ‰“åŒ…"><a href="#2-ç›´æ¥ä½¿ç”¨mvn-packageæ‰“åŒ…" class="headerlink" title="2.ç›´æ¥ä½¿ç”¨mvn packageæ‰“åŒ…"></a>2.ç›´æ¥ä½¿ç”¨mvn packageæ‰“åŒ…</h4><p>ä¸åœ¨ POM ä¸­é…ç½®ä»»ä½•æ’ä»¶ï¼Œç›´æ¥ä½¿ç”¨ <code>mvn package</code> è¿›è¡Œé¡¹ç›®æ‰“åŒ…ï¼Œè¿™å¯¹äºæ²¡æœ‰ä½¿ç”¨å¤–éƒ¨ä¾èµ–åŒ…çš„é¡¹ç›®æ˜¯å¯è¡Œçš„ã€‚ä½†å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹ JAR åŒ…ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸º <code>mvn package</code> æ‰“çš„ JAR åŒ…ä¸­æ˜¯ä¸å«æœ‰ä¾èµ–åŒ…ï¼Œä¼šå¯¼è‡´ä½œä¸šè¿è¡Œæ—¶å‡ºç°æ‰¾ä¸åˆ°ç¬¬ä¸‰æ–¹ä¾èµ–çš„å¼‚å¸¸ã€‚è¿™ç§æ–¹å¼å±€é™æ€§æ¯”è¾ƒå¤§ï¼Œå› ä¸ºå®é™…çš„é¡¹ç›®å¾€å¾€å¾ˆå¤æ‚ï¼Œé€šå¸¸éƒ½ä¼šä¾èµ–ç¬¬ä¸‰æ–¹ JARã€‚</p>
<p>å¤§æ•°æ®æ¡†æ¶çš„å¼€å‘è€…ä¹Ÿè€ƒè™‘åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥åŸºæœ¬æ‰€æœ‰çš„æ¡†æ¶éƒ½æ”¯æŒåœ¨æäº¤ä½œä¸šæ—¶ä½¿ç”¨ <code>--jars</code> æŒ‡å®šç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼çš„é—®é¢˜åŒæ ·å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯ä½ å¿…é¡»ä¿æŒç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒä¸­çš„æ‰€æœ‰ JAR åŒ…ç‰ˆæœ¬ä¸€è‡´ï¼Œè¿™æ˜¯æœ‰ç»´æŠ¤æˆæœ¬çš„ã€‚</p>
<p>åŸºäºä¸Šé¢è¿™äº›åŸå› ï¼Œæœ€ç®€å•çš„æ˜¯é‡‡ç”¨ <code>All In One</code> çš„æ‰“åŒ…æ–¹å¼ï¼ŒæŠŠæ‰€æœ‰ä¾èµ–éƒ½æ‰“åŒ…åˆ°ä¸€ä¸ª JAR æ–‡ä»¶ä¸­ï¼Œæ­¤æ—¶å¯¹ç¯å¢ƒçš„ä¾èµ–æ€§æœ€å°ã€‚è¦å®ç°è¿™ä¸ªç›®çš„ï¼Œå¯ä»¥ä½¿ç”¨ Maven æä¾›çš„ <code>maven-assembly-plugin</code> æˆ– <code>maven-shade-plugin</code> æ’ä»¶ã€‚</p>
<blockquote>
<p>æˆ‘ç›´æ¥ä½¿ç”¨mvn package æŠ¥é”™è¯¯</p>
<p>[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?</p>
<p>æœªè§£å†³</p>
</blockquote>
<h4 id="3-maven-assembly-pluginæ’ä»¶"><a href="#3-maven-assembly-pluginæ’ä»¶" class="headerlink" title="3.maven-assembly-pluginæ’ä»¶"></a>3.maven-assembly-pluginæ’ä»¶</h4><p><code>Assembly</code> æ’ä»¶æ”¯æŒå°†é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–ã€æ–‡ä»¶éƒ½æ‰“åŒ…åˆ°åŒä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­ã€‚ç›®å‰æ”¯æŒè¾“å‡ºä»¥ä¸‹æ–‡ä»¶ç±»å‹ï¼š</p>
<ul>
<li>zip</li>
<li>tar</li>
<li>tar.gz (or tgz)</li>
<li>tar.bz2 (or tbz2)</li>
<li>tar.snappy</li>
<li>tar.xz (or txz)</li>
<li>jar</li>
<li>dir</li>
<li>war</li>
</ul>
<p><strong>åŸºæœ¬ä½¿ç”¨</strong></p>
<p>åœ¨ POM.xml ä¸­å¼•å…¥æ’ä»¶ï¼ŒæŒ‡å®šæ‰“åŒ…æ ¼å¼çš„é…ç½®æ–‡ä»¶ <code>assembly.xml</code>(åç§°å¯è‡ªå®šä¹‰)ï¼Œå¹¶æŒ‡å®šä½œä¸šçš„ä¸»å…¥å£ç±»ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡¹ç›®æœ€ç»ˆæ‰“åŒ…æˆçš„åå­— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>community<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">descriptors</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptor</span>&gt;</span>src/main/resources/assembly.xml<span class="tag">&lt;/<span class="name">descriptor</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">descriptors</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- æŒ‡å®šå¯åŠ¨ç±» --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.liuxuan.Log4jDemo<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>assembly.xml æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">assembly</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/ASSEMBLY/2.0.0 </span></span></span><br><span class="line"><span class="string"><span class="tag">                              http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æŒ‡æ˜æ‰“åŒ…æ–¹å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">formats</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">format</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">format</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">formats</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">includeBaseDirectory</span>&gt;</span>false<span class="tag">&lt;/<span class="name">includeBaseDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencySets</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencySet</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>/<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">useProjectArtifact</span>&gt;</span>true<span class="tag">&lt;/<span class="name">useProjectArtifact</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">unpack</span>&gt;</span>true<span class="tag">&lt;/<span class="name">unpack</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--è¿™é‡Œä»¥æ’é™¤ storm ç¯å¢ƒä¸­å·²ç»æä¾›çš„ storm-core ä¸ºä¾‹ï¼Œæ¼”ç¤ºæ’é™¤ Jar åŒ…--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>org.apache.storm:storm-core<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencySet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencySets</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">assembly</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é‡‡ç”¨ maven-assembly-plugin è¿›è¡Œæ‰“åŒ…æ—¶å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>mvn assembly:assembly </p>
<blockquote>
<p>é—®é¢˜ï¼šä½¿ç”¨å‘½ä»¤mvn compile æ—¶ï¼Œä¼šæŠ¥é”™ no compilerï¼Œä½†æ˜¯ideaä¸­ç‚¹å‡»æ—¶æ²¡é—®é¢˜ã€‚æ‰€ä»¥å¾—å…ˆç‚¹compileç¼–è¯‘ï¼Œå†æ‰§è¡Œassemblyå‘½ä»¤ã€‚</p>
</blockquote>
<p>æ‰“åŒ…åä¼šåŒæ—¶ç”Ÿæˆä¸¤ä¸ª JAR åŒ…ï¼Œå…¶ä¸­åç¼€ä¸º <code>jar-with-dependencies</code> æ˜¯å«æœ‰ç¬¬ä¸‰æ–¹ä¾èµ–çš„ JAR åŒ…ï¼Œåç¼€æ˜¯ç”± <code>assembly.xml</code> ä¸­ <code>&lt;id&gt;</code> æ ‡ç­¾æŒ‡å®šçš„ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹ã€‚</p>
<h4 id="4-maven-shade-pluginæ’ä»¶"><a href="#4-maven-shade-pluginæ’ä»¶" class="headerlink" title="4.maven-shade-pluginæ’ä»¶"></a>4.maven-shade-pluginæ’ä»¶</h4><p><code>maven-shade-plugin</code> æ¯” <code>maven-assembly-plugin</code> åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ï¼Œæ¯”å¦‚ä½ çš„å·¥ç¨‹ä¾èµ–å¾ˆå¤šçš„ JAR åŒ…ï¼Œè€Œè¢«ä¾èµ–çš„ JAR åˆä¼šä¾èµ–å…¶ä»–çš„ JAR åŒ…ï¼Œè¿™æ ·,å½“å·¥ç¨‹ä¸­ä¾èµ–åˆ°ä¸åŒçš„ç‰ˆæœ¬çš„ JAR æ—¶ï¼Œå¹¶ä¸” JAR ä¸­å…·æœ‰ç›¸åŒåç§°çš„èµ„æºæ–‡ä»¶æ—¶ï¼Œshade æ’ä»¶ä¼šå°è¯•å°†æ‰€æœ‰èµ„æºæ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·æ—¶ï¼Œè€Œä¸æ˜¯å’Œ assembly ä¸€æ ·æ‰§è¡Œè¦†ç›–æ“ä½œã€‚</p>
<p><strong>é€šå¸¸ä½¿ç”¨ <code>maven-shade-plugin</code> å°±èƒ½å¤Ÿå®Œæˆå¤§å¤šæ•°çš„æ‰“åŒ…éœ€æ±‚ï¼Œå…¶é…ç½®ç®€å•ä¸”é€‚ç”¨æ€§æœ€å¹¿ï¼Œå› æ­¤å»ºè®®ä¼˜å…ˆä½¿ç”¨æ­¤æ–¹å¼ã€‚</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡¹ç›®æœ€ç»ˆæ‰“åŒ…æˆçš„åå­— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>community<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">transformers</span>&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- æŒ‡å®šå¯åŠ¨ç±» --&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">transformer</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.ronz.community.CommunityApplication<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">                            </span><br><span class="line">                            <span class="comment">&lt;!-- ä¸‹é¢çš„é…ç½®ä»…é’ˆå¯¹å­˜åœ¨åŒåèµ„æºæ–‡ä»¶çš„æƒ…å†µï¼Œå¦‚æ²¡æœ‰åˆ™ä¸ç”¨é…ç½®--&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- æœ‰äº›é¡¹ç›®åŒ…å¯èƒ½ä¼šåŒ…å«åŒæ–‡ä»¶åçš„èµ„æºæ–‡ä»¶ï¼ˆä¾‹å¦‚å±æ€§æ–‡ä»¶ï¼‰--&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- ä¸ºé¿å…è¦†ç›–ï¼Œå¯ä»¥å°†å®ƒä»¬çš„å†…å®¹åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ --&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">transformer</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">resource</span>&gt;</span>META-INF/spring.handlers<span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">transformer</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">resource</span>&gt;</span>META-INF/spring.schemas<span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">transformers</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ maven-shade-plugin è¿›è¡Œæ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…å‘½ä»¤å’Œæ™®é€šæ‰“åŒ…ä¸€æ ·</p>
<p>mvn package</p>
<h4 id="5-ä½¿ç”¨-maven-jar-plugin-å’Œ-maven-dependency-plugin-æ’ä»¶"><a href="#5-ä½¿ç”¨-maven-jar-plugin-å’Œ-maven-dependency-plugin-æ’ä»¶" class="headerlink" title="5.ä½¿ç”¨ maven-jar-plugin å’Œ maven-dependency-plugin æ’ä»¶"></a>5.ä½¿ç”¨ maven-jar-plugin å’Œ maven-dependency-plugin æ’ä»¶</h4><p>æ­¤ç§æ‰“åŒ…æ–¹å¼æœ‰ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„ç¼ºç‚¹ï¼šæ‰“åŒ…åä¼šåœ¨ <code>target</code> ç›®å½•ä¸‹ç”Ÿæˆ <code>lib</code> ç›®å½•ï¼ˆå­˜æ”¾ä¾èµ– Jarï¼‰å’Œé¡¹ç›® Jarã€‚ä¹Ÿå°±æ˜¯è¯´ç”±äºä¾èµ–éƒ½å­˜åœ¨äº <code>lib</code> ç›®å½•ä¸­ï¼Œæ‰€ä»¥è¦æƒ³è¿è¡Œ Jar åŒ…ï¼Œå¿…é¡»å°† Jar åŒ…å’Œ <code>lib</code>ç›®å½•æ”¾åœ¨åŒä¸€ä¸ªè·¯å¾„ä¸‹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡¹ç›®æœ€ç»ˆæ‰“åŒ…æˆçš„åå­— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>community<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- ä¼šåœ¨ MANIFEST.MF ä¸­ç”Ÿæˆ Class-Path é¡¹ --&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- ç³»ç»Ÿä¼šæ ¹æ® Class-Path é¡¹é…ç½®çš„è·¯å¾„åŠ è½½ä¾èµ– --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">addClasspath</span>&gt;</span>true<span class="tag">&lt;/<span class="name">addClasspath</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- æŒ‡å®šä¾èµ–åŒ…æ‰€åœ¨ç›®å½•ï¼Œç›¸å¯¹äºé¡¹ç›®æœ€ç»ˆ Jar åŒ…çš„è·¯å¾„ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">classpathPrefix</span>&gt;</span>lib/<span class="tag">&lt;/<span class="name">classpathPrefix</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!-- æŒ‡å®š MainClass --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.ronz.community.CommunityApplication<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®ä¾èµ–åŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-dependency-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç›¸å½“äºæ‰§è¡Œ mvn å‘½ä»¤ï¼Œå°†ä¾èµ–æ‰“åŒ…åˆ°æŒ‡å®šç›®å½• --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>copy-dependencies<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>copy-dependencies<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--å°†ä¾èµ–æ‰“åŒ…è‡³ target ä¸‹çš„ lib ç›®å½•--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/lib<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ€æƒ³ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</p>
<p>é¦–å…ˆè¯´ maven-jar-plugin æ’ä»¶ï¼Œå®ƒçš„æ€æƒ³å°±æ˜¯ï¼šæŒ‡å®šå¯åŠ¨ç±»ã€æŒ‡å®šä¾èµ–åŒ…ç›¸å¯¹äºé¡¹ç›®æœ€ç»ˆ Jar åŒ…æ‰€åœ¨çš„è·¯å¾„ã€ç»™ MANIFEST.MF æ–‡ä»¶æ·»åŠ  Class-Path å±æ€§ï¼ˆè¿è¡Œé¡¹ç›® Jar åŒ…æ—¶ä¼šæ ¹æ® Class-Path å±æ€§æ¥æ‰¾åˆ°å…·ä½“ä¾èµ– Jar åŒ…çš„è·¯å¾„ï¼‰ã€‚</p>
<p>æ¥ç€æ˜¯ maven-dependency-plugin æ’ä»¶ï¼Œå®ƒçš„ä¸»è¦æ€æƒ³å°±æ˜¯ï¼šæŒ‡å®šæ‰€æœ‰ä¾èµ–è¢«æ‰“åŒ…ä¸º Jar åŒ…åçš„å­˜æ”¾è·¯å¾„ã€‚</p>
<p>pom.xml æ–‡ä»¶é…ç½®å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥è¿è¡Œæ‰“åŒ…å‘½ä»¤äº†ï¼š<br><em># è·³è¿‡æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œ package å‘½ä»¤</em> mvn package -Dmaven.test.skip=true</p>
<p>è¿™ç§æ–¹å¼æ‰“åŒ…å‡ºæ¥çš„ Jar åŒ…ï¼Œåœ¨ä»£ç å±‚é¢åªåŒ…å«äº†é¡¹ç›®æœ¬èº«çš„ä»£ç ã€‚è€Œé¡¹ç›®çš„ä¾èµ–éƒ½ä»¥ Jar åŒ…çš„å½¢å¼æ”¾åœ¨äº†é¡¹ç›® Jar åŒ…åŒçº§åˆ«ç›®å½•ä¸‹çš„ <code>lib</code> ç›®å½•ä¸­ï¼Œè¿™äº›ä¾èµ– Jar åŒ…çš„è·¯å¾„åœ¨ <code>MANIFEST.MF</code> æ–‡ä»¶ä¸­éƒ½ä»¥è·¯å¾„çš„æ–¹å¼æŒ‡æ˜äº†ã€‚</p>
<h4 id="æ‰“åŒ…æ€»ç»“"><a href="#æ‰“åŒ…æ€»ç»“" class="headerlink" title="æ‰“åŒ…æ€»ç»“"></a>æ‰“åŒ…æ€»ç»“</h4><p>å·¥ä½œä¸­ç”¨åˆ°çš„å‘½ä»¤åªæ˜¯ï¼šmvn package -Dmaven.test.skip=trueï¼Œä½†æ˜¯çœ‹é¡¹ç›®ä¸­è²Œä¼¼ä½¿ç”¨çš„æ˜¯assemblyã€‚</p>
<p>æ¨èä½¿ç”¨maven-shade-pluginæ’ä»¶ï¼Œå¯ä»¥é¿å…å‰é¢çš„èµ„æºæ–‡ä»¶è¢«åé¢çš„è¦†ç›–æ‰ã€‚</p>
<p>åªæ˜¯mvn compile è¿™ä¸ªé—®é¢˜è¿˜æ²¡è§£å†³ï¼Œä¸ºä»€ä¹ˆideaä¸­ç‚¹å‡»compileèƒ½å¤Ÿç¼–è¯‘ï¼Œç»ˆç«¯æ‰§è¡Œå‘½ä»¤å´ä¸è¡Œã€‚</p>
<p>æ‘˜è‡ªï¼š</p>
<p>slf4jã€log4jã€logbackï¼š<a href="https://www.cnblogs.com/javalinux/p/15683735.html">https://www.cnblogs.com/javalinux/p/15683735.html</a></p>
<p>logå‘å±•å²ï¼š<a href="https://juejin.cn/post/7033021644142542878">https://juejin.cn/post/7033021644142542878</a></p>
<p>ideaä¸­åˆ›å»ºmaven webé¡¹ç›®ï¼š<a href="https://www.cnblogs.com/weiqingfeng/p/9494914.html">https://www.cnblogs.com/weiqingfeng/p/9494914.html</a></p>
<p>macåŒºåˆ†.bash_profile å’Œ/etc/profileï¼š<a href="https://blog.csdn.net/weixin_42214743/article/details/116133257">https://blog.csdn.net/weixin_42214743/article/details/116133257</a></p>
<p>bashå’Œzshï¼š<a href="https://www.zhihu.com/question/20036548/answer/2345481001">https://www.zhihu.com/question/20036548/answer/2345481001</a></p>
<p>log4jé…ç½®æ–‡ä»¶ï¼š<a href="http://www.blogjava.net/zJun/archive/2006/06/28/55511.html">http://www.blogjava.net/zJun/archive/2006/06/28/55511.html</a></p>
<p>mavené¡¹ç›®æ‰“åŒ…éƒ¨ç½²åˆ°tomcatï¼š<a href="https://blog.csdn.net/asdx1020/article/details/104554811">https://blog.csdn.net/asdx1020/article/details/104554811</a>   &amp;&amp;   <a href="https://blog.csdn.net/Shangxingya/article/details/107295800">https://blog.csdn.net/Shangxingya/article/details/107295800</a></p>
<p>å¸¸ç”¨mavenæ‰“åŒ…æ–¹å¼ï¼š<a href="https://juejin.cn/post/6844904067194437639#heading-1">https://juejin.cn/post/6844904067194437639#heading-1</a>   &amp;&amp; <a href="https://blog.csdn.net/zhuxian1277/article/details/119880760">https://blog.csdn.net/zhuxian1277/article/details/119880760</a></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>maven</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>SSMäº†è§£ä¸€ä¸‹</title>
    <url>/2022/02/06/myblog/JAVA/SSMb%E7%AB%99%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98/</url>
    <content><![CDATA[<p>SSMæ¡†æ¶ï¼šSpring + SpringMVC + MyBatis</p>
<p>Springå’ŒSpringMVCæ˜¯å½“å‰ä¼ä¸šå¼€å‘å¿…ç”¨æ¡†æ¶ä¹‹ä¸€ï¼ŒMyBatisåˆ™æ˜¯ä¸æ•°æ®åº“äº¤äº’çš„æŒä¹…å±‚æ¡†æ¶ä¹‹ä¸€ï¼Œç”±äºæ˜“ç”¨æ€§å’Œè½»ä¾¿æ€§ï¼Œåˆ™è¢«å¤§å¤šäº’è”ç½‘å…¬å¸æ‰€é€‰ç”¨ã€‚SSMåŸºç¡€æ¡†æ¶çš„æŒæ¡æ˜¯å½“å‰ä¼ä¸šå¼€å‘æœ€åŸºæœ¬çš„è¦æ±‚ï¼Œä¹Ÿæ˜¯å…¶ä»–æŠ€æœ¯å­¦ä¹ å’Œè¿›é˜¶çš„å¿…è¦åŸºç¡€ã€‚</p>
<p>bç«™è§†é¢‘åœ°å€ï¼š<a href="https://www.bilibili.com/video/BV1WZ4y1P7Bp?p=42">https://www.bilibili.com/video/BV1WZ4y1P7Bp?p=42</a></p>
<h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><h3 id="SpringMVCç®€ä»‹"><a href="#SpringMVCç®€ä»‹" class="headerlink" title="SpringMVCç®€ä»‹"></a>SpringMVCç®€ä»‹</h3><p>MVCæ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>MVC æ¨¡å¼ä»£è¡¨ Model-View-Controllerï¼ˆæ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼‰ æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼ç”¨äºåº”ç”¨ç¨‹åºçš„åˆ†å±‚å¼€å‘ã€‚</p>
<ul>
<li><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong> - æ¨¡å‹ä»£è¡¨ä¸€ä¸ªå­˜å–æ•°æ®çš„å¯¹è±¡æˆ– JAVA POJOã€‚å®ƒä¹Ÿå¯ä»¥å¸¦æœ‰é€»è¾‘ï¼Œåœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°æ§åˆ¶å™¨ã€‚</li>
<li><strong>Viewï¼ˆè§†å›¾ï¼‰</strong> - è§†å›¾ä»£è¡¨æ¨¡å‹åŒ…å«çš„æ•°æ®çš„å¯è§†åŒ–ã€‚</li>
<li><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰</strong> - æ§åˆ¶å™¨ä½œç”¨äºæ¨¡å‹å’Œè§†å›¾ä¸Šã€‚å®ƒæ§åˆ¶æ•°æ®æµå‘æ¨¡å‹å¯¹è±¡ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°è§†å›¾ã€‚å®ƒä½¿è§†å›¾ä¸æ¨¡å‹åˆ†ç¦»å¼€ã€‚</li>
</ul>
<p>SpringMVCæ¦‚è¿°ï¼Ÿ</p>
<p>SpringMVCæ˜¯ä¸€ç§åŸºäºJavaå®ç°çš„MVCè®¾è®¡æ¨¡å‹çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶ï¼Œå±äºSpringFrameWorkçš„åç»­äº§å“ï¼Œå·²ç»èåˆåœ¨Spring Web Flowä¸­ã€‚</p>
<p>SpringMVCå·²ç»æˆä¸ºç›®å‰æœ€ä¸»æµçš„MVCæ¡†æ¶ä¹‹ä¸€ï¼Œå¹¶ä¸”éšç€Spring3.0çš„å‘å¸ƒï¼Œå…¨é¢è¶…è¶ŠStructs2ï¼Œæˆä¸ºæœ€ä¼˜ç§€çš„MVCæ¡†æ¶ã€‚å®ƒé€šè¿‡ä¸€å¥—æ³¨è§£ï¼Œè®©ä¸€ä¸ªç®€å•çš„Javaç±»æˆä¸ºå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ï¼Œè€Œæ— é¡»å®ç°ä»»ä½•æ¥å£ã€‚åŒæ—¶å®ƒè¿˜æ”¯æŒRESTfulç¼–ç¨‹é£æ ¼çš„è¯·æ±‚ã€‚webæ–‡ä»¶å¤¹å†…serveletï¼Ÿ</p>
<h3 id="MyBatisç®€ä»‹"><a href="#MyBatisç®€ä»‹" class="headerlink" title="MyBatisç®€ä»‹"></a>MyBatisç®€ä»‹</h3><p>æŒä¹…å±‚æ¡†æ¶ï¼Œæ–¹ä¾¿æ•°æ®åº“æ“ä½œçš„ã€‚</p>
<p>åŸå§‹æ¯”è¾ƒç¹ççš„jdbcæ“ä½œï¼šæ³¨å†Œé©±åŠ¨â€“è·å¾—è¿æ¥â€“è·å¾—statementâ€“æ‰§è¡ŒæŸ¥è¯¢â€“éå†ç»“æœé›†ï¼ˆå°è£…å®ä½“ï¼Œä¼ é€’ï¼‰â€“é‡Šæ”¾èµ„æºã€‚</p>
<p>ç¼ºç‚¹ï¼šä»£ç é‡å¤ï¼ˆæ¯”å¦‚è·å¾—è¿æ¥èµ„æºï¼‰ï¼Œèµ„æºé¢‘ç¹è¿æ¥å…³é—­ï¼Œæ¶ˆè€—èµ„æºï¼Œsqlè¯­å¥æ¯”è¾ƒæ­»ï¼Œå¾—è§£è€¦åˆï¼Œç”¨é…ç½®æ–‡ä»¶ã€‚</p>
<p>jdbcç¼ºç‚¹ï¼šï¼ˆ1ï¼‰æ•°æ®åº“åˆ›å»ºã€é‡Šæ”¾èµ„æºé€ æˆç³»ç»Ÿèµ„æºæµªè´¹ä»è€Œå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚ï¼ˆ2ï¼‰sqlè¯­å¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼Œé€ æˆä»£ç ä¸æ˜“ç»´æŠ¤ï¼Œå®é™…åº”ç”¨sqlå˜åŒ–çš„å¯èƒ½è¾ƒå¤§ï¼Œsqlå˜åŠ¨éœ€è¦æ”¹å˜javaä»£ç ï¼Œè€¦åˆæ€§é«˜ã€‚ï¼ˆ3ï¼‰æŸ¥è¯¢æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†ç»“æœé›†ä¸­çš„æ•°æ®æ‰‹åŠ¨å°è£…åˆ°å®ä½“ä¸­ï¼Œæ’å…¥æ“ä½œæ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å°†å®ä½“çš„æ•°æ®è®¾ç½®åˆ°sqlè¯­å¥çš„å ä½ç¬¦ä½ç½®ã€‚</p>
<p>åº”å¯¹ä¸Šè¿°é—®é¢˜ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆï¼šï¼ˆ1ï¼‰ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–è¿æ¥èµ„æºã€‚ï¼ˆ2ï¼‰å°†sqlè¯­å¥æŠ½åˆ°xmlé…ç½®æ–‡ä»¶ä¸­ã€‚ï¼ˆ3ï¼‰ä½¿ç”¨åå°„ã€å†…çœç­‰åº•å±‚æŠ€æœ¯ï¼Œè‡ªåŠ¨å°†å®ä½“ä¸è¡¨è¿›è¡Œå±æ€§ä¸å­—æ®µçš„è‡ªåŠ¨æ˜ å°„ã€‚</p>
<p>MyBatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„åŸºäºjavaçš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†jdbcï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨sqlè¯­å¥æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ï¼Œ</p>
<p>MyBatisé€šè¿‡xmlæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§statementé…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œstatementä¸­çš„sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ã€‚</p>
<p>MyBatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœé›†æ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ï¼Œé‡‡ç”¨ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜ï¼Œå¯¹jdbcè¿›è¡Œå°è£…ï¼Œå±è”½jdbc apiåº•å±‚è®¿é—®ç»†èŠ‚ï¼Œä¸ä¸jdbcæ‰“äº¤é“å°±å¯ä»¥å®Œæˆå¯¹æ•°æ®åº“çš„æŒä¹…åŒ–æ“ä½œã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
        <tag>MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>spring bootå…¥é—¨æ•™ç¨‹</title>
    <url>/2022/03/07/myblog/JAVA/springboot%20b%E7%AB%99/</url>
    <content><![CDATA[<h3 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h3><p>spring bootæ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œå¯ä»¥è¿…é€Ÿæ­å»ºä¸€å¥—åŸºäºspringæ¡†æ¶ä½“ç³»çš„åº”ç”¨ï¼Œæ˜¯spring cloudçš„åŸºç¡€ã€‚</p>
<p>springMVCè™½ç„¶ç®€åŒ–äº†é…ç½®ï¼Œå‡å°‘äº†å¾ˆå¤šç±»çš„æ•°é‡ï¼Œä¸€ä¸ªæ§åˆ¶å™¨å½“ä¸­å¤šä¸ªæ–¹æ³•å¯ä»¥å¯¹åº”ä¸åŒçš„ä¸šåŠ¡ï¼Œä½†æ˜¯SpringMVCçš„é…ç½®è¿˜æ˜¯æ¯”è¾ƒå¤šï¼Œæ­å»ºå·¥ç¨‹æœ‰å¾ˆå¤šé‡å¤æ­¥éª¤ï¼Œå¼€å‘é€Ÿåº¦ä¸å¤Ÿå¿«ã€‚</p>
<p>spring bootå¼€å¯äº†å„ç§è‡ªåŠ¨è£…é…ï¼Œä»è€Œç®€åŒ–ä»£ç çš„å¼€å‘ï¼Œä¸éœ€è¦ç¼–å†™å„ç§é…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦å¼•å…¥ç›¸å…³ä¾èµ–å°±å¯ä»¥è¿…é€Ÿæ­å»ºä¸€ä¸ªåº”ç”¨ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>ä¸éœ€è¦web.xml</p>
</li>
<li><p>ä¸éœ€è¦springmvc.xml</p>
</li>
<li><p>ä¸éœ€è¦tomcatï¼ŒSpring Bootå†…åµŒäº†tomcat</p>
</li>
<li><p>ä¸éœ€è¦é…ç½®jsonè§£æï¼ˆfastjsonï¼‰ï¼Œæ”¯æŒRESTæ¶æ„</p>
</li>
<li><p>ä¸ªæ€§åŒ–é…ç½®éå¸¸ç®€å•ï¼Œè‡³å°‘éœ€è¦ç«¯å£å•¥çš„</p>
</li>
</ul>
<p>å®ƒæ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œä¸åƒmybatisæ˜¯ä¸€ä¸ªormæ˜ å°„çš„åº”ç”¨ã€‚ç›¸å½“äºä¸€ä¸ªè„šæ‰‹æ¶ï¼Œä½¿å¾—å…¶ä»–å·¥ç§å¿«é€Ÿè¿›è¡Œå·¥ä½œï¼Œæ­å»ºä¸€ä¸ªæ•´ä½“çš„ç¯å¢ƒã€‚</p>
<h3 id="springbootæ¦‚å¿µ"><a href="#springbootæ¦‚å¿µ" class="headerlink" title="springbootæ¦‚å¿µ"></a>springbootæ¦‚å¿µ</h3><p>spring bootçš„è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ï¼Œè¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ï¼Œ</p>
<p>spring booté»˜è®¤é…ç½®äº†å¾ˆå¤šæ¡†æ¶çš„ä½¿ç”¨æ–¹å¼ï¼Œå°±åƒMavenæ•´åˆäº†æ‰€æœ‰çš„JaråŒ…ï¼Œspring bootæ•´åˆäº†æ‰€æœ‰çš„æ¡†æ¶ï¼Œé€šè¿‡å°‘é‡çš„ä»£ç å°±èƒ½åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ã€äº§å“çº§åˆ«çš„springåº”ç”¨ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œspring bootæ˜¯ä¸€ä¸ªé›†æˆäº†springå„ç§ç»„ä»¶çš„å¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œä½œä¸ºä¸€ä¸ªç”¨æˆ·å’Œspringä¹‹é—´çš„è¿æ¥è€…ã€‚</p>
<p>spring bootæ˜¯åŸºç¡€ï¼Œspring cloudæ˜¯åŸºäºspring bootçš„ï¼Œç”¨æ¥åšåˆ†å¸ƒå¼å¾®æœåŠ¡çš„ã€‚</p>
<h4 id="spring-bootç‰¹ç‚¹"><a href="#spring-bootç‰¹ç‚¹" class="headerlink" title="spring bootç‰¹ç‚¹"></a>spring bootç‰¹ç‚¹</h4><ul>
<li>ä½¿ç”¨springé¡¹ç›®å¼•å¯¼é¡µé¢å¯ä»¥åœ¨å‡ ç§’æ„å»ºä¸€ä¸ªé¡¹ç›®ã€‚</li>
<li>æ–¹ä¾¿å¯¹å¤–è¾“å‡ºå„ç§å½¢å¼çš„æœåŠ¡ï¼Œå¦‚REST APIã€WebSocketã€Webã€Streamingã€Tasks</li>
<li>éå¸¸ç®€æ´çš„å®‰å…¨ç­–ç•¥é›†æˆ</li>
<li>æ”¯æŒå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“</li>
<li>æ”¯æŒè¿è¡ŒæœŸå†…åµŒå®¹å™¨ï¼Œå¦‚tomcatã€jetty</li>
<li>è‡ªåŠ¨ç®¡ç†ä¾èµ–</li>
</ul>
<h4 id="spring-bootä¸å¾®æœåŠ¡"><a href="#spring-bootä¸å¾®æœåŠ¡" class="headerlink" title="spring bootä¸å¾®æœåŠ¡"></a>spring bootä¸å¾®æœåŠ¡</h4><ul>
<li>spring bootçš„ä¸€ç³»åˆ—ç‰¹æ€§æœ‰åŠ©äºå®ç°å¾®æœåŠ¡æ¶æ„çš„è½åœ°ï¼Œä»ç›®å‰ä¼—å¤šçš„æŠ€æœ¯æ ˆå¯¹æ¯”æ¥çœ‹å®ƒæ˜¯javaé¢†åŸŸå¾®æœåŠ¡æ¶æ„æœ€ä¼˜è½åœ°æŠ€æœ¯ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</li>
<li>spring cloudä¾èµ–äºspring bootã€‚</li>
<li>spring bootä¸“æ³¨äºå¿«é€Ÿå¼€å‘ä¸ªä½“å¾®æœåŠ¡ï¼Œspring cloudæ˜¯å…³æ³¨å…¨å±€çš„å¾®æœåŠ¡åè°ƒæ²»ç†æ¡†æ¶ã€‚spring bootæä¾›ç»„å»ºï¼Œspring cloudæ¥ç®¡ç†ç»„ä»¶ã€‚</li>
</ul>
<h3 id="åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹"><a href="#åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹" class="headerlink" title="åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹"></a>åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ç¨‹</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–"><a href="#ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–"></a>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥ç›¸å…³çš„ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç»§æ‰¿çˆ¶åŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- dependenciesä¸‹é¢å†å¼•ç›¸å…³çš„å­åŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- webå¯åŠ¨çš„jaråŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®ä½“ç±»ï¼ŒåŠ lombok</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:42</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository"><a href="#ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository"></a>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºStudentRepository</h4><p>ä¹‹å‰ï¼Œéœ€è¦é…ç½®æ–‡ä»¶å»æ‰«daoå®ç°ç±»çš„åŒ…ï¼Œä½†æ˜¯springbootç¯å¢ƒå¯åŠ¨ä¹‹åï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‰«æã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:45</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StudentDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveOrUpdate</span><span class="params">(Student stu)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.repository.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.repository.StudentDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 10:49</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentDaoImpl</span> <span class="keyword">implements</span> <span class="title">StudentDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨é™æ€mapä»£æ›¿æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Long, Student&gt; studentMap;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        studentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        studentMap.put(<span class="number">1L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;lili&quot;</span>, <span class="number">22</span>));</span><br><span class="line">        studentMap.put(<span class="number">2L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;mary&quot;</span>, <span class="number">12</span>));</span><br><span class="line">        studentMap.put(<span class="number">3L</span>, <span class="keyword">new</span> Student(<span class="number">1L</span>, <span class="string">&quot;jade&quot;</span>, <span class="number">24</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentMap.values();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentMap.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveOrUpdate</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">        studentMap.put(student.getId(), student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        studentMap.remove(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰"><a href="#ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰" class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰"></a>ç¬¬å››æ­¥ï¼šåˆ›å»ºcontrolå±‚ï¼ˆè·³è¿‡äº†serviceå±‚ï¼‰</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.entity.Student;</span><br><span class="line"><span class="keyword">import</span> com.liuxuan.demo.springboot.repository.StudentDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 11:00</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">// è‡ªåŠ¨æ³¨å…¥ï¼Œdaoå®ç°ç±»è¦åŠ @Repositoryæ³¨è§£</span></span><br><span class="line">    <span class="keyword">private</span> StudentDao studentDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Collection&lt;Student&gt; <span class="title">findAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Student <span class="title">findById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// postè¯·æ±‚ï¼Œå‰ç«¯è¿”å›çš„æ˜¯jsonæ ¼å¼çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œéœ€è¦æ˜ å°„æˆå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/sav&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(<span class="meta">@RequestBody</span> Student student)</span></span>&#123;</span><br><span class="line">        studentDao.saveOrUpdate(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç”¨putæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="meta">@RequestBody</span> Student student)</span></span>&#123;</span><br><span class="line">        studentDao.saveOrUpdate(student);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        studentDao.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"><a href="#ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»" class="headerlink" title="ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"></a>ç¬¬äº”æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»</h4><p>å¹³å¸¸çš„webå·¥ç¨‹éœ€è¦åœ¨tomcatéƒ¨ç½²ã€‚springbootæœ‰è‡ªå·±å†…ç½®çš„tomcatï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªå¯åŠ¨ç±»ï¼Œä½œä¸ºæ•´ä¸ªspringbootçš„å…¥å£.</p>
<p>application.javaéœ€è¦åœ¨å…¶ä»–ç»„ä»¶åŒ…çš„çˆ¶åŒ…ä¸‹ï¼Œè¦ä¸ç„¶æ‰«æä¸åˆ°ã€‚åå­—å«ä»€ä¹ˆæ— æ‰€è°“ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.demo.springboot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-12 11:17</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‚æ•°æ˜¯å¯åŠ¨ç±»çš„è¿è¡Œæ—¶ç±»ï¼Œè¿˜æœ‰mainæ–¹æ³•é‡Œçš„args</span></span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<p> Tomcat started on port(s): 8080 (http) with context path â€˜â€™</p>
<p>Started Application in 2.772 seconds (JVM running for 3.857)</p>
<p>è¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥ç›´æ¥è®¿é—®äº†ã€‚<a href="http://localhost:8080/student/findAll">http://localhost:8080/student/findAll</a></p>
<p>å› ä¸ºæ˜¯åŸºäºrestçš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨postmanå·¥å…·æ¥æµ‹è¯•ã€‚ï¼ˆpostè¯·æ±‚å‘jsonï¼Œé€‰bodyâ€“rawâ€“jsonï¼‰</p>
<h4 id="ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚"><a href="#ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚" class="headerlink" title="ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚"></a>ç¬¬å…­æ­¥ï¼šå¦‚æœæƒ³è¦æ›´æ”¹ç«¯å£å·ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ã€‚</h4><p>resourceé‡Œæ–°å»ºä¸€ä¸ªapplication.ymlæ–‡ä»¶ã€‚æ–‡ä»¶åä¸èƒ½å˜ã€‚</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„9090å‰æœ‰ä¸ªç©ºæ ¼ã€‚</p>
<h3 id="springbootæ•´åˆJSP"><a href="#springbootæ•´åˆJSP" class="headerlink" title="springbootæ•´åˆJSP"></a>springbootæ•´åˆJSP</h3><p>æ–°å»ºmavenå·¥ç¨‹ï¼Œé€‰æ‹©archetypeï¼Œé€‰æ‹©webappï¼ˆwebæ¨¡ç‰ˆï¼Œç”¨æ¥è®¿é—®JSP.ï¼‰</p>
<p>ä¸Šä¸€ä¸ªå·¥ç¨‹åªå±•ç¤ºäº†æ•°æ®ï¼Œä½†æ˜¯æ²¡æœ‰è§†å›¾viewã€‚</p>
<p>JSPï¼ˆå…¨ç§°JavaServer Pagesï¼‰æ˜¯ç”±Sun Microsystemså…¬å¸ä¸»å¯¼åˆ›å»ºçš„ä¸€ç§åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ ‡å‡†ã€‚JSPéƒ¨ç½²äºç½‘ç»œæœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥å“åº”å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚å†…å®¹åŠ¨æ€åœ°ç”ŸæˆHTMLã€XMLæˆ–å…¶ä»–æ ¼å¼æ–‡æ¡£çš„Webç½‘é¡µï¼Œç„¶åè¿”å›ç»™è¯·æ±‚è€…ã€‚JSPæŠ€æœ¯ä»¥Javaè¯­è¨€ä½œä¸ºè„šæœ¬è¯­è¨€ï¼Œä¸ºç”¨æˆ·çš„HTTPè¯·æ±‚æä¾›æœåŠ¡ï¼Œå¹¶èƒ½ä¸æœåŠ¡å™¨ä¸Šçš„å…¶å®ƒJavaç¨‹åºå…±åŒå¤„ç†å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<p>å‰åç«¯åˆ†ç¦»ï¼Œjspæ›´åƒå‰ç«¯çš„ç»„ä»¶ï¼Œç•¥ã€‚</p>
<p>javaç¨‹åºçš„å¯¹è±¡ï¼Œåºåˆ—åŒ–ä¸ºjsonå­—ç¬¦ä¸²ï¼Œä¼ é€’ç»™htmlè¿›è¡Œæ˜¾ç¤ºã€‚jspå°±æ˜¯æä¾›è§†å›¾çš„ã€‚controllerç”¨ModeAndViewã€‚</p>
<h3 id="spring-boot-html"><a href="#spring-boot-html" class="headerlink" title="spring boot html"></a>spring boot html</h3><p>spring mvcé‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼å±•ç¤ºjavaå¯¹è±¡ï¼Œéœ€è¦é€šè¿‡jsonå­—ç¬¦ä¸²è¿›è¡Œè¯»å–ï¼Œä½†æ˜¯spring bootå¯ä»¥åœ¨htmlä¸­è¯»å–javaå¯¹è±¡ã€‚</p>
<p>spring bootå¯ä»¥ç»“åˆthymeleafæ¨¡ç‰ˆæ¥æ•´åˆhtmlï¼Œä½¿ç”¨åŸç”Ÿçš„htmlä½œä¸ºè§†å›¾ã€‚</p>
<p>Thymeleafæ¨¡ç‰ˆæ˜¯é¢å‘Webå’Œç‹¬ç«‹ç¯å¢ƒçš„javaæ¨¡ç‰ˆå¼•æ“ï¼Œèƒ½å¤Ÿå¤„ç†htmlã€xmlã€javascriptã€cssç­‰ã€‚</p>
<p>å‰ç«¯ï¼Œç•¥ã€‚</p>
<h3 id="spring-bootæ•°æ®æ ¡éªŒ"><a href="#spring-bootæ•°æ®æ ¡éªŒ" class="headerlink" title="spring bootæ•°æ®æ ¡éªŒ"></a>spring bootæ•°æ®æ ¡éªŒ</h3><p>ç”¨æ¥ç¡®ä¿å®¢æˆ·ç«¯è¾“å…¥çš„æ•°æ®æ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ç”¨åŒ…è£…ç±»ç±»å‹ï¼Ÿå› ä¸ºå‰å°æœ‰å¯èƒ½æ²¡ç©¿å€¼ï¼Œå°±ä¼šæ˜¯nullå€¼ï¼Œéœ€è¦åŒ…è£…ç±»ç±»å‹æ¥æ¥æ”¶ã€‚</p>
<p>notnullæ˜¯å‹æ ¹æ²¡ç©¿å€¼ï¼Œnotemptyæ˜¯ä¼ çš„ç©ºã€‚</p>
<p>è¿™äº›æ ¡éªŒå¯ä»¥äº¤ç»™å‰ç«¯ï¼Œä½†æ˜¯åç«¯æœ‰çš„åŸå› æ˜¯é˜²æ­¢æ”»å‡»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 16,message = &quot;å¹´é¾„å¿…é¡»å¤§äº16å²&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/validator&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">validatorUser</span><span class="params">(<span class="meta">@Valid</span> User user,BindingResult bindingResult)</span></span>&#123;</span><br><span class="line">  System.out.println(user);</span><br><span class="line">  <span class="keyword">if</span>(bindingResult.hasErrors())&#123;</span><br><span class="line">    List&lt;ObjectError&gt; list = bindingResult.getAllErrors();</span><br><span class="line">    <span class="keyword">for</span>(ObjectError objectError:list)&#123;</span><br><span class="line">      System.out.println(objectError.getCode()+<span class="string">&quot;-&quot;</span>+objectError.getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨@Validè¡¨ç¤ºè‡ªåŠ¨å»æ ¡éªŒï¼Œå°†é”™è¯¯ä¼ ç»™BindingResultã€‚getCodeæ˜¯æ³¨è§£åç§°ã€‚</p>
<h3 id="spring-bootæ•´åˆjdbc"><a href="#spring-bootæ•´åˆjdbc" class="headerlink" title="spring bootæ•´åˆjdbc"></a>spring bootæ•´åˆjdbc</h3><ul>
<li>pom.xmlï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>application.yml</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">  <span class="attr">datasource:</span> <span class="string">//è¿æ¥æ•°æ®åº“ç›¸å…³</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span> </span><br></pre></td></tr></table></figure>

<ul>
<li>User</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 60,message = &quot;æˆç»©å¿…é¡»å¤§äº60åˆ†&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>UserRepository</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>UserRepositoryImplï¼ŒjdbcTemplateä¸¤ç§æ–¹æ³•ï¼šqueryã€updateã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.repository.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.repository.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.query(<span class="string">&quot;select * from user&quot;</span>,<span class="keyword">new</span> BeanPropertyRowMapper&lt;&gt;(User.class));</span><br><span class="line">    &#125;       <span class="comment">// è§£æå®ä½“ç±»ï¼Œæ‹¬å·å†…ä¼ å…¥è¦è§£ææˆä¸ºçš„å®ä½“ç±»</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.queryForObject(<span class="string">&quot;select * from user where id = ?&quot;</span>,<span class="keyword">new</span> Object[]&#123;id&#125;,<span class="keyword">new</span> BeanPropertyRowMapper&lt;&gt;(User.class));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;insert into user(name,score) values(?,?)&quot;</span>,user.getName(),user.getScore());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;update user set name = ?,score = ? where id = ?&quot;</span>,user.getName(),user.getScore(),user.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        jdbcTemplate.update(<span class="string">&quot;delete from user where id = ?&quot;</span>,id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Handler</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.repository.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span>&#123;</span><br><span class="line">        userRepository.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/deleteById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="spring-bootæ•´åˆmybatis"><a href="#spring-bootæ•´åˆmybatis" class="headerlink" title="spring bootæ•´åˆmybatis"></a>spring bootæ•´åˆmybatis</h3><p>mybatisæ˜¯åŠè‡ªåŠ¨åŒ–çš„ï¼Œæ„æ€æ˜¯å¾—è‡ªå·±å†™sqlè¯­å¥ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦mapper.xml</p>
<h4 id="ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹"><a href="#ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹"></a>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºmavenå·¥ç¨‹</h4><p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç»§æ‰¿çˆ¶åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- dependenciesä¸‹é¢å†å¼•ç›¸å…³çš„å­åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- webå¯åŠ¨çš„jaråŒ…ï¼Œä¸ç”¨å†™ç‰ˆæœ¬ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mybatisè·Ÿspringbootæ•´åˆçš„ï¼Œmybatisè‡ªå·±å‡ºçš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--mysqlçš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- lombok --&gt;</span></span><br><span class="line">			 <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨"><a href="#ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨"></a>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®è¡¨</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student&#123;</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">11</span>),</span><br><span class="line">	score <span class="keyword">double</span>,</span><br><span class="line">	birthday <span class="type">date</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»"><a href="#ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»"></a>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå®ä½“ç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotEmpty;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;idä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@NotEmpty(message = &quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span></span><br><span class="line">    <span class="meta">@Length(min = 2,message = &quot;å§“åé•¿åº¦ä¸èƒ½å°äº2ä½&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(value = 60,message = &quot;æˆç»©å¿…é¡»å¤§äº60åˆ†&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£"><a href="#ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£" class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£"></a>ç¬¬å››æ­¥ï¼šåˆ›å»ºrepositoryæ¥å£</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">(<span class="keyword">int</span> index,<span class="keyword">int</span> limit)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteById</span><span class="params">(<span class="keyword">long</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper-xml"><a href="#ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper-xml" class="headerlink" title="ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper.xml"></a>ç¬¬äº”æ­¥ï¼šåˆ›å»ºæ¥å£å¯¹åº”çš„mapper.xml</h4><p>æ”¾åœ¨resourceæ–‡ä»¶å¤¹ä¸‹çš„mappingæ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line">        <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.southwind.mapper.UserRepository&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user limit #&#123;param1&#125;,#&#123;param2&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;count&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select count(id) from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        insert into user(name,score) values(#&#123;name&#125;,#&#123;score&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        update user set name = #&#123;name&#125;,score = #&#123;score&#125; where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span>   //å¦‚æœæ˜¯åŒ…è£…ç±»ç±»å‹ï¼Œâ€œjava.lang.Longâ€</span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚"><a href="#ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚" class="headerlink" title="ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚"></a>ç¬¬å…­æ­¥ï¼šåˆ›å»ºcontrollerå±‚</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.southwind.controller;</span><br><span class="line"><span class="keyword">import</span> com.southwind.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.southwind.mapper.UserRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span>   <span class="comment">//è§†é¢‘ä¸­æ˜¯ @RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> limit = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findAll/&#123;page&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">findAll</span><span class="params">(<span class="meta">@PathVariable(&quot;page&quot;)</span> <span class="keyword">int</span> page)</span></span>&#123;</span><br><span class="line">        ModelAndView modelAndView = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        <span class="keyword">int</span> index = (page-<span class="number">1</span>)*limit;</span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;list&quot;</span>,userRepository.findAll(index,limit));</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;page&quot;</span>,page);</span><br><span class="line">        <span class="comment">//è®¡ç®—æ€»é¡µæ•°</span></span><br><span class="line">        <span class="keyword">int</span> count = userRepository.count();</span><br><span class="line">        <span class="keyword">int</span> pages = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(count%limit == <span class="number">0</span>)&#123;</span><br><span class="line">            pages = count/limit;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            pages = count/limit+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;pages&quot;</span>,pages);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/deleteById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/findById&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">findById</span><span class="params">(<span class="meta">@RequestParam(&quot;id&quot;)</span> <span class="keyword">long</span> id)</span></span>&#123;</span><br><span class="line">        ModelAndView modelAndView = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;user&quot;</span>,userRepository.findById(id));</span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userRepository.update(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">save</span><span class="params">(User user)</span></span>&#123;</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/mapper/findAll/1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/redirect/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">redirect</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>@RequestBodyæ˜¯æŠŠè¯·æ±‚é‡Œçš„jsonè½¬æ¢æˆjavaå¯¹è±¡</p>
<p>@RequestBodyæ˜¯æŠŠjavaå¯¹è±¡è½¬æˆjson</p>
<p>@PathVariableç›´æ¥ä»å¯¹è±¡ä¸­ä¼ æ•°æ®çš„</p>
<p>@RequestParamä¹Ÿæ˜¯ä»å¯¹è±¡ä¸­å–æ•°æ®ï¼Ÿ</p>
</blockquote>
<h4 id="ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml"><a href="#ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml" class="headerlink" title="ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml"></a>ç¬¬ä¸ƒæ­¥ï¼šé…ç½®yml</h4><p>resourceæ–‡ä»¶å¤¹ä¸‹application.yml</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9090</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:/mapping/*.xml</span>   <span class="string">//æ³¨å…¥mapper</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.southwind.entity</span>    <span class="string">//è‡ªåŠ¨å°†åŒ…åæå‡ºæ¥ï¼Œæ‰€ä»¥mapperé‡Œä¸ç”¨å†™åŒ…åäº†ã€‚</span></span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"><a href="#ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»" class="headerlink" title="ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»"></a>ç¬¬å…«æ­¥ï¼šåˆ›å»ºå¯åŠ¨ç±»</h4><p>åœ¨controllerã€entityçš„å¤–éƒ¨æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.liuxuan.demo.springboot;</span><br><span class="line"></span><br><span class="line">import org.springframework.boot.SpringApplication;</span><br><span class="line">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @author: liuxuan</span><br><span class="line"> * @date: 2022-03-12 11:17</span><br><span class="line"> **/</span><br><span class="line">@SpringBootApplication</span><br><span class="line">@MapperScan(com.liuxuan.repository)  //å› ä¸ºmapperæ¥å£æ˜¯mybatisçš„ï¼Œæ‰€ä»¥åŠ è¿™ä¸ªæ³¨è§£ç”¨æ¥æ‰«æï¼ŒæŠŠå®ƒçš„å®ä¾‹åŒ–å¯¹è±¡åŠ åˆ°iocå®¹å™¨ä¸­ã€‚</span><br><span class="line">public class Application &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // å‚æ•°æ˜¯å¯åŠ¨ç±»çš„è¿è¡Œæ—¶ç±»ï¼Œè¿˜æœ‰mainæ–¹æ³•é‡Œçš„args</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¹æ­¥ï¼šHTML"><a href="#ç¬¬ä¹æ­¥ï¼šHTML" class="headerlink" title="ç¬¬ä¹æ­¥ï¼šHTML"></a>ç¬¬ä¹æ­¥ï¼šHTML</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/mapper/save&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·æˆç»©ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/mapper/update&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·IDï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.id&#125;&quot;</span> <span class="attr">readonly</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        ç”¨æˆ·æˆç»©ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;score&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;user.score&#125;&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/jquery-3.3.1.min.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#first&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/1&quot;</span>;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#previous&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                page = page-<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+page;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#next&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pages = $(<span class="string">&quot;#pages&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == pages)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                page = <span class="built_in">parseInt</span>(page);</span></span><br><span class="line"><span class="javascript">                page = page+<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+page;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">&quot;#last&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> page = $(<span class="string">&quot;#page&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pages = $(<span class="string">&quot;#pages&quot;</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(page == pages)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location.href=<span class="string">&quot;/mapper/findAll/&quot;</span>+pages;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æˆç»©<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;user:$&#123;list&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.id&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.score&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/mapper/deleteById/&#123;id&#125;(id=$&#123;user.id&#125;)&#125;&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/mapper/findById(id=$&#123;user.id&#125;)&#125;&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;first&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;previous&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>ä¸Šä¸€é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;page&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;page&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>/<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;pages&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;pages&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;next&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>ä¸‹ä¸€é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;last&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>å°¾é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/mapper/redirect/save&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="spring-bootæ•´åˆspring-data-jpa"><a href="#spring-bootæ•´åˆspring-data-jpa" class="headerlink" title="spring bootæ•´åˆspring data jpa"></a>spring bootæ•´åˆspring data jpa</h3><p>JPAæ˜¯ä¸€å¥—æŒä¹…å±‚è§„èŒƒï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—ormæ¥å£ï¼Œéœ€è¦å®ç°æ‰èƒ½ä½¿ç”¨ã€‚</p>
<p>Hibernateæ¡†æ¶å°±æ˜¯ä¸€ä¸ªjpaå®ç°ã€‚</p>
<p>spring data jpaä¸æ˜¯å¯¹jpaè§„èŒƒçš„å…·ä½“å®ç°ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œåº•å±‚é€šè¿‡Hibernateå®ç°ã€‚</p>
<h3 id="spring-bootæ•´åˆspring-data-mongoDB"><a href="#spring-bootæ•´åˆspring-data-mongoDB" class="headerlink" title="spring bootæ•´åˆspring data mongoDB"></a>spring bootæ•´åˆspring data mongoDB</h3><h3 id="spring-bootæ•´åˆspring-data-redis"><a href="#spring-bootæ•´åˆspring-data-redis" class="headerlink" title="spring bootæ•´åˆspring data redis"></a>spring bootæ•´åˆspring data redis</h3><h3 id="spring-bootæ•´åˆspring-security"><a href="#spring-bootæ•´åˆspring-security" class="headerlink" title="spring bootæ•´åˆspring security"></a>spring bootæ•´åˆspring security</h3><p>æ¥æºï¼š<a href="https://www.bilibili.com/video/BV1v4411G72q?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1v4411G72q?spm_id_from=333.999.0.0</a></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹é¢å‘å¯¹è±¡</title>
    <url>/2021/11/08/myblog/JAVA/%E3%80%8AJava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B/</url>
    <content><![CDATA[<h2 id="Javaå¼€å‘å…¥é—¨"><a href="#Javaå¼€å‘å…¥é—¨" class="headerlink" title="Javaå¼€å‘å…¥é—¨"></a>Javaå¼€å‘å…¥é—¨</h2><p>Javaæ˜¯ç”±Sunå…¬å¸äº1995å¹´å¼€å‘çš„å¯ç¼–å†™è·¨å¹³å°åº”ç”¨è½¯ä»¶ã€å®Œå…¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€ã€‚2009å¹´è¢«Oracleå…¬å¸æ”¶è´­ã€‚</p>
<h3 id="Javaä¸‰ä¸ªæŠ€æœ¯å¹³å°"><a href="#Javaä¸‰ä¸ªæŠ€æœ¯å¹³å°" class="headerlink" title="Javaä¸‰ä¸ªæŠ€æœ¯å¹³å°"></a>Javaä¸‰ä¸ªæŠ€æœ¯å¹³å°</h3><p>é’ˆå¯¹ä¸åŒçš„å¼€å‘å¸‚åœºï¼ŒSunå…¬å¸å°†Javaåˆ’åˆ†ä¸ºä¸‰ä¸ªæŠ€æœ¯å¹³å°ã€‚</p>
<p>ï¼ˆ1ï¼‰Java SEï¼šï¼ˆstandard editionï¼‰Javaå¹³å°æ ‡å‡†ç‰ˆï¼Œä¸ºå¼€å‘æ™®é€šæ¡Œé¢å’Œå•†åŠ¡åº”ç”¨ç¨‹åºæä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸‰ä¸ªå¹³å°ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼ŒJava EEå’ŒJava MEéƒ½æ˜¯ä»Java SEçš„åŸºç¡€ä¸Šå‘å±•è€Œæ¥ï¼ŒJava SEåŒ…æ‹¬Javaæœ€æ ¸å¿ƒçš„ç±»åº“ï¼Œå¦‚é›†åˆã€IOã€æ•°æ®åº“è¿æ¥åŠç½‘ç»œç¼–ç¨‹ã€‚</p>
<p>ï¼ˆ2ï¼‰Java EEï¼šï¼ˆenterprise editionï¼‰å¹³å°ä¼ä¸šç‰ˆï¼Œä¸ºå¼€å‘ä¼ä¸šçº§åº”ç”¨ç¨‹åºæä¾›çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬Servletã€JSPã€JavaBeanã€EJBã€Web Serviceç­‰ã€‚ç”¨æ¥åšwebå¼€å‘çš„javaæ¡†æ¶ã€‚</p>
<p>ï¼ˆ3ï¼‰Java MEï¼šï¼ˆmicro editionï¼‰å¹³å°å¾®å‹ç‰ˆï¼Œä¸ºå¼€å‘ç”µå­æ¶ˆè´¹äº§å“å’ŒåµŒå…¥å¼è®¾å¤‡æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºå¾®å‹æ•°å­—ç”µå­è®¾å¤‡ä¸Šè½¯ä»¶ç¨‹åºçš„å¼€å‘ï¼Œä¾‹å¦‚å®¶ç”¨ç”µå™¨å¢åŠ æ™ºèƒ½åŒ–æ§åˆ¶å’Œè”ç½‘åŠŸèƒ½ï¼Œæœªæ‰‹æœºå¢åŠ æ¸¸æˆå’Œé€šè®¯å½•ç®¡ç†åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œè¿˜æä¾›HTTPç­‰åè®®ï¼Œä¸ºç§»åŠ¨ç”µè¯æä¾›Client/Serveræ–¹å¼è®¿é—®Internetï¼Œæä¾›æ— çº¿äº¤æµã€‚</p>
<p>ä¸ç®¡å“ªä¸ªç‰ˆæœ¬ï¼Œéƒ½æ˜¯javaè¯­è¨€å®ç°çš„ä¸€ä¸ªæ¡†æ¶ã€‚ä¹‹æ‰€ä»¥è¦åˆ†ç‰ˆæœ¬ï¼Œæ˜¯å› ä¸º3ä¸ªç‰ˆæœ¬æ˜¯é’ˆå¯¹ä¸åŒé—®é¢˜ï¼Œè®¾è®¡çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>J2SEæ˜¯æ ‡å‡†ç‰ˆæœ¬ï¼ŒJ2MEæ˜¯æ‰‹æœºæ–¹å‘çš„ï¼ŒJ2EEæ˜¯ç½‘ç«™å¼€å‘æ–¹å‘çš„ã€‚</p>
<h3 id="è¯­è¨€ç‰¹ç‚¹"><a href="#è¯­è¨€ç‰¹ç‚¹" class="headerlink" title="è¯­è¨€ç‰¹ç‚¹"></a>è¯­è¨€ç‰¹ç‚¹</h3><ul>
<li>ç®€å•æ˜“ç”¨ï¼šä¸¢å¼ƒäº†c++ä¸­çš„ï¼šæ“ä½œç¬¦é‡è½½ã€å¤šç»§æ‰¿ã€è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€ä¸ä½¿ç”¨æŒ‡é’ˆè€Œæ˜¯å¼•ç”¨ï¼Œæä¾›è‡ªåŠ¨åˆ†é…å’Œå›æ”¶å†…å­˜ç©ºé—´ã€‚</li>
<li>å®‰å…¨å¯é ï¼šJavaé€šå¸¸è¢«ç”¨åœ¨ç½‘ç»œç¯å¢ƒä¸­ï¼Œä¸ºæ­¤ï¼ŒJava æä¾›äº†ä¸€ä¸ªå®‰å…¨æœºåˆ¶ä»¥é˜²æ¶æ„ä»£ç çš„æ”»å‡»ã€‚é™¤äº†Java è¯­è¨€å…·æœ‰çš„è®¸å¤šå®‰å…¨ç‰¹æ€§ä»¥å¤–ï¼ŒJava å¯¹é€šè¿‡ç½‘ç»œä¸‹è½½çš„ç±»å…·æœ‰ä¸€ä¸ªå®‰å…¨é˜²èŒƒæœºåˆ¶ï¼ˆç±» ClassLoaderï¼‰ï¼Œå¦‚åˆ†é…ä¸åŒçš„åå­—ç©ºé—´ä»¥é˜²æ›¿ä»£æœ¬åœ°çš„åŒåç±»ã€å­—èŠ‚ä»£ç æ£€æŸ¥ï¼Œå¹¶æä¾›å®‰å…¨ç®¡ç†æœºåˆ¶ï¼ˆç±» SecurityManagerï¼‰è®© Java åº”ç”¨è®¾ç½®å®‰å…¨å“¨å…µã€‚</li>
<li>è·¨å¹³å°ï¼šé€šè¿‡JVMè™šæ‹Ÿæœºåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šå…è®¸Javaç¨‹åºã€‚</li>
<li>é¢å‘å¯¹è±¡ï¼šå°†ä¸€åˆ‡äº‹ç‰©éƒ½çœ‹æˆå¯¹è±¡ï¼Œç±»ã€æ¥å£ã€ç»§æ‰¿ã€‚åªæ”¯æŒç±»ä¹‹é—´çš„å•ç»§æ‰¿ï¼Œæ”¯æŒæ¥å£ä¹‹é—´çš„å¤šç»§æ‰¿ï¼Œæ”¯æŒç±»ä¸æ¥å£ä¹‹é—´çš„å®ç°æœºåˆ¶ï¼ˆimplementsï¼‰ã€‚javaå…¨é¢æ”¯æŒåŠ¨æ€ç»‘å®šï¼Œc++åªå¯¹è™šå‡½æ•°ä½¿ç”¨åŠ¨æ€ç»‘å®šã€‚</li>
<li>æ”¯æŒå¤šçº¿ç¨‹ï¼šå†…ç½®äº†å¤šçº¿ç¨‹æ§åˆ¶ï¼Œå¯ä½¿ç”¨æˆ·ç¨‹åºå¹¶å‘æ‰§è¡Œã€‚</li>
</ul>
<h3 id="JDK-gt-JRE-gt-JVM"><a href="#JDK-gt-JRE-gt-JVM" class="headerlink" title="JDK&gt;JRE&gt;JVM"></a><strong>JDK&gt;JRE&gt;JVM</strong></h3><p><strong>JVM</strong> ï¼šï¼ˆJava Virtual Machineï¼‰ï¼Œ Java è™šæ‹Ÿæœºã€‚å®ƒåªè®¤è¯† xxx.class ç±»å‹çš„æ–‡ä»¶ï¼Œèƒ½å¤Ÿå°† class æ–‡ä»¶ä¸­çš„å­—èŠ‚ç æŒ‡ä»¤è¿›è¡Œè¯†åˆ«å¹¶è°ƒç”¨æ“ä½œç³»ç»Ÿå‘ä¸Šçš„ API å®ŒæˆåŠ¨ä½œã€‚jvm æ˜¯ Java èƒ½å¤Ÿè·¨å¹³å°çš„æ ¸å¿ƒã€‚</p>
<p><strong>JRE</strong> ï¼šï¼ˆJava Runtime Environmentï¼‰ï¼ŒJava è¿è¡Œæ—¶ç¯å¢ƒã€‚ä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œjvm çš„æ ‡å‡†å®ç°å’Œ Java çš„ä¸€äº›åŸºæœ¬ç±»åº“ã€‚å®ƒç›¸å¯¹äº jvm æ¥è¯´ï¼Œå¤šå‡ºæ¥çš„æ˜¯ä¸€éƒ¨åˆ†çš„ Java ç±»åº“ã€‚æ™®é€šç”¨æˆ·åªéœ€è¦JREè¿›è¡Œè¿è¡Œå·²ç»ç¼–è¯‘å¥½çš„javaç¨‹åºï¼Œè€Œä¸éœ€è¦å¼€å‘ã€‚</p>
<p><strong>JDK</strong> ï¼šï¼ˆJava Development Kitï¼‰ï¼ŒJava å¼€å‘å·¥å…·åŒ…ã€‚jdk æ˜¯æ•´ä¸ª Java å¼€å‘çš„æ ¸å¿ƒï¼Œå®ƒé›†æˆäº† jre å’Œä¸€äº›å¥½ç”¨çš„å°å·¥å…·ã€‚ä¾‹å¦‚ï¼šjavac.exeï¼ˆç¼–è¯‘ java æºç çš„ç¼–è¯‘å™¨ javacï¼‰ï¼Œjava.exeï¼ˆjavaè¿è¡Œå·¥å…·ï¼‰ï¼Œjar.exeï¼ˆjavaæ‰“åŒ…å·¥å…·ï¼‰ï¼Œjavaæ–‡æ¡£ç”Ÿæˆå·¥å…· ç­‰å¾ˆå¤š java ç¨‹åºè°ƒè¯•å’Œåˆ†æçš„å·¥å…·ã€‚</p>
<p>1996å¹´æ¨å‡ºjdk1.0ï¼Œéšååˆ°1.5æ”¹å˜å‘½åæ–¹å¼ï¼Œjdk1.5=jdk5.2017å¹´jdk9ï¼Œ2018å¹´jdk10.ä½†æ˜¯å¹¶ä¸ç¨³å®šã€‚ç›®å‰æœ€å¤šè¿ç”¨jdk8.</p>
<p>å®‰è£…jdkæ—¶ï¼Œå®‰è£…å¼€å‘å·¥å…·ï¼ˆåŒ…æ‹¬javac.exeã€java.exeç­‰ï¼Œä»¥åŠä¸€ä¸ªä¸“ç”¨JREç¯å¢ƒï¼‰ï¼Œæºä»£ç ï¼ˆJavaæ‰€æœ‰æ ¸å¿ƒç±»åº“çš„æºä»£ç ï¼‰ï¼Œå…¬å…±JREç›¸å½“äºå¤šè£…ä¸€ä¸ªJREåœ¨å…¶ä»–è·¯å¾„ï¼Œæ‰€ä»¥ä¸éœ€è¦ã€‚</p>
<p>JDK=JRE(JVM+JAVAåŸºæœ¬ç±»åº“)+å¼€å‘å·¥å…·</p>
<h3 id="JDKç›®å½•"><a href="#JDKç›®å½•" class="headerlink" title="JDKç›®å½•"></a>JDKç›®å½•</h3><ul>
<li>binç›®å½•ï¼šå­˜æ”¾ä¸€äº›å¯æ‰§è¡Œç¨‹åºï¼Œå¦‚javac.exeï¼ˆjavaç¼–è¯‘å™¨ï¼‰ã€java.exeï¼ˆjavaè¿è¡Œå·¥å…·ï¼‰ã€jar.exeï¼ˆæ‰“åŒ…å·¥å…·ï¼‰ã€javadoc.exeï¼ˆæ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼‰ç­‰ã€‚</li>
<li>dbç›®å½•ï¼šçº¯javaå®ç°çš„æ”¯æŒJDBC4.0æ‰€æœ‰è§„èŒƒçš„å°å‹æ•°æ®åº“ã€‚</li>
<li>includeç›®å½•ï¼šç”±äºJDKæ˜¯é€šè¿‡Cå’ŒC++å®ç°çš„ï¼Œå› æ­¤åœ¨å¯åŠ¨æ—¶å¼•å…¥ä¸€äº›Cè¯­è¨€çš„å¤´æ–‡ä»¶ï¼Œè¯¥ç›®å½•å°±æ˜¯å­˜æ”¾è¿™äº›å¤´æ–‡ä»¶çš„ã€‚</li>
<li>jreç›®å½•ï¼šJavaè¿è¡Œæ—¶ç¯å¢ƒçš„æ ¹ç›®å½•ï¼Œï¼ŒåŒ…æ‹¬javaè™šæ‹Ÿæœºã€è¿è¡Œæ—¶çš„ç±»åŒ…ã€javaåº”ç”¨å¯åŠ¨å™¨ä»¥åŠä¸€ä¸ªbinç›®å½•ï¼Œä¸åŒ…æ‹¬å¼€å‘ç¯å¢ƒä¸­çš„å¼€å‘å·¥å…·ã€‚</li>
<li>libç›®å½•ï¼šjavaç±»åº“æˆ–åº“æ–‡ä»¶ï¼Œæ˜¯å¼€å‘å·¥å…·ä½¿ç”¨çš„å½’æ¡£åŒ…æ–‡ä»¶ã€‚</li>
</ul>
<blockquote>
<p>javac.exeï¼šç¼–è¯‘å™¨å·¥å…·ï¼Œå°†javaæ–‡ä»¶ç¼–è¯‘æˆå¯æ‰§è¡Œçš„javaå­—èŠ‚ç æ–‡ä»¶.class</p>
<p>java.exeï¼šjavaè¿è¡Œå·¥å…·ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªjavaè™šæ‹Ÿæœºè¿›ç¨‹ï¼Œä¸“é—¨è´Ÿè´£è¿è¡Œå­—èŠ‚ç æ–‡ä»¶</p>
</blockquote>
<h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>ç›®çš„ï¼šåœ¨ä»»ä½•ä½ç½®éƒ½èƒ½å¤Ÿç¼–è¯‘å’Œè¿è¡Œjavaç¨‹åºã€‚</p>
<p>é…ç½®ï¼šPATHï¼šç”¨äºå‘ŠçŸ¥æ“ä½œç³»ç»Ÿå»æŒ‡å®šè·¯å¾„å¯»æ‰¾JDKï¼ŒCLASSPATHï¼šå‘ŠçŸ¥JDKå»æŒ‡å®šè·¯å¾„æŸ¥æ‰¾ç±»æ–‡ä»¶(.classæ–‡ä»¶)</p>
<p>å½“åœ¨å‘½ä»¤çª—å£ä¸­è¿è¡Œä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿé¦–å…ˆä¼šåœ¨å½“å‰ç›®å½•ä¸‹å¯»æ‰¾æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä¼šåœ¨PATHç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„è·¯å¾„ä¸‹å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<h3 id="javaè¿è¡Œæœºåˆ¶"><a href="#javaè¿è¡Œæœºåˆ¶" class="headerlink" title="javaè¿è¡Œæœºåˆ¶"></a>javaè¿è¡Œæœºåˆ¶</h3><p>.javaæ–‡ä»¶ï¼Œ</p>
<p>ä½¿ç”¨javac.exeå³javaç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ï¼Œ</p>
<p>.classæ–‡ä»¶ï¼Œ</p>
<p>ä½¿ç”¨javaå‘½ä»¤å¼€å¯Javaè™šæ‹Ÿæœºè¿è¡Œç¨‹åºï¼Œjavaè™šæ‹Ÿæœºé¦–å…ˆå°†ç¼–è¯‘å¥½çš„å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼ˆç±»åŠ è½½ï¼Œç”±ç±»åŠ è½½å™¨å®Œæˆï¼‰ï¼Œç„¶åè™šæ‹Ÿæœºé€šè¿‡javaè§£æå™¨å¯¹åŠ è½½åˆ°å†…å­˜ä¸­çš„javaç±»è¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œ</p>
<p>æœºå™¨ç æ–‡ä»¶ï¼Œ</p>
<p>è®¡ç®—æœºè¿è¡Œæœºå™¨ç æ–‡ä»¶ã€‚</p>
<blockquote>
<p>javaç¨‹åºæ˜¯ç”±javaè™šæ‹Ÿæœºè´Ÿè´£è§£é‡Šæ‰§è¡Œçš„ï¼Œè€Œä¸æ˜¯æ“ä½œç³»ç»Ÿï¼Œå› æ­¤è·¨å¹³å°ã€‚</p>
</blockquote>
<h3 id="ç±»åŒ…"><a href="#ç±»åŒ…" class="headerlink" title="ç±»åŒ…"></a>ç±»åŒ…</h3><p>importå¯¼åŒ…ï¼šimport åŒ…å.ç±»å  /  import åŒ…å.*</p>
<p>javaçš„æ ¸å¿ƒç±»ä¸»è¦æ”¾åœ¨javaåŒ…åŠå…¶å­åŒ…ä¸‹ã€‚javaæ‰©å±•çš„å¤§éƒ¨åˆ†ç±»åœ¨javaxåŒ…åŠå…¶å­åŒ…ä¸‹ã€‚</p>
<p>java.utilï¼šjavaçš„å¤§é‡å·¥å…·ç±»ã€é›†åˆç±»ï¼Œå¦‚Arraysã€Listã€Setç­‰</p>
<p>java.netï¼šjavaç½‘ç»œç¼–ç¨‹ç›¸å…³çš„ç±»å’Œæ¥å£</p>
<p>java.ioï¼šjavaè¾“å…¥è¾“å‡ºç›¸å…³ç±»å’Œæ¥å£</p>
<p>java.awtï¼šæ„å»ºå›¾å½¢ç•Œé¢GUIçš„ç±»å’Œæ¥å£</p>
<p>java.sqlï¼šæ•°æ®åº“ç¼–ç¨‹</p>
<h2 id="Javaç¼–ç¨‹åŸºç¡€"><a href="#Javaç¼–ç¨‹åŸºç¡€" class="headerlink" title="Javaç¼–ç¨‹åŸºç¡€"></a>Javaç¼–ç¨‹åŸºç¡€</h2><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><p>å•è¡Œ//  å¤šè¡Œ/*  */</p>
<p>æ–‡æ¡£æ³¨é‡Šï¼šå¯¹æŸä¸ªç±»æˆ–ç±»ä¸­çš„æ–¹æ³•è¿›è¡Œç³»ç»Ÿæ€§è§£é‡Šè¯´æ˜ã€‚å¼€å‘äººå‘˜å¯ä½¿ç”¨JDKæä¾›çš„javadocå·¥å…·å°†æ–‡æ¡£æ³¨é‡Šæå–å‡ºæ¥ç”Ÿæˆä¸€ä»½APIå¸®åŠ©æ–‡æ¡£ã€‚ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line">*  content</span><br><span class="line">*  content</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<h3 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a>å‘½åè§„èŒƒ</h3><p>åŒ…åï¼šä¸€å¾‹å°å†™<br>ç±»åã€æ¥å£åï¼šé¦–å­—æ¯å¤§å†™<br>å¸¸é‡åï¼šéƒ½å¤§å†™ä¸‹åˆ’çº¿è¿æ¥<br>å˜é‡åå’Œæ–¹æ³•åï¼šä¸€ä¸ªå•è¯é¦–å­—æ¯å°å†™ï¼Œåé¢é¦–å­—æ¯å¤§å†™</p>
<h3 id="å˜é‡çš„æ•°æ®ç±»å‹"><a href="#å˜é‡çš„æ•°æ®ç±»å‹" class="headerlink" title="å˜é‡çš„æ•°æ®ç±»å‹"></a>å˜é‡çš„æ•°æ®ç±»å‹</h3><p>å…«ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š<br>byteï¼šæ˜¯8ä½ã€æœ‰ç¬¦å·çš„ï¼Œä»¥äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºçš„æ•´æ•°ï¼›-128~127ï¼›<br>shortï¼š16ä½<br>intï¼š32ä½<br>longï¼š64ä½ï¼Œæ‰€èµ‹çš„å€¼è¶…è¿‡intçš„å–å€¼èŒƒå›´ï¼Œåˆ™éœ€è¦åŠ Lï¼Œlong num=10000000L;<br>floatï¼šå•ç²¾åº¦32ä½ï¼Œå°æ•°é»˜è®¤ä¸ºdoubleç±»å‹ï¼Œå› æ­¤å®šä¹‰floatå‹éœ€è¦åœ¨åé¢åŠ f/F<br>doubleï¼šåŒç²¾åº¦64ä½<br>booleanï¼šå¸ƒå°”<br>charï¼šå­—ç¬¦ï¼Œ2ä¸ªå­—èŠ‚</p>
<p>å¼•ç”¨æ•°æ®ç±»å‹ï¼š<br>å¼•ç”¨ç±»å‹æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å‘å¯¹è±¡çš„å˜é‡æ˜¯å¼•ç”¨å˜é‡ã€‚è¿™äº›å˜é‡åœ¨å£°æ˜æ—¶è¢«æŒ‡å®šä¸ºä¸€ä¸ªç‰¹å®šçš„ç±»å‹ã€‚å˜é‡ä¸€æ—¦å£°æ˜åï¼Œç±»å‹å°±ä¸èƒ½è¢«æ”¹å˜äº†ã€‚å¯¹è±¡ã€æ•°ç»„éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚<br>æ‰€æœ‰å¼•ç”¨ç±»å‹çš„é»˜è®¤å€¼éƒ½æ˜¯nullï¼Œè¡¨ç¤ºæ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡ã€‚</p>
<p><code>char c=&#39;a&#39;</code> å’Œ <code>char c=97</code>ä¸€æ ·ã€‚å› ä¸ºå¯ä»¥å°†charå˜é‡èµ‹å€¼ä¸º0-65535èŒƒå›´å†…çš„æ•´æ•°ï¼Œè®¡ç®—æœºå°†æ•´æ•°è‡ªåŠ¨è½¬åŒ–ä¸ºå¯¹åº”çš„å­—ç¬¦ã€‚</p>
<h3 id="å˜é‡çš„ç±»å‹è½¬æ¢"><a href="#å˜é‡çš„ç±»å‹è½¬æ¢" class="headerlink" title="å˜é‡çš„ç±»å‹è½¬æ¢"></a>å˜é‡çš„ç±»å‹è½¬æ¢</h3><p>ï¼ˆ1ï¼‰è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰ï¼šå°†ä¸€ä¸ªç±»å‹å–å€¼èŒƒå›´å°çš„æ•°å€¼ç›´æ¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå–å€¼èŒƒå›´å¤§çš„æ•°æ®ç±»å‹å˜é‡ã€‚å¤§å£¶è£…å°å£¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">byte b=3;</span><br><span class="line">int x=b;</span><br><span class="line">double y=x;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆæ˜¾å¼ç±»å‹è½¬æ¢ï¼‰ï¼šç›®æ ‡ç±»å‹å–å€¼èŒƒå›´å°äºæºç±»å‹ã€‚å°å£¶è£…å¤§å£¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">byte a;</span><br><span class="line">int b=298;</span><br><span class="line">a=(byte)b;   //ç»“æœaä¼šå˜æˆ42</span><br></pre></td></tr></table></figure>

<p>å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸­å¯èƒ½ä¸¢å¤±ç²¾åº¦ï¼Œä¾‹å¦‚intå ç”¨4ä¸ªå­—èŠ‚ï¼Œè€Œbyteå ç”¨1ä¸ªå­—èŠ‚ï¼Œ298å˜äºŒè¿›åˆ¶ååªç•™ä¸‹æœ€ä½çš„å…«ä½ã€‚</p>
<p>ï¼ˆ3ï¼‰è¡¨è¾¾å¼ç±»å‹è‡ªåŠ¨æå‡ï¼šbyteã€shortã€charç±»å‹çš„å˜é‡åœ¨è¿ç®—æœŸé—´ç±»å‹ä¼šè‡ªåŠ¨æç¤ºä¸ºintç±»å‹ï¼Œç„¶åè¿›è¡Œè¿ç®—ï¼Œå› æ­¤åœ¨æœ€åè·å¾—ç»“æœæ—¶éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
<p>ï¼ˆ4ï¼‰åœ¨ä½¿ç”¨+=ã€-=ã€*=ç­‰è¿ç®—ç¬¦æ—¶ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢ä¼šè‡ªåŠ¨å®Œæˆã€‚</p>
<h3 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h3><p>æ•´å½¢å¸¸é‡ï¼šäºŒè¿›åˆ¶0b/0Bå¼€å¤´ï¼Œå…«è¿›åˆ¶0å¼€å¤´ï¼Œåå…­è¿›åˆ¶0x/0Xå¼€å¤´ã€‚</p>
<p>nullï¼šè¡¨ç¤ºå¯¹è±¡çš„å¼•ç”¨ä¸ºç©ºã€‚</p>
<p>éœ€è¦ç”¨finalå…³é”®å­—å®šä¹‰å¸¸é‡ï¼š<br><code>final int a=0</code></p>
<p>è½¬ä¹‰ç¬¦<br>\r  å›è½¦ç¬¦<br>\n  æ¢è¡Œç¬¦<br>\t  åˆ¶è¡¨ç¬¦<br>\b  é€€æ ¼ç¬¦ï¼Œbackspace<br>\ååŠ &#39;æˆ–&quot;æˆ–\è¡¨ç¤ºæœ¬èº«</p>
<h3 id="switchè¯­å¥"><a href="#switchè¯­å¥" class="headerlink" title="switchè¯­å¥"></a>switchè¯­å¥</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression)&#123;</span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰ï¼Œå¯ä»¥ä¸breakè€Œç»§ç»­æ‰§è¡Œã€‚</span></span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰</span></span><br><span class="line">    <span class="comment">//ä½ å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„caseè¯­å¥</span></span><br><span class="line">    <span class="keyword">default</span> : <span class="comment">//å¯é€‰ï¼Œæœ€åæ‰çœ‹</span></span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>å®šä¹‰çš„ä¸‰ç§æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] nums=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span>[] nums=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] nums=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">å‰–æï¼š<span class="keyword">int</span>[] nums;  numså˜é‡çš„ç±»å‹æ˜¯<span class="keyword">int</span>[]ã€‚</span><br><span class="line">numsä¼šå ç”¨ä¸€å—å†…å­˜å•å…ƒï¼Œnums=<span class="keyword">new</span> <span class="keyword">int</span>[]; è¡¨ç¤ºåˆ›å»ºæ•°ç»„ï¼Œå¹¶å°†æ•°ç»„çš„å†…å­˜åœ°å€èµ‹å€¼ç»™å˜é‡numsã€‚åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å¯ä»¥ç”¨å˜é‡numsæ¥å¼•ç”¨æ•°ç»„.</span><br></pre></td></tr></table></figure>

<p>å¤šç»´æ•°ç»„ï¼š<code>String[][] str = new String[3][4];</code></p>
<p>java.util.Arrays ç±»èƒ½æ–¹ä¾¿åœ°æ“ä½œæ•°ç»„ï¼Œå®ƒæä¾›çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ã€‚</p>
<p>å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">3</span>&#125;;</span><br><span class="line">Arrays.sort(arr);</span><br><span class="line">Arrays.sort(arr,<span class="number">1</span>,<span class="number">4</span>);  å·¦é—­å³å¼€</span><br></pre></td></tr></table></figure>

<h2 id="é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰"><a href="#é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰" class="headerlink" title="é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰"></a>é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰</h2><p>é¢å‘å¯¹è±¡æ˜¯æŠŠæ„æˆé—®é¢˜çš„äº‹ç‰©æŒ‰ç…§ä¸€å®šè§„åˆ™åˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜ã€‚</p>
<p>å°è£…ï¼šå°†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºå°è£…èµ·æ¥ã€‚</p>
<p>ç»§æ‰¿ï¼šæè¿°ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä½¿å¾—æ— é¡»é‡æ–°ç¼–å†™åŸæœ‰ç±»çš„æƒ…å†µä¸‹å¯¹åŸæœ‰ç±»çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚</p>
<p>å¤šæ€ï¼šä¸€ä¸ªç±»ä¸­å®šä¹‰çš„å±æ€§å’ŒåŠŸèƒ½è¢«å…¶ä»–ç±»ç»§æ‰¿åï¼Œå½“æŠŠå­ç±»å¯¹è±¡ç›´æ¥èµ‹å€¼ç»™çˆ¶ç±»å¼•ç”¨å˜é‡æ—¶ï¼Œç›¸åŒå¼•ç”¨ç±»å‹çš„å˜é‡è°ƒç”¨åŒä¸€æ–¹æ³•æ‰€å‘ˆç°å‡ºçš„å¤šç§ä¸åŒè¡Œä¸ºç‰¹å¾ã€‚</p>
<p>ç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡ï¼Œå…±åŒç‰¹å¾ä½œä¸ºå±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼Œå…±åŒè¡Œä¸ºä½œä¸ºç±»çš„æ–¹æ³•ï¼ˆæˆå‘˜æ–¹æ³•ï¼‰ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚</p>
<p>åˆ›å»ºå¯¹è±¡ï¼š<code>Person p=new Person();</code></p>
<p>ç¬¬ä¸€æ­¥ï¼š<code>Person p;</code> å£°æ˜ä¸€ä¸ªPersonç±»å‹çš„å˜é‡p</p>
<p>ç¬¬äºŒæ­¥ï¼š<code>=new Person();</code>åˆ›å»ºPersonå¯¹è±¡ï¼Œå¹¶å°†Personå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€èµ‹å€¼ç»™å˜é‡pï¼Œè¿™æ ·å˜é‡pä¾¿æŒæœ‰äº†å¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<p>å†…å­˜ä¸­ï¼Œpå˜é‡å­˜å¯¹è±¡çš„åœ°å€ï¼Œåœ¨æ ˆå†…å­˜ï¼Œpæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘çœŸæ­£çš„å¯¹è±¡ã€‚å¯¹è±¡åˆ›å»ºåœ¨å †å†…å­˜ã€‚</p>
<blockquote>
<p>æ ˆå†…å­˜ï¼šå­˜æ”¾åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡ã€‚</p>
<p>å †å†…å­˜ï¼šå­˜æ”¾newåˆ›å»ºçš„å¯¹è±¡å’Œæ•°ç»„ã€‚</p>
</blockquote>
<p>åˆ›å»ºå¥½å¯¹è±¡åï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜ã€‚å¯¹è±¡å¼•ç”¨.å¯¹è±¡æˆå‘˜</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ›å»ºçš„å¯¹è±¡æœ¬èº«æ¥å¼•ç”¨å¯¹è±¡æˆå‘˜ï¼š<code>new Person().æˆå‘˜</code>ã€‚ç”±äºæ²¡æœ‰å¯¹è±¡å¼•ç”¨çš„å­˜åœ¨ï¼Œåœ¨å®Œæˆä¸€ä¸ªå¯¹è±¡æˆå‘˜çš„è®¿é—®åï¼Œè¯¥å¯¹è±¡å˜æˆåƒåœ¾å¯¹è±¡ã€‚<strong>å½“å¯¹è±¡æ²¡æœ‰è¢«ä»»ä½•å˜é‡æ‰€å¼•ç”¨å°±ä¼šå˜æˆåƒåœ¾ã€‚</strong></p>
<h3 id="è®¿é—®æ§åˆ¶ç¬¦"><a href="#è®¿é—®æ§åˆ¶ç¬¦" class="headerlink" title="è®¿é—®æ§åˆ¶ç¬¦"></a>è®¿é—®æ§åˆ¶ç¬¦</h3><p>è®¿é—®æ§åˆ¶çº§åˆ«ç”±å°åˆ°å¤§ï¼šprivateâ†’defaultâ†’protectedâ†’public</p>
<ul>
<li>privateï¼ˆå½“å‰ç±»è®¿é—®çº§åˆ«ï¼‰ï¼šè¯¥æˆå‘˜åªèƒ½è¢«è¯¥ç±»çš„å…¶ä»–æˆå‘˜è®¿é—®ï¼Œå…¶ä»–ç±»æ— æ³•ç›´æ¥è®¿é—®ã€‚</li>
<li>defaultï¼ˆåŒ…è®¿é—®çº§åˆ«ï¼‰ï¼šä¸ä½¿ç”¨ä»»ä½•è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦çš„è¯ï¼Œå°±æ˜¯defaultï¼Œè¡¨ç¤ºè¿™ä¸ªç±»æˆ–è€…ç±»çš„æˆå‘˜åªèƒ½è¢«æœ¬åŒ…ä¸­çš„å…¶ä»–ç±»è®¿é—®ã€‚</li>
<li>protectedï¼ˆå­ç±»è®¿é—®çº§åˆ«ï¼‰ï¼šæˆå‘˜èƒ½è¢«åŒä¸€åŒ…å†…çš„å…¶ä»–ç±»è®¿é—®ï¼Œä¹Ÿèƒ½è¢«ä¸åŒåŒ…ä¸‹è¯¥ç±»çš„å­ç±»è®¿é—®ã€‚</li>
<li>publicï¼ˆå…¬å…±è®¿é—®çº§åˆ«ï¼‰ï¼šè¯¥ç±»æˆ–ç±»çš„æˆå‘˜èƒ½è¢«æ‰€æœ‰çš„ç±»è®¿é—®ï¼Œä¸ç®¡æ˜¯å¦åœ¨åŒä¸€åŒ…ä¸­ã€‚</li>
</ul>
<blockquote>
<p>å¦‚æœä¸€ä¸ªjavaæºæ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰ç±»éƒ½æ²¡æœ‰publicä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸ªæºæ–‡ä»¶çš„æ–‡ä»¶åå¯ä»¥æ˜¯ä¸€åˆ‡åˆæ³•çš„æ–‡ä»¶åã€‚</p>
<p>å¦‚æœjavaæºæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªpublicä¿®é¥°çš„ç±»ï¼Œåˆ™æºæ–‡ä»¶åå¿…é¡»ä¸publicä¿®é¥°çš„ç±»çš„ç±»åä¸€è‡´ã€‚</p>
</blockquote>
<h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><p>ç±»çš„å°è£…ï¼Œæ˜¯æŒ‡å°†å¯¹è±¡çš„å±æ€§éšè—åœ¨å¯¹è±¡å†…éƒ¨ï¼Œè®¾ä¸ºprivateçº§åˆ«ï¼Œä¸å…è®¸å¤–éƒ¨ç¨‹åºç›´æ¥è®¿é—®å¯¹è±¡çš„å†…éƒ¨ä¿¡æ¯ï¼Œè€Œé€šè¿‡ç±»å†…publicçš„æ–¹æ³•ï¼ˆsetxxxï¼Œgetxxxï¼‰å®ç°å¯¹å†…éƒ¨ä¿¡æ¯çš„æ“ä½œåŠè®¿é—®ã€‚</p>
<h3 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h3><p>åœ¨å®ä¾‹åŒ–å¯¹è±¡çš„åŒæ—¶ä¸ºè¿™ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•æ¥å®ç°ã€‚</p>
<p>æ„é€ æ–¹æ³•éœ€è¦æ»¡è¶³çš„ä¸‰ä¸ªæ¡ä»¶ï¼šæ–¹æ³•åä¸ç±»åç›¸åŒã€åœ¨æ–¹æ³•åçš„å‰é¢æ²¡æœ‰è¿”å›å€¼ç±»å‹çš„å£°æ˜ã€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨returnè¿”å›ä¸€ä¸ªå€¼ä½†æ˜¯å¯ä»¥å•ç‹¬returnæ¥ç»“æŸæ–¹æ³•ã€‚</p>
<p>æ„é€ æ–¹æ³•çš„é‡è½½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class TreeNode &#123;</span><br><span class="line">    int val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line">    TreeNode() &#123;&#125;</span><br><span class="line">    TreeNode(int val) &#123; this.val = val; &#125;</span><br><span class="line">    TreeNode(int val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        this.val = val;</span><br><span class="line">        this.left = left;</span><br><span class="line">        this.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨javaä¸­æ¯ä¸ªç±»éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œå¦‚æœä¸€ä¸ªç±»ä¸­æ²¡æœ‰æ˜¾ç¤ºåœ°å®šä¹‰æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ã€‚ä½†æ˜¯ä¸€æ—¦è‡ªå·±å®šä¹‰äº†æœ‰å‚çš„æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿå°†ä¸å†æä¾›æ— å‚çš„æ„é€ æ–¹æ³•ã€‚</p>
<blockquote>
<p>ç–‘é—®ï¼šæ„é€ æ–¹æ³•ç”¨æ¥åœ¨å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ä¸ºå¯¹è±¡çš„æˆå‘˜å˜é‡èµ‹å€¼ï¼Œè€Œåœ¨å®šä¹‰ç±»çš„æ—¶å€™ï¼Œå¯ä»¥å£°æ˜å˜é‡ï¼ˆä¸èµ‹å€¼ï¼‰ä¹Ÿå¯ä»¥å®šä¹‰å˜é‡ï¼ˆèµ‹å€¼ï¼‰ï¼Œé‚£ä¹ˆå®šä¹‰äº†å˜é‡ä¹‹åï¼Œå®ä¾‹åŒ–å¯¹è±¡ï¼Œæ˜¯ç»™å¯¹è±¡çš„æˆå‘˜èµ‹åˆå€¼äº†å—ï¼Ÿåº”è¯¥æ˜¯å§</p>
</blockquote>
<h3 id="thiså…³é”®å­—"><a href="#thiså…³é”®å­—" class="headerlink" title="thiså…³é”®å­—"></a>thiså…³é”®å­—</h3><p>å…³é”®å­—thisç”¨æ¥æŒ‡ä»£å½“å‰å¯¹è±¡ï¼Œç”¨æ¥åœ¨æ–¹æ³•ä¸­è®¿é—®å¯¹è±¡çš„å…¶ä»–æˆå‘˜ã€‚</p>
<ul>
<li>é€šè¿‡thiså…³é”®å­—è°ƒç”¨æˆå‘˜å˜é‡ï¼Œè§£å†³ä¸å±€éƒ¨å˜é‡åç§°å†²çªçš„é—®é¢˜ã€‚</li>
<li>é€šè¿‡thiså…³é”®å­—è°ƒç”¨æˆå‘˜æ–¹æ³•ã€‚</li>
<li>é€šè¿‡thiså…³é”®å­—è°ƒç”¨æ„é€ å‡½æ–¹æ³•ï¼Œæ„é€ æ–¹æ³•æ˜¯åœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶è¢«javaè™šæ‹Ÿæœºè‡ªåŠ¨è°ƒç”¨çš„ï¼Œä½†æ˜¯å¯ä»¥<strong>åœ¨ä¸€ä¸ªæ„é€ æ–¹æ³•ä¸­</strong>ç”¨<code>this(å‚æ•°);</code>çš„å½¢å¼æ¥è°ƒç”¨å…¶ä»–çš„æ„é€ æ–¹æ³•ã€‚æ³¨æ„ï¼šåªèƒ½åœ¨æ„é€ æ–¹æ³•ä¸­ç”¨ï¼Œä¸”å¿…é¡»æ˜¯æ„é€ æ–¹æ³•ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œè€Œä¸”ä¸èƒ½åœ¨ä¸¤ä¸ªæ„é€ æ–¹æ³•ä¸­ç›¸äº’è°ƒç”¨ã€‚</li>
</ul>
<h3 id="staticå…³é”®å­—"><a href="#staticå…³é”®å­—" class="headerlink" title="staticå…³é”®å­—"></a>staticå…³é”®å­—</h3><p>ï¼ˆ1ï¼‰é™æ€å˜é‡</p>
<p>ç±»å†…çš„æ•°æ®æˆå‘˜è¢«ä¸€ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡æ‰€å…±äº«æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚å­¦æ ¡å­¦ç”Ÿçš„å­¦æ ¡åã€‚ä¸å¿…è¦åœ¨æ¯ä¸ªå¯¹è±¡å ç”¨çš„ç©ºé—´ä¸­éƒ½å£°æ˜è¿™ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯åœ¨å¯¹è±¡ä¹‹å¤–çš„ç©ºé—´ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ä¾›æ‰€æœ‰å¯¹è±¡æ¥å…±äº«ã€‚</p>
<p>æ³¨æ„ï¼šstaticå…³é”®å­—åªèƒ½ç”¨äºä¿®é¥°æˆå‘˜å˜é‡ï¼Œä¸èƒ½ç”¨äºä¿®é¥°å±€éƒ¨å˜é‡ã€‚</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> String schoolName;</span><br><span class="line">&#125;</span><br><span class="line">mainå‡½æ•°ä¸­ï¼š</span><br><span class="line">Student.schoolName=<span class="string">&quot;daxue&quot;</span>;</span><br><span class="line">Student stu1=<span class="keyword">new</span> Student();</span><br><span class="line">ä½¿ç”¨ï¼š stu1.schoolName</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰é™æ€æ–¹æ³•</p>
<p>å¸Œæœ›åœ¨ä¸åˆ›å»ºå¯¹è±¡çš„æƒ…å†µä¸‹å°±å¯ä»¥è°ƒç”¨æŸä¸ªæ–¹æ³•æ—¶ä½¿ç”¨ã€‚</p>
<p>è®¿é—®æ–¹å¼ï¼š<code>ç±»å.æ–¹æ³•</code>    æˆ–    <code>å®ä¾‹å¯¹è±¡å.æ–¹æ³•</code></p>
<p>æ³¨æ„ï¼šåœ¨ä¸€ä¸ªé™æ€æ–¹æ³•ä¸­åªèƒ½è®¿é—®ç”¨staticä¿®é¥°çš„æˆå‘˜ï¼ŒåŸå› åœ¨äºæ²¡æœ‰æ²¡sttaicä¿®é¥°çš„æˆå‘˜éœ€è¦å…ˆåˆ›å»ºå¯¹è±¡æ‰èƒ½è®¿é—®ï¼Œè€Œé™æ€æ–¹æ³•åœ¨è¢«è°ƒç”¨æ—¶å¯ä»¥ä¸åˆ›å»ºä»»ä½•å¯¹è±¡ã€‚</p>
<blockquote>
<p>æ€è€ƒï¼šä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªç±»ï¼Œæ–‡ä»¶åå«publicçš„ç±»çš„åå­—ï¼Œç±»å†…å¯ä»¥æœ‰public static mainå‡½æ•°ï¼Œæœ‰mainå‡½æ•°çš„ç±»å¾—æ˜¯publicçš„?</p>
<p>static çš„æˆå‘˜å‡½æ•°ï¼Œåªèƒ½è®¿é—®staticçš„æˆå‘˜ï¼ˆå‡½æ•°æˆ–å˜é‡ï¼‰ï¼Œpublic static mainå‡½æ•°ä¸­å¯ä»¥åˆ›å»ºå…¶ä»–ç±»çš„å¯¹è±¡ï¼Œç„¶åè®¿é—®å…¶ä»–éstaticç±»çš„æˆå‘˜ã€‚</p>
</blockquote>
<p>ï¼ˆ3ï¼‰é™æ€ä»£ç å—</p>
<p>static{â€¦}  åœ¨ç±»è¢«åŠ è½½æ—¶ï¼Œé™æ€ä»£ç å—ä¼šæ‰§è¡Œï¼Œç”±äºç±»åªåŠ è½½ä¸€æ¬¡ï¼Œå› æ­¤é™æ€ä»£ç å—ä¹Ÿåªæ‰§è¡Œä¸€æ¬¡ã€‚é€šå¸¸ä½¿ç”¨é™æ€ä»£ç å—å¯¹ç±»çš„æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚ç¬¬ä¸€æ¬¡å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¼šåŠ è½½ç±»ã€‚</p>
<h2 id="é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰"><a href="#é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰" class="headerlink" title="é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰"></a>é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰</h2><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>is açš„å…³ç³»ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class çˆ¶ç±» &#123;</span><br><span class="line">&#125;</span><br><span class="line">class å­ç±» extends çˆ¶ç±» &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­ç±»åœ¨ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰å…¬å…±çš„æˆå‘˜ã€‚</p>
<p>javaä¸­åªæ”¯æŒå•ç»§æ‰¿ï¼Œä¸å…è®¸å¤šç»§æ‰¿ï¼Œä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªç›´æ¥çˆ¶ç±»ã€‚</p>
<h3 id="é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="é‡å†™çˆ¶ç±»æ–¹æ³•"></a>é‡å†™çˆ¶ç±»æ–¹æ³•</h3><p>ä¸èƒ½ä½¿ç”¨æ¯”çˆ¶ç±»ä¸­é‡å†™çš„æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™ï¼Œå¦‚çˆ¶ç±»çš„è®¿é—®æƒé™æ˜¯publicï¼Œå­ç±»æ–¹æ³•ä¸èƒ½æ˜¯privateã€‚</p>
<p>ä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰çˆ¶ç±»çš„å±æ€§ã€‚</p>
<h3 id="superå…³é”®å­—"><a href="#superå…³é”®å­—" class="headerlink" title="superå…³é”®å­—"></a>superå…³é”®å­—</h3><p>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æˆ–é‡æ–°å®šä¹‰çˆ¶ç±»å±æ€§åï¼Œå­ç±»å¯¹è±¡æ— æ³•ç›´æ¥è®¿é—®ä»–ä»¬ï¼Œå› æ­¤ï¼Œç”¨superè®¿é—®ã€‚<code>super.æˆå‘˜å˜é‡/æˆå‘˜æ–¹æ³•</code></p>
<p>è¿˜å¯ä»¥ç”¨superå…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚<code>super([å‚æ•°1,å‚æ•°2]);</code>ä½†æ˜¯ï¼Œåªèƒ½å‡ºç°åœ¨å­ç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</p>
<p>æ³¨æ„ï¼šå­ç±»çš„æ„é€ æ–¹æ³•ä¸­ä¸€å®šä¼šè°ƒç”¨çˆ¶ç±»çš„æŸä¸ªæ„é€ æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡superæŒ‡å®šã€‚å¦‚æœæ²¡æœ‰superï¼Œåˆ™ä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»æ— å‚çš„æ„é€ æ–¹æ³•ã€‚å› æ­¤ï¼Œå¦‚æœçˆ¶ç±»åªå®šä¹‰äº†æœ‰å‚çš„æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿä¸ç»™é»˜è®¤æ— å‚æ„é€ æ–¹æ³•ï¼Œå°±ä¼šå‡ºé”™ã€‚å› æ­¤éœ€è¦åœ¨çˆ¶ç±»æ·»åŠ æ— å‚æ„é€ æ–¹æ³•ï¼Œæˆ–è€…å­ç±»æŒ‡å®šè°ƒç”¨çˆ¶ç±»æœ‰å‚æ„é€ æ–¹æ³•ã€‚</p>
<h3 id="Objectç±»"><a href="#Objectç±»" class="headerlink" title="Objectç±»"></a>Objectç±»</h3><p>javaä¸­çš„Objectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œæ¯ä¸ªç±»éƒ½ç›´æ¥æˆ–é—´æ¥åœ°ç»§æ‰¿è‡ªè¯¥ç±»ï¼Œç§°ä¸ºè¶…ç±»ã€åŸºç±»ã€æˆ–æ ¹ç±»ã€‚Objectç±»ä¸­æœ‰ä¸€äº›è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p><code>å¯¹è±¡å.toString()  </code>è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p>
<h3 id="finalå…³é”®å­—"><a href="#finalå…³é”®å­—" class="headerlink" title="finalå…³é”®å­—"></a>finalå…³é”®å­—</h3><p>ä¸å¯æ›´æ”¹ï¼Œæœ€ç»ˆçš„æ„æ€ã€‚</p>
<p>ï¼ˆ1ï¼‰ä¿®é¥°ç±»ï¼šä¸èƒ½è¢«ç»§æ‰¿ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¿®é¥°æ–¹æ³•ï¼šä¸èƒ½è¢«å­ç±»é‡å†™</p>
<p>ï¼ˆ3ï¼‰ä¿®é¥°å˜é‡ï¼šå¸¸é‡ï¼Œåªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ã€‚</p>
<p>finalä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œå¿…é¡»åœ¨å£°æ˜çš„åŒæ—¶è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>finalä¿®é¥°çš„å±€éƒ¨å˜é‡ï¼Œå¯ä»¥å…ˆå£°æ˜ï¼Œå†è¿›è¡Œä¸€æ¬¡èµ‹å€¼ã€‚</p>
<h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p>ä¾‹å¦‚åœ¨å®šä¹‰Animalç±»æ—¶ï¼Œshout()æ–¹æ³•æ— æ³•æ˜ç¡®è¡¨ç¤ºï¼Œjavaæä¾›æŠ½è±¡æ–¹æ³•æ¥ä½¿å¾—å…¶æ— éœ€æä¾›æ–¹æ³•çš„å…·ä½“å®ç°ã€‚</p>
<p>æŠ½è±¡æ–¹æ³•ï¼š<code>public abstract void shout();</code>æ²¡æœ‰å¤§æ‹¬å·</p>
<p>åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»ï¼Œclasså‰åŠ abstractï¼Œä½†æ˜¯æŠ½è±¡ç±»ä¸­å¯ä»¥ä¸åŒ…å«æŠ½è±¡æ–¹æ³•ã€‚</p>
<p>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½åˆ›å»ºå­ç±»ï¼Œå¹¶åœ¨å­ç±»ä¸­å®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚</p>
<h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»ï¼Œå®ƒä¸åŒ…å«æ™®é€šæ–¹æ³•ï¼Œå†…éƒ¨æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚</p>
<p>JDK8ä¸­å¯¹æ¥å£è¿›è¡Œäº†é‡æ–°å®šä¹‰ï¼Œæ¥å£ä¸­é™¤äº†æŠ½è±¡æ–¹æ³•å¤–ï¼Œå¯ä»¥æœ‰defaultä¿®é¥°çš„é»˜è®¤æ–¹æ³•ï¼Œstaticä¿®é¥°çš„é™æ€æ–¹æ³•ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½å…è®¸æœ‰æ–¹æ³•ä½“ã€‚</p>
<p>ç”¨interfaceä¿®é¥°ï¼Œå¯ä»¥extendså¤šä¸ªæ¥å£ã€‚æ¥å£å†…éƒ¨å¯ä»¥æœ‰finalå¸¸é‡ï¼Œå®šä¹‰å¸¸é‡æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ã€‚</p>
<p>å°æç¤ºï¼šå®šä¹‰å¸¸é‡æ—¶<code>public static final</code>å¯çœç•¥ï¼Œå®šä¹‰æ–¹æ³•æ—¶<code>public abstract</code>å¯çœç•¥</p>
<p>è°ƒç”¨é™æ€æ–¹æ³•ï¼š<code>æ¥å£å.æ–¹æ³•å</code></p>
<p>è°ƒç”¨æŠ½è±¡æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•éœ€è¦é€šè¿‡æ¥å£å®ç°ç±»çš„å®ä¾‹å¯¹è±¡æ¥è°ƒç”¨ã€‚é»˜è®¤æ–¹æ³•ä¸éœ€è¦å­ç±»ä¸­å®ç°ã€‚</p>
<p><code>public interface Hockey extends Sports, Event</code>   æ¥å£çš„å¤šç»§æ‰¿</p>
<p>ä¸€ä¸ªç±»å¯ä»¥åœ¨ç»§æ‰¿ä¸€ä¸ªç±»çš„åŒæ—¶å®ç°å¤šä¸ªæ¥å£ï¼š<code>public class ç±»å extends ç±»å implements æ¥å£1ï¼Œæ¥å£2</code>  ï¼Œextendéœ€è¦åœ¨å‰é¢</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªç±»é€šè¿‡implementå®ç°æ¥å£ï¼Œå¦‚æœè¯¥ç±»æ˜¯æŠ½è±¡ç±»ï¼Œåˆ™å¯ä»¥å®ç°æ¥å£ä¸­çš„éƒ¨åˆ†æŠ½è±¡æ–¹æ³•ï¼Œå¦‚æœä¸æ˜¯æŠ½è±¡ç±»ï¼Œåˆ™éœ€è¦å®ç°æ¥å£ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚</p>
</blockquote>
<p>æ€»ç»“ï¼šç±»ç»§æ‰¿ç±»ï¼ˆåªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†åŒæ—¶å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼‰ï¼Œæ¥å£ç»§æ‰¿æ¥å£ï¼ˆå¯ä¸€æ¬¡ç»§æ‰¿å¤šä¸ªæ¥å£ï¼‰ï¼Œç±»å®ç°æ¥å£ï¼ˆå¯ä¸€æ¬¡å®ç°å¤šä¸ªæ¥å£ï¼‰</p>
<h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>å¤šæ€æ˜¯æŒ‡ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•è¢«å…¶ä»–ç±»ç»§æ‰¿æˆ–é‡å†™åï¼Œå½“æŠŠå­ç±»å¯¹è±¡ç›´æ¥èµ‹å€¼ç»™çˆ¶ç±»å¼•ç”¨å˜é‡æ—¶ï¼Œç›¸åŒå¼•ç”¨ç±»å‹çš„å˜é‡è°ƒç”¨åŒä¸€æ–¹æ³•æ‰€å‘ˆç°çš„å¤šç§ä¸åŒå½¢æ€ã€‚</p>
<p>æŠŠå­ç±»å¯¹è±¡ç›´æ¥èµ‹å€¼ç»™çˆ¶ç±»å¼•ç”¨å˜é‡æ—¶ï¼Œç¨‹åºåªæœ‰åœ¨è¿è¡Œæ—¶æ‰çŸ¥é“è¯¥å¼•ç”¨å˜é‡å…·ä½“ä»£è¡¨å“ªä¸ªå­ç±»å¯¹è±¡ã€‚</p>
<h3 id="å¯¹è±¡çš„ç±»å‹è½¬æ¢"><a href="#å¯¹è±¡çš„ç±»å‹è½¬æ¢" class="headerlink" title="å¯¹è±¡çš„ç±»å‹è½¬æ¢"></a>å¯¹è±¡çš„ç±»å‹è½¬æ¢</h3><p>å­ç±»å¯¹è±¡å½“ä½œçˆ¶ç±»ç±»å‹ä½¿ç”¨ï¼šå‘ä¸Šè½¬å‹</p>
<p><code>Animal an1=new Cat();</code>   ä¸éœ€è¦ä»»ä½•æ˜¾ç¤ºå£°æ˜ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡çˆ¶ç±»å˜é‡å»è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ã€‚</p>
<p>è¦æƒ³ä½¿ç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œéœ€è¦å°†æœ¬è´¨ä¸ºCatç±»å‹çš„an1å¯¹è±¡ç”±Animalç±»å‹å‘ä¸‹è½¬å‹ä¸ºCatç±»å‹ã€‚</p>
<p><code>Cat cat=(Cat)an1;</code> å°±å¯ä»¥ç”¨catå˜é‡æ¥è°ƒç”¨å­ç±»ç‰¹æœ‰æ–¹æ³•äº†ã€‚</p>
<p><code>instanceof</code>å…³é”®å­—ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæŸä¸ªç±»æˆ–æ¥å£çš„å®ä¾‹æˆ–å­ç±»å®ä¾‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Animal an1=new Cat();</span><br><span class="line">if(an1 instanceof Cat)&#123;</span><br><span class="line">    Cat cat=(Cat)an1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><p>javaä¸­å…è®¸ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰ç±»ï¼Œè¿™æ ·çš„ç±»å«å†…éƒ¨ç±»ã€‚å†…éƒ¨ç±»æ‰€åœ¨ç±»å«å¤–éƒ¨ç±»ã€‚æ ¹æ®å†…éƒ¨ç±»çš„ä½ç½®ã€ä¿®é¥°ç¬¦ã€å®šä¹‰æ–¹å¼çš„ä¸åŒåˆ†ä¸ºå››ç§ã€‚</p>
<p>ï¼ˆ1ï¼‰æˆå‘˜å†…éƒ¨ç±»</p>
<p>åƒæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ä¸€æ ·çš„å­˜åœ¨ï¼Œåœ¨æˆå‘˜å†…éƒ¨ç±»ä¸­ï¼Œå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ã€‚åœ¨å¤–éƒ¨ç±»ä¸­ï¼Œå¯ä»¥è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»çš„æˆå‘˜ï¼š</span><br><span class="line">Inner inner = new Inner();</span><br><span class="line">inner.æˆå‘˜</span><br><span class="line">åœ¨ä¸å¤–éƒ¨ç±»å¹³è¡Œçš„ç±»ä¸­ï¼š</span><br><span class="line">Outer out = new Outer();  åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡</span><br><span class="line">Outer.Inner in = new Inner();   åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å±€éƒ¨å†…éƒ¨ç±»</p>
<p>ä¹Ÿå«æ–¹æ³•å†…éƒ¨ç±»ï¼Œæ˜¯å®šä¹‰åœ¨æŸä¸ªæ–¹æ³•å†…çš„ï¼Œæœ‰æ•ˆèŒƒå›´ä»…é™äºæ–¹æ³•å†…éƒ¨ã€‚</p>
<p>å±€éƒ¨å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰æˆå‘˜ï¼Œè€Œåªæœ‰åœ¨åŒ…å«å±€éƒ¨å†…éƒ¨ç±»çš„æ–¹æ³•ä¸­æ‰å¯ä»¥è®¿é—®å†…éƒ¨ç±»çš„æˆå‘˜ã€‚</p>
<p>ï¼ˆ3ï¼‰é™æ€å†…éƒ¨ç±»</p>
<p>ä½¿ç”¨staticå…³é”®å­—ä¿®é¥°çš„æˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨ä¸å¤–éƒ¨ç±»å¹³è¡Œçš„ç±»ä¸­ï¼š</span><br><span class="line">Outer.Inner inner = new Outer.Inner();</span><br><span class="line">inner.æˆå‘˜</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€èˆ¬åœ¨åˆ·é¢˜æ—¶ï¼Œå®šä¹‰Solutionç±»ï¼Œç±»å†…å®šä¹‰æˆå‘˜æ–¹æ³•å®ç°ç®—æ³•ã€‚æµ‹è¯•æ—¶ï¼Œå®šä¹‰å¦ä¸€ä¸ªç±»ï¼Œç±»å†…mainå‡½æ•°ä¸­è¾“å…¥è¾“å‡ºï¼Œç„¶åå®šä¹‰å¯¹è±¡<code>Solution s = new Solution();</code>é€šè¿‡å¯¹è±¡è®¿é—®ç®—æ³•æ–¹æ³•ã€‚</p>
</blockquote>
<p>ï¼ˆ4ï¼‰åŒ¿åå†…éƒ¨ç±»</p>
<p>åœ¨javaä¸­è°ƒç”¨æŸä¸ªæ–¹æ³•æ—¶ï¼Œå¦‚æœè¯¥æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œé™¤äº†å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°æ¥å£å®ç°ç±»ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»å®ç°æ¥å£æ¥ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ã€‚</p>
<p>åŒ¿åå†…éƒ¨ç±»å°±æ˜¯æ²¡æœ‰åç§°çš„å†…éƒ¨ç±»ï¼Œåœ¨è°ƒç”¨åŒ…å«æœ‰æ¥å£ç±»å‹å‚æ•°çš„æ–¹æ³•æ—¶ï¼Œé€šå¸¸ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œä¸ä¼šåˆ›å»ºä¸€ä¸ªæ¥å£çš„å®ç°ç±»ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ å…¥ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡åŒ¿åå†…éƒ¨ç±»çš„å½¢å¼ä¼ å…¥ä¸€ä¸ªæ¥å£ç±»å‹å‚æ•°ï¼Œåœ¨åŒ¿åå†…éƒ¨ç±»ä¸­ç›´æ¥å®Œæˆæ–¹æ³•çš„å®ç°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰åŠ¨ç‰©ç±»æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		String name=<span class="string">&quot;maomao&quot;</span>;</span><br><span class="line">		<span class="comment">//å®šä¹‰åŒ¿åå†…éƒ¨ç±»ä½œä¸ºå‚æ•°ä¼ é€’ç»™animalShoutæ–¹æ³•</span></span><br><span class="line">		animalShout(<span class="keyword">new</span> Animal()&#123;</span><br><span class="line">		    <span class="comment">//åŒ¿åå†…éƒ¨ç±»ä¸­å®ç°shoutæ–¹æ³•</span></span><br><span class="line">		    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span></span>&#123;</span><br><span class="line">		    	<span class="comment">//JDK8å¼€å§‹ï¼Œå±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»å¯ä»¥è®¿é—®éfinalçš„å±€éƒ¨å˜é‡</span></span><br><span class="line">		    	System.out.println(name+â€œå–µå–µâ€)ï¼›</span><br><span class="line">		    &#125;</span><br><span class="line">		&#125;)ï¼›</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å®šä¹‰é™æ€æ–¹æ³•animalShout(),æ¥æ”¶æ¥å£ç±»å‹å‚æ•°</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">animalShout</span><span class="params">(Animal an)</span></span>&#123;</span><br><span class="line">		an.shout(); <span class="comment">//è°ƒç”¨ä¼ å…¥å¯¹è±¡çš„shout()æ–¹æ³•</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ†ä¸¤æ­¥ï¼š</p>
<p>ç¬¬ä¸€æ­¥ <code>animalShout(new Animal()&#123;&#125;)</code> å‚æ•°ä½ç½®åˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œè¡¨ç¤ºåˆ›å»ºçš„å¯¹è±¡ä¸ºAnimalçš„å­ç±»å®ä¾‹ï¼Œè¯¥å­ç±»æ˜¯åŒ¿åçš„ã€‚</p>
<p>ç¬¬äºŒæ­¥<code>&#123;&#125;</code>ä¸­ç¼–å†™åŒ¿åå­ç±»çš„å®ç°ä»£ç ã€‚</p>
<h3 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h3><p>Lambda è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ç§°ä¸º<strong>é—­åŒ…</strong>ï¼Œå®ƒæ˜¯æ¨åŠ¨ Java 8 å‘å¸ƒçš„æœ€é‡è¦æ–°ç‰¹æ€§ã€‚å®ƒä½¿ç”¨ä¸€ä¸ªæ¸…æ™°ç®€æ´çš„è¡¨è¾¾å¼æ¥è¡¨è¾¾ä¸€ä¸ªæ¥å£ã€‚</p>
<p>åŒ¿åå†…éƒ¨ç±»å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåŒ¿åå†…éƒ¨ç±»çš„å®ç°éå¸¸ç®€å•ï¼Œä¾‹å¦‚åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œé‚£ä¹ˆåŒ¿åå†…éƒ¨ç±»çš„è¯­æ³•ä»ç„¶å†—ä½™ã€‚</p>
<p>Lambdaè¡¨è¾¾å¼é’ˆå¯¹æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£å®ç°ï¼Œä»¥ç®€æ´çš„è¡¨è¾¾å¼å½¢å¼å®ç°æ¥å£åŠŸèƒ½æ¥ä½œä¸ºæ–¹æ³•å‚æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(parameters) -&gt;&#123; statements; &#125;</span><br><span class="line">å¯é€‰ç±»å‹å£°æ˜ï¼šä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚</span><br><span class="line">å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼šä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚</span><br><span class="line">å¯é€‰çš„å¤§æ‹¬å·ï¼šå¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚</span><br><span class="line">å¯é€‰çš„è¿”å›å…³é”®å­—ï¼šå¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œreturnå¯çœç•¥</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­ï¼Œç”¨lambdaè¡¨è¾¾å¼æ¥åšï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">animalShout(()-&gt;System.out.println(name+â€œå–µå–µâ€);)</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h3><p>Lambdaè¡¨è¾¾å¼å¯ä»¥å®ç°åŒ¿åå†…éƒ¨ç±»çš„åŠŸèƒ½ï¼Œä½†æ˜¯å±€é™åœ¨äºæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•æ—¶æ‰èƒ½ä½¿ç”¨Lambdaè¡¨è¾¾å¼ä»£æ›¿åŒ¿åå†…éƒ¨ç±»ã€‚</p>
<p>å› ä¸ºLambdaè¡¨è¾¾å¼æ˜¯åŸºäºå‡½æ•°å¼æ¥å£å®ç°çš„ï¼Œå‡½æ•°å¼æ¥å£å°±æ˜¯åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚</p>
<p>JDK8ä¸­ä¸“é—¨ä¸ºå‡½æ•°å¼æ¥å£å¼•å…¥@FunctionalInterfaceæ³¨è§£ï¼Œæ˜¾ç¤ºåœ°æ ‡è¯†æ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¦‚æœä¸æ˜¯ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Calculate</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		showSum(<span class="number">10</span>, <span class="number">20</span>, (x,y)-&gt;x+y);  <span class="comment">//å®ç°æ–¹æ³•</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//åˆ›å»ºå‚æ•°ä¸ºæ¥å£çš„æ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showSum</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, Calculate cu)</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;å’Œä¸ºï¼š&quot;</span>+cu.sum(x, y));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Lambdaè¡¨è¾¾å¼çš„å¼•ç”¨å½¢å¼"><a href="#Lambdaè¡¨è¾¾å¼çš„å¼•ç”¨å½¢å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼çš„å¼•ç”¨å½¢å¼"></a>Lambdaè¡¨è¾¾å¼çš„å¼•ç”¨å½¢å¼</h3><p>Lambdaè¡¨è¾¾å¼çš„ä¸»ä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œç¨‹åºå¯é€šè¿‡<code>ï¼šï¼š</code>çš„è¯­æ³•æ ¼å¼æ¥å¼•ç”¨æ–¹æ³•å’Œæ„é€ å™¨ã€‚æœ¬è´¨æ˜¯å¯¹Lambdaè¡¨è¾¾å¼çš„ä¸»ä½“éƒ¨åˆ†å·²å­˜åœ¨çš„æ–¹æ³•è¿›è¡Œç›´æ¥å¼•ç”¨ã€‚</p>
<p>ç›¸å½“äºcalcæ–¹æ³•éœ€è¦å®ç°ï¼Œè€Œåˆç°æˆçš„absæ–¹æ³•å¯ä»¥ç”¨ã€‚</p>
<p>ï¼ˆ1ï¼‰ç±»åå¼•ç”¨æ™®é€šæ–¹æ³•/é™æ€æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Calculate</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span> num)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŒ…å«é™æ€æ–¹æ³•çš„ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Math</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">abs</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(num&lt;<span class="number">0</span>)  <span class="keyword">return</span> -num;</span><br><span class="line">		<span class="keyword">else</span>  <span class="keyword">return</span> num;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printAbs</span><span class="params">(<span class="keyword">int</span> num, Calculate cu)</span></span>&#123;</span><br><span class="line">		System.out.println(cu.calc(num));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//ä½¿ç”¨lambdaè¡¨è¾¾å¼</span></span><br><span class="line">		printAbs(-<span class="number">10</span>, n-&gt;Math.abs(n));</span><br><span class="line">		<span class="comment">//ä½¿ç”¨æ–¹æ³•å¼•ç”¨</span></span><br><span class="line">		printAbs(-<span class="number">10</span>, Math::abs);  ç±»å::ç±»é™æ€æ–¹æ³•/æ™®é€šæ–¹æ³•å</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å¯¹è±¡åå¼•ç”¨æ–¹æ³•</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å®ä¾‹åŒ–å¯¹è±¡çš„åç§°æ¥å¯¹å…¶æ–¹æ³•è¿›è¡Œå¼•ç”¨ã€‚æ˜¯æ™®é€šæ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Math ma = new Math();</span><br><span class="line">printAbs(-10, n-&gt;ma.abs(n));</span><br><span class="line">printAbs(-10,ma::abs);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰æ„é€ å™¨å¼•ç”¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">PersonBuilder</span></span>&#123;</span><br><span class="line">	<span class="function">Person <span class="title">buildPerson</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œå¹¶æ·»åŠ æœ‰å‚æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printName</span><span class="params">(String name, PersonBuilder bu)</span></span>&#123;</span><br><span class="line">		System.out.println(bu.buildPerson(name).getName());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//ä½¿ç”¨lambdaè¡¨è¾¾å¼   ()-&gt;new ç±»å()</span></span><br><span class="line">		printAbs(<span class="string">&quot;å¼ ä¸‰&quot;</span>, name-&gt;<span class="keyword">new</span> Person(name));</span><br><span class="line">		<span class="comment">//ä½¿ç”¨æ–¹æ³•å¼•ç”¨    ç±»å::new</span></span><br><span class="line">		printAbs(<span class="string">&quot;å¼ ä¸‰&quot;</span>, Person::<span class="keyword">new</span>); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h3><p>javaè¯­è¨€å¼•å…¥äº†å¼‚å¸¸ï¼Œä»¥å¼‚å¸¸ç±»çš„å½¢å¼å¯¹æ­£å¸¸æƒ…å†µè¿›è¡Œå°è£…ã€‚</p>
<p>å¼‚å¸¸ç±»éƒ½ç»§æ‰¿è‡ªjava.lang.Throwableç±»ã€‚</p>
<p>Throwableæœ‰ä¸¤ä¸ªç›´æ¥å­ç±»Errorå’ŒExceptionã€‚</p>
<p>å…¶ä¸­Errorç§°ä¸ºé”™è¯¯ç±»ï¼Œä»£è¡¨Javaè¿è¡Œæ—¶äº§ç”Ÿçš„ç³»ç»Ÿå†…éƒ¨é”™è¯¯æˆ–èµ„æºè€—å°½çš„é”™è¯¯ï¼Œå¦‚ç³»ç»Ÿå´©æºƒã€è™šæ‹Ÿæœºé”™è¯¯ã€‚</p>
<p>Exceptionç±»ç§°ä¸ºå¼‚å¸¸ç±»ï¼Œæ ‡è¯†ç¨‹åºæœ¬èº«å¯ä»¥å¤„ç†çš„é”™è¯¯ï¼Œå¼‚å¸¸å¤„ç†éƒ½æ˜¯é’ˆå¯¹è¯¥ç±»åŠå…¶å­ç±»ã€‚RuntimeExceptionè¡¨ç¤ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå…¶ä»–è¡¨ç¤ºç¼–è¯‘æ—¶å¼‚å¸¸ã€‚</p>
<p>Throwableç±»ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public String getMessage()</span><br><span class="line">è¿”å›å…³äºå‘ç”Ÿçš„å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ä¸ªæ¶ˆæ¯åœ¨Throwable ç±»çš„æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–äº†ã€‚</span><br><span class="line">public void printStackTrace()</span><br><span class="line">æ‰“å°toString()ç»“æœå’Œæ ˆå±‚æ¬¡åˆ°System.errï¼Œå³é”™è¯¯è¾“å‡ºæµã€‚</span><br><span class="line">public Throwable getCause()</span><br><span class="line">è¿”å›ä¸€ä¸ªThrowable å¯¹è±¡ä»£è¡¨å¼‚å¸¸åŸå› ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæ—¶å¼‚å¸¸æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ç”±Javaè™šæ‹Ÿæœºè‡ªåŠ¨è¿›è¡Œæ•è·å¤„ç†çš„ã€‚ä¾‹å¦‚æ•°ç»„è¶Šç•Œã€‚</p>
<h3 id="tryâ€¦catchâ€¦finally"><a href="#tryâ€¦catchâ€¦finally" class="headerlink" title="tryâ€¦catchâ€¦finally"></a>tryâ€¦catchâ€¦finally</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨é™¤æ³•æ–¹æ³•ä¸­ï¼š</span><br><span class="line">try&#123;</span><br><span class="line">   å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„è¯­å¥</span><br><span class="line">&#125;catch(Exceptionç±»æˆ–å…¶å­ç±» e1)&#123;</span><br><span class="line">   å¯¹æ•è·çš„å¼‚å¸¸è¿›è¡Œç›¸åº”çš„å¤„ç†</span><br><span class="line">   System.out.println(&quot;å¼‚å¸¸ï¼š&quot;+e1.getMessage());</span><br><span class="line">&#125;finally&#123;</span><br><span class="line">	æ— è®ºç¨‹åºæ˜¯å¦å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œçš„ä»£ç å—</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>try{}ä¸­çš„ä»£ç å—å‘ç”Ÿå¼‚å¸¸ï¼Œç³»ç»Ÿä¼šå°†è¿™ä¸ªå¼‚å¸¸çš„ä¿¡æ¯å°è£…æˆä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œä¼ é€’ç»™catch(){}ä»£ç å—ï¼Œcatchä»£ç å—éœ€è¦ä¸€ä¸ªå‚æ•°æŒ‡æ˜å®ƒæ‰€èƒ½æ¥æ”¶çš„å¼‚å¸¸ç±»å‹ï¼Œå¿…é¡»æ˜¯Exceptionç±»æˆ–å…¶å­ç±»ã€‚</p>
<p>finally{}ä¸­çš„ä»£ç ä¸å—returnè¯­å¥å’Œç¨‹åºå¼‚å¸¸çš„å½±å“ï¼Œå¯ä»¥ç”¨æ¥å®Œæˆå¿…é¡»è¦åšçš„äº‹ï¼Œä¾‹å¦‚é‡Šæ”¾ç³»ç»Ÿèµ„æºã€å…³é—­çº¿ç¨‹æ± ç­‰ã€‚ä½†æ˜¯åœ¨tryâ€¦catchâ€¦ä»£ç å—ä¸­æ‰§è¡Œäº†<code>System.exit(0)</code>è¯­å¥çš„è¯ï¼Œfinallyä¸ä¼šæ‰§è¡Œï¼Œå› ä¸º<code>System.exit(0)</code>è¡¨ç¤ºé€€å‡ºå½“å‰çš„javaè™šæ‹Ÿæœºã€‚</p>
<h3 id="throwså…³é”®å­—"><a href="#throwså…³é”®å­—" class="headerlink" title="throwså…³é”®å­—"></a>throwså…³é”®å­—</h3><p>ç”¨äºå°†å¼‚å¸¸ä»å½“å‰æ–¹æ³•ä¸­æŠ›å‡ºï¼Œthrowså†™åœ¨æ–¹æ³•å£°æ˜çš„åé¢ï¼Œåè·Ÿå£°æ˜æ–¹æ³•ä¸­å‘ç”Ÿå¼‚å¸¸çš„ç±»å‹ï¼Œè¿™ç§åšæ³•å«åšæ–¹æ³•ç”³æ˜æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ä¸€ä¸ªæ–¹æ³•å¯ä»¥å£°æ˜æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ï¼Œå¤šä¸ªå¼‚å¸¸ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public static int divide(int x, int y) throws Exception&#123;</span><br><span class="line">	int res=x/y;</span><br><span class="line">	return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨äº†throwsåï¼Œè¿˜éœ€è¦å†å‡ºç°å¼‚å¸¸çš„ä»£ç ï¼ˆmainä¸­ï¼‰å¤„ä½¿ç”¨tryâ€¦catchâ€¦ä»£ç å—è¿›è¡Œæ•è·å¤„ç†ã€‚</p>
<h3 id="throwå…³é”®å­—"><a href="#throwå…³é”®å­—" class="headerlink" title="throwå…³é”®å­—"></a>throwå…³é”®å­—</h3><p>throwç”¨äºæ–¹æ³•ä½“å†…ï¼Œå¹¶ä¸”æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸ç±»å¯¹è±¡ã€‚</p>
<p>é€šè¿‡throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸åï¼Œè¿˜éœ€è¦tryâ€¦catchâ€¦æˆ–throwså…³é”®å­—å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public void deposit(double amount) throws Exception</span><br><span class="line">&#123;</span><br><span class="line">  if(åˆ¤æ–­)&#123;</span><br><span class="line">      throw new Exception(&quot;å¼‚å¸¸&quot;); //å¯ä»¥ç”¨æ¥æŒ‡ç¤ºå¼‚å¸¸ä¿¡æ¯</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>throwæŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œç„¶åé€šè¿‡throwså…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼Œæœ€åé€šè¿‡tryâ€¦catchâ€¦è¯­å¥æ•è·å¼‚å¸¸ã€‚</p>
<h3 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h3><p>javaå…è®¸ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ï¼Œä½†è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å¿…é¡»ç»§æ‰¿è‡ªExceptionæˆ–å…¶å­ç±»ã€‚åœ¨æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨super()è¯­å¥è°ƒç”¨Exceptionçš„æ„é€ æ–¹æ³•å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 	<span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();  <span class="comment">//è°ƒç”¨æ— å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(message);  <span class="comment">//è°ƒç”¨æœ‰å‚æ„é€ æ–¹æ³•</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h3><p>javaæä¾›åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆJava GCï¼‰ï¼Œè™šæ‹Ÿæœºä¼šè‡ªåŠ¨å›æ”¶åƒåœ¾å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p>
<p>å½“ä¸€ä¸ªå¯¹è±¡åœ¨å †å†…å­˜ä¸­è¿è¡Œæ—¶ï¼Œæ ¹æ®å®ƒè¢«å¼•ç”¨å˜é‡æ‰€å¼•ç”¨çš„çŠ¶æ€ï¼Œå¯ä»¥æŠŠå®ƒæ‰€å¤„çš„çŠ¶æ€åˆ†ä¸ºä¸‰ç§ï¼š</p>
<p>ï¼ˆ1ï¼‰å¯ç”¨çŠ¶æ€ï¼šå¯¹è±¡è¢«åˆ›å»ºåï¼Œæœ‰ä¸€ä¸ªä»¥ä¸Šçš„å¼•ç”¨å˜é‡å¼•ç”¨å®ƒï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡åœ¨ç¨‹åºä¸­å°†å¤„äºå¯ç”¨çŠ¶æ€ï¼Œç¨‹åºå¯ä»¥é€šè¿‡å¼•ç”¨å˜é‡æ¥è°ƒç”¨è¯¥å¯¹è±¡çš„å®ä¾‹å˜é‡å’Œæ–¹æ³•ã€‚</p>
<p>ï¼ˆ2ï¼‰å¯æ¢å¤çŠ¶æ€ï¼šç¨‹åºä¸­æŸä¸ªå¯¹è±¡ä¸å†æœ‰ä»»ä½•å¼•ç”¨å˜é‡å¼•ç”¨å®ƒï¼Œå®ƒå°±è¿›å…¥äº†å¯æ¢å¤çŠ¶æ€ã€‚ç³»ç»Ÿå‡†å¤‡å›æ”¶ï¼Œå›æ”¶ä¹‹å‰ä¼šè°ƒç”¨å¯æ¢å¤çŠ¶æ€å¯¹è±¡çš„<code>finalize()</code>æ–¹æ³•è¿›è¡Œèµ„æºæ¸…ç†ã€‚å¦‚æœåœ¨è°ƒç”¨<code>finalize()</code>æ–¹æ³•ä¹‹å‰é‡æ–°ä½¿ä¸€ä¸ªå¼•ç”¨å˜é‡å¼•ç”¨è¯¥å¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¼šå†æ¬¡å˜ä¸ºå¯ç”¨å¯¹è±¡ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸å¯ç”¨çŠ¶æ€ï¼šè°ƒç”¨<code>finalize()</code>æ–¹æ³•åï¼Œå¯¹è±¡è¿›å…¥ä¸å¯ç”¨çŠ¶æ€ï¼Œå†…å­˜è¢«æ¸…ç†ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªå¯¹è±¡åœ¨å¤±å»å¼•ç”¨æˆä¸ºåƒåœ¾åï¼Œä¼šæš‚æ—¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œåƒåœ¾å †ç§¯åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œjavaè™šæ‹Ÿæœºä¼šå¯åŠ¨åƒåœ¾å›æ”¶å™¨å°†è¿™äº›åƒåœ¾å¯¹è±¡ä»å†…å­˜ä¸­é‡Šæ”¾ï¼Œä¹Ÿå°±è¯´å›æ”¶çš„æ—¶æœºæ— æ³•æŠŠæ¡ã€‚</p>
</blockquote>
<p>å¼ºåˆ¶ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶çš„æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">System.gc();</span><br><span class="line">æˆ–ï¼š</span><br><span class="line">Runtime.getRuntime().gc();</span><br></pre></td></tr></table></figure>

<h3 id="finalize-æ–¹æ³•"><a href="#finalize-æ–¹æ³•" class="headerlink" title="finalize()æ–¹æ³•"></a>finalize()æ–¹æ³•</h3><p>å½“ä¸€ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­è¢«é‡Šæ”¾æ—¶ï¼Œå®ƒçš„<code>finalize()</code>æ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œ<code>finalize()</code>æ–¹æ³•æ˜¯å®šä¹‰åœ¨Objectç±»ä¸­çš„å®ä¾‹æ–¹æ³•ï¼Œæ–¹æ³•åŸå‹ï¼š</p>
<p><code>protected void finalize() throws Throwable&#123;&#125;</code></p>
<p>ä»»ä½•javaç±»éƒ½å¯ä»¥é‡å†™Objectç±»çš„<code>finalize()</code>æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­æ¸…ç†å¯¹è±¡å ç”¨çš„èµ„æºã€‚é‡å†™å®ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">	public void finalize()&#123;</span><br><span class="line">		System.out.println(&quot;d&quot;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹ä¹‹ç½‘ç»œç¼–ç¨‹</title>
    <url>/2021/12/02/myblog/JAVA/%E3%80%8AJava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B%E4%B9%8B%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="IPåœ°å€å’Œç«¯å£å·"><a href="#IPåœ°å€å’Œç«¯å£å·" class="headerlink" title="IPåœ°å€å’Œç«¯å£å·"></a>IPåœ°å€å’Œç«¯å£å·</h2><p>IPv4ç”±å››ä¸ªå­—èŠ‚å¤§å°çš„äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºï¼Œé€šå¸¸å†™æˆåè¿›åˆ¶å½¢å¼ï¼Œæ¯ä¸ªæ•°åœ¨0-255ä¹‹é—´ã€‚</p>
<p>IPv6ä½¿ç”¨16ä¸ªå­—èŠ‚è¡¨ç¤ºIPåœ°å€ã€‚</p>
<p>æœ€åˆè®¾è®¡äº’è”ç½‘æ—¶ï¼Œä¸ºäº†ä¾¿äºå¯»å€ä»¥åŠå±‚æ¬¡åŒ–æ„é€ ç½‘ç»œï¼Œæ¯ä¸ªIPåœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå³â€ç½‘ç»œ.ä¸»æœºâ€ï¼Œç½‘ç»œéƒ¨åˆ†è¡¨ç¤ºå…¶å±äºäº’è”ç½‘çš„å“ªä¸€ä¸ªç½‘ç»œï¼Œæ˜¯ç½‘ç»œçš„åœ°å€ç¼–ç ï¼Œä¸»æœºéƒ¨åˆ†è¡¨ç¤ºå…¶å±äºè¯¥ç½‘ç»œä¸­çš„å“ªä¸€å°ä¸»æœºï¼Œæ˜¯ç½‘ç»œä¸­ä¸€ä¸ªä¸»æœºçš„åœ°å€ç¼–ç ï¼ŒäºŒè€…æ˜¯ä¸»ä»å…³ç³»ã€‚</p>
<p>IPåœ°å€åˆ†ä¸ºäº”ç±»ï¼šå¸¸ç”¨çš„æ˜¯A.B.Cç±»ï¼š</p>
<p>â‘ Aç±»åœ°å€ï¼šç¬¬ä¸€æ®µç½‘ç»œåœ°å€ï¼Œå…¶ä½™ä¸‰æ®µä¸»æœºåœ°å€ï¼ŒèŒƒå›´æ˜¯1.0.0.0 â€“ 127.255.255.255ã€‚</p>
<p>â‘¡Bç±»åœ°å€ï¼šå‰ä¸¤æ®µç½‘ç»œåœ°å€ï¼Œå…¶ä½™ä¸¤æ®µä¸»æœºåœ°å€ï¼ŒèŒƒå›´æ˜¯128.0.0.0 â€“ 191.255.255.255ã€‚</p>
<p>â‘¢Cç±»åœ°å€ï¼šå‰ä¸‰æ®µç½‘ç»œåœ°å€ï¼Œæœ€åä¸€æ®µä¸»æœºåœ°å€ï¼ŒèŒƒå›´æ˜¯192.0.0.0 â€“ 223.255.255.255ã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæœ¬åœ°å›ç¯åœ°å€127.0.0.1ï¼ŒæŒ‡æœ¬æœºåœ°å€ï¼Œæ”¹åœ°å€ä¸€èˆ¬ç”¨æ¥æµ‹è¯•ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼šping 127.0.0.1 ç”¨æ¥æµ‹è¯•æœ¬æœºTCP/IPåè®®æ˜¯å¦æ­£å¸¸ã€‚</p>
<p>ç«¯å£å·ç”¨æ¥è®¿é—®ç›®æ ‡è®¡ç®—æœºä¸­çš„æŸä¸ªåº”ç”¨ç¨‹åºã€‚è®¡ç®—æœºä¸­ï¼Œä¸åŒçš„åº”ç”¨ç¨‹åºæ˜¯é€šè¿‡ç«¯å£å·æ¥åŒºåˆ†çš„ï¼Œç«¯å£å·æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼ˆ16ä½äºŒè¿›åˆ¶æ•°ï¼‰è¡¨ç¤ºçš„ï¼Œå–å€¼èŒƒå›´æ˜¯ï¼š0 ~ 65535ã€‚å…¶ä¸­ï¼Œ0 ~ 1023ä¹‹é—´çš„ç«¯å£å·ç”¨äºä¸€äº›çŸ¥åçš„ç½‘ç»œæœåŠ¡å’Œåº”ç”¨ï¼Œç”¨æˆ·çš„æ™®é€šåº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨1024ä»¥ä¸Šçš„ç«¯å£å·ï¼Œä»è€Œé¿å…ç«¯å£å·è¢«å¦å¤–ä¸€äº›åº”ç”¨æˆ–æœåŠ¡æ‰€å ç”¨ã€‚</p>
<h2 id="InetAddress"><a href="#InetAddress" class="headerlink" title="InetAddress"></a>InetAddress</h2><p>JDKä¸­æä¾›äº†ä¸€ä¸ªä¸IPåœ°å€ç›¸å…³çš„InetAddressç±»ï¼Œè¯¥ç±»ç”¨äºå°è£…ä¸€ä¸ªIPåœ°å€ï¼Œå¹¶æä¾›ä¸€ç³»åˆ—ä¸IPåœ°å€æœ‰å…³çš„æ–¹æ³•ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">getByName(String host);  <span class="comment">//è·å–è¡¨ç¤ºæŒ‡å®šä¸»æœºçš„InetAddresså¯¹è±¡</span></span><br><span class="line">getLocalHost()      <span class="comment">//è·å–æœ¬æœºçš„InetAddresså¯¹è±¡ï¼ŒInetAddress.getLocalHost()</span></span><br><span class="line">getHostName()     <span class="comment">//InetAddresså¯¹è±¡.getHostName  è·å–ä¸»æœºåï¼Œè¿”å›String</span></span><br><span class="line">isReachable(<span class="keyword">int</span> timeout)   <span class="comment">//InetAddresså¯¹è±¡.isReachableï¼Œåˆ¤æ–­åœ¨é™å®šæ—¶é—´å†…æŒ‡å®šçš„IPåœ°å€æ˜¯å¦å¯ä»¥è®¿é—®ï¼Œè¿”å›boolean</span></span><br><span class="line">getHostAddress()    <span class="comment">//InetAddresså¯¹è±¡.getHostAddressï¼Œè·å–å­—ç¬¦ä¸²æ ¼å¼çš„åŸå§‹IPåœ°å€ï¼Œè¿”å›String</span></span><br></pre></td></tr></table></figure>

<p><code>getHostName</code>è·å–æŸä¸ªä¸»æœºçš„åŸŸåï¼Œå¦‚æœInetAddresså¯¹è±¡æ˜¯é€šè¿‡ä¸»æœºååˆ›å»ºçš„ï¼Œåˆ™å°†è¿”å›è¯¥ä¸»æœºåï¼›å¦åˆ™æ ¹æ®IPåœ°å€åå‘æŸ¥æ‰¾å¯¹åº”çš„ä¸»æœºåï¼Œå¦‚æœæ‰¾åˆ°åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å›IPåœ°å€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: InetAddressç±»ä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 12:52</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InetAdd</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//è·å–æœ¬æœºInetAddresså¯¹è±¡</span></span><br><span class="line">        InetAddress local = InetAddress.getLocalHost();  <span class="comment">//ç›¸å½“äº InetAddress.getByName(&quot;localhost&quot;);</span></span><br><span class="line">        <span class="comment">//è·å–ä¸»æœºåä¸º&quot;www.baidu.com&quot;çš„InetAddresså¯¹è±¡</span></span><br><span class="line">        InetAddress remote = InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;InetAddresså¯¹è±¡ï¼š&quot;</span>+local);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ¬æœºipï¼š&quot;</span>+local.getHostAddress());</span><br><span class="line">        System.out.println(<span class="string">&quot;ç™¾åº¦ipï¼š&quot;</span>+remote.getHostAddress());</span><br><span class="line">        System.out.println(<span class="string">&quot;3så†…æ˜¯å¦å¯è®¿é—®ç™¾åº¦ï¼š&quot;</span>+remote.isReachable(<span class="number">3000</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ¬æœºä¸»æœºåï¼š&quot;</span>+local.getHostName());</span><br><span class="line">        System.out.println(<span class="string">&quot;ç™¾åº¦ä¸»æœºåï¼š&quot;</span>+remote.getHostName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç–‘é—®ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦throwså¼‚å¸¸ã€‚</p>
</blockquote>
<h2 id="TCPä¸UDP"><a href="#TCPä¸UDP" class="headerlink" title="TCPä¸UDP"></a>TCPä¸UDP</h2><p>UDPï¼šuser datagram protocol ç”¨æˆ·æ•°æ®æŠ¥åè®®</p>
<p>TCPï¼štransmission control protocol ä¼ è¾“æ§åˆ¶åè®®</p>
<p>UDPï¼šæ— è¿æ¥é€šä¿¡åè®®ï¼Œæ•°æ®çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¸å»ºç«‹é€»è¾‘è¿æ¥ã€‚å‘é€ç«¯ä¸ä¼šç¡®è®¤æ¥æ”¶ç«¯æ˜¯å¦å­˜åœ¨ï¼Œæ¥æ”¶ç«¯ä¹Ÿä¸ä¼šå‘å‘é€ç«¯åé¦ˆæ˜¯å¦æ”¶åˆ°æ•°æ®ã€‚æ¶ˆè€—èµ„æºå°ï¼Œé€šä¿¡æ•ˆç‡é«˜ï¼Œå»¶è¿Ÿå°ã€‚ç”¨äºéŸ³é¢‘ã€è§†é¢‘ä¼ è¾“ã€‚ä½†æ˜¯ä¸ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚</p>
<p>TCPï¼šä¼ è¾“æ•°æ®å‰å…ˆåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯å»ºç«‹é€»è¾‘è¿æ¥ï¼Œç„¶åå†ä¼ è¾“æ•°æ®ï¼Œå¿…é¡»æ˜ç¡®å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ï¼Œä¿è¯ä¸¤å°è®¡ç®—æœºä¹‹é—´å¯é æ— å·®é”™çš„æ•°æ®ä¼ è¾“ã€‚</p>
<h2 id="UDPç¼–ç¨‹"><a href="#UDPç¼–ç¨‹" class="headerlink" title="UDPç¼–ç¨‹"></a>UDPç¼–ç¨‹</h2><p>UDPé€šä¿¡è¿‡ç¨‹ç›¸å½“äºåœ¨ä¸¤ä¸ªç å¤´ä¹‹é—´é€šè¿‡é›†è£…ç®±å‘é€è´§ç‰©ã€‚JDKä¸­æä¾›ä¸€ä¸ªDatagramPacketç±»ï¼Œè¯¥ç±»çš„å®ä¾‹å¯¹è±¡ç›¸å½“äºä¸€ä¸ªé›†è£…ç®±ï¼Œç”¨äºå°è£…UDPé€šä¿¡ä¸­å‘é€æˆ–è€…æ¥æ”¶çš„æ•°æ®ã€‚DatagramSocketç±»ï¼Œè¯¥ç±»çš„å®ä¾‹å¯¹è±¡ç›¸å½“äºç å¤´ï¼Œç”¨äºå‘é€å’Œæ¥æ”¶DatagramPacketæ•°æ®æŠ¥ã€‚</p>
<h3 id="DatagramPacket"><a href="#DatagramPacket" class="headerlink" title="DatagramPacket"></a>DatagramPacket</h3><p>åˆ›å»ºå‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„DatagramPacketå¯¹è±¡æ—¶ï¼Œä½¿ç”¨çš„æ„é€ æ–¹æ³•æœ‰æ‰€ä¸åŒã€‚æ¥æ”¶ç«¯çš„æ„é€ æ–¹æ³•åªéœ€è¦æ¥æ”¶ä¸€ä¸ªå­—èŠ‚æ•°ç»„æ¥å­˜æ”¾æ¥æ”¶åˆ°çš„æ•°æ®ã€‚å‘é€ç«¯çš„æ„é€ æ–¹æ³•ä¸ä½†è¦æ¥æ”¶å­˜æ”¾äº†å‘é€æ•°æ®çš„å­—èŠ‚æ•°ç»„ï¼Œè¿˜éœ€è¦æŒ‡å®šæ¥æ”¶ç«¯IPåœ°å€å’Œç«¯å£å·ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf, <span class="keyword">int</span> length)   ç”¨äºæ¥æ”¶ç«¯ï¼ŒæŒ‡å®šå­—èŠ‚æ•°ç»„å’Œæ•°æ®çš„å¤§å°</span><br><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf, <span class="keyword">int</span> offset, <span class="keyword">int</span> length)   å¢åŠ ä¸€ä¸ªåç§»é‡ï¼Œä»è¯¥ä½ç½®å¼€å§‹å‘é€</span><br><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf, <span class="keyword">int</span> length, InetAddress add, <span class="keyword">int</span> port)   ç”¨äºå‘é€ç«¯ï¼ŒæŒ‡å®šå­—èŠ‚æ•°ç»„å’Œæ•°æ®çš„å¤§å°ï¼Œå¿…é¡»çš„ç›®æ ‡ipå’Œç«¯å£</span><br><span class="line">DatagramPacket(<span class="keyword">byte</span>[] buf, <span class="keyword">int</span> offset, <span class="keyword">int</span> length, InetAddress add, <span class="keyword">int</span> port)   å¢åŠ ä¸€ä¸ªåç§»é‡ï¼Œä»è¯¥ä½ç½®å¼€å§‹å‘é€</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ä¼ å…¥çš„æ˜¯InetAddresså¯¹è±¡ï¼Œè€Œä¸æ˜¯Stringå½¢å¼çš„ipåœ°å€ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DatagramPacketå¯¹è±¡.getAddress()  å¾—åˆ°InetAddresså¯¹è±¡ï¼Œå‘é€ç«¯çš„å¾—åˆ°çš„æ˜¯æ¥æ”¶ç«¯çš„</span><br><span class="line">DatagramPacketå¯¹è±¡.getPort()  è¿”å›<span class="keyword">int</span>ç«¯å£å·ï¼Œå‘é€ç«¯è¿”å›æ¥æ”¶ç«¯çš„</span><br><span class="line">DatagramPacketå¯¹è±¡.getData()  è¿”å›æ¥æ”¶/å‘é€çš„æ•°æ®ï¼Œå‘é€çš„è¿”å›å‘é€çš„ï¼Œè¿”å›<span class="keyword">byte</span>[]ç±»å‹</span><br><span class="line">DatagramPacketå¯¹è±¡.getLength() è¿”å›<span class="keyword">int</span>æ¥æ”¶/å‘é€çš„æ•°æ®é•¿åº¦</span><br></pre></td></tr></table></figure>

<h3 id="DatagramSocket"><a href="#DatagramSocket" class="headerlink" title="DatagramSocket"></a>DatagramSocket</h3><p>ç”¨äºåˆ›å»ºå‘é€ç«¯å’Œæ¥æ”¶ç«¯å¯¹è±¡ï¼Œåˆ›å»ºå‘é€ç«¯å’Œæ¥æ”¶ç«¯DatagramSocketå¯¹è±¡æ—¶ï¼Œä½¿ç”¨çš„æ„é€ æ–¹æ³•ä¸åŒã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DatagramSocket(<span class="keyword">int</span> port)  ç”¨äºå‘é€ç«¯ï¼Œåœ¨åˆ›å»ºå‘é€ç«¯DatagramSocketå¯¹è±¡æ—¶ï¼Œå¯ä»¥ä¸æŒ‡å®šç«¯å£å·ï¼Œç³»ç»Ÿè¿›è¡Œåˆ†é…ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šã€‚ç”¨äºæ¥æ”¶ç«¯ï¼Œå¿…é¡»æŒ‡å®šç«¯å£å·ã€‚</span><br><span class="line">DatagramSocket(<span class="keyword">int</span> port, InetAddress addr)  æŒ‡å®šç«¯å£å·å¤–ï¼Œè¿˜æŒ‡å®šäº†ipåœ°å€ï¼Œç”¨äºè®¡ç®—æœºä¸Šæœ‰å¤šå—ç½‘å¡ï¼Œæ˜ç¡®è§„å®šæ•°æ®é€šè¿‡å“ªå—ç½‘å¡å‘å¤–å‘é€æˆ–æ¥æ”¶ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DatagramSocketå¯¹è±¡.receive(DatagramPacket p)   ç”¨äºæ¥æ”¶DatagramPacketæ•°æ®æŠ¥ï¼Œåœ¨æ¥æ”¶åˆ°æ•°æ®ä¹‹å‰ä¼šä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œå¦‚æœå‘é€æ¶ˆæ¯çš„é•¿åº¦æ¯”æ•°æ®æŠ¥é•¿ï¼Œåˆ™æ¶ˆæ¯ä¼šè¢«æˆªå–ã€‚</span><br><span class="line">DatagramSocketå¯¹è±¡.send(DatagramPacket p)   ç”¨äºå‘é€DatagramPacketæ•°æ®æŠ¥ï¼Œå…¶ä¸­åº”è¯¥åŒ…å«å‘é€çš„æ•°æ®ã€é•¿åº¦ã€æ¥æ”¶ç«¯ipã€ç«¯å£å·</span><br><span class="line">DatagramSocketå¯¹è±¡.close()   å…³é—­å½“å‰socketï¼Œé€šçŸ¥é©±åŠ¨ç¨‹åºé‡Šæ”¾ä¸ºè¿™ä¸ªsocketä¿ç•™çš„èµ„æºã€‚</span><br></pre></td></tr></table></figure>

<h3 id="UDPå®ç°"><a href="#UDPå®ç°" class="headerlink" title="UDPå®ç°"></a>UDPå®ç°</h3><p>é€šä¿¡æ—¶ï¼Œéœ€è¦æ¥æ”¶ç«¯ç¨‹åºå…ˆè¿è¡Œï¼Œæ‰èƒ½é¿å…å› å‘é€ç«¯å‘é€çš„æ•°æ®æ— æ³•æ¥æ”¶è€Œé€ æˆçš„æ•°æ®ä¸¢å¤±ã€‚</p>
<p>æ¥æ”¶ç«¯ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: UDPæ¥æ”¶ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 19:41</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPReceiver</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å®šç«¯å£å·ä¸º8900çš„æ¥æ”¶ç«¯DatagramSocketå¯¹è±¡</span></span><br><span class="line">        DatagramSocket server = <span class="keyword">new</span> DatagramSocket(<span class="number">8900</span>);</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º1024çš„å­—èŠ‚æ•°ç»„ï¼Œç”¨äºæ¥æ”¶æ•°æ®</span></span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªDatagramPacketæ•°æ®æŠ¥å¯¹è±¡ï¼Œç”¨äºå°è£…æ¥æ”¶çš„æ•°æ®</span></span><br><span class="line">        DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buf, buf.length);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;   <span class="comment">//ä½¿å¾—ä¸€ç›´å¾ªç¯æ¥æ”¶</span></span><br><span class="line">            <span class="comment">//ç­‰å¾…æ¥æ”¶æ•°æ®ï¼Œåœ¨æ²¡æœ‰æ¥æ”¶åˆ°ä¹‹å‰å¤„äºé˜»å¡çŠ¶æ€</span></span><br><span class="line">            server.receive(packet);</span><br><span class="line">            <span class="comment">//è°ƒç”¨DatagramPacketçš„æ–¹æ³•è·å¾—æ¥æ”¶åˆ°çš„ä¿¡æ¯ï¼Œå¹¶è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼</span></span><br><span class="line">            String str = <span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line">            System.out.println(packet.getAddress()+<span class="string">&quot;:&quot;</span>+packet.getPort()+<span class="string">&quot;å‘é€æ¶ˆæ¯ï¼š&quot;</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‘é€ç«¯ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: UDPå‘é€ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 20:25</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPSender</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å®šç«¯å£å·3000çš„å‘é€ç«¯DatagramSocketå¯¹è±¡</span></span><br><span class="line">        DatagramSocket client = <span class="keyword">new</span> DatagramSocket(<span class="number">3000</span>); <span class="comment">//å¯ä»¥ä¸æŒ‡å®šç«¯å£</span></span><br><span class="line">        <span class="comment">//å®šä¹‰è¦å‘é€çš„æ•°æ®</span></span><br><span class="line">        String str = <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line">        System.out.println(Arrays.toString(str.getBytes()));</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªDatagramPacketæ•°æ®æŠ¥å¯¹è±¡ï¼Œå°è£…å‘é€ç«¯ä¿¡æ¯ä»¥åŠå‘é€åœ°å€</span></span><br><span class="line">        DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(str.getBytes(),</span><br><span class="line">                str.getBytes().length, InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>), <span class="number">8900</span>);  <span class="comment">//è¿™ä¸ªä¸€å®šè¦ä¸æ¥æ”¶ç«¯ç¨‹åºè®¾ç½®ä¸€æ ·</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹å‘é€æ•°æ®...&quot;</span>);</span><br><span class="line">        client.send(packet);</span><br><span class="line">        client.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>byte[]æ•°ç»„ï¼Œé‡Œé¢å­˜çš„æ˜¯æ•°å­—ï¼Œç¼–è§£ç å˜ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<p>ç–‘é—®ï¼šbyteæ˜¯1å­—èŠ‚ï¼Œ8bitï¼Œcharæ˜¯2å­—èŠ‚ï¼Œå¦‚ä½•å¯¹åº”ï¼Ÿ</p>
<p>ä¸€ä¸ªå­—ç¬¦ç­‰äºå‡ ä¸ªå­—èŠ‚ï¼Ÿ</p>
<p>ä¸åŒçš„å­—ç¬¦æ‰€å çš„å­—èŠ‚æ˜¯ä¸åŒçš„ã€‚</p>
<p>ASCIIç ï¼š</p>
<p>ä¸€ä¸ªè‹±æ–‡å­—æ¯ï¼ˆä¸åˆ†å¤§å°å†™ï¼‰å ä¸€ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œä¸€ä¸ªä¸­æ–‡æ±‰å­—å ä¸¤ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—åºåˆ—ï¼Œåœ¨è®¡ç®—æœºä¸­ä½œä¸ºä¸€ä¸ªæ•°å­—å•å…ƒï¼Œä¸€èˆ¬ä¸º8ä½äºŒè¿›åˆ¶æ•°ï¼Œæ¢ç®—ä¸ºåè¿›åˆ¶ã€‚æœ€å°å€¼0ï¼Œæœ€å¤§å€¼255ã€‚å¦‚ä¸€ä¸ªASCIIç å°±æ˜¯ä¸€ä¸ªå­—èŠ‚ã€‚</p>
<p>UTF-8ç¼–ç ï¼š</p>
<p>ä¸€ä¸ªè‹±æ–‡å­—ç¬¦ç­‰äºä¸€ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªä¸­æ–‡ï¼ˆå«ç¹ä½“ï¼‰ç­‰äºä¸‰ä¸ªå­—èŠ‚ã€‚</p>
<p>Unicodeç¼–ç ï¼š</p>
<p>ä¸€ä¸ªè‹±æ–‡ç­‰äºä¸¤ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªä¸­æ–‡ï¼ˆå«ç¹ä½“ï¼‰ç­‰äºä¸¤ä¸ªå­—èŠ‚ã€‚</p>
<p>GBKç¼–ç ï¼š</p>
<p>ä¸­æ–‡å ä¸¤ä¸ªå­—èŠ‚ï¼Œè‹±æ–‡å 1ä¸ªå­—èŠ‚ã€‚</p>
</blockquote>
<p>UDPç¨‹åºåœ¨å‘é€æ•°æ®æ—¶æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨å°è£…åˆ°<code>DatagramPacket</code>æ•°æ®æŠ¥ä¸­è¿›è¡Œç»Ÿä¸€å‘é€çš„ï¼Œç„¶è€Œ<code>DatagramPacket</code>æ•°æ®æŠ¥ä¸€æ¬¡æ€§å…è®¸å°è£…çš„æ•°æ®é‡æ˜¯æœ‰é™åº¦çš„ï¼Œç†è®ºæœ€å¤§å€¼æ˜¯ï¼š65507ä¸ªå­—èŠ‚ï¼ˆIPæ•°æ®æŠ¥çš„æœ€å¤§é™åˆ¶65535å­—èŠ‚å‡å»IPé¦–éƒ¨çš„20å­—èŠ‚å’ŒUDPé¦–éƒ¨çš„8å­—èŠ‚ï¼‰ã€‚ä½†æ˜¯è®¸å¤šå¹³å°å®é™…çš„æœ€å¤§é™åˆ¶æ˜¯8192å­—èŠ‚ï¼ˆ8Kï¼‰ã€‚</p>
<blockquote>
<p>æ£€æŸ¥è®¡ç®—æœºä½¿ç”¨çš„ç«¯å£ï¼šnetstat -anb</p>
<p>æŠ¥é”™ï¼šnetstat: option requires an argument â€“ p</p>
<p>åœ¨Macä¸Šæ­£ç¡®ä½¿ç”¨çš„æ–¹æ³•æ˜¯ï¼šå³-féœ€è¦åŠ ä¸Šåœ°å€æ—ï¼Œ-péœ€è¦åŠ ä¸Šåè®®TCPæˆ–è€…UDPç­‰</p>
<p>aï¼‰å¦‚æœéœ€è¦æŸ¥è¯¢inetï¼Œnetstat -anvf inet</p>
<p> bï¼‰å¦‚æœéœ€è¦æŸ¥è¯¢TCPï¼Œ netstat -anvp tcp</p>
<p> bï¼‰å¦‚æœéœ€è¦æŸ¥è¯¢UDPï¼Œnetstat -anvp udp   </p>
<p>netstat -anvp tcp |grep 10001</p>
</blockquote>
<h3 id="å°é¡¹ç›®-èŠå¤©ç¨‹åº"><a href="#å°é¡¹ç›®-èŠå¤©ç¨‹åº" class="headerlink" title="å°é¡¹ç›®-èŠå¤©ç¨‹åº"></a>å°é¡¹ç›®-èŠå¤©ç¨‹åº</h3><p>æ¨¡æ‹Ÿqqä¸­ä¸¤ä¸ªç”¨æˆ·ä¸€å¯¹ä¸€èŠå¤©ï¼Œé€šè¿‡å¤šçº¿ç¨‹å®ç°å‘é€ç«¯å’Œæ¥æ”¶ç«¯åŠŸèƒ½ã€‚</p>
<p>ä¸»æœºç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: èŠå¤©ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 21:51</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatRoom1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥æœ¬æœºç«¯å£å·ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> serverPort = sc.nextInt();</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥ç›®æ ‡è®¡ç®—æœºç«¯å£å·ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> targetPort = sc.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;èŠå¤©æœåŠ¡å¯åŠ¨ï¼&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºèŠå¤©ç¨‹åºæ”¶å‘å¹³å°DatagramSocketå¯¹è±¡</span></span><br><span class="line">            DatagramSocket socket = <span class="keyword">new</span> DatagramSocket(serverPort);</span><br><span class="line">            <span class="comment">//å¯åŠ¨ä¿¡æ¯æ¥æ”¶ç«¯å’Œå‘é€ç«¯ç¨‹åº</span></span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> ChatReceiver(socket), <span class="string">&quot;æ¥æ”¶ç«¯æœåŠ¡&quot;</span>).start();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> ChatSender(socket, targetPort), <span class="string">&quot;å‘é€æœåŠ¡&quot;</span>).start();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(SocketException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥æ”¶ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: æ¥æ”¶ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 22:06</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatReceiver</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦æœ‰DatagramSocketå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> DatagramSocket server;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChatReceiver</span><span class="params">(DatagramSocket server)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.server = server;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">//å®šä¹‰ä¸€ä¸ªDatagramPacketæ•°æ®æŠ¥å¯¹è±¡ï¼Œç”¨äºå°è£…æ¥æ”¶çš„æ•°æ®</span></span><br><span class="line">            DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buf, buf.length);</span><br><span class="line">            System.out.println(<span class="string">&quot;ç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>);</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;   <span class="comment">//ä½¿å¾—ä¸€ç›´å¾ªç¯æ¥æ”¶</span></span><br><span class="line">                <span class="comment">//ç­‰å¾…æ¥æ”¶æ•°æ®ï¼Œåœ¨æ²¡æœ‰æ¥æ”¶åˆ°ä¹‹å‰å¤„äºé˜»å¡çŠ¶æ€</span></span><br><span class="line">                server.receive(packet);</span><br><span class="line">                <span class="comment">//è°ƒç”¨DatagramPacketçš„æ–¹æ³•è·å¾—æ¥æ”¶åˆ°çš„ä¿¡æ¯ï¼Œå¹¶è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼</span></span><br><span class="line">                String str = <span class="keyword">new</span> String(packet.getData(), <span class="number">0</span>, packet.getLength());</span><br><span class="line">                System.out.println(<span class="string">&quot;æ”¶åˆ°&quot;</span>+packet.getAddress()+<span class="string">&quot;:&quot;</span>+packet.getPort()+<span class="string">&quot;å‘é€çš„æ•°æ®ï¼š&quot;</span>+str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‘é€ç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.udp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: å‘é€ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-02 22:14</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatSender</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦æœ‰DatagramSocketå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> DatagramSocket client;</span><br><span class="line">    <span class="comment">//è¿˜éœ€è¦ç›®æ ‡ç«¯å£å·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> targetPort;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChatSender</span><span class="params">(DatagramSocket client, <span class="keyword">int</span> targetPort)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.client = client;</span><br><span class="line">        <span class="keyword">this</span>.targetPort = targetPort;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                String data = sc.nextLine();</span><br><span class="line">                <span class="keyword">byte</span>[] buf = data.getBytes();</span><br><span class="line">                <span class="comment">//è¿™é‡Œéœ€è¦ç›®æ ‡ipåœ°å€ï¼Œä»¥åŠç›®æ ‡ç«¯å£å·</span></span><br><span class="line">                DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buf, buf.length,</span><br><span class="line">                        InetAddress.getByName(<span class="string">&quot;127.0.0.1&quot;</span>), targetPort);</span><br><span class="line">                <span class="comment">//127.0.0.1 å’Œ localhost ä¸€æ ·ï¼Œéƒ½æ˜¯æœ¬æœº</span></span><br><span class="line">                client.send(packet);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…³äºç«¯å£å·æœ‰ç‚¹ä¹±ï¼š</p>
<p>å‘é€ç«¯ï¼šDatagramSocketä¸­å¯æŒ‡å®šä¹Ÿå¯ä¸æŒ‡å®šç«¯å£å·ã€‚DatagramPacketä¸€å®šè¦æŒ‡å®šæ¥æ”¶ç«¯çš„ipå’Œæ¥æ”¶ç«¯æ¥æ”¶ç«¯å£ã€‚</p>
<p>æ¥æ”¶ç«¯ï¼šDatagramSocketä¸€å®šè¦æŒ‡å®šæ¥æ”¶ç«¯å£ï¼ŒDatagramPacketé‡Œé¢ä¸éœ€è¦ipå’Œç«¯å£ã€‚</p>
<p>åœ¨ä¸Šé¢çš„UDPå®ç°ä¸­ï¼Œå‘é€å’Œæ¥æ”¶çš„ç«¯å£å·ä¸åŒã€‚æ˜¯å•å‘çš„ã€‚</p>
<p>è¿™ä¸ªèŠå¤©ç¨‹åºä¸­ï¼Œæ¨¡æ‹Ÿä¸¤ä¸ªä¸»æœºï¼Œä¸€ä¸ªä¸»æœºçš„å‘é€å’Œæ¥æ”¶çš„ç«¯å£æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªä¸»æœºå‘é€å’Œæ¥æ”¶çš„socketä¸€æ ·ã€‚ä½†æ˜¯ä¸¤ä¸ªç›®æ ‡ä¸»æœºçš„ç«¯å£è¦å¯¹åº”ä¸Šã€‚æ˜¯åŒå‘çš„ã€‚</p>
</blockquote>
<h2 id="TCPç¼–ç¨‹"><a href="#TCPç¼–ç¨‹" class="headerlink" title="TCPç¼–ç¨‹"></a>TCPç¼–ç¨‹</h2><p>UDPåªæœ‰å‘é€ç«¯å’Œæ¥æ”¶ç«¯ï¼Œä¸åŒºåˆ†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼Œè®¡ç®—æœºä¹‹é—´å¯ä»¥ä»»æ„åœ°å‘é€æ•°æ®ã€‚</p>
<p>TCPä¸¥æ ¼åŒºåˆ†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼Œåœ¨é€šä¿¡æ—¶ï¼Œå¿…é¡»å…ˆç”±å®¢æˆ·ç«¯å»è¿æ¥æœåŠ¡å™¨ç«¯æ‰èƒ½å®ç°é€šä¿¡ï¼ŒæœåŠ¡å™¨ç«¯ä¸ä¼šä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯ã€‚</p>
<p>JDKæä¾›ServerSocketç±»è¡¨ç¤ºæœåŠ¡å™¨ç«¯ï¼ŒSocketç±»è¡¨ç¤ºå®¢æˆ·ç«¯ã€‚é€šä¿¡æ—¶ï¼Œé¦–å…ˆåˆ›å»ºä»£è¡¨æœåŠ¡å™¨ç«¯çš„ServerSocketå¯¹è±¡ï¼Œå¼€å¯ä¸€ä¸ªæœåŠ¡ï¼Œå¹¶ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼›ç„¶ååˆ›å»ºSocketå¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯ï¼Œå‘æœåŠ¡å™¨ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ã€‚æœåŠ¡å™¨ç«¯å“åº”è¯·æ±‚ï¼Œä¸¤è€…å»ºç«‹è¿æ¥åæ­£å¼è¿›è¡Œé€šä¿¡ã€‚</p>
<h3 id="ServerSocket"><a href="#ServerSocket" class="headerlink" title="ServerSocket"></a>ServerSocket</h3><p>java.netåŒ…ä¸­ï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯ï¼Œéœ€è¦è‡ªå·±ç«¯å£å·ï¼Œæ„é€ æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>ServerSocket()   <span class="comment">//æ²¡æœ‰æŒ‡å®šç«¯å£å·ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦bind(SocketAddress endpoint)æ–¹æ³•å°†å…¶ç»‘å®šåˆ°æŒ‡å®šç«¯å£å·ã€‚</span></span><br><span class="line"><span class="number">2.</span>ServerSocket(<span class="keyword">int</span> port)   <span class="comment">//æŒ‡å®šç«¯å£ï¼Œå¦‚æœå‚æ•°æ˜¯0ï¼Œç³»ç»Ÿä¼šåˆ†é…ä¸€ä¸ªæœªè¢«å ç”¨çš„ç«¯å£å·ï¼Œå¹¶ä¸å¸¸ç”¨ï¼Œå› ä¸ºå®¢æˆ·ç«¯éœ€è¦çŸ¥é“ç«¯å£å·ã€‚ï¼ˆæœ€å¸¸ç”¨ï¼‰</span></span><br><span class="line"><span class="number">3.</span>ServerSocket(<span class="keyword">int</span> port, <span class="keyword">int</span> backlog)  <span class="comment">//backlogè¡¨ç¤ºåœ¨æœåŠ¡å™¨å¿™æ—¶ï¼Œå¯ä¸ä¹‹ä¿æŒè¿æ¥è¯·æ±‚çš„ç­‰å¾…å®¢æˆ·ç«¯æ•°é‡ã€‚é»˜è®¤50ã€‚</span></span><br><span class="line"><span class="number">4.</span>ServerSocket(<span class="keyword">int</span> port, <span class="keyword">int</span> backlog, InetAddress bindAddr)  <span class="comment">//åœ¨å¤šç½‘å¡æƒ…å†µä¸‹ä½¿ç”¨ï¼ŒæŒ‡å®šä½¿ç”¨æœåŠ¡å™¨çš„å“ªä¸ªip</span></span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServerSocketå¯¹è±¡.accept()   <span class="comment">//ç­‰å¾…ä¸å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œä¸å®¢æˆ·ç«¯è¿æ¥ä¹‹å‰ä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ï¼Œå¦‚æœæœ‰è¿æ¥å°±è¿”å›ä¸ä¹‹è¿æ¥çš„å®¢æˆ·ç«¯Socketå¯¹è±¡</span></span><br><span class="line">ServerSocketå¯¹è±¡.getInetAddress()   <span class="comment">//è¿”å›ä¸€ä¸ªInetAddresså¯¹è±¡ï¼Œè¡¨ç¤ºServerSocketç»‘å®šçš„ip</span></span><br><span class="line">ServerSocketå¯¹è±¡.isClosed()   <span class="comment">//è¿”å›booleanï¼Œåˆ¤æ–­ServerSocketå¯¹è±¡æ˜¯å¦ä¸ºå…³é—­çŠ¶æ€</span></span><br><span class="line">ServerSocketå¯¹è±¡.bindï¼ˆSocketAddress endpointï¼‰  <span class="comment">//æ— è¿”å›ï¼Œå°†ServerSocketå¯¹è±¡ç»‘å®šåˆ°æŒ‡å®šipå’Œç«¯å£</span></span><br></pre></td></tr></table></figure>

<h3 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h3><p>ç”¨äºå®ç°TCPå®¢æˆ·ç«¯ç¨‹åºï¼Œéœ€è¦ç›®æ ‡ipå’Œç«¯å£å·ï¼ˆæœ¬æœºç«¯å£å·å‘¢ï¼Ÿï¼‰ï¼Œæ„é€ æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>Socket()  <span class="comment">//æ²¡æœ‰æŒ‡å®šipå’Œç«¯å£å·ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦è°ƒç”¨connect(SocketAddress endpoint)æ–¹æ³•å®Œæˆä¸æŒ‡å®šæœåŠ¡å™¨ç«¯çš„è¿æ¥ï¼Œå‚æ•°endpointå°è£…äº†ipåœ°å€å’Œç«¯å£å·ã€‚</span></span><br><span class="line"><span class="number">2.</span>Socket(String host, <span class="keyword">int</span> port)   <span class="comment">//hostè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ipåœ°å€</span></span><br><span class="line"><span class="number">3.</span>Socket(InetAddress add, <span class="keyword">int</span> port)   <span class="comment">//addå°è£…ip</span></span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>Socketå¯¹è±¡.getPort()  <span class="comment">//è¿”å›intï¼Œè·å¾—Socketè¿æ¥çš„è¿œç¨‹æœåŠ¡å™¨çš„ç«¯å£å·</span></span><br><span class="line"><span class="number">2.</span>Socketå¯¹è±¡.getLocalAddress()   <span class="comment">//è¿”å›Socketå¯¹è±¡ç»‘å®šçš„æœ¬åœ°ip</span></span><br><span class="line"><span class="number">3.</span>Socketå¯¹è±¡.close()  <span class="comment">//æ— è¿”å›ï¼Œå…³é—­Socketè¿æ¥ï¼Œå…³é—­ä¹‹å‰ï¼Œå…ˆå…³é—­æ‰€æœ‰è¾“å…¥è¾“å‡ºæµ</span></span><br><span class="line"><span class="number">4.</span>Socketå¯¹è±¡.getInputStream()  <span class="comment">//è¿”å›ä¸€ä¸ªInputStreamç±»å‹çš„è¾“å…¥æµå¯¹è±¡ã€‚æœåŠ¡å™¨ç«¯çš„Socketè°ƒç”¨ï¼Œç”¨äºè·å–æ¥è‡ªå®¢æˆ·ç«¯å‘é€çš„æ•°æ®ã€‚å®¢æˆ·ç«¯çš„Socketè°ƒç”¨ï¼Œç”¨äºè·å–æ¥è‡ªæœåŠ¡ç«¯å‘é€çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="number">5.</span>Socketå¯¹è±¡.getOutputStream()  <span class="comment">//è¿”å›ä¸€ä¸ªOutputStreamç±»å‹çš„è¾“å‡ºæµå¯¹è±¡ã€‚æœåŠ¡å™¨ç«¯çš„Socketè°ƒç”¨ï¼Œç”¨äºå‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€‚å®¢æˆ·ç«¯çš„Socketè°ƒç”¨ï¼Œç”¨äºå‘æœåŠ¡ç«¯å‘é€æ•°æ®ã€‚</span></span><br></pre></td></tr></table></figure>

<p>å½“å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥åï¼Œæ•°æ®æ˜¯ä»¥I/Oæµçš„å½¢å¼è¿›è¡Œäº¤äº’çš„ã€‚</p>
<p>è¾“å…¥æµå’Œè¾“å‡ºæµçš„æ–¹æ³•éƒ½æ˜¯Socketå¯¹è±¡è°ƒç”¨çš„ï¼Œæ— è®ºå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯ä¸­ï¼Œéƒ½æœ‰Socketå¯¹è±¡ã€‚è¾“å…¥æµç”¨æ¥è·å–è¾“å…¥åˆ°æœ¬æœºçš„æ•°æ®ï¼Œreadæ–¹æ³•ã€‚è¾“å‡ºæµç”¨æ¥å‘å¦ä¸€å°è¾“å‡ºæ•°æ®ï¼Œwriteæ–¹æ³•ã€‚</p>
<h3 id="TCPå®ç°"><a href="#TCPå®ç°" class="headerlink" title="TCPå®ç°"></a>TCPå®ç°</h3><p>æœåŠ¡å™¨ç«¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: TCPæœåŠ¡å™¨ç«¯å®ç°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-03 11:23</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæŒ‡å®šç«¯å£å·çš„æœåŠ¡ç«¯ServerSocketå¯¹è±¡</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">7788</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//è°ƒç”¨acceptæ–¹æ³•å¼€å§‹æ¥æ”¶æ•°æ®</span></span><br><span class="line">            Socket client = server.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;acceptè¿”å›ï¼Œè¿æ¥æˆåŠŸã€‚&quot;</span>);</span><br><span class="line">            <span class="comment">//å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œwriteæ–¹æ³•</span></span><br><span class="line">            OutputStream os = client.getOutputStream();</span><br><span class="line">            <span class="comment">//å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œç”¨å®¢æˆ·ç«¯çš„è¾“å‡ºæµ</span></span><br><span class="line">            os.write((<span class="string">&quot;æˆ‘æ˜¯æœåŠ¡ç«¯ã€‚&quot;</span>).getBytes());</span><br><span class="line">            <span class="comment">//æ¨¡æ‹Ÿäº¤äº’è€—æ—¶</span></span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">            <span class="comment">//å…³é—­æµå’ŒSocketè¿æ¥</span></span><br><span class="line">            os.close();</span><br><span class="line">            client.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>clientï¼ˆSocketç±»å‹çš„å¯¹è±¡ï¼‰ç”¨äºè¡¨ç¤ºå®¢æˆ·ç«¯ï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯ä»¥è·å–ä¸å®¢æˆ·ç«¯å…³è”çš„è¾“å‡ºæµå¹¶å‘å®¢æˆ·ç«¯å‘é€ä¿¡æ¯ã€‚</p>
<p>å®¢æˆ·ç«¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.SocketHandler;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: TCPå®¢æˆ·ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-03 13:01</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªSocketå¹¶è¿æ¥åˆ°æŒ‡å®šçš„æœåŠ¡ç«¯</span></span><br><span class="line">        Socket client = <span class="keyword">new</span> Socket(InetAddress.getLocalHost(), <span class="number">7788</span>);</span><br><span class="line">        <span class="comment">//è·å–è¾“å…¥åˆ°æœ¬æœºçš„æ•°æ®ï¼Œå¹¶æ‰“å°ï¼Œç”¨readæ–¹æ³•</span></span><br><span class="line">        InputStream is = client.getInputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = is.read(buf);</span><br><span class="line">        <span class="keyword">while</span>(len!=-<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(buf, <span class="number">0</span>, len));</span><br><span class="line">            len = is.read(buf);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…³é—­æµå’ŒSocketè¿æ¥</span></span><br><span class="line">        is.close();</span><br><span class="line">        client.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šï¼Œä¸€å°ä¸»æœºä¸¤ä¸ªç«¯å£åˆ†åˆ«æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ç­‰å¾…è¿æ¥ï¼Œå®¢æˆ·ç«¯è¿æ¥æˆåŠŸåï¼ŒæœåŠ¡ç«¯çŸ¥é“äº†è‡ªå·±è¾“å‡ºè¿æ¥æˆåŠŸã€‚ç„¶åæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯ä¼ è¾“æˆ‘æ˜¯æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯å¹¶æ²¡æœ‰å‘æœåŠ¡ç«¯ä¼ è¾“ã€‚æœåŠ¡ç«¯ â€“&gt; å®¢æˆ·ç«¯ã€‚   æœåŠ¡ç«¯éœ€è¦æŒ‡å®šç«¯å£å·ï¼Œå®¢æˆ·ç«¯éœ€è¦æŒ‡å®šè¦è¿æ¥çš„ç›®æ ‡çš„ipå’Œç«¯å£å·ï¼ˆå’ŒæœåŠ¡ç«¯ç«¯å£å·ä¸€æ ·ï¼‰ã€‚å®¢æˆ·ç«¯ä¸éœ€è¦è‡ªå·±çš„ç«¯å£å·ï¼Ÿç³»ç»Ÿè‡ªå·±ç»™å®¢æˆ·ç«¯ç«¯å£ã€‚</p>
<p>ä»¥ä¸Šæ¶‰åŠåˆ°IOæ“ä½œã€‚</p>
<h3 id="å¤šçº¿ç¨‹çš„TCPç½‘ç»œç¨‹åº"><a href="#å¤šçº¿ç¨‹çš„TCPç½‘ç»œç¨‹åº" class="headerlink" title="å¤šçº¿ç¨‹çš„TCPç½‘ç»œç¨‹åº"></a>å¤šçº¿ç¨‹çš„TCPç½‘ç»œç¨‹åº</h3><p>ä¸Šé¢çš„å®ç°æ˜¯ï¼šä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºè¯·æ±‚æœåŠ¡å™¨ç«¯æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¼šç»“æŸé˜»å¡çŠ¶æ€ï¼Œå®Œæˆç¨‹åºçš„è¿è¡Œã€‚å®é™…ä¸Šï¼ŒæœåŠ¡å™¨ç«¯ç¨‹åºå…è®¸å¤šä¸ªåº”ç”¨ç¨‹åºè®¿é—®ï¼ŒæœåŠ¡å™¨ç«¯éƒ½æ˜¯å¤šçº¿ç¨‹çš„ã€‚</p>
<p>æœåŠ¡å™¨ç«¯ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„Socketå¯¹è±¡ï¼Œå¹¶ä¸”å¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹ä½¿ä¸¤ä¸ªSocketå»ºç«‹ä¸“çº¿è¿›è¡Œé€šä¿¡ã€‚</p>
<p>æœåŠ¡ç«¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.threadtcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: webproject</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: å¤šçº¿ç¨‹TCPæœåŠ¡ç«¯ç¨‹åº</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-03 20:06</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTCPServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæŒ‡å®šç«¯å£å·çš„æœåŠ¡ç«¯ServerSocketå¯¹è±¡</span></span><br><span class="line">        ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">7789</span>);</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//è°ƒç”¨acceptæ–¹æ³•å¼€å§‹æ¥æ”¶æ•°æ®</span></span><br><span class="line">            Socket client = server.accept();</span><br><span class="line">            <span class="comment">//é’ˆå¯¹æ¯ä¸ªå®¢æˆ·ç«¯è¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè¿æ¥ç®¡ç†</span></span><br><span class="line">            Thread thread = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    <span class="keyword">int</span> port = client.getPort();</span><br><span class="line">                    System.out.println(<span class="string">&quot;ä¸ç«¯å£å·ä¸º&quot;</span>+port+<span class="string">&quot;çš„å®¢æˆ·ç«¯è¿æ¥æˆåŠŸï¼&quot;</span>);</span><br><span class="line">                    OutputStream os = client.getOutputStream();</span><br><span class="line">                    <span class="comment">//å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œç”¨è¾“å‡ºæµï¼ˆä¸åº”è¯¥ç”¨æœåŠ¡ç«¯çš„è¾“å‡ºæµå—ï¼Ÿï¼‰</span></span><br><span class="line">                    os.write((<span class="string">&quot;æˆ‘æ˜¯æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å‘ä½ é—®å¥½ã€‚&quot;</span>).getBytes());</span><br><span class="line">                    <span class="comment">//æ¨¡æ‹Ÿäº¤äº’è€—æ—¶</span></span><br><span class="line">                    Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;ç»“æŸä¸å®¢æˆ·ç«¯æ•°æ®äº¤äº’ã€‚&quot;</span>);</span><br><span class="line">                    <span class="comment">//å…³é—­æµå’ŒSocketè¿æ¥</span></span><br><span class="line">                    os.close();</span><br><span class="line">                    client.close();</span><br><span class="line">                &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//æ‰§è¡Œçº¿ç¨‹ç±»ï¼Œä¸å®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’</span></span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®¢æˆ·ç«¯ç¨‹åºæ²¡å˜ï¼Œæä¸‰ä¸ªå®¢æˆ·ç«¯è¿›è¡Œæµ‹è¯•ã€‚åŒæ ·åªæ˜¯æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€‚</p>
<h3 id="å°é¡¹ç›®-æ–‡ä»¶ä¸Šä¼ "><a href="#å°é¡¹ç›®-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="å°é¡¹ç›®-æ–‡ä»¶ä¸Šä¼ "></a>å°é¡¹ç›®-æ–‡ä»¶ä¸Šä¼ </h3><p>å®ç°å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å›¾ç‰‡ï¼ŒæœåŠ¡ç«¯æ¥æ”¶å›¾ç‰‡å¹¶ä¿å­˜ã€‚ç•¥ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>servletå…¥é—¨</title>
    <url>/2022/03/19/myblog/JAVA/servlet/</url>
    <content><![CDATA[<h3 id="1-Httpåè®®"><a href="#1-Httpåè®®" class="headerlink" title="1.Httpåè®®"></a>1.Httpåè®®</h3><p>HTTPåè®®çš„ç‰¹ç‚¹<br>1.æ”¯æŒå®¢æˆ· / æœåŠ¡å™¨æ¨¡å¼<br>2.ç®€å•å¿«é€Ÿ<br>3.çµæ´»<br>4.æ— è¿æ¥ï¼ŒHTTP1.1 ç‰ˆæœ¬åæ”¯æŒå¯æŒç»­è¿æ¥<br>5.æ— çŠ¶æ€</p>
<p>HTTP url:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">http:<span class="comment">//host[:port]/[abs_path]</span></span><br><span class="line">http:<span class="comment">//IP(ä¸»æœºå/åŸŸå):ç«¯å£/è®¿é—®çš„èµ„æºè·¯å¾„</span></span><br></pre></td></tr></table></figure>

<ul>
<li>http è¡¨ç¤ºé€šè¿‡HTTPåè®®æ¥å®šä½ç½‘ç»œèµ„æº</li>
<li>host è¡¨ç¤ºåˆæ³•çš„ Internet ä¸»æœºåæˆ–è€… ip åœ°å€</li>
<li>port æŒ‡ä¸€ä¸ªç«¯å£å·ï¼Œä¸ºç©ºåˆ™ä¸º 80</li>
<li>abs_path æŒ‡å®šè¯·æ±‚çš„ URL</li>
</ul>
<h4 id="HTTP-è¯·æ±‚"><a href="#HTTP-è¯·æ±‚" class="headerlink" title="HTTP è¯·æ±‚"></a>HTTP è¯·æ±‚</h4><ul>
<li>httpè¯·æ±‚ç”±è¯·æ±‚è¡Œã€<strong>è¯·æ±‚å¤´</strong>ã€è¯·æ±‚æ­£æ–‡ç»„æˆã€‚<ul>
<li>è¯·æ±‚ä½“ç¬¬ä¸€è¡Œå°±æ˜¯è¯·æ±‚è¡Œï¼›è¯·æ±‚è¡Œç”±è¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚è·¯å¾„ã€è¯·æ±‚åè®®ç‰ˆæœ¬ä¸‰éƒ¨åˆ†ç»„æˆ</li>
<li>è¯·æ±‚å¤´æŒ‡ä¸€è¡Œä¸€è¡Œçš„é”®å€¼å¯¹</li>
<li>æ­£æ–‡å³æ˜¯å†…å®¹ï¼›GETè¯·æ±‚æ²¡æœ‰æ­£æ–‡ï¼Œå…¶å†…å®¹ç›´æ¥è·Ÿåœ¨åœ°å€åé¢</li>
</ul>
</li>
</ul>
<h4 id="HTTP-å“åº”"><a href="#HTTP-å“åº”" class="headerlink" title="HTTP å“åº”"></a>HTTP å“åº”</h4><ul>
<li>åœ¨æ¥æ”¶å’Œè§£é‡Šè¯·æ±‚æ¶ˆæ¯åï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”æ¶ˆæ¯ã€‚HTTP å“åº”ç”±çŠ¶æ€è¡Œã€æ¶ˆæ¯æŠ¥å¤´ã€å“åº”æ­£æ–‡ç»„æˆ<ul>
<li>çŠ¶æ€è¡Œç”±åè®®ç‰ˆæœ¬ã€çŠ¶æ€ç ã€è¯·æ±‚ç»“æœç»„æˆ</li>
<li>æ¶ˆæ¯æŠ¥å¤´ä¸è¯·æ±‚å¤´å¤§è‡´ç›¸åŒ</li>
<li>å“åº”æ­£æ–‡å°±æ˜¯æµè§ˆå™¨å‘ˆç°çš„å†…å®¹</li>
</ul>
</li>
</ul>
<h4 id="æ¶ˆæ¯å¤´"><a href="#æ¶ˆæ¯å¤´" class="headerlink" title="æ¶ˆæ¯å¤´"></a>æ¶ˆæ¯å¤´</h4><p>â€ƒâ€ƒHTTPæ¶ˆæ¯ç”±å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è¯·æ±‚å’ŒæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å“åº”ç»„æˆï¼Œè¯·æ±‚æ¶ˆæ¯å’Œå“åº”æ¶ˆæ¯éƒ½æ˜¯ç”±å¼€å§‹è¡Œï¼ˆå¯¹äºè¯·æ±‚æ¶ˆæ¯ï¼Œ å¼€å§‹è¡Œå°±æ˜¯è¯·æ±‚è¡Œï¼›å“åº”æ¶ˆæ¯åˆ™æ˜¯çŠ¶æ€è¡Œï¼‰ï¼Œæ¶ˆæ¯æŠ¥å¤´ï¼Œç©ºè¡Œï¼Œæ¶ˆæ¯æ­£æ–‡ï¼ˆå¯é€‰ï¼‰ç»„æˆ</p>
<p>â€ƒâ€ƒæ¯ä¸€ä¸ªæŠ¥å¤´åŸŸéƒ½æ˜¯ç”± åå­—+â€:â€+ç©ºæ ¼+å€¼ ç»„æˆï¼Œæ¶ˆæ¯æŠ¥å¤´åŸŸçš„åå­—æ˜¯å¤§å°å†™æ— å…³çš„</p>
<p>1.è¯·æ±‚å¤´ï¼š</p>
<p>â€ƒâ€ƒè¯·æ±‚æŠ¥å¤´å…è®¸å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€’è¯·æ±‚çš„é™„åŠ ä¿¡æ¯ä»¥åŠå®¢æˆ·ç«¯è‡ªèº«çš„ä¿¡æ¯ï¼Œæ— æ³•é€šè¿‡å‚æ•°æ¥ä¼ é€’çš„ç”¨è¯·æ±‚å¤´ã€‚</p>
<ul>
<li><p>refererï¼š è¯¥è¯·æ±‚å¤´æŒ‡æ˜è¯·æ±‚ä»å“ªé‡Œæ¥</p>
<p> æ­¤è¯·æ±‚å¤´åé¢æ¥çš„å€¼ä¸ºä¸Šä¸€ä¸ªé¡µé¢çš„URLåœ°å€ï¼Œé€šå¸¸ç”¨æ¥åšç»Ÿè®¡ã€é˜²ç›—é“¾ã€‚å¦‚æœæ˜¯ä»æµè§ˆå™¨åœ°å€æ ç›´æ¥è¾“å…¥è¿›è¡Œè®¿é—®çš„ï¼Œéƒ½æ²¡æœ‰è¯¥è¯·æ±‚å¤´ã€‚ä¾‹å¦‚ç™¾åº¦çš„å¹¿å‘Šï¼Œæœä¸€ä¸ªä¸œè¥¿ï¼Œå‡ºç°å¹¿å‘Šå­—æ ·çš„è¿æ¥ï¼Œç‚¹å‡»ä¼šè®°å½•æ˜¯ä»ç™¾åº¦æœç´¢è¿›æ¥çš„ã€‚ä¾‹å¦‚é‚€è¯·å¥½å‹ï¼Œç”¨æ¥è®°å½•æ˜¯è°é‚€è¯·è¿›æ¥çš„ã€‚ä¾‹å¦‚ä»aé¡µé¢åˆ°dé¡µé¢ï¼Œå¿…é¡»è¦ç»è¿‡bé¡µé¢å’Œcé¡µé¢ï¼Œé˜²ç›—é“¾ã€‚</p>
</li>
</ul>
<p>2.å“åº”å¤´</p>
<p>â€ƒâ€ƒå“åº”æŠ¥å¤´å…è®¸æœåŠ¡å™¨ä¼ é€’ä¸èƒ½æ”¾åœ¨çŠ¶æ€è¡Œä¸­çš„é™„åŠ å“åº”æ¶ˆæ¯ï¼Œä»¥åŠå…³äºæœåŠ¡å™¨çš„ä¿¡æ¯å’Œå¯¹Request-URLæ‰€æ ‡è¯†çš„èµ„æºè¿›è¡Œä¸‹ä¸€æ­¥è®¿é—®çš„ä¿¡æ¯</p>
<ul>
<li>locationï¼ˆé‡å®šå‘ï¼‰ï¼šlocation å“åº”æŠ¥å¤´åŸŸç”¨äºé‡å®šå‘æ¥æ”¶è€…åˆ°ä¸€ä¸ªæ–°ä½ç½®</li>
</ul>
<p>â€ƒâ€ƒlocationå“åº”æŠ¥å¤´åŸŸï¼Œå¸¸ç”¨åœ¨æœåŠ¡å™¨æ›´æ¢åŸŸåæ—¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.sendRedirect(<span class="string">&quot;http://www.baidu.com&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>refreshï¼šç¬¬ä¸€ç§æ˜¯å®šæ—¶è‡ªåŠ¨è·³è½¬åˆ° [url]æŒ‡å®šçš„é¡µé¢ï¼ˆå•ä½ä¸ºç§’ï¼‰ï¼ˆ307é‡å®šå‘è¿‡æ¥çš„ï¼‰ï¼Œå¯ä»¥åœ¨htmlé¡µé¢é€šè¿‡metaæ ‡ç­¾å®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨åå°å®ç°ï¼›ç¬¬äºŒç§æ˜¯ä¸å¸¦ [url] æ˜¯æŒ‡æ¯ [content] ç§’åˆ·æ–°ä¸€æ¬¡é¡µé¢    </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;meta http-equiv=<span class="string">&quot;refresh&quot;</span> content=<span class="string">&quot;3;url=http://www.baidu.com&quot;</span>&gt;</span><br></pre></td></tr></table></figure>



<h3 id="2-servletæ¦‚è¿°"><a href="#2-servletæ¦‚è¿°" class="headerlink" title="2.servletæ¦‚è¿°"></a>2.servletæ¦‚è¿°</h3><p>Servlet æ˜¯ Server ä¸ Applet çš„ç¼©å†™ï¼Œæ˜¯æœåŠ¡ç«¯å°ç¨‹åºçš„æ„æ€ã€‚ä½¿ç”¨ Java è¯­è¨€ç¼–å†™çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œå¯ä»¥ç”ŸæˆåŠ¨æ€çš„ WEB é¡µï¼ŒServlet ä¸»è¦è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œå¹¶ç”±æœåŠ¡å™¨è°ƒç”¨æ‰§è¡Œï¼Œ æ˜¯ä¸€ç§æŒ‰ç…§ Servlet æ ‡å‡†æ¥å¼€å‘çš„ç±»ã€‚ æ˜¯ SUN å…¬å¸æä¾›çš„ä¸€é—¨ç”¨äºå¼€å‘åŠ¨æ€ Web èµ„æºçš„æŠ€æœ¯ã€‚ï¼ˆè¨€å¤–ä¹‹æ„ï¼šè¦å®ç° web å¼€å‘ï¼Œéœ€è¦å®ç° Servlet æ ‡å‡†ï¼‰</p>
<p>Servlet æœ¬è´¨ä¸Šä¹Ÿæ˜¯ Java ç±»ï¼Œä½†è¦éµå¾ª Servlet è§„èŒƒè¿›è¡Œç¼–å†™ï¼Œæ²¡æœ‰ main()æ–¹æ³•ï¼Œå®ƒçš„åˆ›å»ºã€ä½¿ç”¨ã€é”€æ¯éƒ½ç”± Servletå®¹å™¨è¿›è¡Œç®¡ç†(å¦‚ Tomcat)ã€‚ï¼ˆè¨€å¤–ä¹‹æ„ï¼šå†™è‡ªå·±çš„ç±»ï¼Œä¸ç”¨å†™ main æ–¹æ³•ï¼Œåˆ«äººè‡ªåŠ¨è°ƒç”¨ï¼‰</p>
<p>Servlet æ˜¯å’Œ HTTP åè®®æ˜¯ç´§å¯†è”ç³»çš„ï¼Œå…¶å¯ä»¥å¤„ç† HTTP åè®®ç›¸å…³çš„æ‰€æœ‰å†…å®¹ã€‚è¿™ä¹Ÿæ˜¯ Servlet åº”ç”¨å¹¿æ³›çš„åŸå› ä¹‹ä¸€ã€‚<br>æä¾›äº† Servlet åŠŸèƒ½çš„æœåŠ¡å™¨ï¼Œå«åš Servlet å®¹å™¨ï¼Œå…¶å¸¸è§å®¹å™¨æœ‰å¾ˆå¤šï¼Œå¦‚ Tomcat, Jetty, WebLogic Server, WebSphere, JBoss ç­‰ç­‰ã€‚</p>
<p><strong>tomcatå’Œservletçš„å…³ç³»</strong></p>
<p>Tomcat æ˜¯Webåº”ç”¨æœåŠ¡å™¨,æ˜¯ä¸€ä¸ªServlet/JSPå®¹å™¨. Tomcat ä½œä¸ºServletå®¹å™¨,è´Ÿè´£å¤„ç†å®¢æˆ·è¯·æ±‚,æŠŠè¯·æ±‚ä¼ é€ç»™Servlet,å¹¶å°†Servletçš„å“åº”ä¼ é€å›ç»™å®¢æˆ·.è€ŒServletæ˜¯ä¸€ç§è¿è¡Œåœ¨æ”¯æŒJavaè¯­è¨€çš„æœåŠ¡å™¨ä¸Šçš„ç»„ä»¶ã€‚</p>
<h3 id="3-ä½¿ç”¨servlet"><a href="#3-ä½¿ç”¨servlet" class="headerlink" title="3.ä½¿ç”¨servlet"></a>3.ä½¿ç”¨servlet</h3><h4 id="3-1-æ–°å»ºwebé¡¹ç›®"><a href="#3-1-æ–°å»ºwebé¡¹ç›®" class="headerlink" title="3.1.æ–°å»ºwebé¡¹ç›®"></a>3.1.æ–°å»ºwebé¡¹ç›®</h4><p>åˆ›å»ºwebå·¥ç¨‹ï¼Œjava enterprise - web applicationï¼Œå¼•å…¥jdkã€tomcatã€‚</p>
<h4 id="3-2-å®ç°servletè§„èŒƒ"><a href="#3-2-å®ç°servletè§„èŒƒ" class="headerlink" title="3.2.å®ç°servletè§„èŒƒ"></a>3.2.å®ç°servletè§„èŒƒ</h4><p>å®ç° Servlet è§„èŒƒï¼Œå³ç»§æ‰¿ HttpServlet ç±»ï¼ˆtomcaté‡Œçš„jaråŒ…æ”¯æŒçš„ï¼‰ï¼Œè¯¥ç±»ä¸­å·²ç»å®Œæˆäº†é€šä¿¡çš„è§„åˆ™ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡Œä¸šåŠ¡çš„å®ç°å³å¯ã€‚</p>
<p><strong>é‡å†™ service æ–¹æ³•</strong><br>æ»¡è¶³ Servlet è§„èŒƒåªæ˜¯è®©æˆ‘ä»¬çš„ç±»èƒ½å¤Ÿæ»¡è¶³æ¥æ”¶è¯·æ±‚çš„è¦æ±‚ï¼Œæ¥æ”¶åˆ°è¯·æ±‚åéœ€è¦å¯¹è¯·æ±‚è¿›è¡Œåˆ†æï¼Œä»¥åŠè¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œè®¡ç®—å‡ºç»“æœï¼Œåˆ™éœ€è¦æ·»åŠ ä»£ç ï¼Œåœ¨è§„èŒƒä¸­æœ‰ä¸€ä¸ªå«åš serviceçš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥åšè¯·æ±‚å¤„ç†çš„æ“ä½œï¼Œä¸šåŠ¡ä»£ç åˆ™å¯ä»¥å†™åœ¨è¯¥æ–¹æ³•ä¸­ã€‚</p>
<p><strong>é€šè¿‡æ³¨è§£è®¾ç½®è·¯å¾„</strong></p>
<p>åœ¨å®Œæˆå¥½äº†ä¸€åˆ‡ä»£ç çš„ç¼–å†™åï¼Œè¿˜éœ€è¦å‘æœåŠ¡å™¨è¯´æ˜ï¼Œç‰¹å®šè¯·æ±‚å¯¹åº”ç‰¹å®šèµ„æºã€‚</p>
<p>å¼€å‘servleté¡¹ç›®ï¼Œä½¿ç”¨@WebServletå°†ä¸€ä¸ªç»§æ‰¿äºjavax.servlet.http.HttpServlet çš„ç±»å®šä¹‰ä¸ºServletç»„ä»¶ã€‚åœ¨Servlet3.0 ä¸­ ï¼Œ å¯ä»¥ä½¿ç”¨@WebServletæ³¨è§£å°†ä¸€ä¸ªç»§æ‰¿javax.servlet.http.HttpServletçš„ç±»æ ‡æ³¨ä¸ºå¯ä»¥å¤„ç†ç”¨æˆ·è¯·æ±‚çš„Servletã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nameå¯å†™å¯ä¸å†™ï¼Œvalueè¿‡æ»¤å™¨ä¼šæ‹¦æˆªï¼ŒurlPatternsè¿‡æ»¤å™¨ä¸ä¼šæ‹¦æˆª</span><br><span class="line"><span class="meta">@WebServlet(name=&quot;Servlet01&quot;,value=&quot;/ser01&quot;)</span> </span><br><span class="line"><span class="meta">@WebServlet(name=&quot;Servlet01&quot;,urlPatterns = &quot;/ser01&quot;)</span></span><br><span class="line">ä¹Ÿå¯ä»¥é…ç½®å¤šä¸ªè·¯å¾„ï¼š</span><br><span class="line"><span class="meta">@WebServlet(name=&quot;Servlet01&quot;,value=&#123;&quot;/ser01&quot;,&#x27;/ser001&#x27;&#125;)</span> </span><br><span class="line"><span class="meta">@WebServlet(name=&quot;Servlet01&quot;,urlPatterns=&#123;&quot;/ser01&quot;,&#x27;/ser001&#x27;&#125;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-19 17:00</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser01&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet1</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello Servlet!&quot;</span>);</span><br><span class="line">        resp.getWriter().write(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-å‘å¸ƒé¡¹ç›®å¹¶å¯åŠ¨æœåŠ¡"><a href="#3-3-å‘å¸ƒé¡¹ç›®å¹¶å¯åŠ¨æœåŠ¡" class="headerlink" title="3.3.å‘å¸ƒé¡¹ç›®å¹¶å¯åŠ¨æœåŠ¡"></a>3.3.å‘å¸ƒé¡¹ç›®å¹¶å¯åŠ¨æœåŠ¡</h4><p>åˆ°æ­¤ï¼Œéœ€è¦ç¼–å†™å’Œé…ç½®çš„åœ°æ–¹å·²ç»å®Œæˆï¼Œé¡¹ç›®å·²ç»å®Œæ•´äº†ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å¤–ç•Œèƒ½å¤Ÿè®¿é—®ï¼Œ è¿˜éœ€è¦å°†é¡¹ç›®å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šå¹¶è¿è¡ŒæœåŠ¡å™¨ã€‚</p>
<p>è®¾ç½®tomcaté…ç½®ï¼Œè®¾ç½®é¡¹ç›®çš„ç«™ç‚¹åï¼ˆé¡¹ç›®å¯¹å¤–è®¿é—®è·¯å¾„ï¼‰</p>
<p>é…ç½®ä¸­é€‰deploymentæ›´æ”¹ç«™ç‚¹åã€‚</p>
<p>ç„¶åå¯åŠ¨å°±å¯ä»¥è®¿é—®é¡µé¢ã€‚</p>
<p><a href="http://localhost:8080/servlet_demo/ser01">http://localhost:8080/servlet_demo/ser01</a></p>
<p>tomcatæœ‰ä¸ªç»¿ç‚¹è¡¨ç¤ºæ­£åœ¨è¿è¡Œã€‚</p>
<h3 id="4-servletå·¥ä½œæµç¨‹"><a href="#4-servletå·¥ä½œæµç¨‹" class="headerlink" title="4.servletå·¥ä½œæµç¨‹"></a>4.servletå·¥ä½œæµç¨‹</h3><p>1.é€šè¿‡è¯·æ±‚å¤´è·çŸ¥æµè§ˆå™¨è®¿é—®çš„æ˜¯å“ªä¸ªä¸»æœº</p>
<p>2.å†é€šè¿‡è¯·æ±‚è¡Œè·å–è®¿é—®çš„æ˜¯å“ªä¸ªä¸€ä¸ªwebåº”ç”¨</p>
<p>3.å†é€šè¿‡è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚è·¯å¾„è·çŸ¥è®¿é—®çš„æ˜¯å“ªä¸ªèµ„æº</p>
<p>4.é€šè¿‡è·å–çš„èµ„æºè·¯å¾„åœ¨é…ç½®ä¸­åŒ¹é…åˆ°çœŸå®çš„è·¯å¾„</p>
<p>5.æœåŠ¡å™¨ä¼šåˆ›å»ºservletå¯¹è±¡ï¼Œï¼ˆå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼Œåˆ›å»ºservletå®ä¾‹ï¼Œå¹¶è°ƒç”¨initæ–¹æ³•è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼‰</p>
<p>6.è°ƒç”¨serviceï¼ˆrequestï¼Œ responseï¼‰æ–¹æ³•æ¥å¤„ç†è¯·æ±‚å’Œå“åº”çš„æ“ä½œ</p>
<p>7.è°ƒç”¨serviceå®Œæ¯•åè¿”å›æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨å°†responseç¼“å†²åŒºçš„æ•°æ®å–å‡ºï¼Œä»¥httpå“åº”çš„æ ¼å¼å‘é€ç»™æµè§ˆå™¨</p>
<h3 id="5-servletå·¥ä½œæ¨¡å¼"><a href="#5-servletå·¥ä½œæ¨¡å¼" class="headerlink" title="5.servletå·¥ä½œæ¨¡å¼"></a>5.servletå·¥ä½œæ¨¡å¼</h3><ul>
<li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚è‡³æœåŠ¡å™¨</li>
<li>æœåŠ¡å™¨å¯åŠ¨å¹¶è°ƒç”¨Servletï¼ŒServletæ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚ç”Ÿæˆå“åº”å†…å®¹å¹¶å°†å…¶ä¼ ç»™æœåŠ¡å™¨</li>
<li>æœåŠ¡å™¨å°†å“åº”è¿”å›å®¢æˆ·ç«¯</li>
</ul>
<h3 id="6-servletç”Ÿå‘½å‘¨æœŸ"><a href="#6-servletç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="6.servletç”Ÿå‘½å‘¨æœŸ"></a>6.servletç”Ÿå‘½å‘¨æœŸ</h3><p>Servletæ²¡æœ‰ main()æ–¹æ³•ï¼Œä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå®ƒçš„è¿è¡Œå®Œå…¨ç”± Servlet å¼•æ“æ¥æ§åˆ¶å’Œè°ƒåº¦ã€‚ æ‰€è°“ç”Ÿå‘½å‘¨æœŸï¼ŒæŒ‡çš„æ˜¯servlet å®¹å™¨ä½•æ—¶åˆ›å»º servlet å®ä¾‹ã€ä½•æ—¶è°ƒç”¨å…¶æ–¹æ³•è¿›è¡Œè¯·æ±‚çš„å¤„ç†ã€ ä½•æ—¶å¹¶é”€æ¯å…¶å®ä¾‹çš„æ•´ä¸ªè¿‡ç¨‹ã€‚</p>
<ol>
<li>å®ä¾‹å’Œåˆå§‹åŒ–æ—¶æœºï¼ˆç±»åŠ è½½å’Œå®åŠ›åŒ–ï¼‰<br>å½“è¯·æ±‚åˆ°è¾¾å®¹å™¨æ—¶ï¼Œå®¹å™¨æŸ¥æ‰¾è¯¥ servlet å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºå®ä¾‹å¹¶è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>å°±ç»ª/è°ƒç”¨/æœåŠ¡é˜¶æ®µ<br>æœ‰è¯·æ±‚åˆ°è¾¾å®¹å™¨ï¼Œå®¹å™¨è°ƒç”¨ servlet å¯¹è±¡çš„ service()æ–¹æ³•,å¤„ç†è¯·æ±‚çš„æ–¹æ³•åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼›<br>HttpServlet çš„ service()æ–¹æ³•ï¼Œä¼šä¾æ®è¯·æ±‚æ–¹å¼æ¥è°ƒç”¨ doGet()æˆ–è€… doPost()æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œ è¿™ä¸¤ä¸ª do æ–¹æ³•é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¦å­ç±»å» overrideã€‚</li>
<li>é”€æ¯æ—¶æœº<br>å½“å®¹å™¨å…³é—­æ—¶ï¼ˆåº”ç”¨ç¨‹åºåœæ­¢æ—¶ï¼‰ï¼Œä¼šå°†ç¨‹åºä¸­çš„ Servlet å®ä¾‹è¿›è¡Œé”€æ¯ã€‚</li>
</ol>
<p>ä¸Šè¿°çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥é€šè¿‡ Servlet ä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥è§‚å¯Ÿã€‚åœ¨ Servlet ä¸­æœ‰ä¸‰ä¸ªç”Ÿå‘½å‘¨ æœŸæ–¹æ³•ï¼Œä¸ç”±ç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨ç‰¹å®šçš„æ—¶æœºç”±å®¹å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œè§‚å¯Ÿè¿™ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³• å³å¯è§‚å¯Ÿåˆ° Servlet çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>1âƒ£ï¸ init æ–¹æ³•ï¼Œåœ¨ Servlet å®ä¾‹åˆ›å»ºä¹‹åæ‰§è¡Œï¼ˆè¯æ˜è¯¥ Servlet æœ‰å®ä¾‹åˆ›å»ºäº†ï¼‰</p>
<p>2âƒ£ï¸service æ–¹æ³•ï¼Œæ¯æ¬¡æœ‰è¯·æ±‚åˆ°è¾¾æŸä¸ª Servlet æ–¹æ³•æ—¶æ‰§è¡Œï¼Œç”¨æ¥å¤„ç†è¯·æ±‚ï¼ˆè¯æ˜è¯¥Servlet è¿›è¡ŒæœåŠ¡äº†ï¼‰</p>
<p>3âƒ£ï¸destroy æ–¹æ³•ï¼ŒServlet å®ä¾‹é”€æ¯æ—¶æ‰§è¡Œï¼ˆè¯æ˜è¯¥ Servlet çš„å®ä¾‹è¢«é”€æ¯äº†ï¼‰</p>
<p>Servlet çš„ç”Ÿå‘½å‘¨æœŸï¼Œç®€å•çš„æ¦‚æ‹¬è¿™å°±åˆ†ä¸ºå››æ­¥ï¼šservlet ç±»åŠ è½½â€“&gt;å®ä¾‹åŒ–â€“&gt;æœåŠ¡â€“&gt;é”€æ¯ã€‚<br>ä¸‹é¢æè¿°ä¸€ä¸‹ Tomcat ä¸ Servlet æ˜¯å¦‚ä½•å·¥ä½œçš„,çœ‹çœ‹ä¸‹é¢çš„æ—¶åºå›¾ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/95e97377049b47058831a2b7cbfe442d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<ol>
<li>Web Client å‘ Servlet å®¹å™¨ï¼ˆTomcatï¼‰å‘å‡º Http è¯·æ±‚</li>
<li>Servlet å®¹å™¨æ¥æ”¶ Web Client çš„è¯·æ±‚</li>
<li>Servlet å®¹å™¨åˆ›å»ºä¸€ä¸ª HttpServletRequest å¯¹è±¡ï¼Œå°† Web Client è¯·æ±‚çš„ä¿¡æ¯å°è£…åˆ°è¿™ä¸ªå¯¹è±¡ ä¸­</li>
<li>Servlet å®¹å™¨åˆ›å»ºä¸€ä¸ª HttpServletResponse å¯¹è±¡</li>
<li>Servlet å®¹å™¨è°ƒHttpServlet å¯¹è±¡service æ–¹æ³•ï¼ŒæŠŠ Request ä¸ Response ä½œä¸ºå‚æ•°ï¼Œä¼ ç»™ HttpServlet</li>
<li>HttpServlet è°ƒç”¨ HttpServletRequest å¯¹è±¡çš„æœ‰å…³æ–¹æ³•ï¼Œè·å– Http è¯·æ±‚ä¿¡æ¯</li>
<li>HttpServlet è°ƒç”¨ HttpServletResponse å¯¹è±¡çš„æœ‰å…³æ–¹æ³•ï¼Œç”Ÿæˆå“åº”æ•°æ®</li>
<li>Servlet å®¹å™¨æŠŠ HttpServlet çš„å“åº”ç»“æœä¼ ç»™ Web Client</li>
</ol>
<h3 id="7-å½¢å‚ï¼šHttpServletRequestå¯¹è±¡"><a href="#7-å½¢å‚ï¼šHttpServletRequestå¯¹è±¡" class="headerlink" title="7.å½¢å‚ï¼šHttpServletRequestå¯¹è±¡"></a>7.å½¢å‚ï¼šHttpServletRequestå¯¹è±¡</h3><p>HttpServletRequest å¯¹è±¡ï¼šä¸»è¦ä½œç”¨æ˜¯ç”¨æ¥æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šè¯·æ±‚çš„å‚æ•°ï¼Œå‘é€çš„å¤´ä¿¡æ¯ç­‰éƒ½å±äºå®¢æˆ·ç«¯å‘æ¥çš„ä¿¡æ¯ï¼Œservice()æ–¹æ³•ä¸­å½¢å‚æ¥æ”¶çš„HttpServletRequest æ¥å£çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ä¸»è¦åº”ç”¨åœ¨ HTTP åè®®ä¸Šï¼Œè¯¥å¯¹è±¡æ˜¯ç”± Tomcat å°è£…å¥½ä¼ é€’è¿‡æ¥ã€‚</p>
<p>HttpServletRequest æ˜¯ ServletRequest çš„å­æ¥å£ï¼ŒServletRequest åªæœ‰ä¸€ä¸ªå­æ¥å£ï¼Œå°±æ˜¯ HttpServletRequestã€‚æ—¢ç„¶åªæœ‰ä¸€ä¸ªå­æ¥å£ä¸ºä»€ä¹ˆä¸å°†ä¸¤ä¸ªæ¥å£åˆå¹¶ä¸ºä¸€ä¸ªï¼Ÿ<br>ä»é•¿è¿œä¸Šè®²ï¼šç°åœ¨ä¸»è¦ç”¨çš„åè®®æ˜¯ HTTP åè®®ï¼Œä½†ä»¥åå¯èƒ½å‡ºç°æ›´å¤šæ–°çš„åè®®ã€‚è‹¥ä»¥åæƒ³è¦æ”¯æŒè¿™ç§æ–°åè®®ï¼Œåªéœ€è¦ç›´æ¥ç»§æ‰¿ ServletRequest æ¥å£å°±è¡Œäº†ã€‚</p>
<p>åœ¨ HttpServletRequest æ¥å£ä¸­ï¼Œå®šä¹‰çš„æ–¹æ³•å¾ˆå¤šï¼Œä½†éƒ½æ˜¯å›´ç»•æ¥æ”¶å®¢æˆ·ç«¯å‚æ•°çš„ã€‚ä½†æ˜¯æ€ä¹ˆæ‹¿åˆ°è¯¥å¯¹è±¡å‘¢ï¼Ÿä¸éœ€è¦ï¼Œç›´æ¥åœ¨ Service æ–¹æ³•ä¸­ç”±å®¹å™¨ä¼ å…¥è¿‡æ¥ï¼Œè€Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å–å‡ºå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œè¿›è¡Œåˆ†æã€å¤„ç†ã€‚</p>
<h4 id="æ¥æ”¶è¯·æ±‚"><a href="#æ¥æ”¶è¯·æ±‚" class="headerlink" title="æ¥æ”¶è¯·æ±‚"></a>æ¥æ”¶è¯·æ±‚</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-20 09:41</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser03&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet3</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å¸¸ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚æ—¶çš„å®Œæ•´è·¯å¾„ï¼ˆä»httpå¼€å§‹ï¼Œåˆ°ï¼Ÿå‰é¢ç»“æŸï¼‰</span></span><br><span class="line">        String url = req.getRequestURL() +<span class="string">&quot;&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;url:&quot;</span>+url);</span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚æ—¶çš„éƒ¨åˆ†è·¯å¾„ï¼ˆä»é¡¹ç›®çš„ç«™ç‚¹åç§°å¼€å§‹ï¼Œåˆ°ï¼Ÿå‰é¢ç»“æŸï¼‰</span></span><br><span class="line">        String uri = req.getRequestURI();</span><br><span class="line">        System.out.println(<span class="string">&quot;uri:&quot;</span>+uri);</span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚æ—¶çš„å‚æ•°å­—ç¬¦ä¸²ï¼ˆä»ï¼Ÿå¼€å§‹ï¼‰</span></span><br><span class="line">        String queryString = req.getQueryString();</span><br><span class="line">        System.out.println(<span class="string">&quot;queryString:&quot;</span>+queryString);</span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        String method = req.getMethod();</span><br><span class="line">        System.out.println(<span class="string">&quot;method:&quot;</span>+method);</span><br><span class="line">        <span class="comment">// è·å–å½“å‰åè®®ç‰ˆæœ¬</span></span><br><span class="line">        String protocol = req.getProtocol();</span><br><span class="line">        System.out.println(<span class="string">&quot;protocol:&quot;</span>+protocol);</span><br><span class="line">        <span class="comment">// è·å–é¡¹ç›®çš„ç«™ç‚¹å</span></span><br><span class="line">        String webApp = req.getContextPath();</span><br><span class="line">        System.out.println(<span class="string">&quot;webApp:&quot;</span>+webApp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è·å–è¯·æ±‚çš„å‚æ•°</span></span><br><span class="line"><span class="comment">         * http://localhost:8080/servlet_demo/ser03?uname=lili&amp;upwd=lslsls&amp;input=111&amp;input=222&amp;input=333</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// è·å–æŒ‡å®šåç§°çš„å‚æ•°å€¼,è¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">        String uname = req.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        String upwd = req.getParameter(<span class="string">&quot;upwd&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;uname:&quot;</span>+uname);</span><br><span class="line">        System.out.println(<span class="string">&quot;upwd:&quot;</span>+upwd);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æŒ‡å®šåç§°çš„å‚æ•°çš„æ‰€æœ‰å‚æ•°å€¼,è¿”å›å­—ç¬¦ä¸²æ•°ç»„ï¼ˆç”¨äºå¤é€‰æ¡†ä¼ å€¼ï¼‰</span></span><br><span class="line">        String[] strings = req.getParameterValues(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(strings != <span class="keyword">null</span> &amp;&amp; strings.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(String s : strings)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;strings:&quot;</span>+s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¯·æ±‚ä¹±ç é—®é¢˜"><a href="#è¯·æ±‚ä¹±ç é—®é¢˜" class="headerlink" title="è¯·æ±‚ä¹±ç é—®é¢˜"></a>è¯·æ±‚ä¹±ç é—®é¢˜</h4><p>ç”±äºç°åœ¨çš„ request å±äºæ¥æ”¶å®¢æˆ·ç«¯çš„å‚æ•°ï¼Œæ‰€ä»¥å¿…ç„¶æœ‰å…¶é»˜è®¤çš„è¯­è¨€ç¼–ç ï¼Œä¸»è¦æ˜¯ç”±äºåœ¨è§£æè¿‡ç¨‹ä¸­é»˜è®¤ä½¿ç”¨çš„ç¼–ç æ–¹å¼ä¸º ISO-8859-1(æ­¤ç¼–ç ä¸æ”¯æŒä¸­æ–‡)ï¼Œæ‰€ä»¥è§£ææ—¶ä¸€å®šä¼šå‡ºç°ä¹±ç ã€‚è¦æƒ³è§£å†³è¿™ç§ä¹±ç é—®é¢˜ï¼Œéœ€è¦è®¾ç½®request ä¸­çš„ç¼–ç æ–¹å¼ï¼Œå‘Šè¯‰æœåŠ¡å™¨ä»¥ä½•ç§æ–¹å¼æ¥è§£ææ•°æ®ã€‚æˆ–è€…åœ¨æ¥æ”¶åˆ°ä¹±ç æ•°æ®ä»¥åï¼Œå†é€šè¿‡ç›¸åº”çš„ç¼–ç æ ¼å¼è¿˜åŸã€‚<br>æ–¹å¼ä¸€ï¼š</p>
<p><code>String nuname = new String(request.getParameter(name).getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;); </code></p>
<p>å€ŸåŠ©äº†String å¯¹è±¡çš„æ–¹æ³•ï¼Œè¯¥ç§æ–¹å¼å¯¹ä»»ä½•è¯·æ±‚æœ‰æ•ˆï¼Œæ˜¯é€šç”¨çš„ã€‚ä½†æ˜¯åŸæœ¬ä¸æ˜¯ä¹±ç çš„ï¼Œä½¿ç”¨çš„è¯ä¼šå‡ºç°ä¹±ç ã€‚<br>Tomcat8èµ·ï¼Œä»¥åçš„GETæ–¹å¼è¯·æ±‚æ˜¯ä¸ä¼šå‡ºç°ä¹±ç çš„ã€‚POSTè¯·æ±‚æ˜¯ä¼šä¹±ç çš„ã€‚</p>
<p>ç”¨JSPè¿›è¡Œpostè¯·æ±‚è¡¨å•æäº¤ï¼šæ–°å»ºlogin.jsp</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ç™»å½•&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;ser03&quot;</span>&gt;</span><br><span class="line">        å§“åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;uname&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        å¯†ç ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;upwd&quot;</span>&gt; &lt;br&gt;</span><br><span class="line">        &lt;button&gt;ç™»å½•&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>è®¿é—®ï¼š<a href="http://localhost:8080/servlet_demo/login.jsp">http://localhost:8080/servlet_demo/login.jsp</a></p>
<p>æ–¹å¼äºŒï¼šé€šè¿‡è®¾ç½®æœåŠ¡å™¨è§£æç¼–ç çš„æ ¼å¼ï¼ˆåªé’ˆå¯¹postè¯·æ±‚ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®ç¼–ç æ ¼å¼</span></span><br><span class="line">req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);	</span><br></pre></td></tr></table></figure>

<h4 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h4><p>è¯·æ±‚è½¬å‘ï¼Œæ˜¯ä¸€ç§æœåŠ¡å™¨çš„è¡Œä¸ºï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚åˆ°è¾¾åï¼ŒæœåŠ¡å™¨è¿›è¡Œè½¬å‘ï¼Œæ­¤æ—¶ä¼šå°†è¯·æ±‚å¯¹è±¡è¿›è¡Œä¿å­˜ï¼Œåœ°å€æ ä¸­çš„ URL åœ°å€ä¸ä¼šæ”¹å˜ï¼Œå¾—åˆ°å“åº”åï¼ŒæœåŠ¡å™¨ç«¯å†å°†å“åº”å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä»å§‹è‡³ç»ˆåªæœ‰ä¸€ä¸ªè¯·æ±‚å‘å‡ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-20 21:34</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚è½¬å‘è·³è½¬</span></span><br><span class="line"><span class="comment"> * å¯ä»¥è®©è¯·æ±‚ä»æœåŠ¡ç«¯è·³è½¬åˆ°å®¢æˆ·ç«¯å³jspï¼ˆæˆ–è·³è½¬åˆ°æŒ‡å®šServletï¼‰æœåŠ¡å™¨è¡Œä¸º</span></span><br><span class="line"><span class="comment"> * ç‰¹ç‚¹ï¼š1ã€‚æœåŠ¡ç«¯è¡Œä¸º 2ã€‚åœ°å€æ ä¸ä¼šå‘ç”Ÿæ”¹å˜</span></span><br><span class="line"><span class="comment"> * 3ã€‚ä»å§‹è‡³ç»ˆåªæœ‰ä¸€ä¸ªè¯·æ±‚ 4ã€‚requestæ•°æ®å¯ä»¥å…±äº«</span></span><br><span class="line"><span class="comment"> * åªèƒ½è·³ä¸€æ¬¡</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser04&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet4</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚çš„å‚æ•°</span></span><br><span class="line">        String uname = req.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ser04 uname:&quot;</span>+uname);</span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘è·³è½¬åˆ°ser03</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;ser03&quot;</span>).forward(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="requestä½œç”¨åŸŸ"><a href="#requestä½œç”¨åŸŸ" class="headerlink" title="requestä½œç”¨åŸŸ"></a><strong>requestä½œç”¨åŸŸ</strong></h4><p>é€šè¿‡è¯¥å¯¹è±¡å¯ä»¥åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ä¼ é€’æ•°æ®ï¼Œä½œç”¨èŒƒå›´ï¼šåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œå³æœåŠ¡å™¨è·³è½¬æœ‰æ•ˆã€‚ï¼ˆè¯·æ±‚è½¬å‘è·³è½¬æ—¶æœ‰æ•ˆï¼Œç›´æ¥è®¿é—®è·³è½¬çš„urlæ— æ•ˆï¼‰ã€‚ä½œç”¨åŸŸåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­ï¼Œåœ¨è¯·æ±‚è½¬å‘è¿‡ç¨‹ä¸­é€šè¿‡requestæ¥ä¼ è¾“/å…±äº«æ•°æ®ã€‚</p>
<p>Ser05ï¼Œå‡†å¤‡ç”¨æ¥è¯·æ±‚è½¬å‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-20 21:34</span></span><br><span class="line"><span class="comment"> * requestä½œç”¨åŸŸ</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser05&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet5</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®åŸŸå¯¹è±¡</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;age&quot;</span>, <span class="number">18</span>);</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘å¹¶è·³è½¬åˆ°Servlet6ï¼Œå…±äº«åŒä¸€ä¸ªreqå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//req.getRequestDispatcher(&quot;ser06&quot;).forward(req, resp);</span></span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æ˜¯ä»å®¢æˆ·ç«¯è·å–æ•°æ®ï¼Œæ‰€ä»¥è·³è½¬åˆ°jspå®¢æˆ·ç«¯</span></span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘è·³è½¬åˆ°jspï¼Œå¹¶é€šè¿‡åŸŸå¯¹è±¡ä¼ é€’æ•°æ®</span></span><br><span class="line">        <span class="comment">// htmlå°±ä¸è¡Œï¼Œå› ä¸ºæ˜¯é™æ€é¡µé¢ï¼Œè€Œjspæ˜¯åŠ¨æ€é¡µé¢</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;attribute.jsp&quot;</span>).forward(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·³è½¬åˆ°ser06</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-20 21:34</span></span><br><span class="line"><span class="comment"> * requestä½œç”¨åŸŸ</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser06&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet6</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–åŸŸå¯¹è±¡</span></span><br><span class="line">        String name = (String) req.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;nameï¼š&quot;</span> + name);</span><br><span class="line">        List&lt;String&gt; list = (List&lt;String&gt;) req.getAttribute(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·³è½¬åˆ°jspï¼š</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;attributeé¡µé¢&lt;/h2&gt;</span><br><span class="line">&lt;%-- å¦‚æœè¦åœ¨jspä¸­å†™javaä»£ç ï¼Œéœ€è¦å†™åœ¨è„šæœ¬æ®µä¸­ --%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// è·å–åŸŸå¯¹è±¡</span></span><br><span class="line">    String name = (String) request.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;nameï¼š&quot;</span> + name);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="8-å½¢å‚ï¼šHttpServletResponseå¯¹è±¡"><a href="#8-å½¢å‚ï¼šHttpServletResponseå¯¹è±¡" class="headerlink" title="8.å½¢å‚ï¼šHttpServletResponseå¯¹è±¡"></a>8.å½¢å‚ï¼š<strong>HttpServletResponseå¯¹è±¡</strong></h3><p>WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œä¼šé’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªç”¨äºä»£è¡¨è¯·æ±‚çš„ request å¯¹è±¡å’Œä»£è¡¨å“åº”çš„ response å¯¹è±¡ã€‚<br>request å’Œ response å¯¹è±¡ä»£è¡¨è¯·æ±‚å’Œå“åº”ï¼šè·å–å®¢æˆ·ç«¯æ•°æ®ï¼Œéœ€è¦é€šè¿‡ request å¯¹è±¡ï¼›å‘å®¢æˆ·ç«¯è¾“å‡ºæ•°æ®ï¼Œéœ€è¦é€šè¿‡ response å¯¹è±¡ã€‚</p>
<p>HttpServletResponse çš„ä¸»è¦åŠŸèƒ½ç”¨äºæœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚è¿›è¡Œå“åº”ï¼Œå°† Web æœåŠ¡å™¨å¤„ç†åçš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚service()æ–¹æ³•ä¸­å½¢å‚æ¥æ”¶çš„æ˜¯ HttpServletResponse æ¥å£çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å‘é€å“åº”å¤´ï¼Œå‘é€å“åº”çŠ¶æ€ç çš„æ–¹æ³•ã€‚</p>
<h4 id="å“åº”æ•°æ®"><a href="#å“åº”æ•°æ®" class="headerlink" title="å“åº”æ•°æ®"></a>å“åº”æ•°æ®</h4><p>æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œå¯ä»¥é€šè¿‡ HttpServletResponse å¯¹è±¡ç›´æ¥è¿›è¡Œå“åº”ï¼Œå“åº”æ—¶éœ€è¦è·å–è¾“å‡ºæµã€‚æœ‰ä¸¤ç§å½¢å¼ï¼š</p>
<p>getWriter() è·å–å­—ç¬¦æµ(åªèƒ½å“åº”å­—ç¬¦) </p>
<p>getOutputStream() è·å–å­—èŠ‚æµ(èƒ½å“åº”ä¸€åˆ‡æ•°æ®)</p>
<p>å“åº”å›çš„æ•°æ®åˆ°å®¢æˆ·ç«¯è¢«æµè§ˆå™¨è§£æã€‚<br>æ³¨æ„ï¼šä¸¤è€…ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ä¸€ä¸ªæ–‡ä»¶é‡Œåªèƒ½ç”¨ä¸€ä¸ªï¼Œå› ä¸ºresponseåªæœ‰ä¸€ä¸ªã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-22 08:50</span></span><br><span class="line"><span class="comment"> * getWriter() å­—ç¬¦è¾“å‡ºæµ(è¾“å‡ºå­—ç¬¦ä¸²)</span></span><br><span class="line"><span class="comment"> * getOutputStream() å­—èŠ‚è¾“å‡ºæµ(è¾“å‡ºä¸€åˆ‡æ•°æ®)</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser07&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet7</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        // getWriteè·å–å­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line"><span class="comment">//        PrintWriter writer = resp.getWriter();</span></span><br><span class="line"><span class="comment">//        // è¾“å‡ºæ•°æ®</span></span><br><span class="line"><span class="comment">//        writer.write(&quot;hello&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// getOutputStreamå­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">        ServletOutputStream out = resp.getOutputStream();</span><br><span class="line">        <span class="comment">// è¾“å‡ºæ•°æ®</span></span><br><span class="line">        out.write(<span class="string">&quot;hi&quot;</span>.getBytes());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å“åº”ä¹±ç é—®é¢˜"><a href="#å“åº”ä¹±ç é—®é¢˜" class="headerlink" title="å“åº”ä¹±ç é—®é¢˜"></a>å“åº”ä¹±ç é—®é¢˜</h4><p>åœ¨å“åº”ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å“åº”çš„å†…å®¹ä¸­å«æœ‰ä¸­æ–‡ï¼Œåˆ™æœ‰å¯èƒ½å‡ºç°ä¹±ç ã€‚è¿™æ˜¯å› ä¸ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ä¹Ÿä¼šç»è¿‡ç½‘ç»œä¼ è¾“ï¼ŒæœåŠ¡å™¨ç«¯æœ‰ä¸€ç§ç¼–ç æ–¹å¼ï¼Œåœ¨å®¢æˆ·ç«¯ä¹Ÿå­˜åœ¨ä¸€ç§ç¼–ç æ–¹å¼ï¼Œå½“ä¸¤ç«¯ä½¿ç”¨çš„ç¼–ç æ–¹å¼ä¸åŒæ—¶åˆ™å‡ºç°ä¹±ç ã€‚</p>
<p>getWriter()çš„å­—ç¬¦ä¹±ç <br>å¯¹äº getWriter()è·å–åˆ°çš„å­—ç¬¦æµï¼Œå“åº”ä¸­æ–‡å¿…å®šå‡ºä¹±ç ï¼Œç”±äºæœåŠ¡å™¨ç«¯åœ¨è¿›è¡Œç¼–ç æ—¶é»˜è®¤ä¼šä½¿ç”¨ ISO-8859-1 æ ¼å¼çš„ç¼–ç ï¼Œè¯¥ç¼–ç æ–¹å¼å¹¶ä¸æ”¯æŒä¸­æ–‡ã€‚</p>
<p>è¦è§£å†³è¯¥ç§ä¹±ç åªèƒ½åœ¨æœåŠ¡å™¨ç«¯å‘ŠçŸ¥æœåŠ¡å™¨ä½¿ç”¨ä¸€ç§èƒ½å¤Ÿæ”¯æŒä¸­æ–‡çš„ç¼–ç æ ¼å¼ï¼Œæ¯”å¦‚æˆ‘ä»¬é€šå¸¸ç”¨çš„â€UTF-8â€ã€‚</p>
<p>å®¢æˆ·ç«¯ä¹Ÿè¦è®¾ç½®ï¼Œå­—èŠ‚è¾“å‡ºæµå¯ä»¥è®¾ç½®å“åº”ç±»å‹ï¼Œé»˜è®¤æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®æœåŠ¡ç«¯çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®å®¢æˆ·ç«¯çš„ç¼–ç æ ¼å¼å’Œå“åº”ç±»å‹</span></span><br><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;text/html;charset=UTF-8&quot;</span>);       </span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦è¾“å‡ºæµä¹Ÿä¸€æ ·ã€‚</p>
<p>ä¹Ÿå¯ä»¥åŒæ—¶è®¾ç½®å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ç¼–ç æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŒæ—¶è®¾ç½®æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼šè¦æƒ³è§£å†³å“åº”çš„ä¹±ç ï¼Œåªéœ€è¦ä¿è¯ä½¿ç”¨æ”¯æŒä¸­æ–‡çš„ç¼–ç æ ¼å¼ã€‚å¹¶ä¸”ä¿è¯æœåŠ¡å™¨ç«¯ å’Œå®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒçš„ç¼–ç æ–¹å¼å³å¯ã€‚</p>
<h4 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h4><p>é‡å®šå‘æ˜¯ä¸€ç§æœåŠ¡å™¨æŒ‡å¯¼ï¼Œå®¢æˆ·ç«¯çš„è¡Œä¸ºã€‚å®¢æˆ·ç«¯å‘å‡ºç¬¬ä¸€ä¸ªè¯·æ±‚ï¼Œè¢«æœåŠ¡å™¨æ¥æ”¶å¤„ç†åï¼ŒæœåŠ¡å™¨ä¼šè¿›è¡Œå“åº”ï¼Œåœ¨å“åº”çš„åŒæ—¶ï¼ŒæœåŠ¡å™¨ä¼šç»™å®¢æˆ·ç«¯ä¸€ä¸ªæ–°çš„åœ°å€ï¼ˆä¸‹æ¬¡è¯·æ±‚çš„åœ°å€ response.sendRedirect(url);ï¼‰ï¼Œå½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”åï¼Œä¼šç«‹åˆ»ã€é©¬ä¸Šã€è‡ªåŠ¨æ ¹æ®æœåŠ¡å™¨ç»™çš„æ–°åœ°å€å‘èµ·ç¬¬äºŒä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶ä½œå‡ºå“åº”ï¼Œé‡å®šå‘å®Œæˆã€‚<br>ä»æè¿°ä¸­å¯ä»¥çœ‹å‡ºé‡å®šå‘å½“ä¸­æœ‰ä¸¤ä¸ªè¯·æ±‚å­˜åœ¨ï¼Œå¹¶ä¸”å±äºå®¢æˆ·ç«¯è¡Œä¸ºã€‚</p>
<p>ç‰¹ç‚¹ï¼š<br>æœåŠ¡ç«¯æŒ‡å¯¼ï¼Œå®¢æˆ·ç«¯è¡Œä¸º<br>å­˜åœ¨ä¸¤æ¬¡è¯·æ±‚<br> requestå¯¹è±¡ä¸å…±äº«</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-22 08:50</span></span><br><span class="line"><span class="comment"> * é‡å®šå‘ 302</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/ser08&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Servlet8</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ser08&quot;</span>);</span><br><span class="line">        String uname = req.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ser08:&quot;</span>+uname);</span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;ser07&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è§‚å¯Ÿæµè§ˆå™¨æˆ‘ä»¬å‘ç°ç¬¬ä¸€æ¬¡è¯·æ±‚è·å¾—çš„å“åº”ç ä¸º 302ï¼Œå¹¶ä¸”å«æœ‰ä¸€ä¸ª location å¤´ä¿¡æ¯ã€‚å¹¶ä¸”åœ°å€æ æœ€ç»ˆçœ‹åˆ°çš„åœ°å€æ˜¯å’Œç¬¬ä¸€æ¬¡è¯·æ±‚åœ°å€ä¸åŒçš„ï¼Œåœ°å€æ å·²ç»å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<h4 id="è¯·æ±‚è½¬å‘ä¸é‡å®šå‘çš„åŒºåˆ«"><a href="#è¯·æ±‚è½¬å‘ä¸é‡å®šå‘çš„åŒºåˆ«" class="headerlink" title="è¯·æ±‚è½¬å‘ä¸é‡å®šå‘çš„åŒºåˆ«"></a><strong>è¯·æ±‚è½¬å‘ä¸é‡å®šå‘çš„åŒºåˆ«</strong></h4><p><img src="https://img-blog.csdnimg.cn/60cc937f78be4bff8e93f84aebea79f2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p>å¯¹äºè¯·æ±‚è½¬å‘ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‰ç«¯é¡µé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œreq.getAttributeè·å–å‚æ•°ï¼Œæˆ–æ˜¯req.setAttributeè®¾ç½®å‚æ•°ï¼Œä½¿ç”¨è¯·æ±‚è½¬å‘å¯ä»¥å°†å‚æ•°ä¼ é€’åˆ°jspé¡µé¢ï¼Œjspé¡µé¢ä½¿ç”¨req.getAttributeè¿›è¡Œè·å–ã€‚</p>
<p>è€Œé‡å®šå‘æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œä¸¤ä¸ªé¡µé¢ä¹‹é—´æ²¡æœ‰å‚æ•°ä¼ é€’ã€‚</p>
<p>è¯·æ±‚è½¬å‘çš„åœ°å€åªèƒ½æ˜¯å½“å‰ç«™ç‚¹ä¸‹ï¼ˆå­—ç¬¦ä¸²å‚æ•°å°±æ˜¯åŠ è½½é¡¹ç›®æ ¹ç›®å½•åé¢çš„å­—ç¬¦ä¸²ï¼‰ï¼Œé‡å®šå‘åœ°å€å¯ä»¥æ˜¯ä»»æ„åœ°å€ã€‚è·¨åŸŸè·³è½¬åªèƒ½ç”¨é‡å®šå‘ã€‚</p>
<h3 id="9-cookie"><a href="#9-cookie" class="headerlink" title="9.cookie"></a>9.cookie</h3><p>webç¨‹åºä½¿ç”¨httpåè®®ä¼ è¾“ï¼Œhttpæ— çŠ¶æ€ï¼Œå¯¼è‡´æ¯ä¸€æ¬¡è¿æ¥ä¼ è¾“çš„æ•°æ®é‡å¢å¤§ã€‚æœåŠ¡å™¨ä»ç½‘ç»œè¿æ¥ä¸­æ— æ³•è·å¾—å®¢æˆ·ç«¯èº«ä»½ï¼Œcookieç›¸å½“äºæ˜¯æœåŠ¡ç«¯é¢å‘ç»™å®¢æˆ·ç«¯çš„é€šè¡Œè¯ã€‚ä¸åŒçš„æœåŠ¡å™¨åº”ç”¨ç»™å®¢æˆ·ç«¯çš„cookieä¹Ÿä¸ä¸€æ ·ï¼Œæ˜¯éš”ç¦»çš„ã€‚</p>
<p>cookieæ˜¯æµè§ˆå™¨æä¾›çš„ä¸€ç§æŠ€æœ¯ï¼Œé€šè¿‡æœåŠ¡å™¨çš„ç¨‹åºèƒ½å°†ä¸€äº›åªé¡»ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæˆ–è€…åœ¨å®¢æˆ·ç«¯è¿›è¡Œå¤„ç†çš„æ•°æ®ï¼Œæ”¾åœ¨æœ¬åœ°çš„è®¡ç®—æœºä¸Šï¼Œä¸éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå› è€Œæé«˜ç½‘é¡µå¤„ç†çš„æ•ˆç‡ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œä½†æ˜¯ç”±äºcookieæ˜¯æœåŠ¡å™¨ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å…¶å®‰å…¨æ€§ä¹Ÿæ˜¯å¾ˆå·®çš„ã€‚ä¾‹å¦‚å¸¸è§çš„è®°ä½å¯†ç åˆ™å¯ä»¥é€šè¿‡cookieæ¥å®ç°ï¼Œè¿˜æœ‰é€šå¸¸çš„æ¨èæ˜¾ç¤ºã€‚</p>
<p>æœ‰ä¸€ä¸ªä¸“é—¨æ“ä½œCookieçš„ç±»javax.servlet.http.Cookieã€‚éšç€æœåŠ¡å™¨ç«¯çš„å“åº”å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä¿å­˜åœ¨æµè§ˆå™¨ã€‚å½“ä¸‹æ¬¡å†è®¿é—®æœåŠ¡å™¨æ—¶æŠŠCookieå†å¸¦å›æœåŠ¡å™¨ã€‚</p>
<p>Cookieçš„æ ¼å¼ï¼šé”®å€¼å¯¹ç”¨=è¿æ¥ï¼Œå¤šä¸ªé”®å€¼å¯¹é—´ç”¨;éš”å¼€ã€‚</p>
<h4 id="cookieçš„åˆ›å»ºå’Œå‘é€"><a href="#cookieçš„åˆ›å»ºå’Œå‘é€" class="headerlink" title="cookieçš„åˆ›å»ºå’Œå‘é€"></a>cookieçš„åˆ›å»ºå’Œå‘é€</h4><p>é€šè¿‡ new Cookie(â€œkeyâ€,â€œvalueâ€);æ¥åˆ›å»ºä¸€ä¸ª Cookie å¯¹è±¡ï¼Œè¦æƒ³å°† Cookie éšå“åº”å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œéœ€è¦å…ˆæ·»åŠ åˆ° response å¯¹è±¡ä¸­ï¼Œresponse.addCookie(cookie);æ­¤æ—¶è¯¥ cookie å¯¹è±¡åˆ™éšç€å“åº”å‘é€è‡³äº†å®¢æˆ·ç«¯ã€‚åœ¨æµè§ˆå™¨ä¸Šå¯ä»¥çœ‹è§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-26 11:04</span></span><br><span class="line"><span class="comment"> * cookieçš„åˆ›å»ºå’Œå‘é€</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/coo1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cookie01</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºcookie nameå”¯ä¸€</span></span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        <span class="comment">// å‘é€ï¼ˆå“åº”ï¼‰cookie</span></span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>macæµè§ˆå™¨æ£€æŸ¥cookieï¼šå³é”®æ£€æŸ¥å…ƒç´ â€“å‚¨å­˜ç©ºé—´â€“ç‚¹å‡»cookie</p>
<h4 id="cookieçš„è·å–"><a href="#cookieçš„è·å–" class="headerlink" title="cookieçš„è·å–"></a>cookieçš„è·å–</h4><p>åœ¨æœåŠ¡å™¨ç«¯åªæä¾›äº†ä¸€ä¸ª getCookies()çš„æ–¹æ³•ç”¨æ¥è·å–å®¢æˆ·ç«¯å›ä¼ çš„æ‰€æœ‰ cookie ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœéœ€è¦è·å–å• ä¸ª cookie åˆ™éœ€è¦é€šè¿‡éå†ï¼ŒgetName()è·å– Cookie çš„åç§°ï¼ŒgetValue()è·å– Cookie çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-26 11:04</span></span><br><span class="line"><span class="comment"> * cookieçš„è¿”å›ï¼Œæ˜¯æ•°ç»„</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/coo2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cookie02</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–cookieæ•°ç»„</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">// éç©ºåˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span>(cookies != <span class="keyword">null</span> &amp;&amp; cookies.length &gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// éå†cookieæ•°ç»„</span></span><br><span class="line">            <span class="keyword">for</span>(Cookie cookie : cookies)&#123;</span><br><span class="line">                String name = cookie.getName();</span><br><span class="line">                String value = cookie.getValue();</span><br><span class="line">                System.out.println(<span class="string">&quot;åç§°ï¼š&quot;</span>+name+<span class="string">&quot;--å€¼ï¼š&quot;</span>+value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥è¿è¡Œå°±æœ‰ä¸Šæ¬¡ä¼ å…¥æµè§ˆå™¨çš„cookieã€‚</p>
<h4 id="cookieè®¾ç½®åˆ°æœŸæ—¶é—´"><a href="#cookieè®¾ç½®åˆ°æœŸæ—¶é—´" class="headerlink" title="cookieè®¾ç½®åˆ°æœŸæ—¶é—´"></a>cookieè®¾ç½®åˆ°æœŸæ—¶é—´</h4><p>é™¤äº† Cookie çš„åç§°å’Œå†…å®¹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…³å¿ƒä¸€ä¸ªä¿¡æ¯ï¼Œåˆ°æœŸæ—¶é—´ï¼Œåˆ°æœŸæ—¶é—´ç”¨æ¥æŒ‡å®šè¯¥ cookie ä½•æ—¶å¤±æ•ˆã€‚é»˜è®¤ ä¸ºå½“å‰æµè§ˆå™¨å…³é—­å³å¤±æ•ˆã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è®¾å®š cookie çš„æœ‰æ•ˆæ—¶é—´ï¼ˆé€šè¿‡åˆ°æœŸæ—¶é—´è®¡ç®—ï¼‰ï¼Œé€šè¿‡ setMaxAge(int time);æ–¹æ³•è®¾å®š cookie çš„æœ€å¤§æœ‰æ•ˆæ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚</p>
<p>åˆ°æœŸæ—¶é—´çš„å–å€¼ï¼š</p>
<ul>
<li><p>è´Ÿæ•´æ•°</p>
<p>è‹¥ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºä¸åœ¨ç¡¬ç›˜å­˜å‚¨è¯¥ cookieã€‚</p>
<p>cookie çš„ maxAge å±æ€§çš„é»˜è®¤å€¼å°±æ˜¯-1ï¼Œè¡¨ç¤ºåªåœ¨æµè§ˆå™¨å†…å­˜ä¸­å­˜æ´»ï¼Œä¸€æ—¦å…³é—­æµè§ˆå™¨çª—å£ï¼Œé‚£ä¹ˆ cookie å°±ä¼šæ¶ˆå¤±ã€‚</p>
</li>
<li><p>æ­£æ•´æ•°</p>
<p>å¤§äº 0 çš„æ•´æ•°ï¼Œè¡¨ç¤ºå­˜å‚¨çš„ç§’æ•°ã€‚</p>
<p>è¡¨ç¤º cookie å¯¹è±¡å¯å­˜æ´»æŒ‡å®šçš„ç§’æ•°ã€‚å½“ç”Ÿå‘½å¤§äº 0 æ—¶ï¼Œæµè§ˆå™¨ä¼šæŠŠ Cookie ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œå°±ç®—å…³é—­æµè§ˆå™¨ï¼Œ å°±ç®—é‡å¯å®¢æˆ·ç«¯ç”µè„‘ï¼Œcookie ä¹Ÿä¼šå­˜æ´»ç›¸åº”çš„æ—¶é—´ã€‚</p>
</li>
<li><p>é›¶(ç”¨äºåˆ é™¤Cookie)</p>
<p>è‹¥ä¸º 0ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥ cookieã€‚</p>
<p>cookie ç”Ÿå‘½ç­‰äº 0 æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œå®ƒè¡¨ç¤º cookie è¢«ä½œåºŸï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåŸæ¥æµè§ˆå™¨å·²ç»ä¿å­˜äº†è¿™ä¸ª Cookieï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ Cookie çš„ setMaxAge(0)æ¥åˆ é™¤è¿™ä¸ª Cookieã€‚ æ— è®ºæ˜¯åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œè¿˜æ˜¯åœ¨å®¢æˆ·ç«¯ ç¡¬ç›˜ä¸Šéƒ½ä¼šåˆ é™¤è¿™ä¸ª Cookieã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-26 11:04</span></span><br><span class="line"><span class="comment"> * cookieçš„åˆ°æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/coo3&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cookie03</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// é»˜è®¤å€¼-1ï¼Œè¡¨ç¤ºåªåœ¨æµè§ˆå™¨å†…å­˜ä¸­</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºCookieå¯¹è±¡</span></span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®Cookie 3å¤©åå¤±æ•ˆ</span></span><br><span class="line">        cookie.setMaxAge(<span class="number">3</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="comment">// å‘é€Cookieå¯¹è±¡ è®¾ç½®ä¹‹åå¿…éœ€è¿›è¡Œå“åº”</span></span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">        <span class="comment">// åˆ é™¤ä¹‹å‰çš„cookie</span></span><br><span class="line">        Cookie oldCookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;kkk&quot;</span>);</span><br><span class="line">        oldCookie.setMaxAge(<span class="number">0</span>);</span><br><span class="line">        resp.addCookie(oldCookie);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="cookieçš„æ³¨æ„ç‚¹"><a href="#cookieçš„æ³¨æ„ç‚¹" class="headerlink" title="cookieçš„æ³¨æ„ç‚¹"></a>cookieçš„æ³¨æ„ç‚¹</h4><ul>
<li>Cookieä¿å­˜åœ¨å½“å‰æµè§ˆå™¨ä¸­ã€‚</li>
</ul>
<p>åœ¨ä¸€èˆ¬çš„ç«™ç‚¹ä¸­å¸¸å¸¸æœ‰è®°ä½ç”¨æˆ·åè¿™æ ·ä¸€ä¸ªæ“ä½œï¼Œè¯¥æ“ä½œåªæ˜¯å°†ä¿¡æ¯ä¿å­˜åœ¨æœ¬æœºä¸Šï¼Œæ¢ç”µè„‘ä»¥åè¿™äº›ä¿¡æ¯å°±æ—  æ•ˆäº†ã€‚è€Œä¸” cookie è¿˜ä¸èƒ½è·¨æµè§ˆå™¨ã€‚</p>
<ul>
<li>Cookieå­˜ä¸­æ–‡é—®é¢˜ ï¼ˆä¸€èˆ¬ä¸å­˜ä¸­æ–‡ï¼‰</li>
</ul>
<p>Cookie ä¸­ä¸èƒ½å‡ºç°ä¸­æ–‡ï¼Œå¦‚æœæœ‰ä¸­æ–‡åˆ™é€šè¿‡ URLEncoder.encode()æ¥è¿›è¡Œç¼–ç ï¼Œè·å–æ—¶é€šè¿‡ URLDecoder.decode()æ¥è¿›è¡Œè§£ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String name = <span class="string">&quot;å§“å&quot;</span>;</span><br><span class="line">String value = <span class="string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="line"><span class="comment">// é€šè¿‡ URLEncoder.encode()æ¥è¿›è¡Œç¼–ç </span></span><br><span class="line">name = URLEncoder.encode(name);</span><br><span class="line">value = URLEncoder.encode(value);</span><br><span class="line"><span class="comment">// åˆ›å»ºCookieå¯¹è±¡</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(name,value);</span><br><span class="line"><span class="comment">// å‘é€Cookieå¯¹è±¡</span></span><br><span class="line">response.addCookie(cookie);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//è·å–æ—¶é€šè¿‡ URLDecoder.decode()æ¥è¿›è¡Œè§£ç </span></span><br><span class="line">String name = URLDecoder.decode(cookie.getName());</span><br><span class="line">String value = URLDecoder.decode(cookie.getValue());</span><br></pre></td></tr></table></figure>

<ul>
<li>åŒåCookieé—®é¢˜</li>
</ul>
<p>å¦‚æœæœåŠ¡å™¨ç«¯å‘é€é‡å¤çš„Cookieé‚£ä¹ˆä¼šè¦†ç›–åŸæœ‰çš„Cookieã€‚</p>
<ul>
<li>æµè§ˆå™¨å­˜æ”¾Cookieçš„æ•°é‡</li>
</ul>
<p>ä¸åŒçš„æµè§ˆå™¨å¯¹Cookieä¹Ÿæœ‰é™å®šï¼ŒCookieçš„å­˜å‚¨æœ‰æ˜¯ä¸Šé™çš„ã€‚Cookieæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰çš„ï¼Œè€Œä¸”ä¸€èˆ¬ æ˜¯ç”±æœåŠ¡å™¨ç«¯åˆ›å»ºå’Œè®¾å®šã€‚åæœŸç»“åˆSessionæ¥å®ç°å›è¯è·Ÿè¸ªã€‚Cookieçš„å¤§å°ä¹Ÿæ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸€èˆ¬æ˜¯4kbä»¥ä¸‹ã€‚</p>
<h4 id="cookieçš„è·¯å¾„"><a href="#cookieçš„è·¯å¾„" class="headerlink" title="cookieçš„è·¯å¾„"></a>cookieçš„è·¯å¾„</h4><p>Cookieçš„setPathè®¾ç½®cookieçš„è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„ç›´æ¥å†³å®šæœåŠ¡å™¨çš„è¯·æ±‚æ˜¯å¦ä¼šä»æµè§ˆå™¨ä¸­åŠ è½½æŸäº›cookieã€‚</p>
<p><strong>æƒ…æ™¯ä¸€ï¼šå½“å‰æœåŠ¡å™¨ä¸‹ä»»ä½•é¡¹ç›®çš„ä»»æ„èµ„æºéƒ½å¯è·å–Cookieå¯¹è±¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;XXX&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®è·¯å¾„ä¸º&quot;/&quot;ï¼Œè¡¨ç¤ºåœ¨å½“å‰æœåŠ¡å™¨ä¸‹ä»»ä½•é¡¹ç›®éƒ½å¯è®¿é—®åˆ°Cookieå¯¹è±¡</span></span><br><span class="line">cookie.setPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<p><strong>æƒ…æ™¯äºŒï¼šå½“å‰é¡¹ç›®ä¸‹çš„èµ„æºå¯è·å–Cookieå¯¹è±¡ ï¼ˆé»˜è®¤ä¸è®¾ç½®Cookieçš„pathï¼‰</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;XXX&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®è·¯å¾„ä¸º&quot;/s01&quot;ï¼Œè¡¨ç¤ºåœ¨å½“å‰é¡¹ç›®ä¸‹ä»»ä½•é¡¹ç›®éƒ½å¯è®¿é—®åˆ°Cookieå¯¹è±¡</span></span><br><span class="line">cookie.setPath(<span class="string">&quot;/servlet_demo&quot;</span>); <span class="comment">// é»˜è®¤æƒ…å†µï¼Œå¯ä¸è®¾ç½®pathçš„å€¼</span></span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<p><strong>æƒ…æ™¯ä¸‰ï¼šæŒ‡å®šé¡¹ç›®ä¸‹çš„èµ„æºå¯è·å–Cookieå¯¹è±¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* å½“å‰é¡¹ç›®è·¯å¾„ä¸ºï¼šservlet_demo */</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;XXX&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®è·¯å¾„ä¸º&quot;/servlet_1&quot;ï¼Œè¡¨ç¤ºåœ¨s02é¡¹ç›®ä¸‹æ‰å¯è®¿é—®åˆ°Cookieå¯¹è±¡</span></span><br><span class="line">cookie.setPath(<span class="string">&quot;/servlet_1&quot;</span>); <span class="comment">// åªèƒ½åœ¨servlet_1é¡¹ç›®ä¸‹è·å–Cookieï¼Œå°±ç®—cookieæ˜¯servlet_demoäº§ç”Ÿçš„ï¼Œservlet_demoä¹Ÿä¸èƒ½è·å–å®ƒ</span></span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<p><strong>æƒ…æ™¯å››ï¼šæŒ‡å®šé¡¹ç›®çš„æŒ‡å®šç›®å½•ä¸‹çš„èµ„æºå¯è·å–Cookieå¯¹è±¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;XXX&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®è·¯å¾„ä¸º&quot;/servlet_demo/coo1&quot;ï¼Œè¡¨ç¤ºåœ¨servlet_demo/coo1ç›®å½•ä¸‹æ‰å¯è®¿é—®åˆ°Cookieå¯¹è±¡</span></span><br><span class="line">cookie.setPath(<span class="string">&quot;/servlet_demo/cook&quot;</span>); </span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬è®¾ç½®pathï¼Œå¦‚æœå½“å‰è®¿é—®çš„è·¯å¾„åŒ…å«äº†cookieçš„è·¯å¾„ï¼ˆå½“å‰è®¿é—®è·¯å¾„åœ¨cookieè·¯å¾„åŸºç¡€ä¸Šè¦æ¯”cookieçš„èŒƒå›´å°ï¼‰cookieå°±ä¼šåŠ è½½åˆ°requestå¯¹è±¡ä¹‹ä¸­ã€‚</p>
<p>cookieçš„è·¯å¾„æŒ‡çš„æ˜¯å¯ä»¥è®¿é—®è¯¥cookieçš„é¡¶å±‚ç›®å½•ï¼Œè¯¥è·¯å¾„çš„å­è·¯å¾„ä¹Ÿå¯ä»¥è®¿é—®è¯¥cookieã€‚</p>
<p>æ€»ç»“ï¼šå½“è®¿é—®çš„è·¯å¾„åŒ…å«äº†cookieçš„è·¯å¾„æ—¶ï¼Œåˆ™è¯¥è¯·æ±‚å°†å¸¦ä¸Šè¯¥cookieï¼›å¦‚æœè®¿é—®è·¯å¾„ä¸åŒ…å«cookieè·¯å¾„ï¼Œåˆ™è¯¥è¯·æ±‚ä¸ä¼šæºå¸¦è¯¥cookieã€‚</p>
<h3 id="10-HttpSessionå¯¹è±¡"><a href="#10-HttpSessionå¯¹è±¡" class="headerlink" title="10.HttpSessionå¯¹è±¡"></a>10.HttpSessionå¯¹è±¡</h3><p>ä¸Šé¢è®²è§£äº†è¯·æ±‚çš„æ¦‚å¿µï¼Œæ— çŠ¶æ€ï¼Œæ— æ³•åšåˆ°å¤šä¸ªè¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚</p>
<p>HttpSessionå¯¹è±¡æ˜¯javax.servlet.http.HttpSessionçš„å®ä¾‹ï¼Œè¯¥æ¥å£å¹¶ä¸åƒHttpServletRequestæˆ–HttpServletResponseè¿˜å­˜åœ¨ä¸€ä¸ªçˆ¶æ¥å£ï¼Œè¯¥æ¥å£åªæ˜¯ä¸€ä¸ªçº¯ç²¹çš„æ¥å£ã€‚è¿™å› ä¸ºSessionæœ¬èº«å°±å±äºHTTPåè®®çš„èŒƒç•´ã€‚</p>
<p>Sessionï¼šåœ¨è®¡ç®—æœºä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œç§°ä¸ºâ€œä¼šè¯æ§åˆ¶â€ã€‚Sessionå¯¹è±¡å­˜å‚¨ç‰¹å®šç”¨æˆ·ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„Webé¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨åœ¨Sessionå¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å»ã€‚</p>
<p>å¯¹äºæœåŠ¡å™¨è€Œè¨€ï¼Œæ¯ä¸€ä¸ªè¿æ¥åˆ°å®ƒçš„å®¢æˆ·ç«¯éƒ½æ˜¯ä¸€ä¸ª sessionï¼Œservlet å®¹å™¨ä½¿ç”¨æ­¤æ¥å£åˆ›å»º HTTP å®¢æˆ·ç«¯å’Œ HTTP æœåŠ¡å™¨ä¹‹é—´çš„ä¼šè¯ã€‚ä¼šè¯å°†ä¿ç•™æŒ‡å®šçš„æ—¶é—´æ®µï¼Œè·¨å¤šä¸ªè¿æ¥æˆ–æ¥è‡ªç”¨æˆ·çš„é¡µé¢è¯·æ±‚ã€‚<strong>ä¸€ ä¸ªä¼šè¯é€šå¸¸å¯¹åº”äºä¸€ä¸ªç”¨æˆ·ï¼Œè¯¥ç”¨æˆ·å¯èƒ½å¤šæ¬¡è®¿é—®ä¸€ä¸ªç«™ç‚¹ã€‚</strong>å¯ä»¥é€šè¿‡æ­¤æ¥å£æŸ¥çœ‹å’Œæ“ä½œæœ‰å…³æŸä¸ªä¼šè¯ çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä¼šè¯æ ‡è¯†ç¬¦ã€åˆ›å»ºæ—¶é—´å’Œæœ€åä¸€æ¬¡è®¿é—®æ—¶é—´ã€‚åœ¨æ•´ä¸ª session ä¸­ï¼Œæœ€é‡è¦çš„å°±æ˜¯å±æ€§çš„æ“ ä½œã€‚</p>
<p>sessionæ— è®ºå®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ç«¯éƒ½å¯ä»¥æ„ŸçŸ¥åˆ°ï¼Œè‹¥é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°çš„æµè§ˆå™¨ï¼Œåˆ™æ— æ³•å–å¾—ä¹‹å‰è®¾ç½®çš„sessionï¼Œå› ä¸ºæ¯ä¸€ä¸ªsessionåªä¿å­˜åœ¨å½“å‰çš„æµè§ˆå™¨å½“ä¸­ï¼Œå¹¶åœ¨ç›¸å…³çš„é¡µé¢å–å¾—ã€‚</p>
<p>sessionçš„ä½œç”¨æ˜¯ä¸ºäº†æ ‡è¯†ä¸€æ¬¡ä¼šè¯ï¼Œæˆ–è€…è¯´ç¡®è®¤ä¸€ä¸ªç”¨æˆ·ï¼›å¹¶ä¸”åœ¨<strong>ä¸€æ¬¡ä¼šè¯ï¼ˆä¸€ä¸ªç”¨æˆ·çš„å¤šæ¬¡è¯·æ±‚ï¼‰</strong>æœŸé—´å…±äº«æ•°æ®ã€‚å¯ä»¥é€šè¿‡request.getSession()æ–¹æ³•ï¼Œæ¥è·å–å½“å‰ä¼šè¯çš„sessionå¯¹è±¡ã€‚å½“è·å–sessionå¯¹è±¡æ—¶ï¼Œä¼šå…ˆåˆ¤æ–­sessionå¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è·å–sessionå¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-26 22:54</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/sess01&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Session1</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// sessionå¯¹è±¡çš„è·å–,</span></span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        <span class="comment">// è·å–sessionçš„å”¯ä¸€æ ‡è¯†--ä¼šè¯æ ‡è¯†ç¬¦</span></span><br><span class="line">        String id = session.getId();</span><br><span class="line">        System.out.println(<span class="string">&quot;å”¯ä¸€æ ‡è¯†ç¬¦å·ï¼š&quot;</span>+id);</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæ—¶é—´ï¼š&quot;</span>+session.getCreationTime());</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´(æ—¶é—´æˆ³)ï¼š&quot;</span>+session.getLastAccessedTime());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦æ˜¯æ–°çš„sessionå¯¹è±¡ï¼š&quot;</span>+session.isNew());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ ‡è¯†ä¼šè¯-JSESSIONID"><a href="#æ ‡è¯†ä¼šè¯-JSESSIONID" class="headerlink" title="æ ‡è¯†ä¼šè¯ JSESSIONID"></a><strong>æ ‡è¯†ä¼šè¯ JSESSIONID</strong></h4><p>Session æ—¢ç„¶æ˜¯ä¸ºäº†æ ‡è¯†ä¸€æ¬¡ä¼šè¯ï¼Œé‚£ä¹ˆæ­¤æ¬¡ä¼šè¯å°±åº”è¯¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡å¿—ï¼Œè¿™ä¸ªæ ‡å¿—å°±æ˜¯ sessionIdã€‚</p>
<p>æ¯å½“ä¸€æ¬¡è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œå¦‚æœæœåŠ¡å™¨å¼€å¯äº†ä¼šè¯ï¼ˆè®¿é—®äº† sessionï¼‰ï¼ŒæœåŠ¡å™¨ç¬¬ä¸€æ­¥ä¼šæŸ¥çœ‹æ˜¯å¦ä»å®¢æˆ·ç«¯å›ä¼ ä¸€ä¸ªåä¸º JSESSION çš„ cookieï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤ä¸ºè¿™æ˜¯ä¸€æ¬¡æ–°çš„ä¼šè¯ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ session å¯¹è±¡ï¼Œå¹¶ç”¨å”¯ä¸€çš„ sessionId ä¸ºæ­¤æ¬¡ä¼šè¯åšä¸€ä¸ªæ ‡å¿—ï¼Œ<strong>å¹¶ä¸”è¿˜ä¼šä¼ å¯¹åº”çš„cookieåœ¨æµè§ˆå™¨</strong>ã€‚å¦‚æœæœ‰ JESSIONID è¿™ä¸ª cookie å›ä¼ ï¼ŒæœåŠ¡å™¨åˆ™ä¼š æ ¹æ® JSESSIONID è¿™ä¸ªå€¼å»æŸ¥çœ‹æ˜¯å¦å«æœ‰ id ä¸º JSESSION å€¼çš„ session å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ session å¯¹è±¡ï¼Œå¹¶æ ‡å¿—æ­¤æ¬¡ä¼šè¯ï¼Œ<strong>å¹¶ä¼šå‘æµè§ˆå™¨å“åº”ä¸€ä¸ªæ–°çš„cookieï¼Œæµè§ˆå™¨æ›´æ–°è¿™ä¸ªcookie</strong>ï¼›å¦‚æœæ‰¾åˆ°äº†ç›¸åº”çš„ session å¯¹è±¡ï¼Œåˆ™è®¤ä¸ºæ˜¯ä¹‹å‰æ ‡å¿—è¿‡çš„ä¸€æ¬¡ä¼šè¯ï¼Œè¿”å›è¯¥ session å¯¹è±¡ï¼Œæ•°æ®è¾¾åˆ°å…±äº«ã€‚</p>
<blockquote>
<p>æµè§ˆå™¨æ¯ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨ï¼Œéƒ½ä¼šå°†cookieä¼ ç»™åå°ï¼Œåå°å¯ä»¥æ“ä½œcookieå†å“åº”ã€‚</p>
<p>æµè§ˆå™¨é‡Œå¯ä»¥å°†sessionidçš„cookieåˆ æ‰ã€‚</p>
</blockquote>
<p>è¿™é‡Œæåˆ°ä¸€ä¸ªå«åš JSESSION çš„ cookieï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ cookieï¼Œå½“ç”¨æˆ·è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œå¦‚æœè®¿é—®äº† sessionï¼Œåˆ™æœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªåä¸º JSESSIONï¼Œå€¼ä¸ºè·å–åˆ°çš„ sessionï¼ˆæ— è®ºæ˜¯è·å–åˆ°çš„è¿˜æ˜¯ æ–°åˆ›å»ºçš„ï¼‰çš„ sessionId çš„ cookie å¯¹è±¡ï¼Œå¹¶æ·»åŠ åˆ° response å¯¹è±¡ä¸­ï¼Œå“åº”ç»™å®¢æˆ·ç«¯ï¼Œæœ‰æ•ˆæ—¶é—´ä¸ºå…³é—­æµè§ˆå™¨ã€‚</p>
<p>sessionidä»¥cookieçš„å½¢å¼å­˜å‚¨ï¼› Session çš„åº•å±‚ä¾èµ– Cookie æ¥å®ç°ã€‚ä¸€ä¸ªæœåŠ¡å™¨åº”ç”¨å¯ä»¥å¯¹åº”å¤šä¸ªcookieï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªsessionã€‚</p>
<p>cookieæ˜¯ä¸ºäº†æ–¹ä¾¿å‡å°‘æ•°æ®ä¼ è¾“çš„ï¼Œè®©æœåŠ¡ç«¯è®°ä½å®¢æˆ·ç«¯èº«ä»½çš„ï¼›sessionæ˜¯ä¸ºäº†å¤šæ¬¡è®¿é—®è®°ä½çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯å½¢æˆä¼šè¯çš„ã€‚</p>
<p>cookieæ˜¯æœ‰è·¯å¾„çš„ï¼Œsessionå°±çœ‹æ˜¯ä¸æ˜¯ä¸€æ¬¡ä¼šè¯äº†ã€‚</p>
<h4 id="sessionåŸŸå¯¹è±¡"><a href="#sessionåŸŸå¯¹è±¡" class="headerlink" title="sessionåŸŸå¯¹è±¡"></a>sessionåŸŸå¯¹è±¡</h4><p>Session ç”¨æ¥è¡¨ç¤ºä¸€æ¬¡ä¼šè¯ï¼Œåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æ•°æ®æ˜¯å¯ä»¥å…±äº«çš„ï¼Œè¿™æ—¶ session ä½œä¸ºåŸŸå¯¹è±¡å­˜åœ¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">setAttribute(String name, Object o); <span class="comment">// è®¾ç½®åŸŸå¯¹è±¡å†…å®¹ </span></span><br><span class="line">getAttribute(String name); <span class="comment">// è·å–åŸŸå¯¹è±¡å†…å®¹ </span></span><br><span class="line">removeAttribute(String name); <span class="comment">//åˆ é™¤åŸŸå¯¹è±¡å†…å®¹</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-27 09:50</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/sess02&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Session2</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;uname&quot;</span>, <span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;pwd&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line">        session.removeAttribute(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;lili&quot;</span>);</span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘è·³è½¬åˆ°jspé¡µé¢ï¼Œè¯·æ±‚è½¬å‘ï¼Œä¸€æ¬¡è¯·æ±‚ï¼Œrequestå¯ä»¥æ‹¿åˆ°ï¼Œsessionä¹Ÿå¯ä»¥æ‹¿åˆ°</span></span><br><span class="line">        <span class="comment">//req.getRequestDispatcher(&quot;sess01.jsp&quot;).forward(req, resp);</span></span><br><span class="line">        <span class="comment">// é‡å®šå‘è·³è½¬åˆ°jspé¡µé¢,ä¸¤æ¬¡è¯·æ±‚ï¼Œrequestå¤±æ•ˆï¼Œä½†æ˜¯sessionå¯ä»¥æ‹¿åˆ°</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;sess01.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: mac</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">3</span>/<span class="number">27</span></span><br><span class="line">  Time: ä¸Šåˆ<span class="number">10</span>:<span class="number">00</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;è·å–åŸŸå¯¹è±¡&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// è·å–sessionåŸŸå¯¹è±¡</span></span><br><span class="line">    String uname = (String) request.getSession().getAttribute(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">    String pwd = (String) request.getSession().getAttribute(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–requeståŸŸå¯¹è±¡</span></span><br><span class="line">    String name = (String) request.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    out.println(<span class="string">&quot;session uname:&quot;</span>+uname);</span><br><span class="line">    out.println(<span class="string">&quot;session pwd:&quot;</span>+ pwd);</span><br><span class="line">    out.println(<span class="string">&quot;request name:&quot;</span>+ name);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>æ•°æ®å­˜å‚¨åœ¨ session åŸŸå¯¹è±¡ä¸­ï¼Œå½“ session å¯¹è±¡ä¸å­˜åœ¨äº†ï¼Œæ•°æ®ä¹Ÿå°±ä¸èƒ½å…±äº«äº†ã€‚ä¸åŒçš„æœåŠ¡å™¨åº”ç”¨ä¹‹é—´ï¼Œsessionå¯¹è±¡ä¹Ÿæ˜¯éš”ç¦»çš„ï¼Œä¸¤ä¸ªä¸åŒçš„sessionå¯¹è±¡é—´æ•°æ®ä¸èƒ½å…±äº«ã€‚</p>
<h4 id="sessionçš„é”€æ¯"><a href="#sessionçš„é”€æ¯" class="headerlink" title="sessionçš„é”€æ¯"></a><strong>sessionçš„é”€æ¯</strong></h4><p>1.é»˜è®¤åˆ°æœŸæ—¶é—´</p>
<p>å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚servletå¹¶ä¸”æ“ä½œsessionæ—¶ï¼Œsessionå¯¹è±¡ç”Ÿæˆï¼ŒTomcatä¸­sessioné»˜è®¤çš„å­˜æ´»æ—¶é—´ä¸º30minï¼Œå³ä½ ä¸æ“ä½œç•Œé¢çš„æ—¶é—´ï¼Œä¸€æ—¦æœ‰æ“ä½œï¼Œsessionä¼šé‡æ–°è®¡æ—¶ã€‚</p>
<p>sessionçš„é»˜è®¤æ—¶é—´å¯ä»¥åœ¨tomcatå®‰è£…ç›®å½•ä¸‹çš„confç›®å½•ä¸‹çš„web.xmlæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ã€‚å•ä½ä¸ºåˆ†ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.è®¾ç½®åˆ°æœŸæ—¶é—´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡session.setMaxInactionInterval()å¯ä»¥è‡ªè¡Œè®¾å®šå­˜æ´»æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span></span><br><span class="line">HttpSession session = request.getSession();</span><br><span class="line">session.setMaxInactiveInterval(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//10ç§’åé”€æ¯session</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥çœ‹sessionæœ€å¤§ä¸æ´»åŠ¨æ—¶é—´ï¼Œå³å­˜æ´»æ—¶é—´</span></span><br><span class="line">System.out.println(session.getMaxInactiveInterval());</span><br></pre></td></tr></table></figure>

<p>3.ç«‹å³é”€æ¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">session.invalidate();</span><br><span class="line"><span class="comment">//sessionç«‹å³ä½œåºŸ</span></span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨æ¯æ¬¡è®¿é—®éƒ½æ˜¯ä¸€ä¸ªæ–°çš„ã€‚</p>
<p>4.å…³é—­æµè§ˆå™¨</p>
<p>sessionåº•å±‚ä»¥æ¥cookieï¼Œcookieå¯¹è±¡é»˜è®¤åªåœ¨æµè§ˆå™¨å†…å­˜ä¸­å­˜æ´»ï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆã€‚</p>
<p>è¿™ä¸ªé»˜è®¤çš„ä¼˜å…ˆçº§é«˜ï¼Œå¦‚æœä¸å…³æµè§ˆå™¨30åˆ†é’Ÿå¤±æ•ˆï¼Œå…³äº†æµè§ˆå™¨ç«‹é©¬å¤±æ•ˆã€‚</p>
<p>5.å…³é—­æœåŠ¡å™¨</p>
<p>éæ­£å¸¸å…³é—­æœåŠ¡å™¨æ—¶æ‰ä¼šå¤±æ•ˆã€‚      </p>
<p>å¦‚æœæ˜¯æ­£å¸¸å…³é—­æœåŠ¡å™¨ï¼Œsessionä¼šè¢«é’åŒ–åˆ°æœ¬åœ°ç£ç›˜ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ä¼šä»æœ¬åœ°ç£ç›˜ä¸­æ´»åŒ–å‡ºæ¥ã€‚åœ¨ å·¥ä½œç©ºé—´ work ç›®å½•ä¸‹çš„ SESSION.ser æ–‡ä»¶ä¸­ã€‚ </p>
<p>Session å¤±æ•ˆåˆ™æ„å‘³ç€æ­¤æ¬¡ä¼šè¯ç»“æŸï¼Œæ•°æ®å…±äº«ç»“æŸã€‚</p>
<h3 id="11-ServletContextå¯¹è±¡"><a href="#11-ServletContextå¯¹è±¡" class="headerlink" title="11.ServletContextå¯¹è±¡"></a>11.ServletContextå¯¹è±¡</h3><h4 id="ServletContextå¯¹è±¡çš„è·å–"><a href="#ServletContextå¯¹è±¡çš„è·å–" class="headerlink" title="ServletContextå¯¹è±¡çš„è·å–"></a>ServletContextå¯¹è±¡çš„è·å–</h4><p>æ¯ä¸€ä¸ªwebåº”ç”¨éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªServletContextå¯¹è±¡ï¼Œåˆç§°ä¸ºApplicationå¯¹è±¡ï¼Œä»åç§°ä¸­å¯çŸ¥ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸åº”ç”¨ç¨‹åºç›¸å…³çš„ã€‚åœ¨webå®¹å™¨å¯åŠ¨æ—¶ï¼Œä¼šä¸ºæ¯ä¸€ä¸ªwebåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ã€‚</p>
<p>è¯¥å¯¹è±¡æœ‰ä¸¤å¤§ä½œç”¨ï¼Œç¬¬ä¸€ã€ä½œä¸ºåŸŸå¯¹è±¡æ¥å…±äº«æ•°æ®ï¼Œæ­¤æ—¶æ•°æ®åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±äº«ï¼›ç¬¬äºŒã€è¯¥å¯¹è±¡ä¸­ä¿å­˜äº†å½“å‰åº”ç”¨ç¨‹åºç›¸å…³ä¿¡æ¯ã€‚ä¾‹å¦‚å¯ä»¥é€šè¿‡getServerInfo()æ–¹æ³•è·å–å½“å‰æœåŠ¡å™¨ä¿¡æ¯ï¼ŒgetRealPath(String path)è·å–èµ„æºçš„çœŸå®è·¯å¾„ç­‰ã€‚</p>
<p>ServletContextå¯¹è±¡è·å–ï¼š</p>
<p>â‘ .é€šè¿‡requestå¯¹è±¡è·å–</p>
<p>ServletContext servletContext = req.getServletContext();</p>
<p>â‘¡.é€šè¿‡sessionå¯¹è±¡è·å–</p>
<p>ServletContext servletContext = request.getSession().getServletContext();</p>
<p>â‘¢.é€šè¿‡servletConfigå¯¹è±¡è·å–ï¼Œåœ¨Servletæ ‡å‡†ä¸­æä¾›äº†ServletConfigæ–¹æ³•</p>
<p>ServletContext servletContext = getServletConfig().getServletContext();</p>
<p>â‘£.ç›´æ¥è·å– Servletç±»ä¸­æä¾›äº†ç›´æ¥è·å–ServletContextå¯¹è±¡çš„æ–¹æ³•</p>
<p>ServletContext servletContext = getServletContext();</p>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServletContext servletContext = getServletContext();</span><br><span class="line"><span class="comment">//å¸¸ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">//è·å–å½“å‰æœåŠ¡å™¨çš„ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">String ServletInfo = servletContext.getServerInfo();</span><br><span class="line">System.out.println(<span class="string">&quot;æœåŠ¡å™¨å½“å‰çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š&quot;</span> + ServletInfo);</span><br><span class="line"><span class="comment">//è·å–é¡¹ç›®çš„çœŸå®è·¯å¾„</span></span><br><span class="line">String realPath = servletContext.getRealPath(<span class="string">&quot;/&quot;</span>);     <span class="comment">//è¡¨ç¤ºè·å–æ ¹è·¯å¾„,é¡¹ç›®çš„è€Œä¸æ˜¯åº”ç”¨çš„</span></span><br><span class="line">System.out.println(<span class="string">&quot;è·å–é¡¹ç›®çš„çœŸå®è·¯å¾„ï¼š&quot;</span> + realPath);</span><br></pre></td></tr></table></figure>



<h4 id="ServletContextåŸŸå¯¹è±¡"><a href="#ServletContextåŸŸå¯¹è±¡" class="headerlink" title="ServletContextåŸŸå¯¹è±¡"></a>ServletContextåŸŸå¯¹è±¡</h4><p>ServletContextä¹Ÿå¯ä»¥å½“åšåŸŸå¯¹è±¡æ¥ä½¿ç”¨ï¼Œé€šè¿‡ServletContextä¸­å­˜å–æ•°æ®ï¼Œå¯ä»¥ä½¿å¾—æ•´ä¸ªåº”ç”¨ç¨‹åºå…±äº«æŸäº›æ•°æ®ã€‚å½“ç„¶ä¸å»ºè®®å­˜æ”¾è¿‡å¤šæ•°æ®ï¼Œå› ä¸ºServletContextä¸­çš„æ•°æ®ä¸€æ—¦å­˜å‚¨è¿›å»æ²¡æœ‰æ‰‹åŠ¨ç§»é™¤ä¼šå°†ä¸€ç›´ä¿å­˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.context;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-29 09:19</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/con02&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context2</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> </span>&#123;</span><br><span class="line">        ServletContext servletContext = getServletContext();</span><br><span class="line">        <span class="comment">// è®¾ç½®åŸŸå¯¹è±¡</span></span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–åŸŸå¯¹è±¡</span></span><br><span class="line">        String name = (String) servletContext.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        <span class="comment">// ç§»é™¤åŸŸå¯¹è±¡</span></span><br><span class="line">        servletContext.removeAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Servletä¸‰å¤§ä½œç”¨åŸŸ</strong>ï¼š</p>
<p>1.requeståŸŸå¯¹è±¡<br>åœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆã€‚è¯·æ±‚è½¬å‘æœ‰æ•ˆ,é‡å®šå‘å¤±è´¥ã€‚</p>
<p>2.sessionåŸŸå¯¹è±¡<br>åœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆã€‚è¯·æ±‚è½¬å‘å’Œé‡å®šå‘éƒ½æœ‰æ•ˆï¼Œsessioné”€æ¯åå¤±æ•ˆã€‚</p>
<p>3.servletContextåŸŸå¯¹è±¡<br>åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­æœ‰æ•ˆã€‚æœåŠ¡å™¨å…³é—­é”€æ¯ã€‚</p>
<h3 id="12-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#12-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="12.æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>12.æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h3><p>servletä¸­å¦‚ä½•å®ç°æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ã€‚</p>
<h4 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h4><p>æ–‡ä»¶ä¸Šä¼ æ¶‰åŠåˆ°å‰å°é¡µé¢çš„ç¼–å†™å’Œåå°æœåŠ¡å™¨ç«¯ä»£ç çš„ç¼–å†™ï¼Œå‰å°å‘é€æ–‡ä»¶ï¼Œåå°æ¥æ”¶å¹¶ä¿å­˜æ–‡ä»¶ï¼Œè¿™æ‰æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<h5 id="å‰å°é¡µé¢"><a href="#å‰å°é¡µé¢" class="headerlink" title="å‰å°é¡µé¢"></a>å‰å°é¡µé¢</h5><p>åœ¨åšæ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„ç•Œé¢ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¡¨å•ï¼Œå¹¶ä¸”è¡¨å•çš„è¯·æ±‚æ–¹å¼ä¸º POSTï¼›å…¶æ¬¡æˆ‘ä»¬çš„ form è¡¨å•çš„ enctype å¿…é¡»è®¾ä¸ºâ€multipart/form-dataâ€å³ enctype=â€œmultipart/form-dataâ€ æ„æ€æ˜¯è®¾ç½®è¡¨å•çš„ MIME ç¼–ç ã€‚é»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªç¼–ç æ ¼å¼æ˜¯ â€application/x-www-form-urlencodedâ€ï¼Œä¸èƒ½ç”¨äºæ–‡ä»¶ä¸Šä¼ ï¼›åªæœ‰ä½¿ç”¨äº† multipart/form-data æ‰èƒ½å®Œæ•´åœ°ä¼ é€’æ–‡ä»¶æ•°æ®ã€‚</p>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: mac</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">3</span>/<span class="number">29</span></span><br><span class="line">  Time: ä¸‹åˆ<span class="number">9</span>:<span class="number">41</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;æ–‡ä»¶ä¸Šä¼ &lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">        <span class="number">1.</span>å‡†å¤‡è¡¨å•</span><br><span class="line">        <span class="number">2.</span>è®¾ç½®è¡¨å•çš„æäº¤ç±»å‹ method=<span class="string">&quot;post&quot;</span></span><br><span class="line">        <span class="number">3.</span>è®¾ç½®è¡¨å•ç±»å‹ä¸ºæ–‡ä»¶ä¸Šä¼ è¡¨å• enctype=<span class="string">&quot;multipart/form-data&quot;</span></span><br><span class="line">        <span class="number">4.</span>è®¾ç½®æ–‡ä»¶æäº¤çš„åœ°å€ action=<span class="string">&quot;uploadServlet&quot;</span></span><br><span class="line">        <span class="number">5.</span>å‡†å¤‡è¡¨å•å…ƒç´  <span class="number">1.</span>æ™®é€šè¡¨å•é¡¹ type=<span class="string">&quot;text&quot;</span> <span class="number">2.</span>æ–‡ä»¶é¡¹ type=<span class="string">&quot;file&quot;</span></span><br><span class="line">        <span class="number">6.</span>è®¾ç½®è¡¨å•å…ƒç´ çš„nameå±æ€§å€¼ï¼Œå¦åˆ™åå°æ— æ³•æ¥æ”¶æ•°æ®</span><br><span class="line">        --&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;uploadServlet&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">        å§“åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;uname&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">        æ–‡ä»¶ï¼š&lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;myfile&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">        &lt;!-- button é»˜è®¤çš„ type å±æ€§æ˜¯ submitï¼Œåšæäº¤æŒ‰é’®å¯ä»¥ä¸è®¾ç½® type --&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span>&gt; æäº¤ &lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="åå°å®ç°"><a href="#åå°å®ç°" class="headerlink" title="åå°å®ç°"></a>åå°å®ç°</h5><p>ä½¿ç”¨æ³¨è§£ <code>@MultipartConfig</code>æ ‡è¯†ä¸ºæ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œ Servlet å°† <code>Multipart/form-data</code> çš„postè¯·æ±‚å°è£…æˆ Part é€šè¿‡partå¯¹ä¸Šä¼ æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.MultipartConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Part;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-29 21:51</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@MultipartConfig</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/uploadServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ ......&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸ºä¿è¯æ•°æ®æ­£ç¡®æ€§ï¼Œé¦–å…ˆè®¾ç½®ç¼–ç </span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ™®é€šè¡¨å•é¡¹å‚æ•°</span></span><br><span class="line">        String uname = req.getParameter(<span class="string">&quot;uname&quot;</span>); <span class="comment">// è¡¨å•å…ƒç´ ä¸­ uname çš„å€¼</span></span><br><span class="line">        System.out.println(<span class="string">&quot;unameï¼š&quot;</span> + uname);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å– Part å¯¹è±¡ï¼Œä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line">        Part part = req.getPart(<span class="string">&quot;myfile&quot;</span>); <span class="comment">// è¡¨å•ä¸­ file æ–‡ä»¶åŸŸçš„ name å±æ€§å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡ part å¯¹è±¡å¾—åˆ°ä¸Šä¼ çš„æ–‡ä»¶å</span></span><br><span class="line">        String fileName = part.getSubmittedFileName();</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸Šä¼ çš„æ–‡ä»¶åï¼š&quot;</span> + fileName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾—åˆ°æ–‡ä»¶è¦å­˜æ”¾çš„è·¯å¾„--é¡¹ç›®è·¯å¾„</span></span><br><span class="line">        String filePath = req.getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        System.out.println(filePath); <span class="comment">// æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</span></span><br><span class="line">        <span class="comment">// /Users/liuxuan/MyProject/JavaProject/servletdemo/servlet-demo/out/artifacts/servlet_demo_war_exploded/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„</span></span><br><span class="line">        part.write(filePath + <span class="string">&quot;/&quot;</span> + fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‰ç«¯é¡µé¢â€¦/upload.jspé€‰æ‹©æ–‡ä»¶æäº¤åï¼Œè‡ªåŠ¨è·³è½¬è‡³â€¦/uploadServleté¡µé¢ã€‚</p>
<h4 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h4><p>å³å°†æœåŠ¡å™¨ä¸Šçš„èµ„æºä¸‹è½½ï¼ˆæ‹·è´ï¼‰åˆ°æœ¬åœ°ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¸‹è½½ï¼šé€šè¿‡è¶…é“¾æ¥ä¸‹è½½ã€é€šè¿‡ä»£ç ä¸‹è½½ã€‚</p>
<p>é¡¹ç›®å†…çš„æ–‡æœ¬æˆ–å›¾ç‰‡èµ„æºæ–‡ä»¶å¤¹éœ€è¦é€šè¿‡ Tomcat -&gt; Deployment è¿›è¡Œä¸Šä¼ æ‰èƒ½é€šè¿‡é¡¹ç›®å‘å¸ƒï¼Œè¿›è¡Œè®¿é—®ã€‚</p>
<h5 id="è¶…é“¾æ¥ä¸‹è½½"><a href="#è¶…é“¾æ¥ä¸‹è½½" class="headerlink" title="è¶…é“¾æ¥ä¸‹è½½"></a>è¶…é“¾æ¥ä¸‹è½½</h5><p>å½“æˆ‘ä»¬åœ¨HTMLæˆ–JSPé¡µé¢ä¸­ä½¿ç”¨aæ ‡ç­¾æ—¶ï¼ŒåŸæ„æ˜¯å¸Œæœ›èƒ½å¤Ÿè¿›è¡Œè·³è½¬ï¼Œä½†å½“è¶…é“¾æ¥é‡åˆ°æµè§ˆå™¨ä¸è¯†åˆ«çš„èµ„æºæ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ï¼›å½“é‡åˆ°æµè§ˆå™¨èƒ½å¤Ÿç›´æ¥æ˜¾ç¤ºçš„èµ„æºï¼Œæµè§ˆå™¨å°±ä¼šé»˜è®¤æ˜¾ç¤ºå‡ºæ¥ï¼Œæ¯”å¦‚txtã€pngã€jpgç­‰ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡downloadå±æ€§è§„å®šæµè§ˆå™¨è¿›è¡Œä¸‹è½½ã€‚ä½†æœ‰äº›æµè§ˆå™¨å¹¶ä¸æ”¯æŒã€‚</p>
<p>åœ¨webæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªdownloadæ–‡ä»¶å¤¹ï¼Œå‡†å¤‡å›¾ç‰‡ã€æ–‡æœ¬æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–‡ä»¶å­˜æ”¾åœ°å€éœ€è¦é…ç½®ä¸€ä¸‹ï¼Œç‚¹å³ä¸Šè§’configurationï¼Œå†ç‚¹deploymentï¼Œå†ç‚¹åŠ å·ï¼Œé€‰åˆ°downloadæ–‡ä»¶å¤¹ä¸‹ï¼Œå†æ”¹ä¸€ä¸‹application contextï¼š/servlet_demo/downloadã€‚è¿™æ ·æ–‡ä»¶å¤¹ä¸‹çš„èµ„æºæ‰èƒ½è¢«æµè§ˆå™¨è®¿é—®åˆ°ã€‚ï¼ˆè¿™ä¸ªdownloadæ˜¯æ–‡ä»¶å¤¹åå­—ï¼‰</p>
<p>è®¿é—®ï¼š<a href="http://localhost:8080/servlet_demo/download.html">http://localhost:8080/servlet_demo/download.html</a> ï¼ˆè¿™ä¸ªdownloadæ˜¯htmlåå­—ï¼‰</p>
<p>download.htmlï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ–‡ä»¶ä¸‹è½½<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„èµ„æºï¼Œç‚¹å‡»å±•ç¤º --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;download/TacoCloud.jpeg&quot;</span>&gt;</span>å›¾ç‰‡æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;download/Taco.java&quot;</span>&gt;</span>æ–‡æœ¬æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åŠ downloadç‚¹å‡»ä¸‹è½½,å¯ä¸å†™å±æ€§åï¼Œè¡¨ç¤ºæ–‡ä»¶å --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;download/TacoCloud.jpeg&quot;</span> <span class="attr">download</span>=<span class="string">&quot;ç™¾åº¦.jpeg&quot;</span>&gt;</span>å›¾ç‰‡æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;download/Taco.java&quot;</span> <span class="attr">download</span>=<span class="string">&quot;&quot;</span>&gt;</span>æ–‡æœ¬æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æµè§ˆå™¨ä¸èƒ½å¤Ÿè¯†åˆ«çš„èµ„æº,è‡ªåŠ¨ä¸‹è½½ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>å‹ç¼©æ–‡ä»¶<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="åå°å®ç°ä¸‹è½½"><a href="#åå°å®ç°ä¸‹è½½" class="headerlink" title="åå°å®ç°ä¸‹è½½"></a>åå°å®ç°ä¸‹è½½</h5><p>å®ç°æ­¥éª¤ï¼š</p>
<p>å¾—çŸ¥é“è¦ä¸‹è½½çš„èµ„æºæ–‡ä»¶åï¼Œæ–‡ä»¶åä¼ åˆ°åå°ä»£ç ä¹‹åï¼š</p>
<ol>
<li>éœ€è¦é€šè¿‡response.setContentTypeæ–¹æ³•è®¾ç½®Content-typeå¤´å­—æ®µçš„å€¼ï¼Œä¸ºæµè§ˆå™¨æ— æ³•ä½¿ç”¨æŸç§æ–¹å¼æˆ–æ¿€æ´»æŸä¸ªç¨‹åºæ¥å¤„ç†çš„MIMEç±»å‹ï¼Œä¾‹å¦‚â€œapplication/octet-streamâ€æˆ–â€œapplication/x-msdownloadâ€˜ç­‰ã€‚</li>
<li>éœ€è¦é€šè¿‡response.setHeaderæ–¹æ³•è®¾ç½®Content-Dispositionå¤´çš„å€¼ä¸ºâ€œattachment;filename=æ–‡ä»¶åâ€œ</li>
<li>è¯»å–ä¸‹è½½æ–‡ä»¶ï¼Œè°ƒç”¨response.getOutputStreamæ–¹æ³•å‘å®¢æˆ·ç«¯å†™å…¥é™„ä»¶å†…å®¹ã€‚</li>
</ol>
<p>ç¬¬ä¸€æ­¥ï¼šå†™htmlé¡µé¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;æ–‡ä»¶ä¸‹è½½&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- æµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„èµ„æºï¼Œç‚¹å‡»å±•ç¤º --&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;download/TacoCloud.jpeg&quot;</span>&gt;å›¾ç‰‡æ–‡ä»¶&lt;/a&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;download/Taco.java&quot;</span>&gt;æ–‡æœ¬æ–‡ä»¶&lt;/a&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!-- åŠ downloadç‚¹å‡»ä¸‹è½½,å¯ä¸å†™å±æ€§åï¼Œè¡¨ç¤ºæ–‡ä»¶å --&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;download/TacoCloud.jpeg&quot;</span> download=<span class="string">&quot;ç™¾åº¦.jpeg&quot;</span>&gt;å›¾ç‰‡æ–‡ä»¶&lt;/a&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;download/Taco.java&quot;</span> download=<span class="string">&quot;&quot;</span>&gt;æ–‡æœ¬æ–‡ä»¶&lt;/a&gt;</span><br><span class="line">    &lt;!-- æµè§ˆå™¨ä¸èƒ½å¤Ÿè¯†åˆ«çš„èµ„æº,è‡ªåŠ¨ä¸‹è½½ --&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;&quot;</span>&gt;å‹ç¼©æ–‡ä»¶&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;downloadServlet&quot;</span>&gt;</span><br><span class="line">        æ–‡ä»¶åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;fileName&quot;</span> placeholder=<span class="string">&quot;è¯·è¾“å…¥è¦ä¸‹è½½çš„æ–‡ä»¶å&quot;</span>&gt;</span><br><span class="line">        &lt;button&gt;ä¸‹è½½&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šå†™ä¸€ä¸ªservleté¡µé¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.servlet.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022-03-31 21:59</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/downloadServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span> <span class="comment">//é‡å†™é’¥åŒ™çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ä¸‹è½½===&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®è¯·æ±‚çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// ä¹±ç é—®é¢˜ï¼Œè®¾ç½®ç¼–ç æ ¼å¼</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–å‚æ•°ï¼ˆå¾—åˆ°è¦ä¸‹è½½çš„æ–‡ä»¶åï¼‰</span></span><br><span class="line">        String fileName = req.getParameter(<span class="string">&quot;fileName&quot;</span>);</span><br><span class="line">        <span class="comment">// å‚æ•°çš„éç©ºåˆ¤æ–­  trim()å»é™¤å­—ç¬¦ä¸²å‰åç©ºæ ¼ï¼Œä¸­é—´çš„ä¸ç®¡</span></span><br><span class="line">        <span class="keyword">if</span>(fileName == <span class="keyword">null</span> || <span class="string">&quot;&quot;</span>.equals(fileName.trim()))&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;è¯·è¾“å…¥è¦ä¸‹è½½çš„æ–‡ä»¶åï¼&quot;</span>);</span><br><span class="line">            resp.getWriter().close();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¾—åˆ°å›¾ç‰‡å­˜æ”¾çš„è·¯å¾„,æ–‡ä»¶æ”¾åœ¨é…ç½®å¥½çš„downloadç›®å½•ä¸‹çš„ã€‚</span></span><br><span class="line">        String path = req.getServletContext().getRealPath(<span class="string">&quot;/download/&quot;</span>);</span><br><span class="line">        <span class="comment">// é€šè¿‡è·¯å¾„å¾—åˆ°fileå¯¹è±¡</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(path + fileName);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ï¼š&quot;</span>+ file);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ–‡ä»¶å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸”æ˜¯ä¸ªæ ‡å‡†æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span>(file.exists() &amp;&amp; file.isFile())&#123;</span><br><span class="line">            <span class="comment">// 1.è®¾ç½®å“åº”ç±»å‹ï¼Œè®¾ç½®ä¸ºæµè§ˆå™¨æ— æ³•ä½¿ç”¨æŸç§æ–¹å¼æˆ–æ¿€æ´»æŸä¸ªç¨‹åºæ¥å¤„ç†çš„MIMEç±»å‹</span></span><br><span class="line">            resp.setContentType(<span class="string">&quot;application/x-msdownload&quot;</span>);</span><br><span class="line">            <span class="comment">// 2.è®¾ç½®å“åº”å¤´</span></span><br><span class="line">            resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + fileName);</span><br><span class="line">            <span class="comment">// 3.å¾—åˆ°fileæ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class="line">            InputStream in = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">            <span class="comment">// 4.å¾—åˆ°å­—èŠ‚è¾“å‡ºæµï¼Œå­—ç¬¦è¾“å‡ºæµæ–‡ä»¶æ˜¯ä¸è¡Œçš„</span></span><br><span class="line">            ServletOutputStream out = resp.getOutputStream();</span><br><span class="line">            <span class="comment">// 5.å®šä¹‰byteæ•°ç»„</span></span><br><span class="line">            <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">// 6.å®šä¹‰é•¿åº¦</span></span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 7.å¾ªç¯è¾“å‡º</span></span><br><span class="line">            <span class="keyword">while</span> ((len = in.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                out.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 8.å…³é—­èµ„æº</span></span><br><span class="line">            out.close();</span><br><span class="line">            in.close();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·é‡è¯•ï¼&quot;</span>);</span><br><span class="line">            resp.getWriter().close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p>æ¯”è¾ƒå…¨çš„æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_19782019/article/details/80292110">https://blog.csdn.net/qq_19782019/article/details/80292110</a></p>
<p>å®ç°ï¼š<a href="https://blog.csdn.net/Hello_zbs/article/details/108394660">https://blog.csdn.net/Hello_zbs/article/details/108394660</a></p>
<p>bç«™è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Ta4y1H7Vc?p=26&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Ta4y1H7Vc?p=26&amp;spm_id_from=pageDriver</a></p>
<p>å­¦ä¹ ç¬”è®°ï¼š<a href="https://www.cnblogs.com/yuan-liu/p/15255326.html">https://www.cnblogs.com/yuan-liu/p/15255326.html</a></p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>servlet</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹ç±»ä¸é›†åˆ</title>
    <url>/2021/11/17/myblog/JAVA/%E3%80%8AJava%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8%E3%80%8B%E7%B1%BB%E4%B8%8E%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<h2 id="javaä¸­çš„å¸¸ç”¨ç±»"><a href="#javaä¸­çš„å¸¸ç”¨ç±»" class="headerlink" title="javaä¸­çš„å¸¸ç”¨ç±»"></a>javaä¸­çš„å¸¸ç”¨ç±»</h2><h3 id="Stringç±»"><a href="#Stringç±»" class="headerlink" title="Stringç±»"></a>Stringç±»</h3><p>Stringç±»çš„å‡ ç§åˆå§‹åŒ–æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ªStringå¯¹è±¡</span><br><span class="line">String ss = <span class="keyword">null</span>;  åˆå§‹åŒ–ä¸ºç©º</span><br><span class="line">String ss = â€œâ€;  åˆå§‹åŒ–ä¸ºç©ºå­—ç¬¦ä¸²</span><br><span class="line">String ss = â€œabcâ€;  åˆå§‹åŒ–ä¸ºabc</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>ä½¿ç”¨Stringçš„æ„é€ æ–¹æ³•åˆå§‹åŒ–å­—ç¬¦ä¸²å¯¹è±¡</span><br><span class="line">String ss = <span class="keyword">new</span> String();  åˆå§‹åŒ–ä¸ºç©ºå­—ç¬¦ä¸²</span><br><span class="line">String ss = <span class="keyword">new</span> String(<span class="string">&quot;abc&quot;</span>);  åˆå§‹åŒ–ä¸ºabc</span><br><span class="line"><span class="comment">//æ ¹æ®æŒ‡å®šå­—ç¬¦æ•°ç»„åˆ›å»ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">char</span>[] ch = <span class="keyword">new</span> <span class="keyword">char</span>[]&#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line">String ss = <span class="keyword">new</span> String(ch);</span><br></pre></td></tr></table></figure>

<p>Stringç±»åŸºæœ¬æ“ä½œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s=<span class="string">&quot;abcdefghigk&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;å­—ç¬¦ä¸²é•¿åº¦ï¼š&quot;</span>+s.length());</span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²æ˜¯.length()ï¼Œæ•°ç»„æ˜¯.length</span></span><br><span class="line">System.out.println(<span class="string">&quot;å­—ç¬¦ä¸²ç¬¬iä¸ªå­—ç¬¦ï¼š&quot;</span>+s.charAt(i));</span><br><span class="line">System.out.println(<span class="string">&quot;å­—ç¬¦cç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼š&quot;</span>+s.indexOf(<span class="string">&#x27;c&#x27;</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;å­—ç¬¦cæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼š&quot;</span>+s.lastIndexOf(<span class="string">&#x27;c&#x27;</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;å­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼š&quot;</span>+s.indexOf(<span class="string">&quot;ab&quot;</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;å­å­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼š&quot;</span>+s.lastIndexOf(<span class="string">&quot;ab&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦ä¸²çš„è½¬æ¢æ“ä½œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s=<span class="string">&quot;abcdefg&quot;</span>;</span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ï¼š</span></span><br><span class="line"><span class="keyword">char</span>[] ch=s.toCharArray();</span><br><span class="line">System.out.println(<span class="string">&quot;intå€¼è½¬æ¢ä¸ºstringç±»å‹ï¼š&quot;</span>+String.valueOf(<span class="number">100</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ï¼š&quot;</span>+s.toUpperCase());</span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦ä¸²çš„æ›¿æ¢å’Œå»é™¤ç©ºæ ¼æ“ä½œï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s=<span class="string">&quot;  a b &quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç©ºæ ¼åçš„ç»“æœï¼š&quot;</span>+s.trim());</span><br><span class="line"><span class="comment">//ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œå®Œæˆå»é™¤ç©ºæ ¼</span></span><br><span class="line">System.out.println(<span class="string">&quot;å»é™¤å­—ç¬¦ä¸²æ‰€æœ‰ç©ºæ ¼åçš„ç»“æœï¼š&quot;</span>+s.replace(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>replace()æ–¹æ³•æ˜¯å¯ä»¥æ›¿æ¢å­å­—ç¬¦ä¸²çš„ã€‚</p>
<p>å­—ç¬¦ä¸²çš„åˆ¤æ–­æ“ä½œï¼šè¿”å›booleanç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s=<span class="string">&quot;Starter&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦ä»¥å­—ç¬¦ä¸²Stå¼€å¤´ï¼š&quot;</span>+s.startWith(<span class="string">&quot;St&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦ä»¥å­—ç¬¦ä¸²erç»“å°¾ï¼š&quot;</span>+s.endWith(<span class="string">&quot;er&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦åŒ…å«arï¼š&quot;</span>+s.contains(<span class="string">&quot;ar&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼š&quot;</span>+s.isEmpty());</span><br><span class="line">System.out.println(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼š&quot;</span>+s.equals(<span class="string">&quot;St&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="å’Œequals"><a href="#å’Œequals" class="headerlink" title="==å’Œequals()"></a>==å’Œequals()</h4><p> ==å¯¹äºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ çš„ä½œç”¨æ•ˆæœæ˜¯ä¸åŒçš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li>åŸºæœ¬ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸åŒ</li>
<li>å¼•ç”¨ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å¼•ç”¨ï¼ˆå¯¹è±¡çš„å†…å­˜åœ°å€ï¼‰æ˜¯å¦ç›¸åŒï¼Œstringæ˜¯å¼•ç”¨ç±»å‹ã€‚</li>
</ul>
<p>equals æœ¬è´¨ä¸Šå°±æ˜¯ ==ï¼Œåªä¸è¿‡ String å’Œ Integer ç­‰é‡å†™äº† equals æ–¹æ³•ï¼Œ<strong>æŠŠå®ƒå˜æˆäº†å€¼æ¯”è¾ƒã€‚</strong></p>
<p>åœ¨Stringç±»ä¸­ï¼Œé‡å†™äº†çˆ¶ç±»Objectä¸­çš„equals()æ–¹æ³•ã€‚æŠŠå®ƒå˜æˆäº†<strong>å€¼æ¯”è¾ƒ</strong>ã€‚</p>
<p>==å’Œequals()æ–¹æ³•ä¸åŒï¼Œequalsæ–¹æ³•ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ==æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String x = <span class="string">&quot;string&quot;</span>;</span><br><span class="line">String y = <span class="string">&quot;string&quot;</span>;</span><br><span class="line">x==y  (<span class="keyword">true</span>)  x.equals(y)  (<span class="keyword">true</span>)</span><br><span class="line">String z = <span class="keyword">new</span> String(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">String m = <span class="keyword">new</span> String(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">z==m  (<span class="keyword">false</span>)  z.equals(m)  (<span class="keyword">true</span>)</span><br><span class="line">x==z  (<span class="keyword">false</span>)  x.equals(z)  (<span class="keyword">true</span>)</span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦ä¸²çš„æˆªå–ä¸åˆ†å‰²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s=<span class="string">&quot;2021-11-11&quot;</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;æˆªå–ï¼š&quot;</span>+s.substring(<span class="number">5</span>));</span><br><span class="line"><span class="comment">//ç»“æœä¸º11-24  å·¦é—­å³å¼€åŸåˆ™ï¼Œä»ä¸‹æ ‡5å¼€å§‹æˆªå–</span></span><br><span class="line">System.out.println(<span class="string">&quot;æˆªå–ï¼š&quot;</span>+s.substring(<span class="number">5</span>,<span class="number">7</span>));</span><br><span class="line"><span class="comment">//ç»“æœä¸º11</span></span><br><span class="line">String[] sArray=s.split(<span class="string">&quot;-&quot;</span>);</span><br><span class="line"><span class="comment">//å°†å­—ç¬¦ä¸²æŒ‰ç…§æŸä¸ªå­—ç¬¦è¿›è¡Œåˆ†å‰²ï¼Œå˜ä¸ºå­—ç¬¦ä¸²æ•°ç»„</span></span><br></pre></td></tr></table></figure>

<p>javaä¸­ï¼ŒStringç±»æ˜¯finalç±»å‹çš„ï¼Œæ‰€ä»¥ä½¿ç”¨Stringç±»å®šä¹‰çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå®ƒä¸€æ—¦åˆ›å»ºï¼Œå†…å®¹å’Œé•¿åº¦ä¸å¯æ”¹å˜ã€‚</p>
<h3 id="StringBufferç±»"><a href="#StringBufferç±»" class="headerlink" title="StringBufferç±»"></a>StringBufferç±»</h3><p>ç±»ä¼¼ä¸€ä¸ªå­—ç¬¦å®¹å™¨ï¼Œåœ¨å…¶ä¸­æ·»åŠ å’Œåˆ é™¤å­—ç¬¦æ—¶ï¼Œæ“ä½œçš„éƒ½æ˜¯è¿™ä¸ªå­—ç¬¦å®¹å™¨ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„StringBufferå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">StringBuffer sb=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">sb.append(<span class="string">&quot;abc&quot;</span>);   <span class="comment">//æ·»åŠ å­—ç¬¦ä¸²ï¼Œå§‹ç»ˆæ˜¯æ·»åŠ åˆ°ç¼“å†²åŒºçš„æœ«å°¾</span></span><br><span class="line">sb.insert(<span class="number">3</span>,<span class="string">&quot;de&quot;</span>);   <span class="comment">//åœ¨3çš„å‰é¢æ’å…¥ï¼Œå˜ä¸ºabcde</span></span><br><span class="line">sb.setCharAt(<span class="number">2</span>,<span class="string">&#x27;f&#x27;</span>);  <span class="comment">//ä¿®æ”¹æŒ‡å®šä½ç½®å­—ç¬¦ï¼Œå˜ä¸ºabfde</span></span><br><span class="line">sb.replace(<span class="number">3</span>,<span class="number">5</span>,<span class="string">&quot;gh&quot;</span>);  <span class="comment">//å·¦é—­å³å¼€æ›¿æ¢æŒ‡å®šä½ç½®å­—ç¬¦ä¸²æˆ–å­—ç¬¦</span></span><br><span class="line">System.out.println(sb.reverse());   <span class="comment">//å­—ç¬¦ä¸²ç¿»è½¬ç»“æœ</span></span><br><span class="line">sb.delete(<span class="number">3</span>,<span class="number">7</span>);   <span class="comment">//å·¦é—­å³å¼€åˆ é™¤</span></span><br><span class="line">sb.deleteCharAt(<span class="number">2</span>);   <span class="comment">//åˆ é™¤æŒ‡å®šä½ç½®å­—ç¬¦</span></span><br><span class="line">sb.delete(<span class="number">0</span>,sb.length());   <span class="comment">//æ¸…ç©ºç¼“å†²åŒº</span></span><br></pre></td></tr></table></figure>

<h3 id="Stringå’ŒStringBufferåŒºåˆ«"><a href="#Stringå’ŒStringBufferåŒºåˆ«" class="headerlink" title="Stringå’ŒStringBufferåŒºåˆ«"></a>Stringå’ŒStringBufferåŒºåˆ«</h3><p>ï¼ˆ1ï¼‰Stringç±»å®šä¹‰çš„å­—ç¬¦ä¸²æ˜¯å¸¸é‡ï¼Œä¸€æ—¦åˆ›å»ºåï¼Œå†…å®¹å’Œé•¿åº¦éƒ½æ˜¯æ— æ³•æ”¹å˜çš„ã€‚StringBufferç±»è¡¨ç¤ºå­—ç¬¦å®¹å™¨ï¼Œå…¶å†…å®¹å’Œé•¿åº¦å¯ä»¥éšæ—¶ä¿®æ”¹ã€‚</p>
<p>ï¼ˆ2ï¼‰Stringç±»é‡å†™äº†Objectç±»çš„equals()æ–¹æ³•ï¼Œè€ŒStringBufferç±»æ²¡æœ‰é‡å†™Objectç±»çš„equalsæ–¹æ³•ï¼Œä¾ç„¶è¡¨ç¤ºå†…å­˜åœ°å€ç›¸åŒï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String s1=<span class="keyword">new</span> String(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">String s2=<span class="keyword">new</span> String(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">System.out.println(s1.equals(s2));   <span class="comment">//ç»“æœä¸ºtrue</span></span><br><span class="line"></span><br><span class="line">StringBuffer sb1=<span class="keyword">new</span> StringBuffer(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">StringBuffer sb2=<span class="keyword">new</span> StringBuffer(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">System.out.println(sb1.equals(sb2));   <span class="comment">//ç»“æœä¸ºfalse</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰Stringç±»å¯¹è±¡å¯ä»¥ç”¨æ“ä½œç¬¦+è¿›è¡Œè¿æ¥ï¼Œè€ŒStringBufferç±»å¯¹è±¡ä¹‹é—´ä¸èƒ½ã€‚</p>
<h3 id="StringBuilderç±»"><a href="#StringBuilderç±»" class="headerlink" title="StringBuilderç±»"></a>StringBuilderç±»</h3><p>é™¤äº†ä½¿ç”¨StringBufferå¤–ï¼ŒJDK1.5ä¹‹åæä¾›äº†StringBuilderç±»ï¼ŒåŒæ ·å¯ä»¥æ“ä½œå­—ç¬¦ä¸²ã€‚</p>
<p>ä¸åŒä¹‹å¤„åœ¨äºï¼ŒStringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒStringBuilderæ²¡æœ‰å®ç°çº¿ç¨‹å®‰å…¨åŠŸèƒ½ï¼Œæ‰€ä»¥æ€§èƒ½ç•¥é«˜ã€‚å› æ­¤ï¼Œä¸€èˆ¬åˆ›å»ºä¸€ä¸ªå†…å®¹å¯å˜çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œåº”è¯¥ä¼˜å…ˆè€ƒè™‘StringBuilderç±»ã€‚</p>
<p>StringBuilderç±»çš„æ–¹æ³•å’ŒStringBufferç±»ä¸€æ ·ã€‚</p>
<h3 id="Systemç±»"><a href="#Systemç±»" class="headerlink" title="Systemç±»"></a>Systemç±»</h3><p>Systemç±»å®šä¹‰äº†ä¸€äº›ä¸ç³»ç»Ÿç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ƒæ‰€æä¾›çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Systemç±»è¿›è¡Œè°ƒç”¨ï¼ˆä¸ç”¨åˆ›å»ºå¯¹è±¡è¿›è¡Œè°ƒç”¨ï¼‰ã€‚</p>
<h4 id="getProperties-æ–¹æ³•"><a href="#getProperties-æ–¹æ³•" class="headerlink" title="getProperties()æ–¹æ³•"></a>getProperties()æ–¹æ³•</h4><p>ç”¨äºè·å–å½“å‰ç³»ç»Ÿçš„å…¨éƒ¨å±æ€§ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªPropertieså¯¹è±¡ï¼Œå…¶ä¸­å°è£…äº†ç³»ç»Ÿçš„æ‰€æœ‰å±æ€§ï¼Œè¿™äº›å±æ€§ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemPropertiesDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	    <span class="comment">//è·å–ç³»ç»Ÿæ‰€æœ‰å±æ€§</span></span><br><span class="line">		Properties pro = System.getProperties();</span><br><span class="line">		<span class="comment">//è·å–æ‰€æœ‰ç³»ç»Ÿå±æ€§çš„keyï¼Œè¿”å›setå¯¹è±¡</span></span><br><span class="line">        Set&lt;String&gt;proName=pro.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span>(String key:proName)&#123;</span><br><span class="line">            <span class="comment">//è·å–keyï¼ˆå±æ€§åï¼‰å¯¹åº”çš„å±æ€§å€¼</span></span><br><span class="line">            String value=System.getProperty(key);</span><br><span class="line">            System.out.println(key+<span class="string">&quot;-&gt;&quot;</span>+value);</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="currentTimeMillis"><a href="#currentTimeMillis" class="headerlink" title="currentTimeMillis()"></a>currentTimeMillis()</h4><p>currentTimeMillis()æ–¹æ³•è¿”å›ä¸€ä¸ªlongç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰æ—¶é—´ä¸1970å¹´1æœˆ1æ—¥0ç‚¹0åˆ†0ç§’ä¹‹é—´çš„æ—¶é—´å·®ï¼Œå•ä½æ¯«ç§’ã€‚</p>
<h4 id="arraycopy-æ–¹æ³•"><a href="#arraycopy-æ–¹æ³•" class="headerlink" title="arraycopy()æ–¹æ³•"></a>arraycopy()æ–¹æ³•</h4><p>ç”¨äºå°†ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ å¿«é€Ÿæ‹·è´åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a=&#123;<span class="number">101</span>,<span class="number">102</span>,<span class="number">103</span>,<span class="number">104</span>,<span class="number">105</span>,<span class="number">106</span>&#125;;  <span class="comment">//æºæ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span>[] b=&#123;<span class="number">201</span>,<span class="number">202</span>,<span class="number">203</span>,<span class="number">204</span>,<span class="number">205</span>&#125;;   <span class="comment">//ç›®æ ‡æ•°ç»„</span></span><br><span class="line">System.arraycopy(a,<span class="number">2</span>,b,<span class="number">0</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">//æœ€ç»ˆbå˜ä¸º103ï¼Œ104ï¼Œ105ï¼Œ106ï¼Œ205</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä¾‹å­ä¸­ï¼Œä»aæ•°ç»„ç´¢å¼•ä¸º2çš„å…ƒç´ å¼€å§‹æ‹·è´ï¼Œå¹¶ä¸”æ‹·è´4ä¸ªå…ƒç´ å­˜æ”¾åœ¨ç›®æ ‡æ•°ç»„ä¸­ç´¢å¼•ä¸º0çš„ä½ç½®ã€‚</p>
<p>æ³¨æ„ï¼šè¿›è¡Œæ•°ç»„æ‹·è´æ—¶ï¼Œä¸€å®šè¦ä¿è¯æºæ•°ç»„ç±»å‹å’Œç›®æ ‡æ•°ç»„ç±»å‹ä¸€è‡´ï¼Œæˆªå–çš„é•¿åº¦ä¸èƒ½è¶…è¿‡æºæ•°ç»„ç•Œé™ï¼Œä¹Ÿä¸èƒ½è¶…è¿‡ç›®æ ‡æ•°ç»„å¯ä»¥å®¹çº³çš„ä¸ªæ•°ã€‚</p>
<h4 id="gc-æ–¹æ³•å’Œexit-int-status-æ–¹æ³•"><a href="#gc-æ–¹æ³•å’Œexit-int-status-æ–¹æ³•" class="headerlink" title="gc()æ–¹æ³•å’Œexit(int status)æ–¹æ³•"></a>gc()æ–¹æ³•å’Œexit(int status)æ–¹æ³•</h4><p>gc()æ–¹æ³•ç”¨äºå¯åŠ¨javaçš„åƒåœ¾å›æ”¶å™¨ï¼Œå¹¶å¯¹å†…å­˜ä¸­çš„åƒåœ¾å¯¹è±¡è¿›è¡Œå›æ”¶ã€‚</p>
<p>exit(int status)ç”¨äºç»ˆæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„javaè™šæ‹Ÿæœºï¼Œå‚æ•°è¡¨ç¤ºå½“å‰å‘ç”Ÿçš„å¼‚å¸¸çŠ¶æ€ï¼Œä¸€èˆ¬æŒ‡å®š0ï¼Œè¡¨ç¤ºæ­£å¸¸é€€å‡ºï¼Œå¦åˆ™è¡¨ç¤ºå¼‚å¸¸ç»ˆæ­¢ã€‚</p>
<h3 id="Runtimeç±»"><a href="#Runtimeç±»" class="headerlink" title="Runtimeç±»"></a>Runtimeç±»</h3><p>Runtimeç±»ç”¨äºè¡¨ç¤ºJavaè™šæ‹Ÿæœºè¿è¡Œæ—¶çš„çŠ¶æ€ï¼Œç”¨äºå°è£…Javaè™šæ‹Ÿæœºè¿›ç¨‹ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¯¥ç±»çš„å®ä¾‹å¯¹è±¡æ¥è·å–å½“å‰è™šæ‹Ÿæœºçš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>æ¯æ¬¡ä½¿ç”¨javaå‘½ä»¤å¯åŠ¨javaè™šæ‹Ÿæœºæ—¶éƒ½ä¼šå¯¹åº”ä¸€ä¸ªRuntimeå®ä¾‹ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œåº”ç”¨ç¨‹åºä¼šé€šè¿‡è¯¥å®ä¾‹ä¸å…¶è¿è¡Œæ—¶çš„ç¯å¢ƒç›¸è¿ã€‚åº”ç”¨ç¨‹åºä¸èƒ½åˆ›å»ºè‡ªå·±çš„Runtimeå®ä¾‹ï¼Œè‹¥æƒ³åœ¨ç¨‹åºä¸­è·å¾—ä¸€ä¸ªRuntimeå®ä¾‹ï¼Œå¯ä»¥é€šè¿‡getRuntime()æ–¹æ³•è·å–ä¸ä¹‹ç›¸å…³çš„Runtimeå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runtime rt=Runtime.getRuntime(); <span class="comment">//è·å–javaç¨‹åºå…³è”çš„è¿è¡Œæ—¶å¯¹è±¡</span></span><br><span class="line">System.out.println(<span class="string">&quot;å¤„ç†å™¨ä¸ªæ•°ï¼š&quot;</span>+rt.availableProcessors()); <span class="comment">//å•ä½ä¸ª</span></span><br><span class="line">System.out.println(<span class="string">&quot;ç©ºé—²å†…å­˜å¤§å°ï¼š&quot;</span>+rt.freeMemory()); <span class="comment">//å•ä½å­—èŠ‚</span></span><br><span class="line">System.out.println(<span class="string">&quot;æœ€å¤§å¯ç”¨å†…å­˜å¤§å°ï¼š&quot;</span>+rt.maxMemory()); <span class="comment">//å•ä½å­—èŠ‚</span></span><br></pre></td></tr></table></figure>

<h4 id="exec-æ–¹æ³•"><a href="#exec-æ–¹æ³•" class="headerlink" title="exec()æ–¹æ³•"></a>exec()æ–¹æ³•</h4><p>è¯¥æ–¹æ³•ç”¨äºæ‰§è¡Œä¸€ä¸ªDOSå‘½ä»¤ï¼Œå®ç°å’Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥DOSå‘½ä»¤åŒæ ·çš„æ•ˆæœã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runtime rt=Runtime.getRuntime();</span><br><span class="line">rt.exec(<span class="string">&quot;notepad.exe&quot;</span>)   <span class="comment">//æ‰“å¼€è®°äº‹æœ¬</span></span><br></pre></td></tr></table></figure>

<p>exec()æ–¹æ³•è¿”å›ä¸€ä¸ªProcesså¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºæ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œé€šè¿‡Processå¯¹è±¡å¯å¯¹äº§ç”Ÿçš„æ–°è¿›ç¨‹è¿›è¡Œç®¡ç†ï¼Œå¦‚å…³é—­destroy()æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runtime rt=Runtime.getRuntime();</span><br><span class="line">Process pr = rt.exec(<span class="string">&quot;notepad.exe&quot;</span>)   <span class="comment">//æ‰“å¼€è®°äº‹æœ¬</span></span><br><span class="line"><span class="comment">//ç¨‹åºä¼‘çœ 3s</span></span><br><span class="line">Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">pr.destroy();   <span class="comment">//å…³é—­è¿›ç¨‹</span></span><br></pre></td></tr></table></figure>

<h3 id="Mathç±»"><a href="#Mathç±»" class="headerlink" title="Mathç±»"></a>Mathç±»</h3><p>Mathç±»æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œä¸»è¦ç”¨äºå®Œæˆå¤æ‚çš„æ•°å­¦è¿ç®—ï¼Œå¦‚æ±‚ç»å¯¹å€¼ï¼Œä¸‰è§’å‡½æ•°ï¼ŒæŒ‡æ•°è¿ç®—ç­‰ã€‚å…¶æ„é€ æ–¹æ³•è¢«å®šä¹‰ä¸ºprivateï¼Œå› æ­¤æ— æ³•åˆ›å»ºMathç±»çš„å¯¹è±¡ã€‚</p>
<p>Mathç±»çš„å¤šæœ‰æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è°ƒç”¨å®ƒä»¬ã€‚</p>
<p>é™¤é™æ€æ–¹æ³•å¤–ï¼ŒMathç±»ä¸­è¿˜æœ‰ä¸¤ä¸ªé™æ€å¸¸é‡PIå’ŒEï¼Œåˆ†åˆ«è¡¨ç¤ºÎ å’Œeã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Math.abs(-1);</span><br><span class="line">Math.sin/tan/cos(2.0);</span><br><span class="line">Math.sqrt(4);  //æ±‚å¹³æ–¹æ ¹</span><br><span class="line">Math.cbrt(9);  //æ±‚ç«‹æ–¹æ ¹</span><br><span class="line">Math.pow(2,2);  //å¹‚æ¬¡è¿ç®—</span><br><span class="line">Math.ceil(1.2);  //å¤§äºå‚æ•°çš„æœ€å°æ•´æ•°ï¼Œè¿”å›doubleç±»å‹çš„æ•°</span><br><span class="line">Math.floor(1.2);  //å°äºå‚æ•°çš„æœ€å¤§æ•´æ•°ï¼Œè¿”å›doubleç±»å‹çš„æ•°</span><br><span class="line">Math.round(1.2);  //å››èˆäº”å…¥çš„æ•´æ•°ï¼Œè¿”å›intç±»å‹çš„æ•°</span><br><span class="line">Math.max(1,2);</span><br><span class="line">Math.min(1,2);</span><br><span class="line">Math.random();   //ç”Ÿæˆä¸€ä¸ªå¤§äºç­‰äº0.0å°äº1.0çš„éšæœºå€¼</span><br></pre></td></tr></table></figure>

<h3 id="Randomç±»"><a href="#Randomç±»" class="headerlink" title="Randomç±»"></a>Randomç±»</h3><p>åœ¨JDKçš„java.utilåŒ…ä¸­ï¼Œæœ‰ä¸€ä¸ªRandomç±»ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„å–å€¼èŒƒå›´å†…éšæœºäº§ç”Ÿæ•°å­—ã€‚</p>
<p>Randomç±»æœ‰ä¸¤ä¸ªæ„é€ æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Random()   æ— å‚æ„é€ ï¼Œé€šè¿‡å®ƒåˆ›å»ºçš„Randomå®ä¾‹å¯¹è±¡æ¯æ¬¡ä½¿ç”¨çš„ç§å­éšæœºï¼Œå› æ­¤æ¯ä¸ªå¯¹è±¡æ‰€äº§ç”Ÿçš„éšæœºæ•°ä¸åŒã€‚</span><br><span class="line">Random(<span class="keyword">long</span> seed)  æœ‰å‚æ„é€ ï¼Œä½¿ç”¨ç§å­åˆ›å»ºä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œå½“seedç›¸åŒæ—¶ï¼Œæ¯æ¬¡å®ä¾‹åŒ–Randomå¯¹è±¡ä¼šç”Ÿæˆç›¸åŒçš„éšæœºæ•°</span><br></pre></td></tr></table></figure>

<p>Randomç±»çš„å„ç§æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line">r.nextBoolean()    éšæœºçš„<span class="keyword">boolean</span></span><br><span class="line">r.nextDouble()   <span class="keyword">double</span>ç±»å‹çš„éšæœºæ•°</span><br><span class="line">r.nextFloat()  <span class="keyword">float</span>ç±»å‹çš„éšæœºæ•°</span><br><span class="line">r.nextInt()   <span class="keyword">int</span>ç±»å‹çš„éšæœºæ•°</span><br><span class="line">r.nextInt(<span class="number">10</span>)  <span class="number">0</span>åˆ°<span class="number">10</span>ä¹‹é—´<span class="keyword">int</span>ç±»å‹çš„éšæœºæ•°</span><br><span class="line">r.nextLong()   <span class="keyword">long</span>å‹éšæœºæ•°</span><br></pre></td></tr></table></figure>

<h3 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h3><p>è™½ç„¶Javaæ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½†å®ƒæ‰€åŒ…å«çš„8ç§åŸºæœ¬æ•°æ®ç±»å‹å´ä¸æ”¯æŒé¢å‘å¯¹è±¡çš„ç¼–ç¨‹æœºåˆ¶ï¼ˆæ²¡æœ‰å±æ€§å’Œæ–¹æ³•ï¼‰ã€‚Javaä¹‹æ‰€ä»¥æä¾›è¿™8ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿å¸¸è§„æ•°æ®çš„å¤„ç†ã€‚ä½†æ˜¯åœ¨Javaç§ï¼Œå¾ˆå¤šç±»çš„æ–¹æ³•éƒ½éœ€è¦æ¥æ”¶å¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œæ­¤æ—¶å°±æ— æ³•å°†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ä¼ å…¥ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒJDKæä¾›äº†ä¸€ç³»åˆ—çš„åŒ…è£…ç±»ï¼Œé€šè¿‡åŒ…è£…ç±»å¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼åŒ…è£…ä¸ºå¼•ç”¨æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚</p>
<table>
<thead>
<tr>
<th align="center">byte</th>
<th align="center">Byte</th>
</tr>
</thead>
<tbody><tr>
<td align="center">char</td>
<td align="center">Character</td>
</tr>
<tr>
<td align="center">int</td>
<td align="center">Integer</td>
</tr>
<tr>
<td align="center">short</td>
<td align="center">Short</td>
</tr>
<tr>
<td align="center">long</td>
<td align="center">Long</td>
</tr>
<tr>
<td align="center">float</td>
<td align="center">Float</td>
</tr>
<tr>
<td align="center">double</td>
<td align="center">Double</td>
</tr>
<tr>
<td align="center">boolean</td>
<td align="center">Boolean</td>
</tr>
</tbody></table>
<p>åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹åœ¨è½¬æ¢æ—¶ï¼Œå¼•å…¥äº†è‡ªåŠ¨è£…ç®±å’Œè‡ªåŠ¨æ‹†ç®±</p>
<p>è£…ç®±ï¼šå°†åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡èµ‹ç»™å¯¹åº”çš„åŒ…è£…ç±»å˜é‡ï¼ˆå¯¹è±¡ï¼‰ã€‚</p>
<p><code>int a=20;    Integer b=a;</code></p>
<p>æ‹†ç®±ï¼šå°†åŒ…è£…ç±»å¯¹è±¡ç±»å‹ç›´æ¥èµ‹ç»™ä¸€ä¸ªå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹å˜é‡ã€‚</p>
<p><code>int c=b</code></p>
<p>æ­¤å¤–ï¼ŒJavaè¿˜æä¾›äº†å…¶ä»–æ–¹æ³•æ¥æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ã€åŸºæœ¬æ•°æ®åŒ…è£…ç±»ä»¥åŠå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚</p>
<p>ï¼ˆ1ï¼‰Stringç±»çš„valueOf()æ–¹æ³•ï¼Œå°†å…«ç§åŸºæœ¬æ•°æ®ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int num=123;</span><br><span class="line">String s=String.valueOf(num);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰åŒ…è£…ç±»çš„valueOf()æ–¹æ³•ï¼Œæ—¢å¯ä»¥å®ç°è£…ç®±ï¼Œä¹Ÿå¯ä»¥å®ç°å°†å†…å®¹åŒ¹é…çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»ï¼ˆé™¤CharacteråŒ…è£…ç±»ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int num=123;</span><br><span class="line">Integer in=Integer.valueOf(num);</span><br><span class="line">String s=&quot;123&quot;;</span><br><span class="line">Integer in2=Integer.valueOf(s);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰é€šè¿‡åŒ…è£…ç±»çš„æœ‰å‚æ„é€ æ–¹æ³•å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»ï¼ˆè£…ç®±ï¼‰ï¼Œä¹Ÿå¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåŒ…è£…ç±»ï¼ˆé™¤CharacteråŒ…è£…ç±»ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int num=123;</span><br><span class="line">Integer in=new Integer(num);</span><br><span class="line">String s=&quot;123&quot;;</span><br><span class="line">Integer in2=new Integer(s);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰é€šè¿‡åŒ…è£…ç±»çš„é™æ€æ–¹æ³•parseXxx()æ–¹æ³•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String s=&quot;123&quot;;</span><br><span class="line">int num=Integer.parseInt(s);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å‡¡æ˜¯ç±»å.æ–¹æ³•åçš„ï¼Œéƒ½æ˜¯é™æ€staticæ–¹æ³•</p>
</blockquote>
<p>ï¼ˆ5ï¼‰åŒ…è£…ç±»éƒ½é‡å†™äº†Objectç±»ä¸­çš„toStringæ–¹æ³•ï¼Œå°†åŒ…è£…ç±»è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Integer in=new Integer(123);</span><br><span class="line">//Integer in=Integer.valueOf(123);</span><br><span class="line">String s=in.toString();</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šåŒ…è£…ç±»çš„<code>valueOf(String s)</code>å’Œ<code>parseInt(String s)</code> ä¸­ï¼Œå‚æ•°sä¸èƒ½ä¸ºnullï¼Œè€Œä¸”éœ€è¦å’Œè§£æå¯¹åº”ã€‚</p>
<h3 id="Dateç±»"><a href="#Dateç±»" class="headerlink" title="Dateç±»"></a>Dateç±»</h3><p>JDKä¸­çš„java.utilåŒ…ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªDateç±»ç”¨æ¥è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼Œè¯¥ç±»åœ¨JDK1.0æ—¶å·²ç»å¼€å§‹ä½¿ç”¨ã€‚JDK8ä¸­æœ‰ä¸¤ä¸ªæ„é€ æ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Date()  <span class="comment">//ç”¨æ¥åˆ›å»ºå½“å‰æ—¥æœŸæ—¶é—´çš„Dateå¯¹è±¡ã€‚</span></span><br><span class="line">Date date1=<span class="keyword">new</span> Date();  <span class="comment">//Sat Jan 11:09:21 CST 2021</span></span><br><span class="line">Date(<span class="keyword">long</span> date)  <span class="comment">//ç”¨äºåˆ›å»ºæŒ‡å®šæ—¶é—´çš„Dateå¯¹è±¡ï¼Œdateæ˜¯1970.1.1.0.0.0ä»¥æ¥çš„æ¯«ç§’æ•°ï¼Œå³æ—¶é—´æˆ³</span></span><br><span class="line">Date date2=<span class="keyword">new</span> Date(System.currentTimeMillis()+<span class="number">1000</span>);</span><br><span class="line"><span class="comment">//Sat Jan 11:09:22 CST 2021</span></span><br></pre></td></tr></table></figure>

<h3 id="Calendarç±»"><a href="#Calendarç±»" class="headerlink" title="Calendarç±»"></a>Calendarç±»</h3><p>Calendarç±»ç”¨äºå®Œæˆæ—¥æœŸå’Œæ—¶é—´å­—æ®µçš„æ“ä½œï¼Œå¯ä»¥é€šè¿‡ç‰¹å®šæ–¹æ³•è®¾ç½®å’Œè¯»å–æ—¥æœŸçš„ç‰¹å®šéƒ¨åˆ†ã€‚</p>
<p>Calendarç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸å¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œåœ¨ç¨‹åºä¸­éœ€è¦è°ƒç”¨é™æ€æ–¹æ³•getInstance()æ¥å¾—åˆ°ä¸€ä¸ªCalendarå¯¹è±¡ï¼Œç„¶åæ‰èƒ½è°ƒç”¨å…¶ç›¸åº”çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>ç–‘é—®ï¼ŸæŠ½è±¡ç±»åˆ›å»ºå¯¹è±¡ï¼Œè¿™æ˜¯ä»€ä¹ˆæ“ä½œï¼Ÿ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Calendar ca = Calendar.getInstance();</span><br><span class="line"><span class="keyword">int</span> year=ca.get(Calendar.YEAR);</span><br><span class="line"><span class="keyword">int</span> month=ca.get(Calendar.MONTH)+<span class="number">1</span>;  <span class="comment">//æ³¨æ„æœˆä»½0-11ï¼Œéœ€è¦åŠ 1</span></span><br><span class="line"><span class="keyword">int</span> date=ca.get(Calendar.DATE);</span><br><span class="line"><span class="keyword">int</span> hour=ca.get(Calendar.HOUR);</span><br><span class="line"><span class="keyword">int</span> minute=ca.get(Calendar.MINUTE);</span><br><span class="line"><span class="keyword">int</span> second=ca.get(Calendar.SECOND);</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å’Œä¿®æ”¹æ—¶é—´çš„åŠŸèƒ½å¯ä»¥é€šè¿‡addå’Œsetæ–¹æ³•å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Calendar ca = Calendar.getInstance();</span><br><span class="line">ca.set(2021.11.11);   //è®¾ç½®æŒ‡å®šæ—¥æœŸ</span><br><span class="line">ca.add(Calendar.DATE,100);  //ä¸ºæŒ‡å®šæ—¥æœŸå¢åŠ æ—¶é—´</span><br><span class="line">è¾“å‡ºæ—¶é—´ä¾ç„¶éœ€è¦ç”¨getæ–¹æ³•æ¥è·å–å¹´æœˆæ—¥ã€‚</span><br></pre></td></tr></table></figure>

<p>Calendaræœ‰ä¸¤ç§è§£é‡Šæ—¥å†å­—æ®µçš„æ¨¡å¼ï¼Œå®¹é”™æ¨¡å¼å’Œéå®¹é”™æ¨¡å¼ï¼Œå®¹é”™æ¨¡å¼ä¸‹ï¼Œæœˆæ˜¯12æ˜¯å¯ä»¥æ¥å—çš„ã€‚é»˜è®¤å®¹é”™ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Calendar ca = Calendar.getInstance();</span><br><span class="line">ca.set(Calendar.MONTH, 13);  //ä¸ä¼šæŠ¥é”™</span><br><span class="line">//å¼€å¯non-lenientéå®¹é”™æ¨¡å¼</span><br><span class="line">ca.setLenient(false);</span><br><span class="line">ca.set(Calendar.MONTH, 13);  //ä¼šæŠ¥é”™</span><br></pre></td></tr></table></figure>

<p>Dateå’ŒCalendarå¯¹è±¡ä¹‹é—´çš„è½¬åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">System.out.println(ca.getTime());  //Calendarçš„getTimeæ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºCalendaræ—¶é—´å€¼çš„Dateå¯¹è±¡ã€‚</span><br><span class="line">setTime(Date date)</span><br><span class="line">Calendar ca = setTime(date);  //Calendarçš„setTimeæ–¹æ³•æ¥æ”¶ä¸€ä¸ªDateå¯¹è±¡ï¼Œå°†Dateå¯¹è±¡è¡¨ç¤ºçš„æ—¶é—´å€¼è®¾ç½®ç»™Calendarå¯¹è±¡ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="JDK8çš„æ—¥æœŸå’Œæ—¶é—´ç±»"><a href="#JDK8çš„æ—¥æœŸå’Œæ—¶é—´ç±»" class="headerlink" title="JDK8çš„æ—¥æœŸå’Œæ—¶é—´ç±»"></a>JDK8çš„æ—¥æœŸå’Œæ—¶é—´ç±»</h3><p>ä¸ºäº†æ»¡è¶³æ›´å¤šçš„éœ€æ±‚ï¼ŒJDK8æ¯”ä¹‹å‰çš„ç‰ˆæœ¬å¢åŠ äº†ä¸€ä¸ªjava.timeåŒ…ï¼Œåœ¨è¯¥åŒ…ä¸‹åŒ…å«äº†æ›´å¤šæ—¥æœŸå’Œæ—¶é—´æ“ä½œç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€Clockç±»</span><br><span class="line">Clock cl = Clock.systemUTC();</span><br><span class="line">è·å–UTCæ—¶åŒºè½¬æ¢çš„å½“å‰æ—¶é—´ï¼š cl.instance()</span><br><span class="line">è·å–UTCæ—¶åŒºè½¬æ¢çš„æ¯«ç§’æ•°ï¼š cl.millis()</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>Durationç±»</span><br><span class="line">Duration du = Duration.ofDays(<span class="number">1</span>);</span><br><span class="line">ä¸€å¤©ç­‰äºå¤šå°‘å°æ—¶ï¼š  du.toHours()</span><br><span class="line">ä¸€å¤©ç­‰äºå¤šå°‘åˆ†é’Ÿï¼š  du.toMinutes()</span><br><span class="line">ä¸€å¤©ç­‰äºå¤šå°‘ç§’ï¼š  du.toMillis()</span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>Instantç±»</span><br><span class="line">Instant in = Instant.now();</span><br><span class="line">UTCæ—¶åŒºçš„å½“å‰æ—¶é—´ï¼šin</span><br><span class="line">å½“å‰æ—¶é—´ä¸€å°æ—¶åçš„æ—¶é—´ï¼šin.plusSeconds(<span class="number">3600</span>)</span><br><span class="line">å½“å‰æ—¶é—´ä¸€å°æ—¶å‰çš„æ—¶é—´ï¼šin.minusSeconds(<span class="number">3600</span>)</span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span>LocalDate</span><br><span class="line">LocalDate lo = LocalDate.now();</span><br><span class="line">ä»é»˜è®¤æ—¶åŒºçš„ç³»ç»Ÿæ—¶é’Ÿè·å¾—å½“å‰æ—¥æœŸï¼šlo</span><br><span class="line">    </span><br><span class="line"><span class="number">5.</span>LocalTime</span><br><span class="line">LocalDate lo = LocalDate.now();</span><br><span class="line">ä»é»˜è®¤æ—¶åŒºçš„ç³»ç»Ÿæ—¶é’Ÿè·å¾—å½“å‰æ—¶é—´ï¼šlo</span><br><span class="line">    </span><br><span class="line"><span class="number">6.</span>LocalDateTime</span><br><span class="line">LocalDateTime lo = LocalDateTime.now();</span><br><span class="line">ä»é»˜è®¤æ—¶åŒºçš„ç³»ç»Ÿæ—¶é’Ÿè·å¾—å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼šlo</span><br><span class="line">å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´åŠ ä¸Š<span class="number">1</span>å¤©<span class="number">3</span>å°æ—¶<span class="number">30</span>åˆ†é’Ÿï¼š</span><br><span class="line">LocalDateTime time = LocalDateTime.plusDays(<span class="number">1</span>).plusHours(<span class="number">3</span>).plusMinutes(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>Yearã€YearMonthã€MonthDay</span><br><span class="line">å½“å‰å¹´ä»½ï¼šYear ye = Year.now();</span><br><span class="line">å½“å‰å¹´æœˆï¼šYearMonth ym = YearMonth.now();</span><br><span class="line">å½“å‰æœˆæ—¥ï¼šMonthDay md = MonthDay.now();</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>è·å–ç³»ç»Ÿé»˜è®¤æ—¶åŒº</span><br><span class="line">ZoneId zi = ZoneId.systemDefault();</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œclock.instant()å’ŒInstant.now()è·å–çš„æ—¶é—´éƒ½æ˜¯é»˜è®¤ä½¿ç”¨UTCæ—¶åŒºï¼ˆä¸–ç•Œåè°ƒæ—¶é—´ï¼Œä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼‰ï¼Œæ¯”ä¸­å›½æ ‡å‡†æ—¶é—´CSTæ—©å…«å°æ—¶ã€‚</p>
<h3 id="æ ¼å¼åŒ–ç±»"><a href="#æ ¼å¼åŒ–ç±»" class="headerlink" title="æ ¼å¼åŒ–ç±»"></a>æ ¼å¼åŒ–ç±»</h3><h4 id="DateFormatç±»"><a href="#DateFormatç±»" class="headerlink" title="DateFormatç±»"></a>DateFormatç±»</h4><p>ä½¿ç”¨Dateç±»æ—¶ï¼Œç¨‹åºæ‰“å°Dateå¯¹è±¡æ‰€è¾“å‡ºçš„å½“å‰æ—¶é—´éƒ½æ˜¯è‹±æ–‡æ ¼å¼è¾“å‡ºçš„ï¼Œè¦æƒ³ä»¥ä¸­æ–‡çš„æ ¼å¼è¾“å‡ºï¼Œå°±éœ€è¦DateFormatç±»ã€‚</p>
<p>DateFormatç±»ä¸“é—¨ç”¨äºå°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²æˆ–è€…å°†ç”¨ç‰¹å®šæ ¼å¼æ˜¾ç¤ºçš„æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªDateå¯¹è±¡ã€‚</p>
<p>DateFormatç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸èƒ½è¢«ç›´æ¥å®ä¾‹åŒ–ï¼Œä½†å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„é™æ€æ–¹æ³•æ¥è·å–DateFormatç±»çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶èƒ½è°ƒç”¨å…¶ä»–ç›¸åº”çš„æ–¹æ³•è¿›è¡Œæ“ä½œã€‚</p>
<p>å®šä¹‰äº†å››ç§é™æ€æ–¹æ³•ç”¨äºè·å–DateFormatç±»çš„å®ä¾‹å¯¹è±¡ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹æ—¥æœŸæˆ–è€…æ—¶é—´éƒ¨åˆ†è¿›è¡Œæ ¼å¼åŒ–ã€‚</p>
<blockquote>
<p>ç–‘é—®ã€‚</p>
</blockquote>
<p>åœ¨DateFormatç±»ä¸­è¿˜å®šä¹‰äº†è®¸å¤šå¸¸é‡ï¼Œå…¶ä¸­å››ä¸ªå¸¸é‡å€¼æ˜¯ç”¨äºä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•çš„ï¼ŒåŒ…æ‹¬FULLã€LONGã€MEDIUMã€SHORTã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºDateå¯¹è±¡</span></span><br><span class="line">Date date = <span class="keyword">new</span> Date();</span><br><span class="line"><span class="comment">//1.å½“å‰æ—¥æœŸçš„å®Œæ•´æ ¼å¼å¯¹è±¡</span></span><br><span class="line"><span class="comment">//é™æ€æ–¹æ³•</span></span><br><span class="line">DateFormat fullFormat = DateFormat.getDateInstance(DateFormat.FULL);</span><br><span class="line"><span class="comment">//formatå°†ä¸€ä¸ªDateæ ¼å¼åŒ–ä¸ºæ—¥æœŸ/æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line">System.out.println(fullFormat.format(date));</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å½“å‰æ—¥æœŸçš„é•¿æ ¼å¼å¯¹è±¡</span></span><br><span class="line"><span class="comment">//é™æ€æ–¹æ³•</span></span><br><span class="line">DateFormat longFormat = DateFormat.getDateInstance(DateFormat.LONG);</span><br><span class="line"><span class="comment">//formatå°†ä¸€ä¸ªDateæ ¼å¼åŒ–ä¸ºæ—¥æœŸ/æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line">System.out.println(longFormat.format(date));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.å½“å‰æ—¥æœŸæ—¶é—´çš„æ™®é€šæ ¼å¼å¯¹è±¡</span></span><br><span class="line"><span class="comment">//é™æ€æ–¹æ³•</span></span><br><span class="line">DateFormat mediumFormat = DateFormat.getDateTimeInstance(DateFormat.MEDIUM);</span><br><span class="line"><span class="comment">//formatå°†ä¸€ä¸ªDateæ ¼å¼åŒ–ä¸ºæ—¥æœŸ/æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line">System.out.println(mediumFormat.format(date));</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.å½“å‰æ—¥æœŸæ—¶é—´çš„çŸ­æ ¼å¼å¯¹è±¡</span></span><br><span class="line"><span class="comment">//é™æ€æ–¹æ³•</span></span><br><span class="line">DateFormat shortFormat = DateFormat.getDateTimeInstance(DateFormat.SHORT);</span><br><span class="line"><span class="comment">//formatå°†ä¸€ä¸ªDateæ ¼å¼åŒ–ä¸ºæ—¥æœŸ/æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line">System.out.println(shortFormat.format(date));</span><br></pre></td></tr></table></figure>

<p>DateFormatç±»ä¸­è¿˜æœ‰parse(String source)æ–¹æ³•ï¼Œèƒ½å¤Ÿå°†ä¸€ä¸ªå­—ç¬¦ä¸²è§£æä¸ºDateå¯¹è±¡ï¼Œä½†æ˜¯å®ƒè¦æ±‚å­—ç¬¦ä¸²å¿…é¡»ç¬¦åˆæ—¥æœŸ/æ—¶é—´çš„æ ¼å¼è¦æ±‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºæ™®é€šæ ¼å¼çš„DateFormatå¯¹è±¡</span></span><br><span class="line">DateFormat dt1 = DateFormat.getDateInstance();</span><br><span class="line"><span class="comment">//åˆ›å»ºLongæ ¼å¼çš„DateFormatå¯¹è±¡</span></span><br><span class="line">DateFormat dt2 = DateFormat.getDateInstance(DateFormat.LONG);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰æ—¥æœŸæ ¼å¼çš„å­—ç¬¦ä¸²</span></span><br><span class="line">String s1 = <span class="string">&quot;2021-11-11&quot;</span>;</span><br><span class="line">String s2 = <span class="string">&quot;2021å¹´11æœˆ11æ—¥&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºå¯¹åº”æ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºDateå¯¹è±¡åçš„ç»“æœ</span></span><br><span class="line">System.out.println(dt1.parse(s1));</span><br><span class="line">System.out.println(dt2.parse(s2));</span><br></pre></td></tr></table></figure>

<h4 id="SimpleDateFormatç±»"><a href="#SimpleDateFormatç±»" class="headerlink" title="SimpleDateFormatç±»"></a>SimpleDateFormatç±»</h4><p>DateFormatç±»ä¸­parseæ–¹æ³•å°†å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶ï¼Œéœ€è¦å›ºå®šæ ¼å¼ï¼Œä¸çµæ´»ã€‚</p>
<p>SimpleDateFormatç±»æ˜¯DateFormatç±»çš„å­ç±»ï¼Œå¯ä»¥ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå®ä¾‹å¯¹è±¡ã€‚åœ¨åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ï¼Œæ„é€ æ–¹æ³•éœ€è¦æ¥æ”¶ä¸€ä¸ªè¡¨ç¤ºæ—¥æœŸæ ¼å¼æ¨¡æ¿çš„å­—ç¬¦ä¸²å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;Gyyyyå¹´MMæœˆddæ—¥ï¼šä»Šå¹´æ—¶yyyyå¹´çš„ç¬¬Då¤©ï¼Œæ˜ŸæœŸï¼šE&quot;</span>);    <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">//æŒ‰SimpleDateFormatå¯¹è±¡çš„æ—¥æœŸæ¨¡æ¿æ ¼å¼åŒ–Dateå¯¹è±¡</span></span><br><span class="line">System.out.println(sdf.format(<span class="keyword">new</span> Date()));</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯å°†ä¸€ä¸ªDateæ—¶é—´å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šæ ¼å¼å­—ç¬¦ä¸²å½¢å¼ã€‚</p>
<p>SimpleDateFormatç±»ä¹Ÿå¯ä»¥å°†ä¸€ä¸ªæŒ‡å®šæ ¼å¼å­—ç¬¦ä¸²è§£æä¸ºDateå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy/MM/dd&quot;</span>);    <span class="comment">//åˆ›å»ºå¯¹è±¡,å¹¶æŒ‡å®šæ—¥æœŸæ ¼å¼</span></span><br><span class="line">String s = <span class="string">&quot;2021/11/11&quot;</span>;</span><br><span class="line"><span class="comment">//å°†å­—ç¬¦ä¸²è§£æä¸ºDateå¯¹è±¡</span></span><br><span class="line">System.out.println(sdf.parse(s));</span><br></pre></td></tr></table></figure>

<h4 id="DateTimeFormatterç±»"><a href="#DateTimeFormatterç±»" class="headerlink" title="DateTimeFormatterç±»"></a>DateTimeFormatterç±»</h4><p>é™¤DateFormatç±»ä»¥åŠSimpleDateFormatç±»ï¼ŒJDK8åœ¨java.time.formatåŒ…ä¸‹è¿˜æä¾›äº†ä¸€ä¸ªDateTimeFormatterç±»ï¼Œè¯¥ç±»ä¹Ÿæ˜¯æ ¼å¼åŒ–ç±»ï¼Œç›¸å½“äºDateFormatç±»ä»¥åŠSimpleDateFormatç±»çš„åˆä½“ï¼Œå®ƒä¸ä»…å¯ä»¥å°†æ—¥æœŸæ—¶é—´ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è§£ææˆæ—¥æœŸã€æ—¶é—´å¯¹è±¡ã€‚</p>
<p>1.å­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸæ—¶é—´ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testStringT0LocalDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// String --&gt; LocalDate</span></span><br><span class="line">        <span class="comment">//ä½¿ç”¨æ¨¡å¼å­—ç¬¦ä¸²åˆ›å»ºDateTimeFormatteræ ¼å¼å™¨</span></span><br><span class="line">        LocalDate localDate = LocalDate.parse(<span class="string">&quot;2019-12-07&quot;</span>);</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€DateTimeFormatter pattern = DateTimeFormatter.ofPattern(<span class="string">&quot;yyyyå¹´MMæœˆddæ—¥&quot;</span>);		ã€€ã€€ã€€ã€€ã€€ã€€    </span><br><span class="line">ã€€ã€€ã€€ã€€ã€€System.out.println(LocalDate.parse(<span class="string">&quot;2019-10-09&quot;</span>).format(pattern));</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">        <span class="comment">// String --&gt; LocalTime</span></span><br><span class="line">        LocalTime localTime = LocalTime.parse(<span class="string">&quot;07:43:53&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// String --&gt;LocalDateTime</span></span><br><span class="line">        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>); <span class="comment">// 12å°æ—¶</span></span><br><span class="line">ã€€ã€€ã€€ã€€ DateTimeFormatter formatter = DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>); <span class="comment">// 24å°æ—¶              LocalDate localDate = LocalDate.parse(&quot;2019-12-07 07:43:53&quot;,formatter);</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(localDate);</span><br><span class="line">        System.out.println(localTime);</span><br><span class="line">        System.out.println(localDate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æ—¥æœŸæ—¶é—´ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testLocalDateToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//localDate --&gt; String </span></span><br><span class="line">        <span class="comment">//ä½¿ç”¨å¸¸é‡åˆ›å»ºDateTimeFormatte</span></span><br><span class="line">        LocalDate localDate = LocalDate.now();</span><br><span class="line">        String format1 = localDate.format(DateTimeFormatter.BASIC_ISO_DATE);    <span class="comment">//yyyyMMdd</span></span><br><span class="line">        String format2 = localDate.format(DateTimeFormatter.ISO_DATE);            <span class="comment">//yyyy-MM-dd</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.LocalTime  --&gt; String</span></span><br><span class="line">        LocalTime localTime = LocalTime.now();</span><br><span class="line">        String format3 = localTime.format(DateTimeFormatter.ISO_TIME);            <span class="comment">//20:19:22.42</span></span><br><span class="line">        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(<span class="string">&quot;hh:mm:ss&quot;</span>);</span><br><span class="line">        String format4 = localTime.format(formatter);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.LocalDateTime  --&gt; String        </span></span><br><span class="line">        LocalDateTime localDateTime = LocalDateTime.now();</span><br><span class="line">        DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">        String format5 = localDateTime.format(formatter2);</span><br><span class="line">        </span><br><span class="line">        System.out.println(format1);</span><br><span class="line">        System.out.println(format2);</span><br><span class="line">        System.out.println(format3);</span><br><span class="line">        System.out.println(format4);</span><br><span class="line">        System.out.println(format5);     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><p>æ•°ç»„çš„é•¿åº¦ä¸å¯å˜ï¼Œå› æ­¤ä¸ºäº†ä¿å­˜æ•°ç›®ä¸ç¡®å®šçš„å¯¹è±¡ï¼ŒJavaæä¾›äº†ä¸€ç³»åˆ—ç‰¹æ®Šçš„ç±»ï¼Œç»Ÿç§°é›†åˆï¼Œé›†åˆå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”é•¿åº¦å¯å˜ã€‚</p>
<h3 id="é›†åˆæ¦‚è¿°"><a href="#é›†åˆæ¦‚è¿°" class="headerlink" title="é›†åˆæ¦‚è¿°"></a>é›†åˆæ¦‚è¿°</h3><p>Javaä¸­çš„é›†åˆå°±åƒä¸€ä¸ªå®¹å™¨ï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨Javaå¯¹è±¡ï¼ˆå®é™…ä¸Šæ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼‰ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”é•¿åº¦å¯å˜ã€‚è¿™äº›é›†åˆç±»éƒ½ä½äºjava.utilåŒ…ä¸­ã€‚</p>
<p>é›†åˆç±»æŒ‰ç…§å…¶å­˜å‚¨ç»“æ„å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå•åˆ—é›†åˆCollectionï¼ŒåŒåˆ—é›†åˆMapã€‚</p>
<p>ï¼ˆ1ï¼‰Collectionï¼šå•åˆ—é›†åˆçš„æ ¹æ¥å£ï¼Œç”¨äºå­˜å‚¨ä¸€ç³»åˆ—ç¬¦åˆæŸç§è§„å¾‹çš„å…ƒç´ ã€‚Collectioné›†åˆæœ‰ä¸¤ä¸ªé‡è¦çš„å­æ¥å£ï¼Œåˆ†åˆ«æ˜¯Listå’ŒSetã€‚Listé›†åˆç‰¹ç‚¹ï¼šå…ƒç´ æœ‰åºï¼Œå¯é‡å¤ã€‚Seté›†åˆç‰¹ç‚¹ï¼šå…ƒç´ æ— åºï¼Œä¸å¯é‡å¤ã€‚Listæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼šArrayListã€LinkedListã€‚Setæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼šHashSetã€TreeSetã€‚</p>
<p>ï¼ˆ2ï¼‰Mapï¼šåŒåˆ—é›†åˆçš„æ ¹æ¥å£ï¼Œç”¨äºå­˜å‚¨å…·æœ‰é”®å€¼æ˜ å°„å…³ç³»çš„å…ƒç´ ã€‚Mapæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼šHashMapã€TreeMapã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/2017af8f90a9dff713a5fa908b990a05.png" alt="image-20211113111401531"></p>
<p>è™šçº¿æ˜¯æ¥å£ç±»å‹ï¼Œå®çº¿æ˜¯å®ç°ç±»ã€‚</p>
<h3 id="Listæ¥å£"><a href="#Listæ¥å£" class="headerlink" title="Listæ¥å£"></a>Listæ¥å£</h3><p>Listæ¥å£ç»§æ‰¿è‡ªCollectionæ¥å£ï¼Œæ˜¯å•åˆ—é›†åˆçš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œä¹ æƒ¯æ€§åœ°å°†å®ç°äº†Listæ¥å£çš„å¯¹è±¡ç§°ä¸ºListé›†åˆã€‚</p>
<p>åœ¨Listé›†åˆä¸­<strong>å…è®¸å‡ºç°é‡å¤</strong>çš„å…ƒç´ ï¼Œæ‰€æœ‰çš„å…ƒç´ ä»¥ä¸€ç§çº¿æ€§æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼Œåœ¨ç¨‹åºä¸­å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®é›†åˆä¸­çš„æŒ‡å®šå…ƒç´ ï¼Œå¦å¤–ï¼ŒListé›†åˆ<strong>å…ƒç´ æœ‰åº</strong>ï¼Œå³å…ƒç´ çš„å­˜å…¥é¡ºåºå’Œå–å‡ºé¡ºåºä¸€è‡´ã€‚</p>
<h4 id="ArrayListé›†åˆ"><a href="#ArrayListé›†åˆ" class="headerlink" title="ArrayListé›†åˆ"></a>ArrayListé›†åˆ</h4><p>ArrayListæ˜¯ç¨‹åºä¸­æœ€å¸¸è§çš„ä¸€ç§é›†åˆã€‚åœ¨ArrayListå†…éƒ¨å°è£…äº†ä¸€ä¸ªé•¿åº¦å¯å˜çš„æ•°ç»„å¯¹è±¡ï¼Œå½“å­˜å…¥çš„å…ƒç´ è¶…è¿‡æ•°ç»„é•¿åº¦æ—¶ï¼ŒArrayListä¼šåœ¨å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªæ›´å¤§çš„æ•°ç»„æ¥å­˜å‚¨è¿™äº›å…ƒç´ ï¼Œå› æ­¤ArrayListå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé•¿åº¦å¯å˜çš„æ•°ç»„ã€‚</p>
<p>æ­£æ˜¯ç”±äºArrayListå†…éƒ¨çš„æ•°æ®å­˜å‚¨ç»“æ„æ˜¯æ•°ç»„å½¢å¼ï¼Œåœ¨å¢åŠ å’Œåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ æ—¶ï¼Œä¼šåˆ›å»ºæ–°çš„æ•°ç»„ï¼Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œå› æ­¤ä¸é€‚åˆåšå¤§é‡çš„å¢åˆ æ“ä½œã€‚ä½†æ˜¯åœ¨éå†å’ŒæŸ¥æ‰¾å…ƒç´ æ—¶æ˜¾å¾—éå¸¸é«˜æ•ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºArrayListé›†åˆ</span></span><br><span class="line">ArrayList lis = <span class="keyword">new</span> ArrayList();</span><br><span class="line">lis.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">lis.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">é•¿åº¦ï¼š lis.size();</span><br><span class="line">æŸ¥è¯¢ï¼š lis.get(i);</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨ArrayListé›†åˆæ—¶å¹¶æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šé›†åˆä¸­å­˜å‚¨ä»€ä¹ˆç±»å‹çš„å…ƒç´ ï¼Œä¼šäº§ç”Ÿå®‰å…¨éšæ‚£ï¼Œæ¶‰åŠåˆ°æ³›å‹å®‰å…¨æœºåˆ¶çš„é—®é¢˜ã€‚</p>
<h4 id="LinkedListé›†åˆ"><a href="#LinkedListé›†åˆ" class="headerlink" title="LinkedListé›†åˆ"></a>LinkedListé›†åˆ</h4><p>ArrayListæŸ¥è¯¢æ—¶é€Ÿåº¦å¾ˆå¿«ï¼Œå¢åˆ æ—¶æ•ˆç‡è¾ƒä½ï¼Œå› æ­¤å¦ä¸€ä¸ªå®ç°ç±»ï¼šLinkedListã€‚</p>
<p>è¯¥é›†åˆå†…éƒ¨åŒ…å«ä¸¤ä¸ªNodeç±»å‹çš„firstå’Œlastå±æ€§ç»´æŠ¤ä¸€ä¸ªåŒå‘å¾ªç¯é“¾è¡¨ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä½¿ç”¨å¼•ç”¨çš„æ–¹å¼è®°ä½å®ƒçš„å‰ä¸€ä¸ªå…ƒç´ å’Œåä¸€ä¸ªå…ƒç´ ï¼Œä»è€Œå¯ä»¥å°†æ‰€æœ‰çš„å…ƒç´ å½¼æ­¤è¿æ¥èµ·æ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LinkedList lik = <span class="keyword">new</span> LinkedList();</span><br><span class="line">lik.add(<span class="string">&quot;bb&quot;</span>);   <span class="comment">//æ·»åŠ å…ƒç´ </span></span><br><span class="line">lik.add(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">lik.offer(<span class="string">&quot;dd&quot;</span>);  <span class="comment">//å‘é›†åˆå°¾éƒ¨è¿½åŠ å…ƒç´ </span></span><br><span class="line">lik.push(<span class="string">&quot;aa&quot;</span>);  <span class="comment">//å‘é›†åˆå¤´éƒ¨æ·»åŠ å…ƒç´ </span></span><br><span class="line">System.out.println(lik);   <span class="comment">//è¾“å‡ºé›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">//è·å–å…ƒç´ </span></span><br><span class="line">Object obj = lik.peek();   <span class="comment">//è·å–é›†åˆç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">System.out.println(obj);</span><br><span class="line"><span class="comment">//åˆ é™¤å…ƒç´ </span></span><br><span class="line">lik.removeFirst();   <span class="comment">//åˆ é™¤é›†åˆç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">lik.pollLast();   <span class="comment">//åˆ é™¤é›†åˆæœ€åä¸€ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure>

<h3 id="Collectioné›†åˆéå†"><a href="#Collectioné›†åˆéå†" class="headerlink" title="Collectioné›†åˆéå†"></a>Collectioné›†åˆéå†</h3><h4 id="Iteratoréå†é›†åˆ"><a href="#Iteratoréå†é›†åˆ" class="headerlink" title="Iteratoréå†é›†åˆ"></a>Iteratoréå†é›†åˆ</h4><p>Iteratoræ¥å£æ˜¯Javaé›†åˆæ¡†æ¶ä¸­çš„ä¸€å‘˜ï¼Œä½†å®ƒä¸Collectionã€Mapæ¥å£æœ‰æ‰€ä¸åŒï¼ŒCollectionæ¥å£ä¸Mapæ¥å£ä¸»è¦ç”¨æ¥å­˜å‚¨å…ƒç´ ï¼Œè€ŒIteratorä¸»è¦ç”¨äºè¿­ä»£è®¿é—®ï¼ˆå³éå†ï¼‰Collectionä¸­çš„å…ƒç´ ï¼Œå› æ­¤Iteratorå¯¹è±¡ä¹Ÿè¢«å«åšè¿­ä»£å™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºArrayListé›†åˆ</span></span><br><span class="line">ArrayList lis = <span class="keyword">new</span> ArrayList();</span><br><span class="line">lis.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">lis.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line"><span class="comment">//è·å–Iteratorå¯¹è±¡</span></span><br><span class="line">Iterator it = lis.iterator();</span><br><span class="line"><span class="comment">//åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">while</span>(it.hashNext())&#123;</span><br><span class="line">	Object obj = it.next();  <span class="comment">//è·å–ArrayListé›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line">	System.out.println(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Iteratorè¿­ä»£å™¨å¯¹è±¡åœ¨éå†é›†åˆæ—¶ï¼Œå†…éƒ¨é‡‡ç”¨æŒ‡é’ˆçš„æ–¹å¼æ¥è·Ÿè¸ªé›†åˆä¸­çš„å…ƒç´ ã€‚</p>
<p>åœ¨è°ƒç”¨Iteratorçš„next()æ–¹æ³•ä¹‹å‰ï¼Œè¿­ä»£å™¨çš„ç´¢å¼•ä½äºç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œä¸æŒ‡å‘ä»»ä½•å…ƒç´ ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨è¿­ä»£å™¨çš„next()æ–¹æ³•åï¼Œè¿­ä»£å™¨çš„ç´¢å¼•æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶å°†è¯¥å…ƒç´ è¿”å›ã€‚</p>
<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨Iteratorè¿­ä»£å™¨å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œè¿­ä»£æ—¶ï¼Œå¦‚æœè°ƒç”¨äº†é›†åˆå¯¹è±¡çš„remove()æ–¹æ³•å»åˆ é™¤å…ƒç´ ï¼Œä¼šå‡ºç°å¼‚å¸¸ã€‚å› ä¸ºé›†åˆä¸­åˆ é™¤äº†å…ƒç´ ä¼šå¯¼è‡´è¿­ä»£å™¨é¢„æœŸçš„è¿­ä»£æ¬¡æ•°å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´è¿­ä»£å™¨çš„ç»“æœä¸å‡†ç¡®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(it.hashNext())&#123;</span><br><span class="line">	Object obj = it.next();  <span class="comment">//è·å–ArrayListé›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line">	System.out.println(obj);</span><br><span class="line">	<span class="keyword">if</span>(<span class="string">&quot;aa&quot;</span>.equals(obj))&#123;</span><br><span class="line">		lis.remove(obj);  <span class="comment">//åˆ é™¤é›†åˆå…ƒç´ </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•ä¸€ï¼šåœ¨åˆ é™¤åç”¨breaké€€å‡ºã€‚</p>
<p>è§£å†³æ–¹æ³•äºŒï¼šä½¿ç”¨è¿­ä»£å™¨æœ¬èº«çš„åˆ é™¤æ–¹æ³•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(&quot;aa&quot;.equals(obj))&#123;</span><br><span class="line">	it.remove();   //åˆ é™¤é›†åˆå…ƒç´ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨è¿­ä»£å™¨å¯¹è±¡çš„remove()æ–¹æ³•åˆ é™¤å…ƒç´ å¯¼è‡´çš„è¿­ä»£æ¬¡æ•°å˜åŒ–ï¼Œå¯¹è¿­ä»£å™¨å¯¹è±¡æœ¬èº«æ¥è®²æ˜¯å¯é¢„çŸ¥çš„ã€‚</p>
<h4 id="foreachéå†é›†åˆ"><a href="#foreachéå†é›†åˆ" class="headerlink" title="foreachéå†é›†åˆ"></a>foreachéå†é›†åˆ</h4><p>JDK5å¼€å§‹æä¾›ï¼Œæ˜¯ä¸€ç§ç®€æ´çš„forå¾ªç¯ï¼Œä¹Ÿç§°å¢å¼ºforå¾ªç¯ï¼Œç”¨äºéå†æ•°ç»„æˆ–é›†åˆä¸­çš„å…ƒç´ ã€‚ä¼šè‡ªåŠ¨éå†å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList lis = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span>(Object obj:lis)&#123;</span><br><span class="line">    System.out.println(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œåœ¨foreachå¾ªç¯éå†é›†åˆå’Œæ•°ç»„æ—¶ï¼Œåªèƒ½è®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œä¸èƒ½å¯¹å…¶ä¸­çš„å…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> String[] str = &#123;<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(String s:str)&#123;</span><br><span class="line">	s=<span class="string">&quot;aa&quot;</span>;   <span class="comment">//æ”¹å˜å¯¹stringæ•°ç»„æ²¡æ•ˆæœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰æ•ˆæœæ˜¯å› ä¸ºä»£ç ä¸­<code>s=&quot;aa&quot;;</code>åªæ˜¯å°†ä¸´æ—¶å˜é‡sæŒ‡å‘ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå’Œæ•°ç»„ä¸­çš„å…ƒç´ æ²¡æœ‰å…³ç³»ã€‚</p>
<p>è€Œåœ¨æ™®é€šçš„forå¾ªç¯ä¸­ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•æ¥è¿›è¡Œä¿®æ”¹ã€‚</p>
<h4 id="JDK8çš„forEachéå†é›†åˆ"><a href="#JDK8çš„forEachéå†é›†åˆ" class="headerlink" title="JDK8çš„forEachéå†é›†åˆ"></a>JDK8çš„forEachéå†é›†åˆ</h4><p>åœ¨JDK8ä¸­ï¼Œæ ¹æ®Lambdaè¡¨è¾¾å¼ç‰¹æ€§ï¼Œå¢åŠ äº†ä¸€ä¸ª<code>forEach(Consumer action)</code>æ–¹æ³•æ¥éå†é›†åˆï¼Œè¯¥æ–¹æ³•éœ€è¦ä¸€ä¸ªå‡½æ•°å¼æ¥å£ä½œä¸ºå‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList lis = <span class="keyword">new</span> ArrayList();</span><br><span class="line">lis.forEach(obj-&gt;System.out.println(<span class="string">&quot;è¿­ä»£é›†åˆå…ƒç´ ï¼š&quot;</span>+obj))</span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹æ³•ä¼ é€’çš„æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼å½¢å¼ä¹¦å†™çš„å‡½æ•°å¼æ¥å£ã€‚forEachæ–¹æ³•åœ¨æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨éå†é›†åˆå…ƒç´ å¹¶å°†å…ƒç´ é€ä¸ªä¼ é€’ç»™Lambdaè¡¨è¾¾å¼çš„å½¢å‚ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒJDK8è¿˜ä¸ºIteratorè¿­ä»£å™¨å¯¹è±¡å¢åŠ äº†forEachRemaining(Consumer action)æ–¹æ³•æ¥è¿›è¡Œéå†ï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªå‡½æ•°å¼æ¥å£ä½œä¸ºå‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList lis = <span class="keyword">new</span> ArrayList();</span><br><span class="line">Iterator it = lis.iterator();</span><br><span class="line">it.forEachRemianing(obj-&gt;System.out.println(<span class="string">&quot;è¿­ä»£é›†åˆå…ƒç´ ï¼š&quot;</span>+obj));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æç¤ºï¼šæœ¬èŠ‚å¯¹lListé›†åˆéå†çš„æ–¹æ³•ï¼Œå¯¹å•åˆ—é›†åˆCollectionè¿›è¡Œéå†ï¼Œå› æ­¤å¯¹Seté›†åˆä¹Ÿé€‚ç”¨ã€‚</p>
</blockquote>
<h3 id="Setæ¥å£"><a href="#Setæ¥å£" class="headerlink" title="Setæ¥å£"></a>Setæ¥å£</h3><p>ä¹ æƒ¯æ€§åœ°å°†å®ç°äº†Setæ¥å£çš„å¯¹è±¡ç§°ä¸ºSeté›†åˆã€‚Seté›†åˆä¸­çš„å…ƒç´ <strong>æ— åº</strong>ï¼ˆæŒ‡å­˜å…¥çš„é¡ºåºå’Œä¸€èµ·è¾“å‡ºçš„é¡ºåºæ˜¯å¦ä¸€è‡´ï¼‰ï¼Œå¹¶ä¸”ä¼šä»¥æŸç§è§„åˆ™ä¿è¯å­˜å…¥çš„<strong>å…ƒç´ ä¸å‡ºç°é‡å¤</strong>ã€‚Setæ¥å£ä¸»è¦æœ‰ä¸¤ä¸ªå®ç°ç±»ï¼šHashSetã€TreeSetã€‚</p>
<p>HashSetæ˜¯æ ¹æ®å¯¹è±¡çš„å“ˆå¸Œå€¼æ¥ç¡®å®šå…ƒç´ åœ¨é›†åˆä¸­çš„å­˜å‚¨çš„ä½ç½®ï¼Œå› æ­¤å…·æœ‰è‰¯å¥½çš„å­˜å–å’ŒæŸ¥æ‰¾æ€§èƒ½ã€‚</p>
<p>TreeSetæ˜¯ä»¥äºŒå‰æ ‘çš„æ–¹å¼æ¥å­˜å‚¨å…ƒç´ ï¼Œå®ƒå¯ä»¥å®ç°å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</p>
<h4 id="HashSeté›†åˆ"><a href="#HashSeté›†åˆ" class="headerlink" title="HashSeté›†åˆ"></a>HashSeté›†åˆ</h4><p>HashSetæ˜¯Setæ¥å£çš„ä¸€ä¸ªå®ç°ç±»ï¼Œå…ƒç´ ä¸å¯é‡å¤ä¸”æ— åºã€‚</p>
<p>ä¿é‡ä¸é‡å¤ï¼šå½“å‘HashSeté›†åˆä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå³è°ƒç”¨HashSeté›†åˆçš„add()æ–¹æ³•ï¼Œé¦–å…ˆè°ƒç”¨å½“å‰å­˜å…¥å…ƒç´ çš„hashCode()æ–¹æ³•è·å¾—å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œç„¶åæ ¹æ®å¯¹è±¡çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºä¸€ä¸ªå­˜å‚¨ä½ç½®ï¼šå¦‚æœè¯¥ä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ ï¼Œåˆ™ç›´æ¥å°†å…ƒç´ å­˜å…¥ï¼›å¦‚æœè¯¥ä½ç½®ä¸Šæœ‰å…ƒç´ å­˜åœ¨ï¼Œåˆ™ä¼šè°ƒç”¨equals()æ–¹æ³•è®©å½“å‰å­˜å…¥çš„å…ƒç´ ä¾æ¬¡å’Œè¯¥ä½ç½®ä¸Šçš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœè¿”å›çš„ç»“æœä¸ºfalseå°±å°†è¯¥å…ƒç´ å­˜å…¥é›†åˆï¼›è¿”å›çš„ç»“æœä¸ºtrueåˆ™è¯´æ˜æœ‰é‡å¤å…ƒç´ ï¼Œå°±å°†è¯¥å…ƒç´ èˆå¼ƒã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HashSet se = <span class="keyword">new</span> HashSet();</span><br><span class="line">se.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">se.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line"><span class="comment">//éå†è¾“å‡ºSeté›†åˆçš„å…ƒç´ </span></span><br><span class="line">set.forEach(obj-&gt;System.out.println(obj));</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ä¿è¯HashSetçš„æ­£å¸¸å·¥ä½œï¼Œåœ¨å­˜å…¥å¯¹è±¡æ—¶ï¼Œéœ€è¦é‡å†™Objectç±»ä¸­çš„hashCode()å’Œequals()æ–¹æ³•ã€‚Stringç±»å·²ç»é»˜è®¤é‡å†™äº†<code>hashCode()</code>å’Œ<code>equals()</code></p>
<p>å¦‚æœå°†å¼€å‘è€…è‡ªå®šä¹‰çš„ç±»å‹å¯¹è±¡å­˜å…¥HashSetï¼Œéœ€è¦é‡å†™<code>hashCode()</code>å’Œ<code>equals()</code>ï¼Œæ”¹ä¸ºå€¼æ¯”è¾ƒï¼Œå¦åˆ™æ²¡é‡å†™çš„<code>equals()</code>æ–¹æ³•è®¤ä¸ºä¸¤ä¸ªå€¼ç›¸åŒçš„å¼•ç”¨å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡åœ°å€ä¸åŒï¼Œè®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼Œè¾¾ä¸åˆ°å»é‡çš„æ•ˆæœã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String id;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String id, String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id=id;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡å†™toString()æ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id+<span class="string">&quot;:&quot;</span>+name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡å†™hashCodeæ–¹æ³•ï¼Œæ ¹æ®idåˆ¤å®š</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id.hashCode();  <span class="comment">//è¿”å›idå±æ€§çš„å“ˆå¸Œå€¼</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡å†™equalsæ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">		<span class="comment">//thisè¡¨ç¤ºè¯¥å¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ï¼Œå¦‚æœæ˜¯åˆ™trueç›¸åŒ</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span> == obj)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºStudentç±»å‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¿”å›false</span></span><br><span class="line">		<span class="keyword">if</span>(!(obj <span class="keyword">instanceof</span> Student))&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºStudentç±»å‹</span></span><br><span class="line">		Student stu = (Student)obj;</span><br><span class="line">		<span class="comment">//æ ¹æ®idå€¼æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line">		<span class="keyword">boolean</span> b = <span class="keyword">this</span>.id.equals(stu.id);</span><br><span class="line">		<span class="keyword">return</span> b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="TreeSeté›†åˆ"><a href="#TreeSeté›†åˆ" class="headerlink" title="TreeSeté›†åˆ"></a>TreeSeté›†åˆ</h4><p>TreeSetå†…éƒ¨é‡‡ç”¨å¹³è¡¡äºŒå‰æ ‘å­˜å‚¨å…ƒç´ ï¼Œè¿™æ ·çš„ç»“æ„ä¿è¯TreeSeté›†åˆä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼Œå¹¶ä¸”å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼ˆå’ŒSetçš„æ— åºæ— å…³ï¼‰ã€‚å·¦å­æ ‘å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘å¤§äºæ ¹èŠ‚ç‚¹ã€‚å½“æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œé¦–å…ˆä¸é¡¶å±‚å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå°äºå·¦è¾¹ï¼Œå¤§äºå³è¾¹ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå¦‚æœå’Œå¶å­èŠ‚ç‚¹ä¸€æ ·ï¼Œåˆ™å°†è¯¥é‡å¤å…ƒç´ å»æ‰ã€‚å¦åˆ™å°äºå·¦è¾¹ï¼Œå¤§äºå³è¾¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TreeSet ts = <span class="keyword">new</span> TreeSet();</span><br><span class="line">ts.add(<span class="number">3</span>);</span><br><span class="line">ts.add(<span class="number">9</span>);</span><br><span class="line">ts.add(<span class="number">1</span>);</span><br><span class="line">ts.add(<span class="number">21</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;tsé›†åˆï¼š&quot;</span>+ts);  <span class="comment">//è¾“å‡ºä¸º[1,3,9,21]æœ‰åº</span></span><br><span class="line">é¦–å…ƒç´ ï¼š ts.first()  <span class="comment">//1</span></span><br><span class="line">å°¾å…ƒç´ ï¼š ts.last()   <span class="comment">//21</span></span><br><span class="line"><span class="comment">//æ¯”è¾ƒå¹¶è·å–å…ƒç´ </span></span><br><span class="line">ts.floor(<span class="number">9</span>)  <span class="comment">//é›†åˆä¸­å°äºæˆ–ç­‰äº9çš„æœ€å¤§ä¸€ä¸ªå…ƒç´  9</span></span><br><span class="line">ts.higher(<span class="number">10</span>)  <span class="comment">//é›†åˆä¸­å¤§äº10çš„æœ€å°å…ƒç´  21</span></span><br><span class="line">åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š </span><br><span class="line">Object first = ts.pollFirst();</span><br><span class="line">åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ï¼š </span><br><span class="line">Object last = ts.pollLast();</span><br></pre></td></tr></table></figure>

<p>é›†åˆä¸­å…ƒç´ æ·»åŠ é¡ºåºæ— è®ºå¦‚ä½•ï¼Œæœ€åéƒ½ä¼šæŒ‰ä¸€å®šé¡ºåºæ’åˆ—ã€‚å› ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼Œæ¯æ¬¡æ’å…¥éƒ½ä¼šä¸å…¶ä»–å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åæ’å…¥æœ‰åºçš„å¯¹è±¡åºåˆ—ä¸­ã€‚</p>
<p>é›†åˆä¸­çš„å…ƒç´ åœ¨è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œéƒ½ä¼šè°ƒç”¨<code>compareTo()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ˜¯<code>Comparable</code>æ¥å£ä¸­å®šä¹‰çš„ï¼Œå› æ­¤è¦æƒ³å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå°±å¿…é¡»å®ç°<code>Comparable</code>æ¥å£ã€‚Javaä¸­å¤§å¤šæ•°ç±»éƒ½å®ç°äº†<code>Comparable</code>æ¥å£ï¼Œå¹¶é»˜è®¤å®ç°æ¥å£ä¸­çš„<code>compareTo()</code>æ–¹æ³•ï¼Œå¦‚Integerã€Doubleã€Stringç­‰ã€‚</p>
<p>å®é™…å¼€å‘ä¸­ï¼Œå¯¹è‡ªå®šä¹‰ç±»å‹çš„æ•°æ®æ²¡æœ‰å®ç°<code>Comparable</code>æ¥å£ï¼Œæ— æ³•ç›´æ¥åœ¨TreeSeté›†åˆä¸­è¿›è¡Œæ’åºæ“ä½œã€‚å› æ­¤ï¼ŒJavaæä¾›äº†ä¸¤ç§TreeSetçš„æ’åºè§„åˆ™ï¼šè‡ªç„¶æ’åºã€å®šåˆ¶æ’åºã€‚é»˜è®¤æƒ…å†µä¸‹é‡‡ç”¨è‡ªç„¶æ’åºã€‚</p>
<p>ï¼ˆ1ï¼‰è‡ªç„¶æ’åº</p>
<p>è‡ªç„¶æ’åºè¦æ±‚å‘TreeSeté›†åˆä¸­å­˜å‚¨çš„å…ƒç´ æ‰€åœ¨ç±»å¿…é¡»å®ç°<code>Comparable</code>æ¥å£ï¼Œå¹¶é‡å†™<code>compareTo()</code>æ–¹æ³•ã€‚ç„¶åTreeSeté›†åˆå°±ä¼šå¯¹è¯¥ç±»å‹å…ƒç´ ä½¿ç”¨<code>compareTo()</code>æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œé»˜è®¤å‡åºæ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰Teacherç±»å®ç°Comparableæ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Teacher</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name=name;</span><br><span class="line">		<span class="keyword">this</span>.age=age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name+<span class="string">&quot;:&quot;</span>+age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡å†™compareToæ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">		Teacher s = (Teacher)obj;</span><br><span class="line">		<span class="comment">//å®šä¹‰æ¯”è¾ƒæ–¹å¼ï¼Œå…ˆæ¯”è¾ƒå¹´é¾„ageï¼Œå†æ¯”è¾ƒname,å‡åº</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.age-s.age&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span>.age-s.age==<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.name.compareTo(s.name);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å®šåˆ¶æ’åº</p>
<p>é€šè¿‡åœ¨åˆ›å»ºTreeSeté›†åˆæ—¶å°±è‡ªå®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨æ¥å¯¹å…ƒç´ è¿›è¡Œå®šåˆ¶æ’åºã€‚è‡ªå®šä¹‰çš„ç±»å‹æ•°æ®ä¸­æ— éœ€å®ç°Comparableæ¥å£ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ç…§è‡ªå·±çš„æƒ³æ³•è¿›è¡Œæ’åºã€‚</p>
<p>ä¾‹å­ï¼šæŒ‰ç…§é›†åˆä¸­å­—ç¬¦ä¸²çš„é•¿åº¦è¿›è¡Œå®šåˆ¶æ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="comment">//å®šä¹‰æ¯”è¾ƒå™¨å®ç°Comparatoræ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object obj1, Object obj2)</span></span>&#123;</span><br><span class="line">		String s1=(String)obj1;</span><br><span class="line">		String s2=(String)obj2;</span><br><span class="line">		<span class="keyword">int</span> temp=s1.length()-s2.length();</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">	<span class="comment">//æ³•1.åˆ›å»ºé›†åˆæ—¶ï¼Œä¼ å…¥Comparatoræ¥å£å®ç°å®šåˆ¶æ’åº</span></span><br><span class="line">		TreeSet ts=<span class="keyword">new</span> TreeSet(<span class="keyword">new</span> MyComparator());</span><br><span class="line">		ts.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		ts.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">		ts.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">		System.out.println(ts);</span><br><span class="line">	<span class="comment">//æ³•2.åˆ›å»ºé›†åˆæ—¶ï¼Œä½¿ç”¨Lambdaè¡¨è¾¾å¼å®šåˆ¶æ’åºï¼Œæ— åºä¸Šé¢çš„MyComparator</span></span><br><span class="line">		TreeSet ts2=<span class="keyword">new</span> TreeSet((obj1,obj2)-&gt;&#123;</span><br><span class="line">			String s1=(String)obj1;</span><br><span class="line">			String s2=(String)obj2;</span><br><span class="line">			<span class="keyword">return</span> s1.length()-s2.length();</span><br><span class="line">		&#125;);</span><br><span class="line">		ts2.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		ts2.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">		ts2.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">		System.out.println(ts2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Mapæ¥å£"><a href="#Mapæ¥å£" class="headerlink" title="Mapæ¥å£"></a>Mapæ¥å£</h3><p>Mapæ¥å£æ˜¯ä¸€ç§åŒåˆ—é›†åˆï¼ŒåŒ…å«é”®å¯¹è±¡keyå’Œå€¼valueï¼Œé”®å’Œå€¼å¯¹è±¡ä¹‹é—´å­˜åœ¨ä¸€ç§æ˜ å°„ï¼Œä¸€å¯¹ä¸€çš„ï¼Œä¸€ä¸ªkeyå¯¹åº”å”¯ä¸€ä¸€ä¸ªvalueï¼Œé”®å¯¹è±¡keyä¸å¯é‡å¤ã€‚</p>
<h4 id="HashMapé›†åˆ"><a href="#HashMapé›†åˆ" class="headerlink" title="HashMapé›†åˆ"></a>HashMapé›†åˆ</h4><p>HahMapé›†åˆå­˜å‚¨é”®å€¼æ˜ å°„å…³ç³»ï¼Œè¯¥é›†åˆçš„é”®å’Œå€¼å…è®¸ä¸ºç©ºï¼Œä½†é”®ä¸èƒ½é‡å¤ï¼Œä¸”é›†åˆä¸­çš„å…ƒç´ æ˜¯<strong>æ— åºçš„</strong>ã€‚</p>
<p>HashMapåº•å±‚ï¼šå“ˆå¸Œè¡¨ç»“æ„=æ•°ç»„+é“¾è¡¨ã€‚æ•°ç»„æ˜¯HashMapçš„ä¸»ä½“ç»“æ„ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸ºäº†è§£å†³å“ˆå¸Œå€¼å†²çªè€Œå­˜åœ¨çš„åˆ†æ”¯ç»“æ„ã€‚å› æ­¤HashMapå¯¹å…ƒç´ çš„å¢åˆ æ”¹æŸ¥è¡¨ç°å‡ºçš„æ•ˆç‡éƒ½å¾ˆé«˜ã€‚</p>
<p>æ°´å¹³æ–¹å‘ä¸Šæ•°ç»„çš„é•¿åº¦ç§°ä¸ºHashMapé›†åˆçš„å®¹é‡ï¼ˆcapacityï¼‰ï¼Œç«–ç›´æ–¹å‘æ¯ä¸ªå…ƒç´ å¯¹åº”çš„é“¾è¡¨ç»“æ„ç§°ä¸ºä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ï¼Œæ¯ä¸ªæ¡¶çš„ä½ç½®åœ¨é›†åˆä¸­éƒ½æœ‰å¯¹åº”çš„æ¡¶å€¼ï¼Œç”¨äºå¿«é€Ÿå®šä½ã€‚æ¯ä¸ªé“¾è¡¨ç»“æ„æ˜¯&lt;key,value&gt;çš„é”®å€¼å¯¹ã€‚</p>
<p>å½“å‘HashMapé›†åˆæ·»åŠ å…ƒç´ æ—¶ï¼Œé¦–å…ˆè°ƒç”¨é”®å¯¹è±¡kçš„hash(k)æ–¹æ³•ï¼Œå¿«é€Ÿå®šä½å¹¶å¯»å€åˆ°è¯¥å…ƒç´ åœ¨é›†åˆä¸­è¦å­˜å‚¨çš„ä½ç½®ã€‚åœ¨å®šä½åˆ°å­˜å‚¨å…ƒç´ é”®å¯¹è±¡kçš„å“ˆå¸Œå€¼æ‰€å¯¹åº”æ¡¶ä½ç½®åï¼Œä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š<br>1.é”®å¯¹è±¡kçš„hashå€¼æ‰€åœ¨çš„æ¡¶ä½ç½®ä¸ºç©ºï¼Œåˆ™ç›´æ¥å‘è¯¥æ¡¶æ’å…¥å…ƒç´ å¯¹è±¡ã€‚<br>2.é”®å¯¹è±¡kçš„hashå€¼æ‰€åœ¨çš„æ¡¶ä½ç½®ä¸ä¸ºç©ºï¼Œåˆ™ç»§ç»­é€šè¿‡é”®å¯¹è±¡çš„equals(k)æ–¹æ³•æ¯”è¾ƒæ–°æ’å…¥çš„å…ƒç´ é”®å¯¹è±¡kå’Œå·²å­˜åœ¨çš„å…ƒç´ é”®å¯¹è±¡kæ˜¯å¦ç›¸åŒï¼š<br>1.å¦‚æœç›¸åŒï¼Œåˆ™ä¼šå¯¹åŸæœ‰å…ƒç´ çš„å€¼å¯¹è±¡vè¿›è¡Œæ›¿æ¢å¹¶è¿”å›åŸæ¥çš„æ—§å€¼ã€‚<br>2.å¦‚æœéƒ½ä¸ç›¸åŒï¼Œåˆ™åœ¨è¯¥æ¡¶çš„é“¾è¡¨ç»“æ„å¤´éƒ¨æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹æ¥æ’å…¥æ–°çš„å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> HashMap();</span><br><span class="line">m.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;cc&quot;</span>);  <span class="comment">//putå·²å­˜åœ¨çš„keyï¼Œä¼šè¿›è¡Œè¦†ç›–</span></span><br><span class="line">System.out.println(m);  <span class="comment">//æ‰“å°</span></span><br><span class="line"><span class="comment">//æŸ¥çœ‹é”®æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">m.containsKey(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="comment">//è·å–é”®å¯¹åº”çš„å€¼</span></span><br><span class="line">m.get(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="comment">//è·å–é”®é›†åˆã€å€¼é›†åˆ</span></span><br><span class="line">m.keySet()</span><br><span class="line">m.values()</span><br><span class="line"><span class="comment">//æ›¿æ¢æŒ‡å®šé”®çš„å€¼</span></span><br><span class="line">m.replace(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;dd&quot;</span>);</span><br><span class="line">åˆ é™¤æŒ‡å®šé”®å€¼å¯¹</span><br><span class="line">m.remove(<span class="string">&quot;1&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼ŒHashMapæŸ¥æ‰¾æ—¶ï¼Œéœ€è¦éå†é“¾è¡¨ï¼Œé€ä¸€é€šè¿‡equalsæ–¹æ³•è¿›è¡Œæ¯”å¯¹ï¼Œå› æ­¤æ¡¶è¶Šå¤šï¼ŒHashMapä¸­çš„é“¾è¡¨è¶Šå°‘ï¼Œæ€§èƒ½è¶Šå¥½ã€‚å±äºç©ºé—´æ¢æ—¶é—´ã€‚</p>
<p>HashMapä¸­ï¼Œ<strong>åŠ¨æ€åˆ†é…æ¡¶çš„æ•°é‡</strong>ï¼šé€šè¿‡<code>new HashMap()</code>æ–¹æ³•åˆ›å»ºHashMapæ—¶ï¼Œä¼šé»˜è®¤é›†åˆå®¹é‡capacityå¤§å°ä¸º16ï¼ŒåŠ è½½å› å­loadFactorä¸º0.75ï¼Œæ­¤æ—¶é›†åˆæ¡¶çš„é˜ˆå€¼ä¸º12ï¼Œè¶…è¿‡12ä¸ªæ—¶ï¼ŒHashMapä¼šé»˜è®¤å¢åŠ ä¸€å€æ¡¶çš„æ•°é‡ã€‚å¼€å‘è€…ä¹Ÿå¯ä»¥ä½¿ç”¨<code>new HashMap(int intialCapacity, float loadFactor)</code>æ„é€ æ–¹æ³•ï¼Œåœ¨åˆ›å»ºHashMapé›†åˆæ—¶æŒ‡å®šé›†åˆå®¹é‡å’ŒåŠ è½½å› å­ã€‚</p>
<h4 id="Mapé›†åˆéå†"><a href="#Mapé›†åˆéå†" class="headerlink" title="Mapé›†åˆéå†"></a>Mapé›†åˆéå†</h4><h5 id="Iteratorè¿­ä»£å™¨éå†"><a href="#Iteratorè¿­ä»£å™¨éå†" class="headerlink" title="Iteratorè¿­ä»£å™¨éå†"></a>Iteratorè¿­ä»£å™¨éå†</h5><p>ä½¿ç”¨Iteratorè¿­ä»£å™¨éå†Mapé›†åˆï¼Œéœ€è¦å…ˆå°†Mapé›†åˆè½¬æ¢ä¸ºIteratoræ¥å£å¯¹è±¡ï¼Œç„¶åè¿›è¡Œéå†ï¼Œæœ‰ä¸¤ç§æ–¹æ³•è¿›è¡Œè½¬æ¢ï¼š</p>
<p>ï¼ˆ1ï¼‰keySet()æ–¹æ³•</p>
<p>å…ˆå°†Mapé›†åˆä¸­æ‰€æœ‰é”®å¯¹è±¡è½¬æ¢ä¸ºSetå•åˆ—é›†åˆï¼Œç„¶åå°†Seté›†åˆè½¬æ¢ä¸ºIteratoræ¥å£å¯¹è±¡ï¼Œéå†å¾—åˆ°é”®ï¼Œå†è·å¾—å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> HashMap();</span><br><span class="line">m.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;cc&quot;</span>); </span><br><span class="line">Set keySet = map.keySet();   <span class="comment">//è·å–é”®çš„é›†åˆ</span></span><br><span class="line">Iterator it = keySet.iterator();  <span class="comment">//è¿­ä»£é”®çš„é›†åˆ</span></span><br><span class="line"><span class="keyword">while</span>(it.hashNext())&#123;</span><br><span class="line">	Object k = it.next();</span><br><span class="line">	Object v = m.get(key);</span><br><span class="line">	System.out.println(k+<span class="string">&quot;:&quot;</span>+v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰entrySet()æ–¹æ³•</p>
<p>å°†åŸæœ‰Mapé›†åˆä¸­çš„é”®å€¼å¯¹ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿”å›ä¸ºSeté›†åˆï¼Œæ¥ç€å°†Setè½¬æ¢ä¸ºIteratoræ¥å£å¯¹è±¡ï¼Œç„¶åè·å–é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå–å‡ºé”®å’Œå€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> HashMap();</span><br><span class="line">m.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;cc&quot;</span>); </span><br><span class="line">Set entrySet = m.entrySet();</span><br><span class="line">Iterator it = entrySet.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">	Map.Entry en = (Map.Entry)(it.next());</span><br><span class="line">	Object k = en.getKey();</span><br><span class="line">	Object v = en.getValue();</span><br><span class="line">	System.out.println(k+<span class="string">&quot;:&quot;</span>+v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Map.Entryæ˜¯Mapæ¥å£å†…éƒ¨ç±»ï¼Œæ¯ä¸ªMap.Entryå¯¹è±¡ä»£è¡¨Mapä¸­çš„ä¸€ä¸ªé”®å€¼å¯¹ã€‚getKeyå’ŒgetValueæ˜¯æ˜ å°„å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<h5 id="forEach-æ–¹æ³•"><a href="#forEach-æ–¹æ³•" class="headerlink" title="forEach()æ–¹æ³•"></a>forEach()æ–¹æ³•</h5><p>å†JDK8ä¸­æ ¹æ®Lambdaè¡¨è¾¾å¼ç‰¹æ€§æ–°å¢äº†ä¸€ä¸ªforEachæ–¹æ³•æ¥éå†Mapé›†åˆï¼Œè¯¥æ–¹æ³•éœ€è¦çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼ä¹¦å†™è¿™ä¸ªå‡½æ•°å¼æ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> HashMap();</span><br><span class="line">m.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;cc&quot;</span>); </span><br><span class="line">m.forEach((k,v)-&gt;System.out.println(k+<span class="string">&quot;:&quot;</span>+v));</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªæƒ³éå†valueï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collection v = m.values();</span><br><span class="line">v.forEach(va-&gt;System.out.println(va));</span><br></pre></td></tr></table></figure>

<h4 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h4><p>HashMapæ— åºï¼Œä¸ä¿è¯é›†åˆå…ƒç´ å­˜å…¥å’Œå–å‡ºçš„é¡ºåºã€‚</p>
<p>ä½†æ˜¯LinkedHashMapæ˜¯HashMapçš„å­ç±»ï¼Œå’ŒLinkedListä¸€æ ·ä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤å†…éƒ¨å…ƒç´ çš„å…³ç³»ï¼Œä½¿å¾—å…ƒç´ æœ‰åºï¼ˆå­˜å…¥å’Œå–å‡ºçš„é¡ºåºï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> LinkedHashMap();  <span class="comment">//åˆ›å»º</span></span><br></pre></td></tr></table></figure>

<h4 id="TreeMapé›†åˆ"><a href="#TreeMapé›†åˆ" class="headerlink" title="TreeMapé›†åˆ"></a>TreeMapé›†åˆ</h4><p>Mapæ¥å£çš„å¦ä¸€ä¸ªå®ç°ç±»TreeMapï¼ŒåŒæ ·ä¸å…è®¸é‡å¤çš„é”®ã€‚TreeMapå†…éƒ¨æ˜¯é€šè¿‡äºŒå‰æ ‘çš„åŸç†æ¥ä¿è¯é”®çš„å”¯ä¸€æ€§ï¼Œè¿™ä¸TreeSeté›†åˆå­˜å‚¨çš„åŸç†ä¸€æ ·ï¼Œå› æ­¤ï¼ŒTreeMapä¸­æ‰€æœ‰çš„é”®æ˜¯æŒ‰ç…§æŸç§é¡ºåºæ’åˆ—çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map m = <span class="keyword">new</span> TreeMap();</span><br><span class="line">m.put(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;2&quot;</span>,<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">m.put(<span class="string">&quot;3&quot;</span>,<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">System.out.println(m);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„é”®æ˜¯Stringç±»å‹ï¼ŒStringç±»å®ç°äº†Comparableæ¥å£ï¼Œå› æ­¤é»˜è®¤ä¼šæŒ‰ç…§è‡ªç„¶é¡ºåºä»å°åˆ°å¤§è¿›è¡Œæ’åˆ—ã€‚</p>
<p>æ¡¶TreeSetä¸€æ ·ï¼ŒTreeMapå¯ä»¥è‡ªå®šä¹‰æ¯”è¾ƒå™¨Comparatorçš„æ–¹å¼å¯¹æ‰€æœ‰çš„é”®è¿›è¡Œå®šåˆ¶æ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰æ¯”è¾ƒå™¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object obj1, Object obj2)</span></span>&#123;</span><br><span class="line">		String key1 = (String)obj1;</span><br><span class="line">		String key2 = (String)obj2;</span><br><span class="line">	    <span class="keyword">return</span> key2.compareTo(key1);  <span class="comment">//ä»å¤§åˆ°å°æ’åˆ—</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">Map m = <span class="keyword">new</span> TreeMap(<span class="keyword">new</span> MyComparator());</span><br></pre></td></tr></table></figure>

<h4 id="Propertiesé›†åˆ"><a href="#Propertiesé›†åˆ" class="headerlink" title="Propertiesé›†åˆ"></a>Propertiesé›†åˆ</h4><p>Mapæ¥å£è¿˜æœ‰ä¸€ä¸ªå®ç°æ¥Hashtableï¼Œå®ƒå’ŒHashMapååˆ†ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä¸ŠHashtableçš„æ•ˆç‡ä¸åŠHashMapã€‚å› æ­¤é€šå¸¸ä½¿ç”¨HashMapã€‚</p>
<p>ä½†æ˜¯Hashtableæœ‰ä¸€ä¸ªå­ç±»Propertiesï¼Œä¸»è¦ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹çš„é”®å€¼ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸ç”¨æ¥å­˜å–åº”ç”¨çš„é…ç½®é¡¹ã€‚</p>
<p>å‡è®¾æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼štest.properties</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">color = red;</span><br><span class="line">size = 10;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="comment">//1.é€šè¿‡Propertiesè¿›è¡Œå±æ€§æ–‡ä»¶è¯»å–æ“ä½œ</span></span><br><span class="line">	Properties pps = <span class="keyword">new</span> Properties();</span><br><span class="line">	<span class="comment">//åŠ è½½æ–‡ä»¶</span></span><br><span class="line">	pps.load(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;test.properties&quot;</span>));</span><br><span class="line">	<span class="comment">//éå†é”®å€¼å¯¹ä¿¡æ¯</span></span><br><span class="line">	pps.forEach((k,v)-&gt;System.out.println(k+<span class="string">&quot;:&quot;</span>+v));</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//2.é€šè¿‡Propertiesè¿›è¡Œå±æ€§æ–‡ä»¶å†™å…¥æ“ä½œ</span></span><br><span class="line">	<span class="comment">//æŒ‡å®šå†™å…¥æ“ä½œçš„æ–‡ä»¶åç§°å’Œä½ç½®</span></span><br><span class="line">	<span class="function">FileOutputStream out new <span class="title">FileOutputStream</span><span class="params">(<span class="string">&quot;test.properties&quot;</span>)</span></span>;</span><br><span class="line">	<span class="comment">//å‘Propertiesç±»æ–‡ä»¶è¿›è¡Œå†™å…¥é”®å€¼å¯¹ä¿¡æ¯</span></span><br><span class="line">	pps.setProperty(<span class="string">&quot;charset&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">	<span class="comment">//å°†æ­¤Propertiesé›†åˆä¸­æ–°å¢çš„é”®å€¼å¯¹å†™å…¥é…ç½®æ–‡ä»¶</span></span><br><span class="line">	pps.store(out, <span class="string">&quot;æ–°å¢charsetç¼–ç &quot;</span>)ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Propertiesçš„setPropertyæ–¹æ³•ï¼Œç”¨æ¥æ–°å¢ä¸€ä¸ªé”®å€¼å¯¹å…ƒç´ ã€‚storeæ–¹æ³•ç”¨æ¥å°†æ–°å¢ä¿¡æ¯å†™å…¥åˆ°propertiesé…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h3><p>åœ¨ä¹‹å‰åˆ›å»ºé›†åˆï¼Œå½“æŠŠä¸€ä¸ªå¯¹è±¡å­˜å…¥é›†åˆåï¼Œé›†åˆä¼šå¿˜è®°è¿™ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œå°†è¯¥å¯¹è±¡ä»é›†åˆä¸­å–å‡ºæ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„ç¼–è¯‘ç±»å‹å°±ä¼šç»Ÿä¸€å˜æˆObjectç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­˜å…¥å…ƒç´ å•¥ç±»å‹éƒ½è¡Œï¼Œä½†æ˜¯å–å‡ºå…ƒç´ åï¼Œè¿›è¡Œå¼ºåˆ¶è½¬æ¢å®¹æ˜“å‡ºé”™ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ArrayList lis = new ArrayList();</span><br><span class="line">lis.add(&quot;aa&quot;);</span><br><span class="line">lis.add(&quot;bb&quot;);</span><br><span class="line">for(Object obj:lis)&#123;</span><br><span class="line">	String s = (String)obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºè§£å†³è¯¥é—®é¢˜ï¼ŒJavaå¼•å…¥â€œå‚æ•°åŒ–ç±»å‹â€æ¦‚å¿µï¼Œå³æ³›å‹ã€‚æ³›å‹å¯ä»¥é™å®šæ“ä½œçš„æ•°æ®ç±»å‹ï¼Œåœ¨å®šä¹‰é›†åˆç±»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨â€œ&lt;å‚æ•°åŒ–ç±»å‹&gt;â€çš„å½¢å¼æŒ‡å®šé›†åˆä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹ã€‚</p>
<p><code>ArrayList&lt;String&gt;lis = new ArrayList&lt;String&gt;();</code></p>
<p>è¿™æ ·é™å®šäº†é›†åˆå…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œç¨‹åºç¼–è¯‘æ—¶ç±»å‹ä¸å¿…é…çš„è¯ä¼šç¼–è¯‘ä¸é€šè¿‡ï¼Œé¿å…è¿è¡Œæ—¶å‘ç”Ÿé”™è¯¯ã€‚éå†æ—¶<code>for(String s:lis)&#123;&#125;</code></p>
<h2 id="å¸¸ç”¨å·¥å…·ç±»"><a href="#å¸¸ç”¨å·¥å…·ç±»" class="headerlink" title="å¸¸ç”¨å·¥å…·ç±»"></a>å¸¸ç”¨å·¥å…·ç±»</h2><h3 id="Collectionså·¥å…·ç±»"><a href="#Collectionså·¥å…·ç±»" class="headerlink" title="Collectionså·¥å…·ç±»"></a>Collectionså·¥å…·ç±»</h3><p>Javaæä¾›çš„ä¸€ä¸ªä¸“é—¨å·¥å…·ç±»ç”¨æ¥æ“ä½œé›†åˆï¼Œä½äºjava.utilåŒ…ä¸­ã€‚Collectionsç±»ä¸­æä¾›äº†å¤§é‡çš„é™æ€æ–¹æ³•ç”¨äºå¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€æŸ¥æ‰¾ã€ä¿®æ”¹ç­‰æ“ä½œã€‚</p>
<h4 id="æ·»åŠ ã€æ’åº"><a href="#æ·»åŠ ã€æ’åº" class="headerlink" title="æ·»åŠ ã€æ’åº"></a>æ·»åŠ ã€æ’åº</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList&lt;String&gt;lis = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//æ·»åŠ å…ƒç´ </span></span><br><span class="line">Collections.addAll(lis,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line"><span class="comment">//é›†åˆå¯ä»¥ç›´æ¥è¾“å‡ºï¼Œè€Œæ•°ç»„ä¸å¯ä»¥ï¼Œæ•°ç»„å¯ä»¥ç”¨forEachçš„Lambdaè¡¨è¾¾å¼ï¼Ÿ</span></span><br><span class="line">System.out.println(lis);</span><br><span class="line">Collections.sort(lis);  <span class="comment">//æ’åº</span></span><br><span class="line">Collections.reverse(lis);  <span class="comment">//åè½¬</span></span><br><span class="line">Collections.shuffle(lis);  <span class="comment">//éšæœºæ‰“ä¹±é›†åˆé¡ºåº</span></span><br><span class="line">Collections.swap(lis,<span class="number">0</span>,lis.size()-<span class="number">1</span>);  <span class="comment">//äº¤æ¢å…ƒç´ </span></span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥æ‰¾ã€æ›¿æ¢"><a href="#æŸ¥æ‰¾ã€æ›¿æ¢" class="headerlink" title="æŸ¥æ‰¾ã€æ›¿æ¢"></a>æŸ¥æ‰¾ã€æ›¿æ¢</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt;lis = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//æ·»åŠ å…ƒç´ </span></span><br><span class="line">Collections.addAll(lis,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">æœ€å¤§å…ƒç´ ï¼š Collections.max(lis);</span><br><span class="line">æœ€å°å…ƒç´ ï¼š Collections.min(lis);</span><br><span class="line">Collections.replace(lis,<span class="number">2</span>,<span class="number">0</span>);  <span class="comment">//å°†é›†åˆä¸­çš„2ç”¨0æ›¿æ¢æ‰</span></span><br><span class="line">Collections.sort(lis);  <span class="comment">//æ’åº</span></span><br><span class="line"><span class="comment">//é€šè¿‡äºŒåˆ†æŸ¥æ‰¾æŸ¥æ‰¾å…ƒç´ 3æ‰€åœ¨çš„è§’æ ‡ï¼Œä¸€å®šè¦å…ˆæ’åº</span></span><br><span class="line"><span class="keyword">int</span> index = Collections.binarySearch(lis, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Arrayså·¥å…·ç±»"><a href="#Arrayså·¥å…·ç±»" class="headerlink" title="Arrayså·¥å…·ç±»"></a>Arrayså·¥å…·ç±»</h3><p>javaé’ˆå¯¹æ•°ç»„æ“ä½œæä¾›çš„æ•°æ®å·¥å…·ç±»Arraysï¼Œæä¾›å¤§é‡é™æ€æ–¹æ³•ã€‚</p>
<h4 id="sortæ’åº"><a href="#sortæ’åº" class="headerlink" title="sortæ’åº"></a>sortæ’åº</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">9</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">ä¸èƒ½é€šè¿‡System.outç›´æ¥æ‰“å°æ•°ç»„ï¼Œéœ€è¦<span class="keyword">for</span>å¾ªç¯æ‰“å°</span><br><span class="line">Arrays.sort(arr);  <span class="comment">//æ’åº</span></span><br><span class="line">Arrays.sort(arr,<span class="number">1</span>,<span class="number">4</span>);  å·¦é—­å³å¼€</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.sort(arr);</span><br><span class="line"><span class="keyword">int</span> index=Arrays.binarySearch(arr,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h4 id="æ‹·è´"><a href="#æ‹·è´" class="headerlink" title="æ‹·è´"></a>æ‹·è´</h4><p>åœ¨ä¸ç ´ååŸæ•°ç»„çš„æƒ…å†µä¸‹ä½¿ç”¨æ•°ç»„çš„éƒ¨åˆ†å…ƒç´ ï¼Œå°†æŒ‡å®šèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] cop = Arrays.copyOfRange(arr, <span class="number">1</span>, <span class="number">7</span>);</span><br><span class="line"><span class="comment">//ç»“æœcopï¼š8ï¼Œ3ï¼Œ5ï¼Œ2ï¼Œ0ï¼Œ0ï¼Œå·¦é—­å³å¼€å…±å…­ä¸ªï¼Œæ²¡æœ‰çš„ç”¨é»˜è®¤0</span></span><br></pre></td></tr></table></figure>

<h4 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h4><p>å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ›¿æ¢ä¸ºä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Arrays.fill(arr,<span class="number">8</span>);  <span class="comment">//å…¨æ¢ä¸º8</span></span><br></pre></td></tr></table></figure>

<h3 id="èšåˆæ“ä½œ"><a href="#èšåˆæ“ä½œ" class="headerlink" title="èšåˆæ“ä½œ"></a>èšåˆæ“ä½œ</h3><p>Lambdaè¡¨è¾¾å¼å¯ä»¥ç®€åŒ–é›†åˆå’Œæ•°ç»„çš„éå†ã€è¿‡æ»¤å’Œæå–ç­‰æ“ä½œã€‚åŸºäºæ­¤ç‰¹æ€§ï¼ŒJDK8æ–°å¢äº†èšåˆæ“ä½œã€‚</p>
<h4 id="Streamæ¥å£"><a href="#Streamæ¥å£" class="headerlink" title="Streamæ¥å£"></a>Streamæ¥å£</h4><p>JDK8æä¾›ï¼Œè¯¥æ¥å£å°†é›†åˆã€æ•°ç»„ä¸­çš„å…ƒç´ è½¬æ¢ä¸ºStreamæµçš„å½¢å¼ï¼Œå¹¶ç»“åˆLambdaè¡¨è¾¾å¼è¿›ä¸€æ­¥ç®€åŒ–é›†åˆã€æ•°ç»„ä¸­å…ƒç´ çš„æŸ¥æ‰¾ã€è¿‡æ»¤ã€è½¬æ¢æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line">List&lt;String&gt;lis <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">lis.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">lis.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">lis.add(<span class="string">&quot;dddd&quot;</span>);</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªStreamæµå¯¹è±¡</span></span><br><span class="line">Stream&lt;String&gt;stream = lis.stream();</span><br><span class="line"><span class="comment">//å¯¹Streamæµä¸­çš„å…ƒç´ è¿›è¡Œè¿‡æ»¤ã€æˆªå–</span></span><br><span class="line">Stream&lt;String&gt;stream2 = stream.filter(i-&gt;i.startsWith(<span class="string">&quot;a&quot;</span>));</span><br><span class="line">Stream&lt;String&gt;stream3 = stream.filter(i-&gt;i.length()&gt;<span class="number">1</span>);</span><br><span class="line">Stream&lt;String&gt;stream4 = stream2.limit(<span class="number">1</span>);</span><br><span class="line"><span class="comment">//å¯¹Streamæµä¸­çš„å…ƒç´ è¿›è¡Œç»ˆç»“æ“ä½œ</span></span><br><span class="line">stream4.forEach(j-&gt;System.out.println(j));</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡é“¾å¼è¡¨è¾¾å¼çš„å½¢å¼å®Œæˆèšåˆæ“ä½œ</span></span><br><span class="line">lis.stream().filter(i-&gt;i.startsWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">			.limit(<span class="number">1</span>)</span><br><span class="line">			.forEach(j-&gt;System.out.println(j));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç–‘é—®ï¼šåˆ›å»ºlistæ—¶ï¼Œæœ€å…ˆçš„Listå’ŒArrayListæœ‰ä½•åŒºåˆ«ï¼Ÿ</p>
<p>List<int>å¯ä»¥å—ï¼Ÿè¿˜æ˜¯è¯´å…ƒç´ å¿…é¡»ä¸ºå¼•ç”¨ç±»å‹</int></p>
</blockquote>
<p>é“¾å¼è¡¨è¾¾å¼ï¼šè°ƒç”¨æœ‰è¿”å›å€¼çš„æ–¹æ³•æ—¶ä¸è·å–è¿”å›å€¼è€Œæ˜¯ç›´æ¥å†è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå®ç°èšåˆæ“ä½œï¼Œä¹Ÿè¢«ç§°ä¸ºæ“ä½œç®¡é“æµã€‚</p>
<p>æ‰§è¡ŒæŸä¸ªæ–¹æ³•è¿”å›ç±»å‹ä»ä¸ºstreamæµå¯¹è±¡çš„æ–¹æ³•å½’ä¸ºä¸­é—´æ“ä½œï¼Œå¦‚è¿‡æ»¤æˆªå–æ’åºã€‚</p>
<p>æ‰§è¡Œæ–¹æ³•åè¿”å›ç±»å‹ä¸å†æ˜¯Streamæµå¯¹è±¡çš„æ–¹æ³•å½’ä¸ºç»ˆç»“æ“ä½œï¼Œå¦‚éå†ç»Ÿè®¡æ”¶é›†ã€‚</p>
<h4 id="åˆ›å»ºStreamæµå¯¹è±¡"><a href="#åˆ›å»ºStreamæµå¯¹è±¡" class="headerlink" title="åˆ›å»ºStreamæµå¯¹è±¡"></a>åˆ›å»ºStreamæµå¯¹è±¡</h4><p>èšåˆæ“ä½œé’ˆå¯¹çš„æ˜¯å¯è¿­ä»£æ•°æ®è¿›è¡Œæ“ä½œï¼šå¦‚é›†åˆã€æ•°ç»„ã€‚å› æ­¤åˆ›å»ºStreamæµå¯¹è±¡æ˜¯å°†é›†åˆã€æ•°ç»„é€šè¿‡ä¸€äº›æ–¹æ³•è½¬æ¢ä¸ºStreamæµå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºStreamæµå¯¹è±¡çš„é›†ä¸­æ–¹æ³•</span></span><br><span class="line">Integer[] arr = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="comment">//å°†æ•°ç»„è½¬æ¢ä¸ºListé›†åˆ</span></span><br><span class="line">List&lt;Integer&gt;lis=Arrays.asList(arr);</span><br><span class="line"><span class="comment">//1.ä½¿ç”¨é›†åˆå¯¹è±¡çš„stream()é™æ€æ–¹æ³•åˆ›å»ºstreamæµå¯¹è±¡</span></span><br><span class="line">Stream&lt;Integer&gt;stream=lis.stream();</span><br><span class="line">stream.forEach(i-&gt;System.out.print(i+<span class="string">&quot; &quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.ä½¿ç”¨Streamæ¥å£çš„of()é™æ€æ–¹æ³•ä¸ºåŸºæœ¬ç±»å‹åŒ…è£…ç±»æ•°ç»„ã€å¼•ç”¨ç±»å‹æ•°ç»„ã€å•ä¸ªå…ƒç´ åˆ›å»ºstreamæµå¯¹è±¡</span></span><br><span class="line">Stream&lt;Integer&gt;stream2=Stream.of(arr);</span><br><span class="line">stream2.forEach(i-&gt;System.out.print(i+<span class="string">&quot; &quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.ä½¿ç”¨Arraysæ•°ç»„å·¥å…·ç±»çš„stream()é™æ€æ–¹æ³•åˆ›å»ºstreamæµå¯¹è±¡</span></span><br><span class="line">Stream&lt;Integer&gt;stream3=Arrays.stream(arr);</span><br><span class="line">stream3.forEach(i-&gt;System.out.print(i+<span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šé›†åˆå¯¹è±¡çš„stream()é™æ€æ–¹æ³•åªæ˜¯é’ˆå¯¹å•åˆ—é›†åˆCollectionæ¥å£å¯¹è±¡æä¾›çš„ï¼Œå¯¹Mapé›†åˆé¦–å…ˆé€šè¿‡Mapé›†åˆçš„<code>keySet()  values()  entrySet()</code>æ–¹æ³•è½¬æ¢ä¸ºå•åˆ—Seté›†åˆã€‚</p>
<h4 id="map-æ˜ å°„"><a href="#map-æ˜ å°„" class="headerlink" title="map()æ˜ å°„"></a>map()æ˜ å°„</h4><p>Streamæµå¯¹è±¡çš„map()æ–¹æ³•å¯ä»¥å°†æµå¯¹è±¡ä¸­çš„å…ƒç´ é€šè¿‡ç‰¹å®šçš„è§„åˆ™è¿›è¡Œä¿®æ”¹ç„¶åæ˜ å°„ä¸ºå¦ä¸€ä¸ªæµå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream&lt;String&gt;stream=Stream.of(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">stream.map(String::toUpperCase)  <span class="comment">//æµä¸­æ‰€æœ‰å…ƒç´ å­—æ¯è½¬ä¸ºå¤§å†™</span></span><br><span class="line">	  .sorted()</span><br><span class="line">	  .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h4 id="æˆªå–limit"><a href="#æˆªå–limit" class="headerlink" title="æˆªå–limit()"></a>æˆªå–limit()</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stream.skip(<span class="number">1</span>)   <span class="comment">//è·³è¿‡æµä¸­çš„å‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">      .limit(<span class="number">2</span>)   <span class="comment">//æˆªå–å‰2ä¸ªå…ƒç´ </span></span><br><span class="line">      .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h4 id="æ”¶é›†"><a href="#æ”¶é›†" class="headerlink" title="æ”¶é›†"></a>æ”¶é›†</h4><p>forEach()æ“ä½œæ— æ³•å°†è¿›è¡Œä¸­é—´æ“ä½œåçš„æµå…ƒç´ ä½œä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„å¯¹è±¡æˆ–æ˜¯æ•°æ®ç±»å‹è¿›è¡Œä¿å­˜ï¼Œä¸ºæ­¤JDK8ä¸ºæ“ä½œæµå¯¹è±¡å¢åŠ äº†ä¸€ä¸ªç»ˆç»“æ“ä½œâ€”-collectã€‚</p>
<p>collectå¯ä»¥æŠŠStreamä¸­çš„å…ƒç´ ä¿å­˜ä¸ºå¦ä¸€ç§å½¢å¼ï¼Œå¦‚é›†åˆã€å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¿å­˜ä¸ºListé›†åˆ</span></span><br><span class="line">Stream&lt;String&gt;stre = Stream.of(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">List&lt;String&gt;lis = stre.filter(i-&gt;i,startWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">					  .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†æµå…ƒç´ ä½¿ç”¨&quot;and&quot;è¿æ¥ï¼Œæ”¶é›†åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­</span></span><br><span class="line">Stream&lt;String&gt;stre = Stream.of(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">String st = stre.filter(i-&gt;i,startWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">					  .collect(Collectors.joining(<span class="string">&quot;and&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿å­˜ä¸ºæ•°ç»„</span></span><br><span class="line">Stream&lt;String&gt;stre = Stream.of(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">String[] arr = stre.filter(i-&gt;i,startWith(<span class="string">&quot;a&quot;</span>))</span><br><span class="line">					  .collect(Collectors.toArray());</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸€ä¸ªStreamå¯ä»¥è¿›è¡Œå¤šä¸ªä¸­é—´æ“ä½œï¼Œä½†åªèƒ½è¿›è¡Œä¸€ä¸ªç»ˆç»“æ“ä½œï¼Œä¸€æ—¦è¿›è¡Œäº†ç»ˆç»“æ“ä½œï¼Œæµå¯¹è±¡å°±ä¸å¤å­˜åœ¨äº†ã€‚å› æ­¤ï¼Œåªèƒ½ä¿å­˜ä¸€æ¬¡ã€‚</p>
<h4 id="Parrel-Streamå¹¶è¡Œæµ"><a href="#Parrel-Streamå¹¶è¡Œæµ" class="headerlink" title="Parrel Streamå¹¶è¡Œæµ"></a>Parrel Streamå¹¶è¡Œæµ</h4><p>JDK8é’ˆå¯¹å¤§æ‰¹é‡æ•°æ®æä¾›å¹¶è¡Œæµï¼Œå¹¶è¡Œæµæ˜¯å°†æºæ•°æ®åˆ†ä¸ºå¤šä¸ªå­æµå¯¹è±¡è¿›è¡Œå¤šçº¿ç¨‹æ“ä½œï¼ˆå¤šä¸ªç®¡é“æµï¼‰ï¼Œç„¶åå°†å¤„ç†çš„ç»“æœå†æ±‡æ€»ä¸ºä¸€ä¸ªæµå¯¹è±¡ã€‚</p>
<p>å¹¶è¡Œæµå¯ä»¥æé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ï¼Œä½†æ˜¯åœ¨å¤šçº¿ç¨‹æ‰§è¡Œæ—¶ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œéœ€è¦ä¿è¯æºæ•°æ®åœ¨å¹¶è¡Œæ‰§è¡Œæ—¶ä¸ä¼šè¢«æ”¹å˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºListé›†åˆæ•°æ®æº</span></span><br><span class="line">List&lt;String&gt;lis = Arrays.asList(<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>);</span><br><span class="line"><span class="comment">//1.ç›´æ¥ç”¨Collectionæ¥å£çš„parallelStream()åˆ›å»ºå¹¶è¡Œæµ</span></span><br><span class="line">Stream&lt;String&gt;para = lis.parallelStream();</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºå¹¶è¡Œæµ</span></span><br><span class="line">System.out.println(para.isParallel());</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.ä½¿ç”¨BaseStreamæ¥å£çš„parallel()æ–¹æ³•å°†ä¸²è¡Œæµè½¬å˜ä¸ºå¹¶è¡Œæµ</span></span><br><span class="line">Stream&lt;String&gt;str = Stream.of(<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>.<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">Stream&lt;String&gt;para = str.parallel();</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºå¹¶è¡Œæµ</span></span><br><span class="line">System.out.println(para.isParallel());</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠSpringå®æˆ˜ã€‹</title>
    <url>/2021/12/15/myblog/JAVA/%E3%80%8ASpring%E5%AE%9E%E6%88%98%E3%80%8B/</url>
    <content><![CDATA[<p>æœ¬ä¹¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Springå’ŒSpring Bootå¼€å‘åŸºäºWebã€æ•°æ®åº“ä½œä¸ºåç«¯çš„Javaåº”ç”¨ã€‚å¦‚ä½•ä¸å…¶ä»–åº”ç”¨è¿›è¡Œé›†æˆï¼Œä½¿ç”¨ååº”å¼ç±»å‹è¿›è¡Œç¼–ç¨‹ï¼Œä»¥åŠå°†åº”ç”¨æ‹†åˆ†æˆç¦»æ•£çš„å¾®æœåŠ¡ã€‚æœ€åå¦‚ä½•å‡†å¤‡åº”ç”¨çš„éƒ¨ç½²ã€‚</p>
<p>Spring5.0å’ŒSpring Boot2.0</p>
<h1 id="ç¬¬ä¸€ç« -Springèµ·æ­¥"><a href="#ç¬¬ä¸€ç« -Springèµ·æ­¥" class="headerlink" title="ç¬¬ä¸€ç«  Springèµ·æ­¥"></a>ç¬¬ä¸€ç«  Springèµ·æ­¥</h1><h2 id="ä»€ä¹ˆæ˜¯spring"><a href="#ä»€ä¹ˆæ˜¯spring" class="headerlink" title="ä»€ä¹ˆæ˜¯spring"></a>ä»€ä¹ˆæ˜¯spring</h2><p>springæ”¯æŒï¼šé¢å‘äº‘çš„ç”±å¾®æœåŠ¡ç»„æˆçš„åº”ç”¨ï¼Œååº”å¼ç¼–ç¨‹ï¼Œè‡´åŠ›äºé€šè¿‡éé˜»å¡æ“ä½œæä¾›æ›´å¥½çš„æ‰©å±•æ€§å¹¶æå‡æ€§èƒ½ã€‚é€šè¿‡spring bootç®€åŒ–è‡ªå·±çš„å¼€å‘æ¨¡å‹ã€‚</p>
<p>Spring çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª <em>å®¹å™¨ï¼ˆcontainerï¼‰</em>ï¼Œé€šå¸¸ç§°ä¸º <em>Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡</em>ï¼Œç”¨äºåˆ›å»ºå’Œç®¡ç†åº”ç”¨ç¨‹åºç»„ä»¶ã€‚è¿™äº›ç»„ä»¶ï¼ˆæˆ– beanï¼‰åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­è¿æ¥åœ¨ä¸€èµ·ä»¥æ„æˆä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œå°±åƒå°†ç –ã€ç°æµ†ã€æœ¨æã€é’‰å­ã€ç®¡é“å’Œç”µçº¿ç»‘åœ¨ä¸€èµ·ä»¥ç»„æˆæˆ¿å±‹ã€‚</p>
<p>å°† bean è¿æ¥åœ¨ä¸€èµ·çš„è¡Œä¸ºæ˜¯åŸºäºä¸€ç§ç§°ä¸º <em>ä¾èµ–æ³¨å…¥</em>ï¼ˆdependency injectionï¼ŒDIï¼‰çš„æ¨¡å¼ã€‚ç»„ä»¶ä¸ä¼šå†å»åˆ›å»ºå®ƒæ‰€ä¾èµ–çš„ç»„ä»¶å¹¶ç®¡ç†å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥çš„åº”ç”¨ä¾èµ–äºå•ç‹¬çš„å®ä½“ï¼ˆå®¹å™¨ï¼‰æ¥åˆ›å»ºå’Œç»´æŠ¤æ‰€æœ‰çš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ³¨å…¥åˆ°éœ€è¦å®ƒä»¬çš„beanä¸­ã€‚é€šå¸¸é€šè¿‡æ„é€ å‡½æ•°å‚æ•°æˆ–å±æ€§è®¿é—®å™¨æ–¹æ³•å®Œæˆæ­¤æ“ä½œã€‚æ€»ç»“ï¼šåº”ç”¨ç»„ä»¶é€šè¿‡Springçš„åº”ç”¨ä¸Šä¸‹æ–‡æ¥è¿›è¡Œç®¡ç†å¹¶å®ç°äº’ç›¸æ³¨å…¥ã€‚</p>
<p>è·ç¦»ï¼šå•†å“æœåŠ¡éœ€è¦ä¾èµ–äºåº“å­˜æœåŠ¡ï¼Œåº“å­˜æœåŠ¡éœ€è¦æ³¨å…¥åˆ°å•†å“æœåŠ¡ã€‚</p>
<p>â‘ ä»å†å²ä¸Šçœ‹ï¼Œå¼•å¯¼ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡å°† bean è¿æ¥åœ¨ä¸€èµ·çš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª XML æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æè¿°äº†ç»„ä»¶åŠå…¶ä¸å…¶ä»–ç»„ä»¶çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ XML å£°æ˜ä¸¤ä¸ª beanï¼Œä¸€ä¸ª <code>InventoryService bean</code> å’Œä¸€ä¸ª <code>ProductService bean</code>ï¼Œç„¶åé€šè¿‡æ„é€ å‡½æ•°å‚æ•°å°† <code>InventoryService</code> æ³¨å…¥åˆ° <code>ProductService</code> ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;inventoryService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.example.InventoryService&quot;</span> /&gt;</span><br><span class="line">&lt;bean id=<span class="string">&quot;productService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.example.ProductService&quot;</span> &gt;</span><br><span class="line">    &lt;constructor-arg ref=<span class="string">&quot;inventoryService&quot;</span> /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<p>â‘¡ä½†æ˜¯ï¼Œåœ¨æœ€æ–°ç‰ˆæœ¬çš„ Spring ä¸­ï¼ŒåŸºäº Java çš„é…ç½®æ›´ä¸ºå¸¸è§ã€‚ä»¥ä¸‹åŸºäº Java çš„é…ç½®ç±»ç­‰æ•ˆäº XML é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceConfiguration</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> InventoryService <span class="title">inventoryService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> InventoryService();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProductService <span class="title">productService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ProductService(inventoryService());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@Configuration</code> æ³¨é‡Šå‘ Spring è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå®ƒå°†ä¸º Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æä¾› beansã€‚ é…ç½®çš„ç±»æ–¹æ³•å¸¦æœ‰ <code>@Bean</code> æ³¨é‡Šï¼ŒæŒ‡ç¤ºå®ƒä»¬è¿”å›çš„å¯¹è±¡åº”ä½œä¸º beans æ·»åŠ åˆ°åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬å„è‡ªçš„ bean IDs å°†ä¸å®šä¹‰å®ƒä»¬çš„æ–¹æ³•çš„åç§°ç›¸åŒï¼‰ã€‚</p>
<p>ä¸åŸºäº XML çš„é…ç½®ç›¸æ¯”ï¼ŒåŸºäº Java çš„é…ç½®å…·æœ‰å¤šä¸ªä¼˜ç‚¹ï¼ŒåŒ…æ‹¬æ›´é«˜çš„ç±»å‹å®‰å…¨æ€§å’Œæ”¹è¿›çš„å¯é‡æ„æ€§ã€‚å³ä½¿è¿™æ ·ï¼Œä»…å½“ Spring æ— æ³•è‡ªåŠ¨é…ç½®ç»„ä»¶æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨ Java æˆ– XML è¿›è¡Œæ˜¾å¼é…ç½®ã€‚</p>
<p>â‘¢è‡ªåŠ¨é…ç½®èµ·æºäº Spring æŠ€æœ¯ï¼Œå³ <em>è‡ªåŠ¨è£…é…</em> å’Œ <em>ç»„ä»¶æ‰«æ</em>ã€‚å€ŸåŠ©ç»„ä»¶æ‰«æï¼ŒSpring å¯ä»¥è‡ªåŠ¨ä»åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„ä¸­å‘ç°ç»„ä»¶ï¼Œå¹¶å°†å…¶åˆ›å»ºä¸º Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„ beanã€‚é€šè¿‡è‡ªåŠ¨è£…é…ï¼ŒSpring èƒ½å¤Ÿè‡ªåŠ¨ä¸ºç»„ä»¶æ³¨å…¥å®ƒä»¬æ‰€ä¾èµ–çš„å…¶ä»–beanã€‚</p>
<p>æœ€è¿‘ï¼Œéšç€ Spring Boot çš„æ¨å‡ºï¼Œè‡ªåŠ¨é…ç½®çš„ä¼˜åŠ¿å·²ç»è¿œè¿œè¶…å‡ºäº†ç»„ä»¶æ‰«æå’Œè‡ªåŠ¨è£…é…ã€‚Spring Boot æ˜¯ Spring æ¡†æ¶çš„æ‰©å±•ï¼Œå®ƒæä¾›äº†å¤šé¡¹ç”Ÿäº§åŠ›å¢å¼ºåŠŸèƒ½ã€‚è¿™äº›å¢å¼ºåŠŸèƒ½ä¸­æœ€è‘—åçš„å°±æ˜¯ <em>è‡ªåŠ¨é…ç½®</em>ï¼Œåœ¨è¿™ç§é…ç½®ä¸­ï¼ŒSpring Boot å¯ä»¥æ ¹æ®ç±»è·¯å¾„ä¸­çš„æ¡ç›®ã€ç¯å¢ƒå˜é‡å’Œå…¶ä»–å› ç´ ï¼Œåˆç†åœ°çŒœæµ‹éœ€è¦é…ç½®å“ªäº›ç»„ä»¶ï¼Œå¹¶å°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ã€‚</p>
<p>Spring Boot è‡ªåŠ¨é…ç½®å¤§å¤§å‡å°‘äº†æ„å»ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ˜¾å¼é…ç½®ï¼ˆæ— è®ºæ˜¯ XML è¿˜æ˜¯ Javaï¼‰çš„æ•°é‡ã€‚</p>
<h2 id="åˆå§‹åŒ–Springåº”ç”¨ç¨‹åº"><a href="#åˆå§‹åŒ–Springåº”ç”¨ç¨‹åº" class="headerlink" title="åˆå§‹åŒ–Springåº”ç”¨ç¨‹åº"></a>åˆå§‹åŒ–Springåº”ç”¨ç¨‹åº</h2><p>ä½¿ç”¨ Springã€Spring Boot ä»¥åŠå„ç§ç›¸å…³çš„åº“å’Œæ¡†æ¶ï¼Œåˆ›å»ºä¸€ä¸ªåœ¨çº¿åº”ç”¨ç¨‹åºã€‚</p>
<p>ä¾é  Spring Initializr æ¥å¼•å¯¼åº”ç”¨ç¨‹åºçš„åˆ›å»ºã€‚Spring Initializr æ—¢æ˜¯ä¸€ä¸ªåŸºäºæµè§ˆå™¨çš„ Web åº”ç”¨ç¨‹åºï¼Œåˆæ˜¯ä¸€ä¸ª REST APIï¼Œå®ƒä»¬å¯ä»¥ç”Ÿæˆä¸€ä¸ªåŸºæœ¬çš„ Spring é¡¹ç›®ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨æ‰€éœ€çš„ä»»ä½•åŠŸèƒ½å……å®è‡ªå·±ã€‚ ä½¿ç”¨ Spring Initializr çš„å‡ ç§æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>1.ä» Web åº”ç”¨ç¨‹åº <a href="http://start.spring.io/">http://start.spring.io</a> åˆ›å»º<br>2.ä½¿ç”¨ curl å‘½ä»¤ä»å‘½ä»¤è¡Œåˆ›å»º<br>3.ä½¿ç”¨ Spring Boot å‘½ä»¤è¡Œæ¥å£ä»å‘½ä»¤è¡Œåˆ›å»º<br>4.ä½¿ç”¨ Spring Tool Suite åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„æ—¶å€™<br>5.ä½¿ç”¨ IntelliJ IDEA åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„æ—¶å€™<br>6.ä½¿ç”¨ NetBeans åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„æ—¶å€™</p>
<h3 id="ä½¿ç”¨Intellij-IDEAåˆå§‹åŒ–é¡¹ç›®"><a href="#ä½¿ç”¨Intellij-IDEAåˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="ä½¿ç”¨Intellij IDEAåˆå§‹åŒ–é¡¹ç›®"></a>ä½¿ç”¨Intellij IDEAåˆå§‹åŒ–é¡¹ç›®</h3><p>File -&gt; new -&gt; Project -&gt; Spring Initializr -&gt; nextã€‚</p>
<p>typeé€‰Maven Project -&gt; nextã€‚ï¼ˆå’Œmavençš„æ„å»ºè§„èŒƒæœ‰å…³ï¼ŒMaven pom.xmlï¼‰</p>
<p>å±•ç¤ºé¡¹ç›®ä¾èµ–é¡µï¼Œä¾èµ–æ˜¯æŒ‰ç…§åˆ†ç±»æ¥ç»„ç»‡çš„ï¼Œå·²ç»é€‰ä¸­çš„ä¾èµ–å°†ä¼šåœ¨æœ€å³ä¾§ã€‚é€‰æ‹©ä¾èµ–ï¼šdevtoolsã€lombokã€webã€thymeleaf -&gt; nextã€‚</p>
<p>è¾“å…¥é¡¹ç›®åç§°å’Œå­˜æ”¾ä½ç½®ã€‚finish</p>
<p>é¡¹ç›®ä»Initializrä¸‹è½½å¹¶åŠ è½½åˆ°å·¥ä½œç©ºé—´ä¸­ã€‚åŠ è½½å’Œæ„å»ºå®Œæˆï¼Œå°±å¯ä»¥å¼€å‘åº”ç”¨åŠŸèƒ½äº†ã€‚</p>
<h3 id="Springé¡¹ç›®ç›®å½•"><a href="#Springé¡¹ç›®ç›®å½•" class="headerlink" title="Springé¡¹ç›®ç›®å½•"></a>Springé¡¹ç›®ç›®å½•</h3><p>å…¸å‹çš„Mavenæˆ–Gradleé¡¹ç›®ç»“æ„ï¼Œåº”ç”¨æºç åœ¨src/main/javaä¸­ï¼Œæµ‹è¯•ä»£ç åœ¨src/test/javaä¸­ï¼Œéjavaèµ„æºåœ¨src/main/resourcesã€‚</p>
<p><code>mvnw</code> å’Œ <code>mvnw.cmd</code> â€”â€” è¿™äº›æ˜¯ Maven åŒ…è£…å™¨è„šæœ¬ã€‚å³ä½¿ä½ çš„è®¡ç®—æœºä¸Šæ²¡æœ‰å®‰è£… Mavenï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›è„šæœ¬æ„å»ºé¡¹ç›®ã€‚</p>
<p><code>pom.xml</code> â€”â€” è¿™æ˜¯ Maven æ„å»ºè§„èŒƒã€‚</p>
<p><code>TacoCloudApplication.java</code> â€”â€” è¿™æ˜¯å¼•å¯¼é¡¹ç›®çš„ Spring Boot ä¸»ç±»ã€‚ç¨åï¼Œæˆ‘ä»¬å°†åœ¨è¿™èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p>
<p><code>application.properties</code> â€”â€” è¯¥æ–‡ä»¶æœ€åˆä¸ºç©ºï¼Œä½†æä¾›äº†ä¸€ä¸ªå¯ä»¥æŒ‡å®šé…ç½®å±æ€§çš„åœ°æ–¹ã€‚æˆ‘ä»¬å°†åœ¨æœ¬ç« ä¸­å¯¹æ­¤æ–‡ä»¶è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œä½†åœ¨ç¬¬ 5 ç« ä¸­å°†è¯¦ç»†ä»‹ç»é…ç½®å±æ€§ã€‚</p>
<p><code>static</code> â€”â€” åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥æ”¾ç½®è¦æä¾›ç»™æµè§ˆå™¨çš„ä»»ä½•é™æ€å†…å®¹ï¼ˆå›¾åƒã€æ ·å¼è¡¨ã€JavaScript ç­‰ï¼‰ï¼Œæœ€åˆä¸ºç©ºã€‚</p>
<p><code>templates</code> â€”â€” åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­ï¼Œæ”¾ç½®ç”¨äºå‘æµè§ˆå™¨å‘ˆç°å†…å®¹çš„æ¨¡æ¿æ–‡ä»¶ã€‚æœ€åˆä¸ºç©ºï¼Œä½†å¾ˆå¿«ä¼šæ·»åŠ  Thymeleaf æ¨¡æ¿ã€‚</p>
<p><code>TacoCloudApplicationTests.java</code> â€”â€” è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æµ‹è¯•ç±»ï¼Œå¯ç¡®ä¿æˆåŠŸåŠ è½½ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œå°†æ·»åŠ æ›´å¤šçš„æµ‹è¯•ã€‚</p>
<h4 id="æ„å»ºè§„èŒƒpom-xml"><a href="#æ„å»ºè§„èŒƒpom-xml" class="headerlink" title="æ„å»ºè§„èŒƒpom.xml"></a>æ„å»ºè§„èŒƒpom.xml</h4><p>å¡«å†™ Initializr è¡¨å•æ—¶ï¼ŒæŒ‡å®šä½¿ç”¨ Maven æ„å»ºé¡¹ç›®ã€‚å› æ­¤ï¼ŒSpring Initializr ç»™äº†ä¸€ä¸ª pom.xml æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å·²ç»å¡«å……äº†æ‰€åšçš„é€‰æ‹©ã€‚</p>
<p>ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Spring bootæ’ä»¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;excludes&gt;</span><br><span class="line">                    &lt;exclude&gt;</span><br><span class="line">                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">                    &lt;/exclude&gt;</span><br><span class="line">                &lt;/excludes&gt;</span><br><span class="line">            &lt;/configuration&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure>

<p><code>&lt;packaging&gt;</code>é€‰æ‹©å°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ WAR æ–‡ä»¶ã€‚æ¯•ç«Ÿï¼Œä¼ ç»Ÿçš„ Java web åº”ç”¨ç¨‹åºè¢«æ‰“åŒ…ä¸º WAR æ–‡ä»¶ï¼Œè€Œ JAR æ–‡ä»¶æ˜¯åº“å’Œå¶å°”ä½¿ç”¨çš„æ¡Œé¢ UI åº”ç”¨ç¨‹åºçš„é¦–é€‰æ‰“åŒ…æ–¹å¼ã€‚è™½ç„¶ WAR æ–‡ä»¶éå¸¸é€‚åˆéƒ¨ç½²åˆ°ä¼ ç»Ÿçš„ Java åº”ç”¨æœåŠ¡å™¨ï¼Œä½†æ˜¯å®ƒä»¬å¹¶ä¸é€‚åˆå¤§å¤šæ•°äº‘å¹³å°ã€‚å°½ç®¡ä¸€äº›äº‘å¹³å°ï¼ˆå¦‚ Cloud Foundryï¼‰èƒ½å¤Ÿéƒ¨ç½²å’Œè¿è¡Œ WAR æ–‡ä»¶ï¼Œä½†æ˜¯æ‰€æœ‰çš„ Java äº‘å¹³å°éƒ½èƒ½å¤Ÿè¿è¡Œå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ã€‚å› æ­¤ï¼ŒSpring Initializr é»˜è®¤ä¸º JAR æ‰“åŒ…ã€‚</p>
<p><code>&lt;parent&gt;</code> å…ƒç´ ï¼ŒæŒ‡å®šé¡¹ç›®å°† <code>spring-boot-starter-parent</code> ä½œä¸ºå®ƒçš„çˆ¶ POMã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¸ªçˆ¶ POM è¿˜ä¸º Spring é¡¹ç›®ä¸­å¸¸ç”¨çš„å‡ ä¸ªåº“æä¾›ä¾èµ–é¡¹ç®¡ç†ã€‚å¯¹äºçˆ¶ POM è¦†ç›–çš„é‚£äº›åº“ï¼Œä¸å¿…æŒ‡å®šç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒæ˜¯ä»çˆ¶ POM ç»§æ‰¿çš„ã€‚</p>
<p><code>&lt;dependencies&gt;</code> å…ƒç´ ä¸‹å£°æ˜äº†ä¸‰ä¸ªä¾èµ–é¡¹ã€‚å‰ä¸¤ä¸ªçœ‹èµ·æ¥åº”è¯¥æ¯”è¾ƒç†Ÿæ‚‰ã€‚å®ƒä»¬ç›´æ¥å¯¹åº”äºåœ¨å•å‡» Spring Tool Suite æ–°å»ºé¡¹ç›®å‘å¯¼ä¸­çš„ Finish æŒ‰é’®ä¹‹å‰é€‰æ‹©çš„ Web å’Œ Thymeleaf ä¾èµ–é¡¹ã€‚ç¬¬ä¸‰ä¸ªä¾èµ–é¡¹æä¾›äº†è®¸å¤šæœ‰ç”¨çš„æµ‹è¯•åŠŸèƒ½ï¼Œä½ ä¸å¿…é€‰ä¸­åŒ…å«å®ƒçš„æ–¹æ¡†ï¼Œå› ä¸º Spring Initializr å‡å®šä½ å°†ç¼–å†™æµ‹è¯•ã€‚</p>
<p>Spring Boot starter ä¾èµ–é¡¹çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬æœ¬èº«é€šå¸¸æ²¡æœ‰ä»»ä½•åº“ä»£ç ï¼Œè€Œæ˜¯é—´æ¥åœ°å¼•å…¥å…¶ä»–åº“ã€‚è¿™äº› starter ä¾èµ–æä¾›äº†ä¸‰ä¸ªä¸»è¦çš„å¥½å¤„ï¼š</p>
<ul>
<li>æ„å»ºçš„æ–‡ä»¶å°†ä¼šå°å¾—å¤šï¼Œä¹Ÿæ›´å®¹æ˜“ç®¡ç†ï¼Œå› ä¸ºä¸éœ€è¦å¯¹æ¯ä¸€ä¸ªå¯èƒ½éœ€è¦çš„åº“éƒ½å£°æ˜ä¸€ä¸ªä¾èµ–é¡¹ã€‚</li>
<li>å¯ä»¥æ ¹æ®å®ƒä»¬æä¾›çš„åŠŸèƒ½æ¥è€ƒè™‘éœ€è¦çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸æ˜¯æ ¹æ®åº“åæ¥è€ƒè™‘ã€‚å¦‚æœæ­£åœ¨å¼€å‘ä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆå°†æ·»åŠ  web starter ä¾èµ–é¡¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç¼–å†™ web åº”ç”¨ç¨‹åºçš„å„ä¸ªåº“çš„æ¸…å•ã€‚</li>
<li>ä¸ç”¨æ‹…å¿ƒ library ç‰ˆæœ¬é—®é¢˜ã€‚å¯ä»¥ç›¸ä¿¡çš„æ˜¯ï¼Œå¯¹äºç»™å®šç‰ˆæœ¬çš„ Spring Bootï¼Œå¯é—´æ¥åœ°å¼•å…¥çš„åº“çš„ç‰ˆæœ¬å°†æ˜¯å…¼å®¹çš„ï¼Œåªéœ€è¦è€ƒè™‘ä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ Spring Bootã€‚</li>
</ul>
<p>æœ€åï¼Œæ„å»ºè§„èŒƒä»¥ Spring Boot æ’ä»¶ç»“æŸã€‚è¿™ä¸ªæ’ä»¶æ‰§è¡Œä¸€äº›é‡è¦çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>æä¾›äº†ä¸€ä¸ª Maven ç¼–è¯‘ç›®æ ‡ï¼Œè®©ä½ èƒ½å¤Ÿä½¿ç”¨ Maven è¿è¡Œåº”ç”¨ç¨‹åºã€‚</li>
<li>ç¡®ä¿æ‰€æœ‰çš„ä¾èµ–åº“éƒ½åŒ…å«åœ¨å¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶ç±»è·¯å¾„ä¸­å¯ç”¨ã€‚</li>
<li>åœ¨ JAR æ–‡ä»¶ä¸­ç”Ÿæˆä¸€ä¸ª manifest æ–‡ä»¶ï¼Œå°†å¼•å¯¼ç±»ï¼ˆåœ¨æœ¬ä¹¦ä¾‹å­ä¸­æ˜¯ <code>TacoCloudApplication</code>ï¼‰å£°æ˜ä¸ºå¯æ‰§è¡Œ JAR çš„ä¸»ç±»ã€‚</li>
</ul>
<h4 id="å¼•å¯¼åº”ç”¨TacoCloudApplication"><a href="#å¼•å¯¼åº”ç”¨TacoCloudApplication" class="headerlink" title="å¼•å¯¼åº”ç”¨TacoCloudApplication"></a>å¼•å¯¼åº”ç”¨TacoCloudApplication</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TacoCloudApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(TacoCloudApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@SpringBootApplication</code> æ³¨é‡Šæ¸…æ¥šåœ°è¡¨æ˜è¿™æ˜¯ä¸€ä¸ª Spring å¼•å¯¼åº”ç”¨ç¨‹åºã€‚<code>@SpringBootApplication</code> æ˜¯ä¸€ä¸ªç»„åˆäº†å…¶ä»–ä¸‰ä¸ªæ³¨é‡Šçš„å¤åˆåº”ç”¨ç¨‹åºï¼š</p>
<p>ï¼ˆ1ï¼‰<code>@SpringBootConfiguration</code> â€”â€” æŒ‡å®šè¿™ä¸ªç±»ä¸ºé…ç½®ç±»ã€‚å°½ç®¡è¿™ä¸ªç±»ä¸­è¿˜æ²¡æœ‰å¤ªå¤šé…ç½®ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°† Javabased Spring Framework é…ç½®æ·»åŠ åˆ°è¿™ä¸ªç±»ä¸­ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªæ³¨é‡Šæ˜¯<code>@Configuration</code> æ³¨é‡Šçš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚</p>
<p>ï¼ˆ2ï¼‰<code>@EnableAutoConfiguration</code> â€”â€” å¯ç”¨ Spring è‡ªåŠ¨é…ç½®ã€‚ç¨åæˆ‘ä»¬å°†è¯¦ç»†è®¨è®ºè‡ªåŠ¨é…ç½®ã€‚ç°åœ¨ï¼Œè¦çŸ¥é“è¿™ä¸ªæ³¨é‡Šå‘Šè¯‰ Spring Boot è‡ªåŠ¨é…ç½®å®ƒè®¤ä¸ºéœ€è¦çš„ä»»ä½•ç»„ä»¶ã€‚</p>
<p>ï¼ˆ3ï¼‰<code>@ComponentScan</code> â€”â€” å¯ç”¨ç»„ä»¶æ‰«æã€‚è¿™å…è®¸ä½ å£°æ˜å…¶ä»–å¸¦æœ‰ <code>@Component</code>ã€<code>@Controller</code>ã€<code>@Service</code> ç­‰æ³¨é‡Šçš„ç±»ï¼Œä»¥ä¾¿è®© Spring è‡ªåŠ¨å‘ç°å®ƒä»¬å¹¶å°†å®ƒä»¬æ³¨å†Œä¸º Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„ç»„ä»¶ã€‚</p>
<p><code>TacoCloudApplication</code> çš„å¦ä¸€ä¸ªé‡è¦éƒ¨åˆ†æ˜¯ <code>main()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å°†åœ¨æ‰§è¡Œ JAR æ–‡ä»¶æ—¶è¿è¡Œã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§æ–¹æ³•æ˜¯æ ·æ¿ä»£ç ï¼›ç¼–å†™çš„æ¯ä¸ª Spring å¼•å¯¼åº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€ä¸ªç±»ä¼¼æˆ–ç›¸åŒçš„æ–¹æ³•ï¼ˆå°½ç®¡ç±»åä¸åŒï¼‰ã€‚</p>
<p><code>main()</code> æ–¹æ³•è°ƒç”¨ SpringApplication ç±»ä¸Šçš„é™æ€ <code>run()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ‰§è¡Œåº”ç”¨ç¨‹åºçš„å®é™…å¼•å¯¼ï¼Œåˆ›å»º<code>Spring</code> åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚ä¼ é€’ç»™ <code>run()</code> æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®ç±»å’Œå‘½ä»¤è¡Œå‚æ•°ã€‚è™½ç„¶ä¼ é€’ç»™ <code>run()</code> çš„é…ç½®ç±»ä¸å¿…ä¸å¼•å¯¼ç±»ç›¸åŒï¼Œä½†è¿™æ˜¯æœ€æ–¹ä¾¿ã€æœ€å…¸å‹çš„é€‰æ‹©ã€‚</p>
<p>ä½ å¯èƒ½ä¸éœ€è¦æ›´æ”¹å¼•å¯¼ç±»ä¸­çš„ä»»ä½•å†…å®¹ã€‚å¯¹äºç®€å•çš„åº”ç”¨ç¨‹åºï¼Œä½ å¯èƒ½ä¼šå‘ç°åœ¨å¼•å¯¼ç±»ä¸­é…ç½®ä¸€ä¸¤ä¸ªå…¶ä»–ç»„ä»¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºï¼Œæœ€å¥½ä¸ºä»»ä½•æ²¡æœ‰è‡ªåŠ¨é…ç½®çš„ä¸œè¥¿åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é…ç½®ç±»ã€‚</p>
<h4 id="æµ‹è¯•åº”ç”¨TacoCloudApplicationTests"><a href="#æµ‹è¯•åº”ç”¨TacoCloudApplicationTests" class="headerlink" title="æµ‹è¯•åº”ç”¨TacoCloudApplicationTests"></a>æµ‹è¯•åº”ç”¨TacoCloudApplicationTests</h4><p>æµ‹è¯•æ˜¯è½¯ä»¶å¼€å‘çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚è®¤è¯†åˆ°è¿™ä¸€ç‚¹åï¼ŒSpring Initializr æä¾›äº†ä¸€ä¸ªæµ‹è¯•ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TacoCloudApplicationTests</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¸­çš„ä¸€ä¸ªæµ‹è¯•æ–¹æ³•æ˜¯ç©ºçš„ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿™ä¸ªæµ‹è¯•ç±»ç¡®å®æ‰§è¡Œäº†å¿…è¦çš„æ£€æŸ¥ï¼Œä»¥ç¡®ä¿ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡èƒ½å¤ŸæˆåŠŸåŠ è½½ã€‚å¦‚æœåšäº†ä»»ä½•é˜»æ­¢åˆ›å»º Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„æ›´æ”¹ï¼Œåˆ™æ­¤æµ‹è¯•å°†å¤±è´¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€šè¿‡è§£å†³é—®é¢˜æ¥åº”å¯¹ã€‚</p>
<p>è¿˜è¦æ³¨æ„ç”¨ <code>@RunWith(SpringRunner.class)</code> æ³¨é‡Šçš„ç±»ã€‚<code>@RunWith</code> æ˜¯ä¸€ä¸ª JUnit æ³¨é‡Šï¼Œæä¾›äº†ä¸€ä¸ªæµ‹è¯•è¿è¡Œå™¨æ¥å¼•å¯¼ JUnit è¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚è¯·å°†æ¸…å• 1.3 çœ‹ä½œæ˜¯å¯¹å®ƒçš„åŸºå‡†åº”ç”¨ç¨‹åºæµ‹è¯•ï¼Œå³å°†æ’ä»¶åº”ç”¨åˆ° JUnit ä»¥æä¾›è‡ªå®šä¹‰æµ‹è¯•è¡Œä¸ºã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒJUnit è¢«èµ‹äºˆäº† SpringRunnerï¼Œè¿™æ˜¯ä¸€ä¸ªç”± Spring æä¾›çš„æµ‹è¯•è¿è¡Œç¨‹åºï¼Œå®ƒæä¾›äº†åˆ›å»ºä¸€ä¸ª Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„åŠŸèƒ½ï¼Œä»¥ä¾›æµ‹è¯•è¿è¡Œã€‚</p>
<p>å°½ç®¡ <code>@RunWith(SpringRunner.class)</code> å’Œ <code>@SpringBootTest</code> çš„ä»»åŠ¡æ˜¯åŠ è½½ç”¨äºæµ‹è¯•çš„ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰ä»»ä½•æµ‹è¯•æ–¹æ³•ï¼Œå®ƒä»¬å°†æ²¡æœ‰ä»»ä½•äº‹æƒ…è¦åšã€‚å³ä½¿æ²¡æœ‰ä»»ä½•æ–­è¨€æˆ–ä»»ä½•ç±»å‹çš„ä»£ç ï¼Œè¿™ä¸ªç©ºçš„æµ‹è¯•æ–¹æ³•ä¹Ÿä¼šè°ƒç”¨ä¸¤ä¸ªæ³¨é‡Šå®Œæˆå®ƒä»¬çš„å·¥ä½œï¼Œå¹¶åŠ è½½ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚å¦‚æœè¿è¡Œè¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæµ‹è¯•å°±ä¼šå¤±è´¥ã€‚</p>
<h2 id="ç¼–å†™Springåº”ç”¨ç¨‹åº"><a href="#ç¼–å†™Springåº”ç”¨ç¨‹åº" class="headerlink" title="ç¼–å†™Springåº”ç”¨ç¨‹åº"></a>ç¼–å†™Springåº”ç”¨ç¨‹åº</h2><p>æ·»åŠ åˆ° Taco Cloud åº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½æ˜¯ä¸»é¡µï¼Œå½“æ·»åŠ ä¸»é¡µï¼Œå°†åˆ›å»ºä¸¤ä¸ªä»£ç æ„ä»¶ï¼š</p>
<ul>
<li>ä¸€ä¸ªå¤„ç†ä¸»é¡µè¯·æ±‚çš„æ§åˆ¶å™¨ç±»</li>
<li>ä¸€ä¸ªè§†å›¾æ¨¡æ¿ï¼Œå®šä¹‰äº†ä¸»é¡µçš„å¤–è§‚</li>
</ul>
<p>å› ä¸ºæµ‹è¯•å¾ˆé‡è¦ï¼Œæ‰€ä»¥è¿˜å°†ç¼–å†™ä¸€ä¸ªç®€å•çš„æµ‹è¯•ç±»æ¥æµ‹è¯•ä¸»é¡µã€‚ä½†é¦–å…ˆâ€¦æ¥å†™è¿™ä¸ªæ§åˆ¶å™¨ã€‚</p>
<h3 id="å¤„ç†webè¯·æ±‚"><a href="#å¤„ç†webè¯·æ±‚" class="headerlink" title="å¤„ç†webè¯·æ±‚"></a>å¤„ç†webè¯·æ±‚</h3><p>Spring é™„å¸¦äº†ä¸€ä¸ªå¼ºå¤§çš„ web æ¡†æ¶ï¼Œç§°ä¸º Spring MVCã€‚Spring MVC çš„æ ¸å¿ƒæ˜¯æ§åˆ¶å™¨çš„æ¦‚å¿µï¼Œè¿™æ˜¯ä¸€ä¸ªå¤„ç†è¯·æ±‚å¹¶ä½¿ç”¨æŸç§ä¿¡æ¯è¿›è¡Œå“åº”çš„ç±»ã€‚å¯¹äºé¢å‘æµè§ˆå™¨çš„åº”ç”¨ç¨‹åºï¼Œæ§åˆ¶å™¨çš„å“åº”æ–¹å¼æ˜¯å¯é€‰åœ°å¡«å……æ¨¡å‹æ•°æ®å¹¶å°†è¯·æ±‚ä¼ é€’ç»™è§†å›¾ï¼Œä»¥ç”Ÿæˆè¿”å›ç»™æµè§ˆå™¨çš„ HTMLã€‚</p>
<p>ç°åœ¨ï¼Œå°†ç¼–å†™ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨ç±»æ¥å¤„ç†æ ¹è·¯å¾„çš„è¯·æ±‚ï¼ˆä¾‹å¦‚ <code>/</code>ï¼‰ï¼Œå¹¶å°†è¿™äº›è¯·æ±‚è½¬å‘åˆ°ä¸»é¡µè§†å›¾ï¼Œè€Œä¸å¡«å……ä»»ä½•æ¨¡å‹æ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">home</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;home&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@Controller</code> æ³¨é‡Šçš„ä¸»è¦ç›®çš„æ˜¯å°†è¯¥ç±»è¯†åˆ«ä¸ºç»„ä»¶æ‰«æçš„ç»„ä»¶ã€‚ç”±äº <code>HomeController</code> æ˜¯ç”¨ <code>@Controller</code> æ³¨é‡Šçš„ï¼Œå› æ­¤ Spring çš„ç»„ä»¶æ‰«æä¼šè‡ªåŠ¨å‘ç°å®ƒï¼Œå¹¶åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­åˆ›å»ºä¸€ä¸ª <code>HomeController</code> å®ä¾‹ä½œä¸º beanã€‚</p>
<p>å®é™…ä¸Šï¼Œå…¶ä»–ä¸€äº›æ³¨é‡Šï¼ˆåŒ…æ‹¬ <code>@Component</code>ã€<code>@Service</code> å’Œ <code>@Repository</code>ï¼‰çš„ç”¨é€”ä¸ <code>@Controller</code> ç±»ä¼¼ã€‚ä½ å¯ä»¥ç”¨ä»»ä½•å…¶ä»–çš„æ³¨è§£æ¥æœ‰æ•ˆåœ°æ³¨é‡Š <code>HomeController</code>ï¼Œå®ƒä»ç„¶å¯ä»¥å·¥ä½œã€‚ä½†æ˜¯ï¼Œé€‰æ‹© <code>@Controller</code> æ›´èƒ½æè¿°è¯¥ç»„ä»¶åœ¨åº”ç”¨ç¨‹åºä¸­çš„è§’è‰²ã€‚</p>
<p><code>home()</code> æ–¹æ³•ä¸æ§åˆ¶å™¨æ–¹æ³•ä¸€æ ·ç®€å•ã€‚å®ƒä½¿ç”¨ <code>@GetMapping</code> è¿›è¡Œæ³¨é‡Šï¼Œä»¥æŒ‡ç¤ºå¦‚æœæ¥æ”¶åˆ°æ ¹è·¯å¾„ <code>/</code> çš„ HTTP GET è¯·æ±‚ï¼Œåˆ™æ­¤æ–¹æ³•åº”è¯¥å¤„ç†è¯¥è¯·æ±‚ã€‚é™¤äº†è¿”å› <code>home</code> çš„ <code>String</code> å€¼å¤–ï¼Œå®ƒä»€ä¹ˆä¹Ÿä¸åšã€‚æ­¤å€¼è¢«è§£é‡Šä¸ºè§†å›¾çš„é€»è¾‘åç§°ã€‚å¦‚ä½•å®ç°è¯¥è§†å›¾å–å†³äºå‡ ä¸ªå› ç´ ï¼Œä½†æ˜¯å› ä¸º Thymeleaf åœ¨ç±»è·¯å¾„ä¸­ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ Thymeleaf å®šä¹‰è¯¥æ¨¡æ¿ã€‚</p>
<h3 id="Thymeleafæ¨¡æ¿å¼•æ“"><a href="#Thymeleafæ¨¡æ¿å¼•æ“" class="headerlink" title="Thymeleafæ¨¡æ¿å¼•æ“"></a>Thymeleafæ¨¡æ¿å¼•æ“</h3><p>ä¸ºä»€ä¹ˆä¸æ˜¯ JSPï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯ FreeMarkerï¼Ÿ</p>
<p>æ¨¡æ¿åç§°ç”±é€»è¾‘è§†å›¾åç§°æ´¾ç”Ÿè€Œæ¥ï¼Œå®ƒçš„å‰ç¼€æ˜¯ /templates/ï¼Œåç¼€æ˜¯ .htmlã€‚æ¨¡æ¿çš„ç»“æœè·¯å¾„æ˜¯ /templates/home.htmlã€‚å› æ­¤ï¼Œéœ€è¦å°†æ¨¡æ¿æ”¾åœ¨é¡¹ç›®çš„ /src/main/resources/templates/home.html ä¸­ã€‚</p>
<p>ä¸ºäº†ä¿æŒä¸»é¡µç®€æ´ï¼Œå®ƒåšçš„åªæ˜¯æ¬¢è¿ç”¨æˆ·è®¿é—®ç½‘ç«™ã€‚ç¨‹åºæ˜¾ç¤ºäº†å®šä¹‰ Taco Cloud ä¸»é¡µçš„åŸºæœ¬ Thymeleaf æ¨¡æ¿ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span></span><br><span class="line">      xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;Welcome to...&lt;/h1&gt;</span><br><span class="line">        &lt;img th:src=<span class="string">&quot;@&#123;/images/TacoCloud.png&#125;&quot;</span>/&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><code>&lt;img&gt;</code> æ ‡è®°ä½¿ç”¨ä¸€ä¸ª Thymeleaf çš„ th:src å±æ€§å’Œä¸€ä¸ª @{â€¦} è¡¨è¾¾å¼å¼•ç”¨å…·æœ‰ä¸Šä¸‹æ–‡ç›¸å¯¹è·¯å¾„çš„å›¾ç‰‡ã€‚è¿™æ„å‘³ç€ Taco Cloud æ ‡å¿—å›¾ç‰‡ä¹Ÿå¿…é¡»é©»ç•™åœ¨é¡¹ç›®çš„ /src/main/resources/static/images/TacoCloud.png ä¸­ã€‚</p>
<h3 id="æµ‹è¯•æ§åˆ¶å™¨"><a href="#æµ‹è¯•æ§åˆ¶å™¨" class="headerlink" title="æµ‹è¯•æ§åˆ¶å™¨"></a>æµ‹è¯•æ§åˆ¶å™¨</h3><p>åœ¨å¯¹ HTML é¡µé¢çš„å†…å®¹è¿›è¡Œæ–­è¨€æ—¶ï¼Œæµ‹è¯• web åº”ç”¨ç¨‹åºå¯èƒ½æ¯”è¾ƒæ£˜æ‰‹ã€‚å¹¸è¿çš„æ˜¯ï¼ŒSpring æä¾›äº†ä¸€äº›å¼ºå¤§çš„æµ‹è¯•æ”¯æŒï¼Œä½¿æµ‹è¯• web åº”ç”¨ç¨‹åºå˜å¾—å¾ˆå®¹æ˜“ã€‚å°±ä¸»é¡µè€Œè¨€ï¼Œå°†ç¼–å†™ä¸€ä¸ªä¸ä¸»é¡µæœ¬èº«å¤æ‚åº¦ç›¸å½“çš„æµ‹è¯•ã€‚ä½ çš„æµ‹è¯•å°†å¯¹æ ¹è·¯å¾„ <code>/</code> æ‰§è¡Œä¸€ä¸ª HTTP GET è¯·æ±‚å¹¶æœŸæœ›å¾—åˆ°ä¸€ä¸ªæˆåŠŸçš„ç»“æœï¼Œå…¶ä¸­è§†å›¾åç§°ä¸º homeï¼Œç»“æœå†…å®¹åŒ…å«çŸ­è¯­ â€œWelcome toâ€¦â€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.containsString;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.web.servlet.MockMvc;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@WebMvcTest(HomeController.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeControllerTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MockMvc mockMvc;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testHomePage</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        mockMvc.perform(get(<span class="string">&quot;/&quot;</span>))</span><br><span class="line">            .andExpect(status().isOk())</span><br><span class="line">            .andExpect(view().name(<span class="string">&quot;home&quot;</span>))</span><br><span class="line">            .andExpect(content().string(containsString(<span class="string">&quot;Welcome to...&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>HomeControllerTest</code> ä½¿ç”¨ <code>@WebMvcTest</code> æ³¨é‡Šï¼Œè€Œä¸æ˜¯ <code>@SpringBootTest</code> æ ‡è®°ã€‚è¿™æ˜¯ Spring Boot æä¾›çš„ä¸€ä¸ªç‰¹æ®Šæµ‹è¯•æ³¨é‡Šï¼Œå®ƒå®‰æ’æµ‹è¯•åœ¨ Spring MVC åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚æ›´å…·ä½“åœ°è¯´ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒå®‰æ’ <code>HomeController</code> åœ¨ Spring MVC ä¸­æ³¨å†Œï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¯¹å®ƒè¿›è¡Œè¯·æ±‚ã€‚</p>
<p><code>@WebMvcTest</code> è¿˜ä¸ºæµ‹è¯• Spring MVC æä¾›äº† Spring æ”¯æŒã€‚è™½ç„¶å¯ä»¥è®©å®ƒå¯åŠ¨æœåŠ¡å™¨ï¼Œä½†æ¨¡æ‹Ÿ Spring MVC çš„æœºåˆ¶å°±è¶³ä»¥æ»¡è¶³ä½ çš„ç›®çš„äº†ã€‚æµ‹è¯•ç±»è¢«æ³¨å…¥äº†ä¸€ä¸ª <code>MockMvc</code> å¯¹è±¡ä¸­ï¼Œä»¥æ­¤ç”¨æ¥æµ‹è¯•æ¥é©±åŠ¨æ¨¡å‹ã€‚</p>
<p><code>testHomePage()</code> æ–¹æ³•å®šä¹‰äº†è¦å¯¹ä¸»é¡µæ‰§è¡Œçš„æµ‹è¯•ã€‚å®ƒä» <code>MockMvc</code> å¯¹è±¡å¼€å§‹ï¼Œæ‰§è¡Œé’ˆå¯¹ <code>/</code>ï¼ˆæ ¹è·¯å¾„ï¼‰çš„ HTTP GET è¯·æ±‚ã€‚è¯¥è¯·æ±‚è§„å®šäº†ä¸‹åˆ—æœŸæœ›å€¼ï¼š</p>
<ul>
<li>å“åº”åº”è¯¥æœ‰ä¸€ä¸ªHTTP 200ï¼ˆOKï¼‰çŠ¶æ€ã€‚</li>
<li>è§†å›¾åº”è¯¥æœ‰ä¸€ä¸ªåˆç†çš„ä¸»é¡µåç§°ã€‚</li>
<li>å‘ˆç°çš„è§†å›¾åº”è¯¥åŒ…å« â€œWelcome toâ€¦â€</li>
</ul>
<p>å¦‚æœåœ¨ <code>MockMvc</code> å¯¹è±¡æ‰§è¡Œè¯·æ±‚ä¹‹åï¼Œè¿™äº›æœŸæœ›ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½æ²¡æœ‰æ»¡è¶³ï¼Œé‚£ä¹ˆæµ‹è¯•å°±ä¼šå¤±è´¥ã€‚ä½†æ˜¯æ§åˆ¶å™¨å’Œè§†å›¾æ¨¡æ¿æ˜¯ä¸ºäº†æ»¡è¶³è¿™äº›æœŸæœ›è€Œç¼–å†™çš„ï¼Œæ‰€ä»¥æµ‹è¯•åº”è¯¥èƒ½å¤Ÿé€šè¿‡ï¼Œæˆ–è€…è‡³å°‘èƒ½å¤Ÿé€šè¿‡ä¸€äº›è¡¨ç¤ºæµ‹è¯•é€šè¿‡çš„ç»¿è‰²æç¤ºã€‚</p>
<p>æ§åˆ¶å™¨å†™å¥½äº†ï¼Œè§†å›¾æ¨¡æ¿åˆ›å»ºå¥½äº†ï¼Œæµ‹è¯•é€šè¿‡äº†ã€‚çœ‹æ¥ä½ å·²ç»æˆåŠŸåœ°å®ç°äº†ä¸»é¡µã€‚</p>
<h3 id="æ„å»ºå¹¶è¿è¡Œåº”ç”¨"><a href="#æ„å»ºå¹¶è¿è¡Œåº”ç”¨" class="headerlink" title="æ„å»ºå¹¶è¿è¡Œåº”ç”¨"></a>æ„å»ºå¹¶è¿è¡Œåº”ç”¨</h3><p>Spring Boot Dashboard çš„ä¾¿åˆ©åŠŸèƒ½å¯ä»¥å¸®åŠ©ä½ åœ¨ IDE ä¸­è¿è¡Œåº”ç”¨ç¨‹åºã€‚<strong>Spring Boot Dashboard</strong> ï¼ˆæŒ‡ç¤ºæ¿ï¼Œä»ªè¡¨ç›˜ï¼‰æ˜¾ç¤ºä¸ºä¸€ä¸ªé€‰é¡¹å¡ï¼Œé€šå¸¸ä½äº IDE çª—å£çš„å·¦ä¸‹æ–¹ã€‚</p>
<blockquote>
<p>å¦‚ä½•åœ¨ideaä¸­å¯åŠ¨Spring Boot Dashboardï¼š<a href="https://jingyan.baidu.com/article/ce4366495a1df73773afd3d3.html">https://jingyan.baidu.com/article/ce4366495a1df73773afd3d3.html</a></p>
</blockquote>
<p>å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå°†åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ä¸€äº› Spring ASCII å›¾é£è¿‡ï¼Œç„¶åçœ‹åˆ°ä¸€äº›æ—¥å¿—æ¡ç›®æè¿°åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶çš„æ­¥éª¤ã€‚åœ¨åœæ­¢æ—¥å¿—è®°å½•ä¹‹å‰ï¼Œå°†çœ‹åˆ°ä¸€ä¸ªæ—¥å¿—æ¡ç›®ï¼Œå…¶ä¸­è¯´ Tomcat åœ¨ port(s): 8080 (http) ä¸Šå¯åŠ¨ï¼Œè¿™æ„å‘³ç€å·²ç»å‡†å¤‡å¥½å°† web æµè§ˆå™¨æŒ‡å‘ä¸»é¡µï¼Œä»¥æŸ¥çœ‹ç»“æœã€‚</p>
<p>ç­‰ä¸€ä¸‹ï¼ŒTomcat å¯åŠ¨ï¼Ÿä½•æ—¶å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Tomcatï¼Ÿ</p>
<p>Spring Boot åº”ç”¨ç¨‹åºå€¾å‘äºè£¹æŒŸæ‰€æœ‰éœ€è¦çš„ä¸œè¥¿ï¼Œè€Œä¸éœ€è¦éƒ¨ç½²åˆ°æŸä¸ªåº”ç”¨æœåŠ¡å™¨ã€‚ä½ ä»æœªå°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Tomcatâ€¦ å…¶å® Tomcat æ˜¯åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼(å°†åœ¨ 1.3.6 å°èŠ‚ä¸­è¯¦ç»†æè¿° Tomcat å¦‚ä½•æˆä¸ºåº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†çš„ã€‚)</p>
<p>ç°åœ¨åº”ç”¨ç¨‹åºå·²ç»å¯åŠ¨ï¼Œå°† web æµè§ˆå™¨æŒ‡å‘ <a href="http://localhost:8080/">http://localhost:8080</a>ï¼ˆæˆ–å•å‡» Spring Boot Dashboard ä¸­åœ°çƒä»ªæ ·å­çš„æŒ‰é’®)ã€‚</p>
<p>åŒä¸€å…±æœ‰ç½‘ä¸‹ï¼Œå¯ä»¥é€šè¿‡ipè®¿é—®åˆ°ã€‚<code>ifconfig en0</code></p>
<p><img src="https://img-blog.csdnimg.cn/15e1c5c2492e4dbdb6f01e76bdd87b00.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h3 id="Spring-Boot-DevTools"><a href="#Spring-Boot-DevTools" class="headerlink" title="Spring Boot DevTools"></a>Spring Boot DevTools</h3><p>åœ¨åˆå§‹åŒ–é¡¹ç›®æ—¶å°†å…¶ä½œä¸ºä¾èµ–é¡¹è¿›è¡Œé€‰æ‹©ã€‚Spring Boot DevToolsä½œä¸ºä¸€ä¸ªä¾èµ–é¡¹å‡ºç°åœ¨ç”Ÿæˆçš„ pom.xml æ–‡ä»¶ä¸­ã€‚Spring Boot Dashboard ç”šè‡³æ˜¾ç¤ºé¡¹ç›®å·²ç»å¯ç”¨äº† DevToolsã€‚ä½†æ˜¯ä»€ä¹ˆæ˜¯ DevToolsï¼Œå®ƒèƒ½ä¸ºæ‚¨åšä»€ä¹ˆï¼Ÿ</p>
<p>DevTools ä¸º Spring å¼€å‘äººå‘˜æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„å¼€å‘åŒæ­¥å·¥å…·ã€‚è¿™äº›æ˜¯ï¼š</p>
<ul>
<li>å½“ä»£ç æ›´æ”¹æ—¶è‡ªåŠ¨é‡å¯åº”ç”¨ç¨‹åº</li>
<li>å½“ä»¥æµè§ˆå™¨ä¸ºç›®æ ‡çš„èµ„æºï¼ˆå¦‚æ¨¡æ¿ã€JavaScriptã€æ ·å¼è¡¨ç­‰ï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°</li>
<li>è‡ªåŠ¨ç¦ç”¨æ¨¡æ¿ç¼“å­˜</li>
<li>å¦‚æœ H2 æ•°æ®åº“æ­£åœ¨ä½¿ç”¨ï¼Œåˆ™åœ¨ H2 æ§åˆ¶å°ä¸­æ„å»º</li>
</ul>
<p>ï¼ˆ1ï¼‰è‡ªåŠ¨é‡å¯åº”ç”¨ç¨‹åº</p>
<p>ï¼ˆ2ï¼‰è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨å’Œç¦ç”¨æ¨¡æ¿ç¼“å­˜</p>
<p>ï¼ˆ3ï¼‰å†…ç½®çš„H2æ§åˆ¶å°</p>
<h3 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h3><p>ä»¥ä¸‹æ˜¯æ„å»ºåŸºäº Spring çš„ Taco Cloud åº”ç”¨ç¨‹åºçš„æ­¥éª¤ï¼š</p>
<ol>
<li>ä½¿ç”¨ Spring Initializr åˆ›å»ºäº†ä¸€ä¸ªåˆå§‹é¡¹ç›®ç»“æ„ã€‚</li>
<li>å†™äº†ä¸€ä¸ªæ§åˆ¶å™¨ç±»æ¥å¤„ç†ä¸»é¡µè¯·æ±‚ã€‚</li>
<li>å®šä¹‰äº†ä¸€ä¸ªè§†å›¾æ¨¡æ¿æ¥å‘ˆç°ä¸»é¡µã€‚</li>
<li>å†™äº†ä¸€ä¸ªç®€å•çš„æµ‹è¯•ç±»æ¥æ£€éªŒä¸Šè¯‰å·¥ä½œã€‚</li>
</ol>
<p>æ§åˆ¶å™¨ç±»ä¸­çš„ä¸¤è¡Œä»£ç ï¼Œè€Œè§†å›¾æ¨¡æ¿ä¸­æ²¡æœ‰ Spring çš„ç‰¹å®šä»£ç ã€‚å°½ç®¡æµ‹è¯•ç±»çš„å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨äº† Spring çš„æµ‹è¯•æ”¯æŒï¼Œä½†æ˜¯åœ¨æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ï¼Œå®ƒçš„ä¾µå…¥æ€§ä¼¼ä¹è¦å°ä¸€äº›ã€‚</p>
<p>è¿™æ˜¯ä½¿ç”¨ Spring å¼€å‘çš„ä¸€ä¸ªé‡è¦å¥½å¤„ã€‚å¯ä»¥å…³æ³¨äºæ»¡è¶³åº”ç”¨ç¨‹åºéœ€æ±‚çš„ä»£ç ï¼Œè€Œä¸æ˜¯æ»¡è¶³æ¡†æ¶çš„éœ€æ±‚ã€‚å°½ç®¡ç¡®å®éœ€è¦ä¸æ—¶åœ°ç¼–å†™ä¸€äº›ç‰¹å®šäºæ¡†æ¶çš„ä»£ç ï¼Œä½†è¿™é€šå¸¸åªæ˜¯ä»£ç åº“çš„ä¸€å°éƒ¨åˆ†ã€‚å¦‚å‰æ‰€è¿°ï¼ŒSpring ï¼ˆä»¥åŠ Spring Bootï¼‰å¯ä»¥è¢«è®¤ä¸ºæ˜¯ <em>æ— æ¡†æ¶çš„æ¡†æ¶</em>ã€‚</p>
<p>è¿™åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ï¼ŸSpring åœ¨å¹•ååšäº†ä»€ä¹ˆæ¥ç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºéœ€æ±‚å¾—åˆ°æ»¡è¶³ï¼Ÿä¸ºäº†ç†è§£ Spring åœ¨åšä»€ä¹ˆï¼Œè®©æˆ‘ä»¬ä»æ„å»ºè§„èŒƒå¼€å§‹ã€‚</p>
<p>åœ¨ pom.xml æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº†å¯¹ Web å’Œ Thymeleaf å¯åŠ¨å™¨çš„ä¾èµ–ã€‚è¿™ä¸¤ä¸ªä¾èµ–å…³ç³»å¸¦æ¥äº†ä¸€äº›å…¶ä»–çš„ä¾èµ–å…³ç³»ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Spring MVC æ¡†æ¶</li>
<li>åµŒå…¥å¼ Tomcat</li>
<li>Thymeleaf å’Œ Thymeleaf å¸ƒå±€æ–¹è¨€</li>
</ul>
<p>å®ƒè¿˜å¸¦æ¥äº† Spring Boot çš„è‡ªåŠ¨é…ç½®åº“ã€‚å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼ŒSpring Boot è‡ªåŠ¨é…ç½®è‡ªåŠ¨æ£€æµ‹è¿™äº›åº“å¹¶è‡ªåŠ¨æ‰§è¡Œï¼š</p>
<ul>
<li>åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­é…ç½® bean ä»¥å¯ç”¨ Spring MVC</li>
<li>å°†åµŒå…¥å¼ Tomcat æœåŠ¡å™¨é…ç½®åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­</li>
<li>ä¸ºä½¿ç”¨ Thymeleaf æ¨¡æ¿å‘ˆç° Spring MV Cè§†å›¾ï¼Œé…ç½®äº†ä¸€ä¸ª Thymeleaf è§†å›¾è§£æå™¨</li>
</ul>
<p>ç®€è€Œè¨€ä¹‹ï¼Œè‡ªåŠ¨é…ç½®å®Œæˆäº†æ‰€æœ‰ç¹é‡çš„å·¥ä½œï¼Œè®©ä½ ä¸“æ³¨äºç¼–å†™å®ç°åº”ç”¨ç¨‹åºåŠŸèƒ½çš„ä»£ç ã€‚</p>
<h2 id="ä¿¯ç°Springé£æ™¯çº¿"><a href="#ä¿¯ç°Springé£æ™¯çº¿" class="headerlink" title="ä¿¯ç°Springé£æ™¯çº¿"></a>ä¿¯ç°Springé£æ™¯çº¿</h2><p>Spring Initializr Webè¡¨å•é‡Œæä¾›äº†100å¤šä¸ªå¯é€‰çš„ä¾èµ–é¡¹ã€‚</p>
<h3 id="Springæ ¸å¿ƒæ¡†æ¶"><a href="#Springæ ¸å¿ƒæ¡†æ¶" class="headerlink" title="Springæ ¸å¿ƒæ¡†æ¶"></a>Springæ ¸å¿ƒæ¡†æ¶</h3><p>Spring æ ¸å¿ƒæ¡†æ¶æ˜¯ Spring é¢†åŸŸä¸­å…¶ä»–ä¸€åˆ‡çš„åŸºç¡€ã€‚å®ƒæä¾›äº†æ ¸å¿ƒå®¹å™¨å’Œä¾èµ–æ³¨å…¥æ¡†æ¶ã€‚ä½†å®ƒä¹Ÿæä¾›äº†ä¸€äº›å…¶ä»–çš„åŸºæœ¬ç‰¹æ€§ã€‚</p>
<p>å…¶ä¸­åŒ…æ‹¬ Spring MVC å’Œ Spring web æ¡†æ¶ã€‚å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ Spring MVC ç¼–å†™æ§åˆ¶å™¨ç±»æ¥å¤„ç† web è¯·æ±‚ã€‚ä½†æ˜¯ï¼Œè¿˜æ²¡æœ‰çœ‹åˆ°çš„æ˜¯ï¼ŒSpring MVC ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºäº§ç”Ÿé HTML è¾“å‡ºçš„ REST APIã€‚å°†åœ¨ç¬¬ 2 ç« æ·±å…¥ç ”ç©¶ Spring MVCï¼Œç„¶ååœ¨ç¬¬ 6 ç« ä¸­è®¨è®ºå¦‚ä½•ä½¿ç”¨å®ƒæ¥åˆ›å»º REST APIã€‚</p>
<p>Spring æ ¸å¿ƒæ¡†æ¶è¿˜æä¾›äº†ä¸€äº›åŸºæœ¬æ•°æ®æŒä¹…æ€§æ”¯æŒï¼Œç‰¹åˆ«æ˜¯åŸºäºæ¨¡æ¿çš„ JDBC æ”¯æŒã€‚å°†åœ¨ç¬¬ 3 ç« ä¸­çœ‹åˆ°å¦‚ä½•ä½¿ç”¨ JdbcTemplateã€‚</p>
<p>åœ¨ Spring çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆ5.0.8ï¼‰ä¸­ï¼Œæ·»åŠ äº†å¯¹å“åº”å¼ç¼–ç¨‹çš„æ”¯æŒï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ–°çš„å“åº”å¼ web æ¡†æ¶ â€”â€” Spring WebFluxï¼Œå®ƒå¤§é‡å€Ÿé‰´äº† Spring MVCã€‚å°†åœ¨ç¬¬ 3 éƒ¨åˆ†ä¸­çœ‹åˆ° Spring çš„å“åº”å¼ç¼–ç¨‹æ¨¡å‹ï¼Œå¹¶åœ¨ç¬¬ 10 ç« ä¸­çœ‹åˆ° Spring WebFluxã€‚</p>
<h3 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h3><p>å·²ç»çœ‹åˆ°äº† Spring Boot çš„è®¸å¤šå¥½å¤„ï¼ŒåŒ…æ‹¬å¯åŠ¨ä¾èµ–é¡¹å’Œè‡ªåŠ¨é…ç½®ã€‚åœ¨æœ¬ä¹¦ä¸­æˆ‘ä»¬ç¡®å®ä¼šå°½å¯èƒ½å¤šåœ°ä½¿ç”¨ Spring Bootï¼Œå¹¶é¿å…ä»»ä½•å½¢å¼çš„æ˜¾å¼é…ç½®ï¼Œé™¤éç»å¯¹å¿…è¦ã€‚ä½†é™¤äº†å¯åŠ¨ä¾èµ–å’Œè‡ªåŠ¨é…ç½®ï¼ŒSpring Boot è¿˜æä¾›äº†ä¸€äº›å…¶ä»–æœ‰ç”¨çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>Actuator æä¾›äº†å¯¹åº”ç”¨ç¨‹åºå†…éƒ¨å·¥ä½œæ–¹å¼çš„è¿è¡Œæ—¶ç›‘æ§ï¼ŒåŒ…æ‹¬ç«¯ç‚¹ã€çº¿ç¨‹ dump ä¿¡æ¯ã€åº”ç”¨ç¨‹åºå¥åº·çŠ¶å†µå’Œåº”ç”¨ç¨‹åºå¯ç”¨çš„ç¯å¢ƒå±æ€§ã€‚</li>
<li>çµæ´»çš„ç¯å¢ƒå±æ€§è§„èŒƒã€‚</li>
<li>åœ¨æ ¸å¿ƒæ¡†æ¶çš„æµ‹è¯•è¾…åŠ©ä¹‹å¤–ï¼Œè¿˜æœ‰é¢å¤–çš„æµ‹è¯•æ”¯æŒã€‚</li>
</ul>
<p>æ­¤å¤–ï¼ŒSpring Boot æä¾›äº†ä¸€ç§åŸºäº Groovy è„šæœ¬çš„æ›¿ä»£ç¼–ç¨‹æ¨¡å‹ï¼Œç§°ä¸º Spring Boot CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ã€‚ä½¿ç”¨ Spring Boot CLIï¼Œå¯ä»¥å°†æ•´ä¸ªåº”ç”¨ç¨‹åºç¼–å†™ä¸º Groovy è„šæœ¬çš„é›†åˆï¼Œå¹¶ä»å‘½ä»¤è¡Œè¿è¡Œå®ƒä»¬ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨ Spring Boot CLI ä¸ŠèŠ±å¤ªå¤šæ—¶é—´ï¼Œä½†æ˜¯å½“å®ƒé€‚åˆæˆ‘ä»¬çš„éœ€è¦æ—¶ï¼Œæˆ‘ä»¬ä¼šæ¥è§¦å®ƒã€‚</p>
<p>Spring Boot å·²ç»æˆä¸º Spring å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼›æˆ‘æ— æ³•æƒ³è±¡å¼€å‘ä¸€ä¸ªæ²¡æœ‰å®ƒçš„ Spring åº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼Œæœ¬ä¹¦é‡‡ç”¨äº†ä»¥ Spring Boot ä¸ºä¸­å¿ƒçš„è§‚ç‚¹ï¼Œå½“æˆ‘æåˆ° Spring Boot æ­£åœ¨åšçš„äº‹æƒ…æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°æˆ‘åœ¨ä½¿ç”¨ Spring è¿™ä¸ªè¯ã€‚</p>
<h3 id="Spring-Data"><a href="#Spring-Data" class="headerlink" title="Spring Data"></a>Spring Data</h3><p>å°½ç®¡ Spring æ ¸å¿ƒæ¡†æ¶æä¾›äº†åŸºæœ¬çš„æ•°æ®æŒä¹…æ€§æ”¯æŒï¼Œä½† Spring Data æä¾›äº†ä¸€äº›éå¸¸æƒŠäººçš„åŠŸèƒ½ï¼šå°†åº”ç”¨ç¨‹åºçš„æ•°æ®å­˜å‚¨åº“æŠ½è±¡ä¸ºç®€å•çš„ Java æ¥å£ï¼ŒåŒæ—¶å½“å®šä¹‰æ–¹æ³•ç”¨äºå¦‚ä½•é©±åŠ¨æ•°æ®è¿›è¡Œå­˜å‚¨å’Œæ£€ç´¢çš„é—®é¢˜æ—¶ï¼Œå¯¹æ–¹æ³•ä½¿ç”¨äº†å‘½åçº¦å®šã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼ŒSpring Data èƒ½å¤Ÿå¤„ç†å‡ ç§ä¸åŒç±»å‹çš„æ•°æ®åº“ï¼ŒåŒ…æ‹¬å…³ç³»å‹ï¼ˆJPAï¼‰ã€æ–‡æ¡£å‹ï¼ˆMongoï¼‰ã€å›¾å‹ï¼ˆNeo4jï¼‰ç­‰ã€‚åœ¨ç¬¬ 3 ç« ä¸­ï¼Œå°†ä½¿ç”¨ Spring Data æ¥å¸®åŠ©åˆ›å»º Taco Cloud åº”ç”¨ç¨‹åºçš„å­˜å‚¨åº“ã€‚</p>
<h3 id="Spring-Security"><a href="#Spring-Security" class="headerlink" title="Spring Security"></a>Spring Security</h3><p>åº”ç”¨ç¨‹åºå®‰å…¨æ€§ä¸€ç›´æ˜¯ä¸€ä¸ªé‡è¦çš„ä¸»é¢˜ï¼Œè€Œä¸”ä¼¼ä¹ä¸€å¤©æ¯”ä¸€å¤©é‡è¦ã€‚å¹¸è¿çš„æ˜¯ï¼ŒSpring åœ¨ Spring security ä¸­æœ‰ä¸€ä¸ªå¥å£®çš„å®‰å…¨æ¡†æ¶ã€‚</p>
<p>Spring Security è§£å†³äº†å¹¿æ³›çš„åº”ç”¨ç¨‹åºå®‰å…¨æ€§éœ€æ±‚ï¼ŒåŒ…æ‹¬èº«ä»½éªŒè¯ã€æˆæƒå’Œ API å®‰å…¨æ€§ã€‚å°½ç®¡ Spring Security çš„èŒƒå›´å¤ªå¤§ï¼Œæœ¬ä¹¦æ— æ³•æ°å½“åœ°æ¶µç›–ï¼Œä½†æˆ‘ä»¬å°†åœ¨ç¬¬ 4 ç« å’Œç¬¬ 12 ç« ä¸­è®¨è®ºä¸€äº›æœ€å¸¸è§çš„ç”¨ä¾‹ã€‚</p>
<h3 id="Spring-Integration-å’Œ-Spring-Batch"><a href="#Spring-Integration-å’Œ-Spring-Batch" class="headerlink" title="Spring Integration å’Œ Spring Batch"></a>Spring Integration å’Œ Spring Batch</h3><p>åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œå¤§å¤šæ•°åº”ç”¨ç¨‹åºå°†éœ€è¦ä¸å…¶ä»–åº”ç”¨ç¨‹åºé›†æˆï¼Œç”šè‡³éœ€è¦ä¸åŒä¸€åº”ç”¨ç¨‹åºçš„å…¶ä»–ç»„ä»¶é›†æˆã€‚ä¸ºäº†æ»¡è¶³è¿™äº›éœ€æ±‚ï¼Œå‡ºç°äº†å‡ ç§åº”ç”¨ç¨‹åºé›†æˆæ¨¡å¼ã€‚Spring Integration å’Œ Spring Batch ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºæä¾›äº†è¿™äº›æ¨¡å¼çš„å®ç°ã€‚</p>
<p>Spring Integration è§£å†³äº†å®æ—¶é›†æˆï¼Œå³æ•°æ®åœ¨å¯ç”¨æ—¶è¿›è¡Œå¤„ç†ã€‚ç›¸åï¼ŒSpring Batch è§£å†³äº†æ‰¹é‡é›†æˆçš„é—®é¢˜ï¼Œå…è®¸åœ¨ä¸€æ®µæ—¶é—´å†…æ”¶é›†æ•°æ®ï¼Œç›´åˆ°æŸä¸ªè§¦å‘å™¨ï¼ˆå¯èƒ½æ˜¯ä¸€ä¸ªæ—¶é—´è§¦å‘å™¨ï¼‰å‘å‡ºä¿¡å·ï¼Œè¡¨ç¤ºè¯¥å¤„ç†ä¸€æ‰¹æ•°æ®äº†ã€‚å°†åœ¨ç¬¬ 9 ç« ä¸­ç ”ç©¶ Spring Batch å’Œ Spring Integrationã€‚</p>
<h3 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h3><p>åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºå¼€å‘é¢†åŸŸæ­£åœ¨è¿›å…¥ä¸€ä¸ªæ–°æ—¶ä»£ï¼Œåœ¨è¿™ä¸ªæ—¶ä»£ä¸­ï¼Œæˆ‘ä»¬ä¸å†å°†åº”ç”¨ç¨‹åºä½œä¸ºå•ä¸ªéƒ¨ç½²å•å…ƒæ¥å¼€å‘ï¼Œè€Œæ˜¯å°†ç”±å‡ ä¸ªç§°ä¸º <em>å¾®æœåŠ¡</em> çš„å•ä¸ªéƒ¨ç½²å•å…ƒç»„æˆåº”ç”¨ç¨‹åºã€‚</p>
<p>å¾®æœåŠ¡æ˜¯ä¸€ä¸ªçƒ­é—¨è¯é¢˜ï¼Œè§£å†³äº†å‡ ä¸ªå®é™…çš„å¼€å‘å’Œè¿è¡Œæ—¶é—®é¢˜ã€‚ç„¶è€Œï¼Œåœ¨è¿™æ ·åšçš„åŒæ—¶ï¼Œä»–ä»¬ä¹Ÿå¸¦æ¥äº†è‡ªå·±çš„æŒ‘æˆ˜ã€‚è¿™äº›æŒ‘æˆ˜éƒ½å°†ç”± Spring Cloud ç›´æ¥é¢å¯¹ï¼ŒSpring Cloud æ˜¯ä¸€ç»„ç”¨ Spring å¼€å‘äº‘æœ¬åœ°åº”ç”¨ç¨‹åºçš„é¡¹ç›®ã€‚</p>
<p>Spring Cloud è¦†ç›–äº†å¾ˆå¤šåœ°æ–¹ï¼Œè¿™æœ¬ä¹¦ä¸å¯èƒ½æ¶µç›–æ‰€æœ‰çš„åœ°æ–¹ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 13ã€14 å’Œ 15 ç« ä¸­æŸ¥çœ‹ Spring Cloud çš„ä¸€äº›æœ€å¸¸è§çš„ç»„ä»¶ã€‚å…³äº Spring Cloud çš„æ›´å®Œæ•´çš„è®¨è®ºï¼Œæˆ‘å»ºè®®çœ‹çœ‹ John Carnell çš„ Spring Microservices in Actionï¼ˆManning, 2017, <a href="http://www.manning.com/books/spring-microservices-in-action%EF%BC%89%E3%80%82">www.manning.com/books/spring-microservices-in-actionï¼‰ã€‚</a></p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li><p>Spring çš„ç›®æ ‡æ˜¯è®©å¼€å‘äººå‘˜è½»æ¾åº”å¯¹æŒ‘æˆ˜ï¼Œæ¯”å¦‚åˆ›å»º web åº”ç”¨ç¨‹åºã€ä½¿ç”¨æ•°æ®åº“ã€ä¿æŠ¤åº”ç”¨ç¨‹åºå’Œä½¿ç”¨å¾®æœåŠ¡ã€‚</p>
</li>
<li><p>Spring Boot æ„å»ºåœ¨ Spring ä¹‹ä¸Šï¼Œç®€åŒ–äº†ä¾èµ–ç®¡ç†ã€è‡ªåŠ¨é…ç½®å’Œè¿è¡Œæ—¶ç›‘æ§ï¼Œè®© Spring å˜å¾—æ›´åŠ ç®€å•ã€‚</p>
</li>
<li><p>Spring åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ Spring Initializr è¿›è¡Œåˆå§‹åŒ–ï¼Œå®ƒæ˜¯åŸºäº web çš„ï¼Œå¹¶ä¸”åœ¨å¤§å¤šæ•° Java å¼€å‘ç¯å¢ƒä¸­éƒ½æ”¯æŒå®ƒã€‚</p>
</li>
<li><p>åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­ï¼Œç»„ä»¶ï¼ˆé€šå¸¸ç§°ä¸º beanï¼‰å¯ä»¥ç”¨ Java æˆ– XML æ˜¾å¼åœ°å£°æ˜ï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶æ‰«æè¿›è¡Œå‘ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ Spring Boot è¿›è¡Œè‡ªåŠ¨é…ç½®ã€‚</p>
</li>
</ul>
<h1 id="ç¬¬äºŒç« -å¼€å‘Webåº”ç”¨"><a href="#ç¬¬äºŒç« -å¼€å‘Webåº”ç”¨" class="headerlink" title="ç¬¬äºŒç«  å¼€å‘Webåº”ç”¨"></a>ç¬¬äºŒç«  å¼€å‘Webåº”ç”¨</h1><p>ä½¿ç”¨ Spring æ„å»ºçš„åº”ç”¨ç¨‹åºå°†æ‰§è¡Œå„ç§æ“ä½œï¼ŒåŒ…æ‹¬å¤„ç†æ•°æ®ã€ä»æ•°æ®åº“ä¸­è¯»å–ä¿¡æ¯ä»¥åŠä¸å…¶ä»–åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚ä½†æ˜¯åº”ç”¨ç¨‹åºç”¨æˆ·å¾—åˆ°çš„ç¬¬ä¸€å°è±¡æ¥è‡ªäºç”¨æˆ·ç•Œé¢ã€‚åœ¨è®¸å¤šåº”ç”¨ç¨‹åºä¸­ï¼ŒUI ç•Œé¢æ˜¯åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„ web åº”ç”¨ç¨‹åºã€‚</p>
<p>åœ¨ç¬¬ 1 ç« ä¸­ï¼Œåˆ›å»ºäº†ç¬¬ä¸€ä¸ª Spring MVC æ§åˆ¶å™¨æ¥æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸»é¡µã€‚ä½†æ˜¯ Spring MVC èƒ½åšçš„è¿œä¸æ­¢ç®€å•åœ°æ˜¾ç¤ºé™æ€å†…å®¹ã€‚åœ¨æœ¬ç« ä¸­ï¼Œå°†å¼€å‘ Taco Cloud åº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªä¸»è¦åŠŸèƒ½ â€”â€” è®¾è®¡è‡ªå®šä¹‰ Taco çš„èƒ½åŠ›ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå°†æ·±å…¥ç ”ç©¶ Spring MVCï¼Œå¹¶äº†è§£å¦‚ä½•æ˜¾ç¤ºæ¨¡å‹æ•°æ®å’Œå¤„ç†è¡¨å•è¾“å…¥ã€‚</p>
<h2 id="å±•ç¤ºä¿¡æ¯"><a href="#å±•ç¤ºä¿¡æ¯" class="headerlink" title="å±•ç¤ºä¿¡æ¯"></a>å±•ç¤ºä¿¡æ¯</h2><p>åœ¨ Spring web åº”ç”¨ç¨‹åºä¸­ï¼Œè·å–å’Œå¤„ç†æ•°æ®æ˜¯æ§åˆ¶å™¨çš„å·¥ä½œã€‚è§†å›¾çš„å·¥ä½œæ˜¯å°†æ•°æ®æ¸²æŸ“æˆ HTML å¹¶æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ã€‚å°†åˆ›å»ºä»¥ä¸‹ç»„ä»¶æ¥æ”¯æŒ Taco åˆ›å»ºé¡µé¢ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è‡ªé€‰é…æ–™ï¼š</p>
<ul>
<li>ä¸€ä¸ªå®šä¹‰ç‰ç±³å·æˆåˆ†ç‰¹æ€§çš„é¢†åŸŸç±»</li>
<li>ä¸€ä¸ª Spring MVC æ§åˆ¶å™¨ç±»ï¼Œå®ƒè·å–æˆåˆ†ä¿¡æ¯å¹¶å°†å…¶ä¼ é€’ç»™è§†å›¾</li>
<li>ä¸€ä¸ªè§†å›¾æ¨¡æ¿ï¼Œåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­å‘ˆç°ä¸€ä¸ªæˆåˆ†åˆ—è¡¨</li>
</ul>
<h3 id="æ„å»ºé¢†åŸŸç±»"><a href="#æ„å»ºé¢†åŸŸç±»" class="headerlink" title="æ„å»ºé¢†åŸŸç±»"></a>æ„å»ºé¢†åŸŸç±»</h3><p>åœ¨ç¼–å†™æ§åˆ¶å™¨å’Œè§†å›¾ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç¡®å®šè¡¨ç¤ºé…æ–™çš„åŸŸç±»å‹ã€‚è¿™å°†ä¸ºå¼€å‘ web ç»„ä»¶å¥ å®šåŸºç¡€ã€‚</p>
<p>åº”ç”¨ç¨‹åºçš„åŸŸæ˜¯å®ƒæ‰€å¤„ç†çš„ä¸»é¢˜é¢†åŸŸ â€”â€” å½±å“åº”ç”¨ç¨‹åºç†è§£çš„æ€æƒ³å’Œæ¦‚å¿µã€‚åœ¨ Taco Cloud åº”ç”¨ç¨‹åºä¸­ï¼Œé¢†åŸŸåŒ…æ‹¬ Taco è®¾è®¡ã€ç»„æˆè¿™äº›è®¾è®¡çš„æˆåˆ†ã€å®¢æˆ·å’Œå®¢æˆ·ä¸‹çš„ Taco è®¢å•ç­‰å¯¹è±¡ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†å…³æ³¨ç‰ç±³é¥¼é…æ–™ã€‚</p>
<p>åœ¨é¢†åŸŸä¸­ï¼Œç‰ç±³é¥¼é…æ–™æ˜¯ç›¸å½“ç®€å•çš„å¯¹è±¡ã€‚æ¯ä¸€ç§éƒ½æœ‰ä¸€ä¸ªåç§°å’Œä¸€ä¸ªç±»å‹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è§†è§‰ä¸Šå¯¹å…¶è¿›è¡Œåˆ†ç±»ï¼ˆè›‹ç™½è´¨ã€å¥¶é…ªã€é…±æ±ç­‰ï¼‰ã€‚æ¯ä¸€ä¸ªéƒ½æœ‰ä¸€ä¸ª IDï¼Œé€šè¿‡è¿™ä¸ª ID å¯ä»¥è½»æ¾ã€æ˜ç¡®åœ°å¼•ç”¨å®ƒã€‚ä¸‹é¢çš„æˆåˆ†ç±»å®šä¹‰äº†éœ€è¦çš„åŸŸå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.RequiredArgsConstructor;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ingredient</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Type type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">enum</span> <span class="title">Type</span> </span>&#123;</span><br><span class="line">        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„ Java åŸŸç±»ï¼Œå®šä¹‰äº†æè¿°ä¸€ä¸ªæˆåˆ†æ‰€éœ€çš„ä¸‰ä¸ªå±æ€§ã€‚å¯¹äºç¨‹åº ä¸­å®šä¹‰çš„ <code>Ingredient</code> ç±»ï¼Œæœ€ä¸å¯»å¸¸çš„äº‹æƒ…å¯èƒ½æ˜¯å®ƒä¼¼ä¹ç¼ºå°‘ä¸€ç»„å¸¸ç”¨çš„ getter å’Œ setter æ–¹æ³•ï¼Œæ›´ä¸ç”¨è¯´åƒ <code>equals()</code>ã€<code>hashCode()</code>ã€<code>toString()</code> ç­‰æœ‰ç”¨çš„æ–¹æ³•ã€‚</p>
<p>åœ¨æ¸…å•ä¸­çœ‹ä¸åˆ°å®ƒä»¬ï¼Œéƒ¨åˆ†åŸå› æ˜¯ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œä½†ä¹Ÿå› ä¸ºä½¿ç”¨äº†ä¸€ä¸ªåä¸º Lombok çš„å‡ºè‰²åº“ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆè¿™äº›æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œç±»çº§åˆ«çš„ <code>@Data</code> æ³¨é‡Šæ˜¯ç”± Lombok æä¾›çš„ï¼Œå®ƒå‘Šè¯‰ Lombok ç”Ÿæˆæ‰€æœ‰ç¼ºå°‘çš„æ–¹æ³•ï¼Œä»¥åŠæ¥å—æ‰€æœ‰<code>final</code>å±æ€§ä½œä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚é€šè¿‡ä½¿ç”¨ Lombokï¼Œå¯ä»¥è®© <code>Ingredient</code> çš„ä»£ç ä¿æŒæ•´æ´ã€‚</p>
<p>Lombok ä¸æ˜¯ä¸€ä¸ª Spring åº“ï¼Œä½†æ˜¯å®ƒéå¸¸æœ‰ç”¨ï¼Œæ²¡æœ‰å®ƒæˆ‘å¾ˆéš¾å¼€å‘ã€‚å½“æˆ‘éœ€è¦åœ¨ä¸€æœ¬ä¹¦ä¸­ä¿æŒä»£ç ç¤ºä¾‹ç®€çŸ­æ˜äº†æ—¶ï¼Œå®ƒå°±æˆäº†æˆ‘çš„æ•‘æ˜Ÿã€‚</p>
<p>è¦ä½¿ç”¨ Lombokï¼Œéœ€è¦<strong>å°†å…¶ä½œä¸ºä¾èµ–é¡¹æ·»åŠ åˆ°é¡¹ç›®</strong>ä¸­ã€‚å¦‚æœæ­£åœ¨ä½¿ç”¨ Spring Tool Suiteï¼Œåªéœ€å³é”®å•å‡» pom.xml æ–‡ä»¶å¹¶ä» Spring ä¸Šä¸‹æ–‡èœå•é€‰é¡¹ä¸­é€‰æ‹© Edit Starters å³å¯ã€‚åœ¨ç¬¬ 1 ç« ï¼ˆå›¾ 1.4ï¼‰ä¸­ç»™å‡ºçš„ä¾èµ–é¡¹çš„ç›¸åŒé€‰æ‹©å°†å‡ºç°ï¼Œè¿™æ ·å°±æœ‰æœºä¼šæ·»åŠ æˆ–æ›´æ”¹æ‰€é€‰çš„ä¾èµ–é¡¹ã€‚æ‰¾åˆ° Lombok é€‰é¡¹ï¼Œç¡®ä¿é€‰ä¸­ï¼Œç„¶åå•å‡» OKï¼›Spring Tool Suite å°†è‡ªåŠ¨å°†å…¶æ·»åŠ åˆ°æ„å»ºè§„èŒƒä¸­ã€‚</p>
<p>æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨ pom.xml ä¸­çš„ä»¥ä¸‹æ¡ç›®æ‰‹åŠ¨æ·»åŠ å®ƒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;optional&gt;<span class="keyword">true</span>&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>æ­¤ä¾èµ–é¡¹å°†åœ¨å¼€å‘æ—¶æä¾› Lombok æ³¨é‡Šï¼ˆå¦‚ <code>@Data</code>ï¼‰ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æä¾›è‡ªåŠ¨æ–¹æ³•ç”Ÿæˆã€‚ä½†æ˜¯è¿˜éœ€è¦<strong>åœ¨ IDE ä¸­æ·»åŠ  Lombok ä½œä¸ºæ‰©å±•</strong>ï¼Œå¦åˆ™ IDE å°†ä¼šæŠ¥é”™ç¼ºå°‘æ–¹æ³•å’Œæ²¡æœ‰è®¾ç½®çš„æœ€ç»ˆå±æ€§ã€‚è¯·è®¿é—® <a href="https://projectlombok.org/%EF%BC%8C%E4%BB%A5%E4%BA%86%E8%A7%A3%E5%A6%82%E4%BD%95%E5%9C%A8">https://projectlombok.org/ï¼Œä»¥äº†è§£å¦‚ä½•åœ¨</a> IDE ä¸­å®‰è£… Lombokã€‚</p>
<p>ä½ ä¼šå‘ç° Lombok éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒæ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸å¸Œæœ›ä½¿ç”¨å®ƒï¼Œæˆ–æ˜¯ä¸éœ€è¦å®ƒæ¥å¼€å‘ Spring åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆè¯·éšæ„æ‰‹åŠ¨ç¼–å†™é‚£äº›ç¼ºå°‘çš„æ–¹æ³•ã€‚ç»§ç»­â€¦â€¦æˆ‘å°†ç­‰å¾…ã€‚å®Œæˆåï¼Œå°†æ·»åŠ ä¸€äº›æ§åˆ¶å™¨æ¥å¤„ç†åº”ç”¨ç¨‹åºä¸­çš„ web è¯·æ±‚ã€‚</p>
<blockquote>
<p>ç¬”è®°ï¼šIDEAå¦‚ä½•ä¸ºpom.xmlå¯¼å…¥ä¾èµ–ï¼Ÿ</p>
<p><a href="https://www.jb51.net/article/193912.htm">https://www.jb51.net/article/193912.htm</a></p>
<p>è™½ç„¶é¡¹ç›®é‡Œæœ¬èº«å°±æœ‰ï¼Œä¸çŸ¥é“reimportæ˜¯ä¸æ˜¯çœŸçš„æœ‰æ•ˆæœï¼Œæ²¡æœ‰æ‰¾åˆ°é‡æ–°é€‰æ‹©ä¾èµ–çš„æ–¹æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>ç¬”è®°ï¼šåœ¨ IDE ä¸­æ·»åŠ  Lombok ä½œä¸ºæ‰©å±•ï¼Ÿ</p>
<p>Lombokæ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡ç®€å•çš„æ³¨è§£å½¢å¼æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¶ˆé™¤ä¸€äº›å¿…é¡»æœ‰ä½†æ˜¾å¾—å¾ˆè‡ƒè‚¿çš„Javaä»£ç çš„å·¥å…·ï¼Œé€šè¿‡ä½¿ç”¨å¯¹åº”çš„æ³¨è§£ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æºç çš„æ—¶å€™ç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ã€‚</p>
<p>1.pluginä¸­ä¸‹è½½lombokæ’ä»¶  <a href="https://www.jb51.net/article/214041.htm">https://www.jb51.net/article/214041.htm</a></p>
<p>2.é…ç½®ä¸€ä¸‹ï¼Œenable annotation processing å¯ç”¨æ³¨é‡Šå¤„ç†  <a href="https://blog.csdn.net/xiaoxiamimm/article/details/113882655">https://blog.csdn.net/xiaoxiamimm/article/details/113882655</a></p>
<p>3.pom.xmlä¸­æ·»åŠ lombokä¾èµ–</p>
</blockquote>
<h3 id="åˆ›å»ºæ§åˆ¶å™¨ç±»"><a href="#åˆ›å»ºæ§åˆ¶å™¨ç±»" class="headerlink" title="åˆ›å»ºæ§åˆ¶å™¨ç±»"></a>åˆ›å»ºæ§åˆ¶å™¨ç±»</h3><p>æ§åˆ¶å™¨æ˜¯ Spring MVC æ¡†æ¶çš„ä¸»è¦å‚ä¸è€…ã€‚å®ƒä»¬çš„ä¸»è¦å·¥ä½œæ˜¯å¤„ç† HTTP è¯·æ±‚ï¼Œæˆ–è€…å°†è¯·æ±‚ä¼ é€’ç»™è§†å›¾ä»¥å‘ˆç° HTMLï¼ˆæµè§ˆå™¨æ˜¾ç¤ºï¼‰ï¼Œæˆ–è€…ç›´æ¥å°†æ•°æ®å†™å…¥å“åº”ä½“ï¼ˆRESTfulï¼‰ã€‚åœ¨æœ¬ç« ä¸­ï¼Œå°†é‡ç‚¹è®¨è®ºä½¿ç”¨è§†å›¾ä¸º web æµè§ˆå™¨ç”Ÿæˆå†…å®¹çš„æ§åˆ¶å™¨çš„ç±»å‹ã€‚åœ¨ç¬¬ 6 ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•åœ¨ REST API ä¸­ç¼–å†™å¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ã€‚</p>
<p>å¯¹äº Taco Cloud åº”ç”¨ç¨‹åºï¼Œéœ€è¦ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨æ¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œä¸€ä¸ªæ˜¾ç¤ºé…æ–™çš„æ§åˆ¶å™¨ï¼š</p>
<ul>
<li>å¤„ç†è¯·æ±‚è·¯å¾„ä¸º <code>/design</code> çš„ HTTP GET è¯·æ±‚</li>
<li>æ„å»ºæˆåˆ†åˆ—è¡¨</li>
<li>å°†è¯·æ±‚å’Œæˆåˆ†æ•°æ®æäº¤ç»™è§†å›¾æ¨¡æ¿ï¼Œä»¥ HTML çš„å½¢å¼å‘ˆç°å¹¶å‘é€ç»™è¯·æ±‚çš„ web æµè§ˆå™¨</li>
</ul>
<p>ä¸‹é¢çš„ DesignTacoController ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.web;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Valid;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.Errors;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> tacos.Taco;</span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient;</span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient.Type;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/design&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DesignTacoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showDesignForm</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">        List&lt;Ingredient&gt; ingredients = Arrays.asList(</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;FLTO&quot;</span>, <span class="string">&quot;Flour Tortilla&quot;</span>, Type.WRAP),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;COTO&quot;</span>, <span class="string">&quot;Corn Tortilla&quot;</span>, Type.WRAP),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;GRBF&quot;</span>, <span class="string">&quot;Ground Beef&quot;</span>, Type.PROTEIN),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;CARN&quot;</span>, <span class="string">&quot;Carnitas&quot;</span>, Type.PROTEIN),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;TMTO&quot;</span>, <span class="string">&quot;Diced Tomatoes&quot;</span>, Type.VEGGIES),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;LETC&quot;</span>, <span class="string">&quot;Lettuce&quot;</span>, Type.VEGGIES),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;CHED&quot;</span>, <span class="string">&quot;Cheddar&quot;</span>, Type.CHEESE),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;JACK&quot;</span>, <span class="string">&quot;Monterrey Jack&quot;</span>, Type.CHEESE),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;SLSA&quot;</span>, <span class="string">&quot;Salsa&quot;</span>, Type.SAUCE),</span><br><span class="line">            <span class="keyword">new</span> Ingredient(<span class="string">&quot;SRCR&quot;</span>, <span class="string">&quot;Sour Cream&quot;</span>, Type.SAUCE)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        Type[] types = Ingredient.Type.values();</span><br><span class="line">        <span class="keyword">for</span> (Type type : types) &#123;</span><br><span class="line">            model.addAttribute(type.toString().toLowerCase(),</span><br><span class="line">                filterByType(ingredients, type));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        model.addAttribute(<span class="string">&quot;design&quot;</span>, <span class="keyword">new</span> Taco());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;design&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// provided by &#x27;aexiaosong&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;Ingredient&gt; <span class="title">filterByType</span><span class="params">(List&lt;Ingredient&gt; ingredients, Type type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ingredients.stream().filter(x -&gt; x.getType().equals(type)).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Slf4jï¼Œå®ƒæ˜¯ Lombok æä¾›çš„æ³¨é‡Šï¼Œåœ¨è¿è¡Œæ—¶å°†è‡ªåŠ¨ç”Ÿæˆç±»ä¸­çš„ SLF4Jï¼ˆJava çš„ç®€å•æ—¥å¿—é—¨é¢ï¼Œ<a href="https://www.slf4j.org/%EF%BC%89%E8%AE%B0%E5%BD%95%E5%99%A8%E3%80%82%E8%BF%99%E4%B8%AA%E9%80%82%E5%BD%93%E7%9A%84%E6%B3%A8%E9%87%8A%E5%85%B7%E6%9C%89%E4%B8%8E%E6%98%BE%E5%BC%8F%E5%9C%B0%E5%9C%A8%E7%B1%BB%E4%B8%AD%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E8%A1%8C%E7%9B%B8%E5%90%8C%E7%9A%84%E6%95%88%E6%9E%9C%EF%BC%9A">https://www.slf4j.org/ï¼‰è®°å½•å™¨ã€‚è¿™ä¸ªé€‚å½“çš„æ³¨é‡Šå…·æœ‰ä¸æ˜¾å¼åœ°åœ¨ç±»ä¸­æ·»åŠ ä»¥ä¸‹è¡Œç›¸åŒçš„æ•ˆæœï¼š</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> org.slf4j.Logger log = </span><br><span class="line">       org.slf4j.LoggerFactory.getLogger(DesignTacoController.class);</span><br></pre></td></tr></table></figure>

<p>@Controllerã€‚æ­¤æ³¨é‡Šç”¨äºå°†è¯¥ç±»æ ‡è¯†ä¸ºæ§åˆ¶å™¨å¹¶å°†å…¶æ ‡è®°ä¸ºç»„ä»¶æ‰«æçš„å€™é€‰å¯¹è±¡ï¼Œä»¥ä¾¿ Spring å°†å‘ç°è¯¥ç±»å¹¶åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨åˆ›å»º DesignTacoController å®ä¾‹ä½œä¸º beanã€‚</p>
<p>@RequestMapping æ³¨é‡Šåœ¨ç±»çº§åº”ç”¨æ—¶ï¼ŒæŒ‡å®šè¯¥æ§åˆ¶å™¨å¤„ç†çš„è¯·æ±‚çš„ç±»å‹ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒæŒ‡å®š DesignTacoController å°†å¤„ç†è·¯å¾„ä»¥ <code>/design</code> å¼€å¤´çš„è¯·æ±‚ã€‚</p>
<p>@GetMapping ä¸ç±»çº§åˆ«çš„ @RequestMapping é…å¯¹ä½¿ç”¨ï¼ŒæŒ‡å®šä½•æ—¶æ¥æ”¶ <code>/design</code> çš„ HTTP GET è¯·æ±‚ï¼ŒshowDesignForm() å°†ç”¨æ¥å¤„ç†è¯·æ±‚ã€‚@GetMapping æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„æ³¨é‡Šï¼Œæ˜¯åœ¨ Spring 4.3 ä¸­å¼•å…¥çš„ã€‚åœ¨ Spring 4.3 ä¹‹å‰ï¼Œå¯èƒ½ä½¿ç”¨äº†ä¸€ä¸ªæ–¹æ³•çº§åˆ«çš„ @RequestMapping æ³¨é‡Šä½œä¸ºæ›¿ä»£<code>@RequestMapping(method=RequestMethod.GET) </code>ã€‚</p>
<p>showDesignForm() æ–¹æ³•å°†å¤„ç†è¯·æ±‚ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æ–¹æ³•ä½“ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è¯¥æ–¹æ³•çš„å¤§éƒ¨åˆ†æ„é€ äº†ä¸€ä¸ªæˆä»½å¯¹è±¡åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨ç°åœ¨æ˜¯ç¡¬ç¼–ç çš„ã€‚å½“æˆ‘ä»¬è®²åˆ°ç¬¬ 3 ç« çš„æ—¶å€™ï¼Œä½ ä¼šä»æ•°æ®åº“ä¸­æ‰¾åˆ°ç‰ç±³é¥¼çš„åŸæ–™åˆ—è¡¨ã€‚ä¸€æ—¦å‡†å¤‡å¥½äº†åŸæ–™åˆ—è¡¨ï¼Œæ¥ä¸‹æ¥çš„å‡ è¡Œ showDesignForm() å°†æ ¹æ®åŸæ–™ç±»å‹è¿‡æ»¤è¯¥åˆ—è¡¨ã€‚ç„¶åå°†æˆåˆ†ç±»å‹åˆ—è¡¨ä½œä¸ºå±æ€§æ·»åŠ Modelå¯¹è±¡ä¸Šï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ä»¥å‚æ•°çš„å½¢å¼ä¼ é€’ç»™ showDesignForm() æ–¹æ³•çš„ã€‚Model æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåœ¨æ§åˆ¶å™¨å’Œè´Ÿè´£å‘ˆç°æ•°æ®çš„è§†å›¾ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚æœ€åï¼Œæ”¾ç½®åœ¨ Model ç±»å±æ€§ä¸­çš„æ•°æ®è¢«å¤åˆ¶åˆ° servlet å“åº”å±æ€§ä¸­ï¼Œè§†å›¾å¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°å®ƒä»¬ã€‚showDesignForm() æ–¹æ³•æœ€åè¿”å› â€œdesignâ€ï¼Œè¿™æ˜¯å°†ç”¨äºå‘æµè§ˆå™¨å‘ˆç° Model çš„è§†å›¾çš„é€»è¾‘åç§°ã€‚</p>
<p>DesignTacoController çœŸçš„å¼€å§‹æˆå½¢äº†ã€‚å¦‚æœæ‚¨ç°åœ¨è¿è¡Œåº”ç”¨ç¨‹åºå¹¶å°†æ‚¨çš„æµè§ˆå™¨æŒ‡å‘ <code>/design</code> è·¯å¾„ï¼ŒDesignTacoController çš„ showDesignForm() å°†è¢«å ç”¨ï¼Œå®ƒä»å­˜å‚¨åº“ä¸­è·å–æ•°æ®å¹¶å°†å…¶æ”¾åœ¨ Model ä¸­ï¼Œç„¶åå°†è¯·æ±‚ä¼ é€’ç»™è§†å›¾ã€‚ä½†æ˜¯å› ä¸ºè¿˜æ²¡æœ‰å®šä¹‰è§†å›¾ï¼Œæ‰€ä»¥è¯·æ±‚ä¼šå‘ç”Ÿå¯æ€•çš„è½¬å˜ï¼Œå¯¼è‡´ HTTP 404ï¼ˆNot Foundï¼‰é”™è¯¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬å°†æ³¨æ„åŠ›è½¬ç§»åˆ°è§†å›¾ä¸Šï¼Œå…¶ä¸­çš„æ•°æ®å°†ç”¨ HTML è¿›è¡Œä¿®é¥°ï¼Œå¹¶åœ¨ç”¨æˆ·çš„ web æµè§ˆå™¨ä¸­æ˜¾ç¤ºã€‚</p>
<h3 id="è®¾è®¡è§†å›¾"><a href="#è®¾è®¡è§†å›¾" class="headerlink" title="è®¾è®¡è§†å›¾"></a>è®¾è®¡è§†å›¾</h3><p>æ§åˆ¶å™¨åˆ›å»ºå®Œæˆåï¼Œå°±è¯¥å¼€å§‹è®¾è®¡è§†å›¾äº†ã€‚Spring ä¸ºå®šä¹‰è§†å›¾æä¾›äº†å‡ ä¸ªå¾ˆå¥½çš„é€‰é¡¹ï¼ŒåŒ…æ‹¬ JavaServer Pagesï¼ˆJSPï¼‰ã€Thymeleafã€FreeMarkerã€Mustache å’ŒåŸºäº Groovy çš„æ¨¡æ¿ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Thymeleafï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨ç¬¬ 1 ç« å¼€å§‹é¡¹ç›®æ—¶æ‰€åšçš„é€‰æ‹©ã€‚</p>
<p>åƒ Thymeleaf è¿™æ ·çš„è§†å›¾åº“è¢«è®¾è®¡æˆä¸ä»»ä½•ç‰¹å®šçš„ web æ¡†æ¶è§£è€¦ã€‚å› æ­¤ï¼Œä»–ä»¬ä¸çŸ¥é“ Spring çš„æ¨¡å‹æŠ½è±¡ï¼Œå¹¶ä¸”æ— æ³•å¤„ç†æ§åˆ¶å™¨æ”¾ç½®åœ¨æ¨¡å‹ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯å®ƒä»¬å¯ä»¥å¤„ç† servlet è¯·æ±‚å±æ€§ã€‚å› æ­¤ï¼Œåœ¨ Spring å°†è¯·æ±‚æäº¤ç»™è§†å›¾ä¹‹å‰ï¼Œå®ƒå°†æ¨¡å‹æ•°æ®å¤åˆ¶åˆ°è¯·æ±‚å±æ€§ä¸­ï¼Œè€Œ Thymeleaf å’Œå…¶ä»–è§†å›¾æ¨¡æ¿é€‰é¡¹å¯ä»¥éšæ—¶è®¿é—®è¿™äº›å±æ€§ã€‚</p>
<p>Thymeleaf æ¨¡æ¿åªæ˜¯ HTML ä¸ä¸€äº›é¢å¤–çš„å…ƒç´ å±æ€§ï¼ŒæŒ‡å¯¼æ¨¡æ¿åœ¨æ¸²æŸ“è¯·æ±‚æ•°æ®ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Taco Cloud<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/styles.css&#125;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Design your taco!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/images/TacoCloud.png&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">th:object</span>=<span class="string">&quot;$&#123;design&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ingredient-group&quot;</span> <span class="attr">id</span>=<span class="string">&quot;wraps&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Designate your wrap:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:each</span>=<span class="string">&quot;ingredient : $&#123;wrap&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ingredients&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;ingredient.id&#125;&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;ingredient.name&#125;&quot;</span>&gt;</span>INGREDIENT<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ingredient-group&quot;</span> <span class="attr">id</span>=<span class="string">&quot;proteins&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Pick your protein:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:each</span>=<span class="string">&quot;ingredient : $&#123;protein&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ingredients&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;ingredient.id&#125;&quot;</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;ingredient.name&#125;&quot;</span>&gt;</span>INGREDIENT<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ingredient-group&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cheeses&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Choose your cheese:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:each</span>=<span class="string">&quot;ingredient : $&#123;cheese&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ingredients&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;ingredient.id&#125;&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;ingredient.name&#125;&quot;</span>&gt;</span>INGREDIENT<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ingredient-group&quot;</span> <span class="attr">id</span>=<span class="string">&quot;veggies&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Determine your veggies:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:each</span>=<span class="string">&quot;ingredient : $&#123;veggies&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ingredients&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;ingredient.id&#125;&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;ingredient.name&#125;&quot;</span>&gt;</span>INGREDIENT<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ingredient-group&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sauces&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Select your sauce:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:each</span>=<span class="string">&quot;ingredient : $&#123;sauce&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;ingredients&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;ingredient.id&#125;&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;ingredient.name&#125;&quot;</span>&gt;</span>INGREDIENT<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Name your taco creation:<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;name&#125;&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit your taco<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºæ¯ç§ç±»å‹çš„é…æ–™ï¼Œéƒ½è¦é‡å¤ <code>&lt;div&gt;</code> ç‰‡æ®µã€‚è¿˜åŒ…æ‹¬ä¸€ä¸ªæäº¤æŒ‰é’®å’Œä¸€ä¸ªå­—æ®µï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­å‘½åä»–ä»¬çš„åˆ›å»ºã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®Œæ•´çš„æ¨¡æ¿åŒ…æ‹¬ Taco Cloud å›¾æ ‡å›¾ç‰‡å’Œä¸€ä¸ªæŒ‡å‘æ ·å¼è¡¨çš„ <code>&lt;link&gt;</code> å¼•ç”¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼ŒThymeleaf çš„ <code>@&#123;&#125;</code> æ“ä½œç¬¦è¢«ç”¨æ¥äº§ç”Ÿä¸€ä¸ªä¸Šä¸‹æ–‡ç›¸å…³è·¯å¾„çš„é™æ€å·¥ä»¶ï¼Œå®ƒä»¬æ­£åœ¨å¼•ç”¨ã€‚æ­£å¦‚åœ¨ç¬¬ 1 ç« ä¸­äº†è§£åˆ°çš„ï¼ŒSpring å¯åŠ¨åº”ç”¨ç¨‹åºä¸­çš„é™æ€å†…å®¹æ˜¯ä»ç±»è·¯å¾„æ ¹ç›®å½•çš„ /static ç›®å½•æä¾›çš„ã€‚</p>
<p>ç°åœ¨æ§åˆ¶å™¨å’Œè§†å›¾å·²ç»å®Œæˆï¼Œå¯ä»¥å¯åŠ¨åº”ç”¨ç¨‹åºäº†ã€‚è¿è¡Œ Spring Boot åº”ç”¨ç¨‹åºæœ‰è®¸å¤šæ–¹æ³•ã€‚åœ¨ç¬¬ 1 ç« ä¸­ï¼Œå±•ç¤ºäº†å¦‚ä½•è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œé¦–å…ˆå°†å®ƒæ„å»ºåˆ°ä¸€ä¸ªå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ä¸­ï¼Œç„¶åä½¿ç”¨ <code>java -jar</code> è¿è¡Œè¿™ä¸ª JARã€‚å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>mvn spring-boot:run</code> ä»æ„å»ºä¸­ç›´æ¥è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<p>æ— è®ºå¦‚ä½•å¯åŠ¨ Taco Cloud åº”ç”¨ç¨‹åºï¼Œä¸€æ—¦å¯åŠ¨ï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/design%E3%80%82%E5%BA%94%E8%AF%A5%E7%9C%8B%E5%88%B0%E7%B1%BB%E4%BC%BC%E5%9B%BE">http://localhost:8080/designã€‚åº”è¯¥çœ‹åˆ°ç±»ä¼¼å›¾</a> 2.2 çš„é¡µé¢ã€‚</p>
<h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><blockquote>
<p>ç¬”è®°ï¼šIDEAè‡ªåŠ¨importï¼Ÿ</p>
<p>æ‰“å¼€ IDEA çš„é¦–é€‰é¡¹ï¼Œæ‰¾åˆ° Editor | General | Auto Importã€‚å‹¾é€‰ä¸Š <code>Add unambiguous imports on the fly</code> å’Œ <code>Optimize imports on the fly (for current project)</code>ã€‚</p>
</blockquote>
<p>å‡ºç°é—®é¢˜ï¼šSpringbooté¡¹ç›®javax.validationæ‰¾ä¸åˆ°ï¼š</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š<a href="https://www.jb51.net/article/185660.htm">https://www.jb51.net/article/185660.htm</a></p>
<p>æ‰¾ä¸åˆ°åŒ…ï¼š<a href="https://www.cnblogs.com/keadd/p/13652629.html">https://www.cnblogs.com/keadd/p/13652629.html</a></p>
<p>æœªè§£å†³ï¼Œæ³¨é‡ŠTacoç±»éƒ¨åˆ†è¡Œã€‚</p>
<p>è¿è¡Œä¸æ­£ç¡®ï¼Œåº”è¯¥æ˜¯design.htmlä¸­ä»£ç çš„é—®é¢˜ï¼Œæ— æ³•æ˜¾ç¤ºç½‘é¡µã€‚</p>
<p>æ·»åŠ äº†ä¸€ä¸ªwebconfig.javaæ–‡ä»¶ï¼Œä¾ç„¶ä¸è¡Œã€‚</p>
<p>è¿è¡Œç½‘ä¸Šä»£ç ï¼Œæ˜¯å¯ä»¥çš„ã€‚</p>
<h2 id="å¤„ç†è¡¨å•æäº¤"><a href="#å¤„ç†è¡¨å•æäº¤" class="headerlink" title="å¤„ç†è¡¨å•æäº¤"></a>å¤„ç†è¡¨å•æäº¤</h2><p>ç¬¬ä¸€ç« æ˜¾ç¤ºtacoé¦–é¡µï¼Œç¬¬äºŒç« æ˜¾ç¤ºé…æ–™é€‰å–é¡µ/designï¼ŒæœåŠ¡ç«¯æŒ‡å®šå¯é€‰çš„é…æ–™ï¼Œä¼ é€’ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è®¿é—®designé¡µé¢é€šè¿‡getè¯·æ±‚ã€‚å®¢æˆ·ç«¯é€‰æ‹©ä¹‹åï¼Œéœ€è¦è¿›è¡Œè¡¨å•æäº¤ï¼Œpostè¯·æ±‚ï¼Œä¼ é€’å›æœåŠ¡ç«¯ï¼Œè·¯å¾„ç›¸åŒï¼Œéƒ½æ˜¯designã€‚</p>
<p>éœ€è¦åœ¨è¯¥ POST è¯·æ±‚çš„æ¥æ”¶ç«¯ä¸Šæœ‰ä¸€ä¸ªæ§åˆ¶å™¨å¤„ç†ç¨‹åºæ–¹æ³•ã€‚éœ€è¦åœ¨ DesignTacoController ä¸­ç¼–å†™ä¸€ä¸ªæ–°çš„å¤„ç†ç¨‹åºæ–¹æ³•æ¥å¤„ç† <code>/design</code> æ¥å£çš„ POST è¯·æ±‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">processDesign</span><span class="params">(Taco design)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Save the taco design...</span></span><br><span class="line">    <span class="comment">// We&#x27;ll do this in chapter 3</span></span><br><span class="line">    log.info(<span class="string">&quot;Processing design: &quot;</span> + design);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/orders/current&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“åº”ç”¨åˆ° processDesign() æ–¹æ³•æ—¶ï¼Œ@PostMapping ä¸ç±»çº§åˆ« @RequestMapping ç›¸åè°ƒï¼Œä»¥è¡¨æ˜ processDesign() åº”è¯¥å¤„ç† <code>/design</code> æ¥å£çš„ POST è¯·æ±‚ã€‚è¿™æ­£æ˜¯éœ€è¦å¤„ç†çš„ä¸€ä¸ªç‰ç±³é¥¼è‰ºæœ¯å®¶æäº¤çš„ä½œå“ã€‚</p>
<p>è¯¥æ–¹æ³•éœ€è¦ä¼ é€’ä¸€ä¸ªTacoå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«äº†é…æ–™å’Œåå­—ç­‰ï¼Œæ–¹æ³•ä¸­å¯¹tacoå¯¹è±¡è¿›è¡Œå¤„ç†ã€‚åœ¨ç¬¬ 3 ç« ä¸­ï¼Œå°†æ·»åŠ ä¸€äº›æŒä¹…æ€§é€»è¾‘ï¼Œå°†æäº¤çš„ Taco ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Taco</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; ingredients;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Taco æ˜¯ä¸€ä¸ªç®€å•çš„ Java åŸŸå¯¹è±¡ï¼Œå…·æœ‰ä¸¤ä¸ªå±æ€§ã€‚ä¸ Ingredient ç±»ä¼¼ï¼ŒTaco ç±»ä¹Ÿä½¿ç”¨ @Data è¿›è¡Œæ³¨é‡Šï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç”ŸæˆåŸºæœ¬çš„ JavaBean æ–¹æ³•ã€‚</p>
<p>ä¸ showDesignForm() æ–¹æ³•ä¸€æ ·ï¼ŒprocessDesign() é€šè¿‡è¿”å›ä¸€ä¸ª String ç»“æŸã€‚ä¸ showDesignForm() ç±»ä¼¼ï¼Œè¿”å›çš„å€¼æŒ‡ç¤ºå°†æ˜¾ç¤ºç»™ç”¨æˆ·çš„è§†å›¾ã€‚ä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œä» processDesign() è¿”å›çš„å€¼çš„å‰ç¼€æ˜¯ â€œredirect:â€ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé‡å®šå‘è§†å›¾ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œå®ƒè¡¨æ˜åœ¨ processDesign() å®Œæˆä¹‹åï¼Œç”¨æˆ·çš„æµè§ˆå™¨åº”è¯¥è¢«é‡å®šå‘åˆ°ç›¸å¯¹è·¯å¾„ /order/currentã€‚</p>
<p>æ„æ€æ˜¯é‡å®šå‘åˆ°å¦ä¸€ä¸ªè·¯å¾„ï¼Ÿ /order/current ç›¸å½“äºæ˜¯/designä¸€æ ·çš„è·¯å¾„ï¼Œå› æ­¤éœ€è¦ç”¨ @Controllerã€@RequestMapping å’Œ @GetMappingåˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ã€‚</p>
<p>å±•ç°è®¢å•è¡¨å•çš„æ§åˆ¶å™¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package tacos.web;</span><br><span class="line">â€‹</span><br><span class="line">import javax.validation.Valid;</span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.ui.Model;</span><br><span class="line">import org.springframework.validation.Errors;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import tacos.Order;</span><br><span class="line">â€‹</span><br><span class="line">@Slf4j</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/orders&quot;)</span><br><span class="line">public class OrderController &#123;</span><br><span class="line">    @GetMapping(&quot;/current&quot;)</span><br><span class="line">    public String orderForm(Model model) &#123;</span><br><span class="line">        model.addAttribute(&quot;order&quot;, new Order());</span><br><span class="line">        return &quot;orderForm&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ Lombok çš„ @Slf4j æ³¨é‡Šåœ¨è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ª SLF4J Logger å¯¹è±¡ã€‚ç¨åï¼Œå°†ä½¿ç”¨è¿™ä¸ª Logger æ¥è®°å½•æäº¤çš„è®¢å•çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>ç±»çº§åˆ«çš„ @RequestMapping æŒ‡å®šè¯¥æ§åˆ¶å™¨ä¸­çš„ä»»ä½•è¯·æ±‚å¤„ç†æ–¹æ³•éƒ½å°†å¤„ç†è·¯å¾„ä»¥ /orders å¼€å¤´çš„è¯·æ±‚ã€‚å½“ä¸æ–¹æ³•çº§ @GetMapping ç»“åˆä½¿ç”¨æ—¶ï¼Œå®ƒæŒ‡å®š orderForm() æ–¹æ³•å°†å¤„ç† /orders/current çš„ HTTP GET è¯·æ±‚ã€‚</p>
<p>è‡³äº orderForm() æ–¹æ³•æœ¬èº«ï¼Œå®ƒéå¸¸ç®€å•ï¼Œåªè¿”å› orderForm çš„é€»è¾‘è§†å›¾åã€‚åœ¨ç¬¬ 3 ç« ä¸­ï¼Œä¸€æ—¦æœ‰äº†æŠŠåˆ›å»ºçš„ taco æŒä¹…åŒ–åˆ°æ•°æ®åº“çš„æ–¹æ³•ï¼Œå°†é‡æ–°è®¿é—®è¯¥æ–¹æ³•å¹¶ä¿®æ”¹å®ƒï¼Œä»¥ä½¿ç”¨ taco å¯¹è±¡çš„åˆ—è¡¨å¡«å……æ¨¡å‹ï¼Œè¿™äº›å¯¹è±¡å°†æŒ‰é¡ºåºæ”¾ç½®ã€‚</p>
<p>orderForm è§†å›¾ç”±ä¸€ä¸ªåä¸º orderForm.html çš„ Thymeleaf æ¨¡æ¿æä¾›ï¼Œå¦‚ä¸‹é¢æ˜¾ç¤ºçš„ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Taco Cloud<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/styles.css&#125;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/orders&#125;&quot;</span> <span class="attr">th:object</span>=<span class="string">&quot;$&#123;order&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Order your taco creations!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/images/TacoCloud.png&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/design&#125;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;another&quot;</span>&gt;</span>Design another taco<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:if</span>=<span class="string">&quot;$&#123;#fields.hasErrors()&#125;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;validationError&quot;</span>&gt;</span></span><br><span class="line">                    Please correct the problems below and resubmit.</span><br><span class="line">                <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Deliver my taco masterpieces to...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;name&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;street&quot;</span>&gt;</span>Street address: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;street&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;city&quot;</span>&gt;</span>City: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;city&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;state&quot;</span>&gt;</span>State: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;state&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;zip&quot;</span>&gt;</span>Zip code: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;zip&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Here&#x27;s how I&#x27;ll pay...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;ccNumber&quot;</span>&gt;</span>Credit Card #: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;ccNumber&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;ccExpiration&quot;</span>&gt;</span>Expiration: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;ccExpiration&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;ccCVV&quot;</span>&gt;</span>CVV: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;ccCVV&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit order&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ <code>&lt;form&gt; </code>æ ‡è®°ä¸design ä¸­ä½¿ç”¨çš„ <code>&lt;form&gt; </code>æ ‡è®°ä¸åŒï¼Œå› ä¸ºå®ƒè¿˜æŒ‡å®šäº†ä¸€ä¸ªè¡¨å•æ“ä½œã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šæ“ä½œï¼Œè¡¨å•å°†å‘å‘ˆç°è¡¨å•çš„ç›¸åŒ URL æäº¤ HTTP POST è¯·æ±‚ã€‚ä½†æ˜¯åœ¨è¿™é‡Œï¼ŒæŒ‡å®šè¡¨å•åº”è¯¥æäº¤åˆ° /ordersï¼ˆä½¿ç”¨ Thymeleaf çš„ <code>@&#123;â€¦&#125;</code> æ“ä½œç¬¦ä½œä¸ºä¸Šä¸‹æ–‡ç›¸å…³è·¯å¾„ï¼‰ã€‚</p>
<blockquote>
<p>ä¸designæäº¤çš„postä¸åŒï¼Œé‚£ä¸ªurlä¸€æ ·ï¼Œè€Œè¿™ä¸ªurlæœ¬æ¥æ˜¯order/currentï¼Œåº”è¯¥å˜ä¸ºorderã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œéœ€è¦æ·»åŠ å¦å¤–ä¸€ä¸ªæ–¹æ³•åˆ° OrderController ç±»ä¸­ï¼Œå»å¤„ç† /orders æ¥å£çš„ POST è¯·æ±‚ã€‚åœ¨è¿›è¡Œåˆ°ä¸‹ä¸€ç« ä¹‹å‰ï¼Œè¿˜æ²¡æœ‰åŠæ³•å°†è®¢å•æŒä¹…åŒ–ï¼Œå› æ­¤åœ¨è¿™é‡Œç®€åŒ–å®ƒ â€”â€” ç±»ä¼¼äºåœ¨ä¸‹ä¸€ä¸ªç¨‹åºæ¸…å•ä¸­çœ‹åˆ°çš„å†…å®¹ã€‚</p>
<blockquote>
<p>é‡å®šå‘åˆ°è®¢å•ï¼Œæ˜¾ç¤ºè®¢å•é¡µï¼Œè®¢å•è¡¨å•ä¸­ï¼Œæœ‰è®¢å•æäº¤ï¼Œpostè¯·æ±‚ï¼Œéœ€è¦ä¸€ä¸ªæ§åˆ¶å™¨ã€‚è¿”å›é¦–é¡µã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@PostMapping</span><br><span class="line">public String processOrder(Order order) &#123;</span><br><span class="line">    log.info(&quot;Order submitted: &quot; + order);</span><br><span class="line">    return &quot;redirect:/&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“è°ƒç”¨ processOrder() æ–¹æ³•æ¥å¤„ç†æäº¤çš„è®¢å•æ—¶ï¼Œå®ƒå°†è·å¾—ä¸€ä¸ª order å¯¹è±¡ï¼Œå…¶å±æ€§ç»‘å®šåˆ°æäº¤çš„è¡¨å•å­—æ®µã€‚Order éå¸¸åƒ Tacoï¼Œæ˜¯ä¸€ä¸ªç›¸å½“ç®€å•çš„ç±»ï¼Œå®ƒæºå¸¦è®¢å•ä¿¡æ¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Digits;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.CreditCardNumber;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.NotBlank;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String street;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">    <span class="keyword">private</span> String ccNumber;</span><br><span class="line">    <span class="keyword">private</span> String ccExpiration;</span><br><span class="line">    <span class="keyword">private</span> String ccCVV;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ ¡éªŒè¡¨å•è¾“å…¥"><a href="#æ ¡éªŒè¡¨å•è¾“å…¥" class="headerlink" title="æ ¡éªŒè¡¨å•è¾“å…¥"></a>æ ¡éªŒè¡¨å•è¾“å…¥</h2><p>æ‰§è¡Œè¡¨å•éªŒè¯çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨ processDesign() å’Œ processOrder() æ–¹æ³•ä¸­åŠ å…¥ä¸€å † if/then å—ï¼Œæ£€æŸ¥æ¯ä¸ªå­—æ®µä»¥ç¡®ä¿å®ƒæ»¡è¶³é€‚å½“çš„éªŒè¯è§„åˆ™ã€‚ä½†æ˜¯è¿™æ ·åšä¼šå¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”éš¾äºé˜…è¯»å’Œè°ƒè¯•ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒSpring æ”¯æŒ Javaâ€™s Bean Validation APIï¼ˆä¹Ÿç§°ä¸º JSR-303ï¼›<a href="https://jcp.org/en/jsr/detail?id=303%EF%BC%89%E3%80%82%E8%BF%99%E4%BD%BF%E5%BE%97%E5%A3%B0%E6%98%8E%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99%E6%AF%94%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%98%BE%E5%BC%8F%E5%9C%B0%E7%BC%96%E5%86%99%E5%A3%B0%E6%98%8E%E9%80%BB%E8%BE%91%E6%9B%B4%E5%AE%B9%E6%98%93%E3%80%82%E4%BD%BF%E7%94%A8">https://jcp.org/en/jsr/detail?id=303ï¼‰ã€‚è¿™ä½¿å¾—å£°æ˜éªŒè¯è§„åˆ™æ¯”åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­æ˜¾å¼åœ°ç¼–å†™å£°æ˜é€»è¾‘æ›´å®¹æ˜“ã€‚ä½¿ç”¨</a> Spring Bootï¼Œä¸éœ€è¦åšä»»ä½•ç‰¹æ®Šçš„äº‹æƒ…æ¥å°†éªŒè¯åº“æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œå› ä¸º Validation API å’Œ Validation API çš„ Hibernate å®ç°ä½œä¸ºSpring Boot web å¯åŠ¨ç¨‹åºçš„ä¸´æ—¶ä¾èµ–é¡¹è‡ªåŠ¨æ·»åŠ åˆ°äº†é¡¹ç›®ä¸­ã€‚</p>
<p>è¦åœ¨ Spring MVC ä¸­åº”ç”¨éªŒè¯ï¼Œéœ€è¦è¿™æ ·åšï¼š</p>
<ul>
<li>å¯¹è¦éªŒè¯çš„ç±»å£°æ˜éªŒè¯è§„åˆ™ï¼šç‰¹åˆ«æ˜¯ Taco ç±»ã€‚</li>
<li>æŒ‡å®šéªŒè¯åº”è¯¥åœ¨éœ€è¦éªŒè¯çš„æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰§è¡Œï¼Œå…·ä½“æ¥è¯´å°±æ˜¯ï¼šDesignTacoController çš„ processDesign() æ–¹æ³•å’Œ OrderController çš„ processOrder() æ–¹æ³•ã€‚</li>
<li>ä¿®æ”¹è¡¨å•è§†å›¾ä»¥æ˜¾ç¤ºéªŒè¯é”™è¯¯ã€‚</li>
</ul>
<h3 id="å£°æ˜éªŒè¯è§„åˆ™"><a href="#å£°æ˜éªŒè¯è§„åˆ™" class="headerlink" title="å£°æ˜éªŒè¯è§„åˆ™"></a>å£°æ˜éªŒè¯è§„åˆ™</h3><p>å¯¹äº Taco ç±»ï¼Œå¸Œæœ›ç¡®ä¿ name å±æ€§ä¸æ˜¯ç©ºçš„æˆ– null çš„ï¼Œå¹¶ä¸”æ‰€é€‰é…æ–™åˆ—è¡¨ä¸­è‡³å°‘æœ‰ä¸€é¡¹ã€‚ä¸‹é¢çš„ç¨‹åºæ¸…å•æ˜¾ç¤ºäº†ä¸€ä¸ªæ›´æ–°åçš„ Taco ç±»ï¼Œå®ƒä½¿ç”¨ @NotNull å’Œ @Size æ¥å£°æ˜è¿™äº›éªŒè¯è§„åˆ™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Size;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Taco</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min=5, message=&quot;Name must be at least 5 characters long&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Size(min=1, message=&quot;You must choose at least 1 ingredient&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; ingredients;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æ¶‰åŠåˆ°å¯¹æäº¤ç‰ç±³é¥¼è®¢å•è¿›è¡ŒéªŒè¯å£°æ˜æ—¶ï¼Œå¿…é¡»å¯¹ Order ç±»åº”ç”¨æ³¨è§£ã€‚å¯¹äºåœ°å€çš„å±æ€§ï¼Œåªéœ€è¦ç¡®ä¿ç”¨æˆ·æ²¡æœ‰ç•™ä¸‹ä»»ä½•ç©ºç™½å­—æ®µã€‚å¯¹äºè¿™ä¸€ç‚¹ï¼Œå°†ä½¿ç”¨ Hibernate Validator çš„ @NotBlank æ³¨è§£ã€‚</p>
<p>æ”¯ä»˜é¢†åŸŸçš„éªŒè¯æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥‡ç‰¹çš„å­˜åœ¨ã€‚ä½ ä¸ä»…éœ€è¦ç¡®ä¿ ccNumber å±æ€§ä¸ä¸ºç©ºï¼Œè¿˜è¦ç¡®ä¿å®ƒåŒ…å«çš„æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¿¡ç”¨å¡å·ç çš„å€¼ã€‚è¯¥ ccExpiration å±æ€§å¿…é¡»ç¬¦åˆ MM/YYï¼ˆä¸¤ä½æ•°çš„å¹´/æœˆï¼‰æ ¼å¼ã€‚è€Œ ccCVV å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªä¸‰ä½çš„æ•°å­—ã€‚ä¸ºäº†å®ç°è¿™ç§éªŒè¯ï¼Œéœ€è¦ä½¿ç”¨ä¸€äº›å…¶ä»–çš„ Java Bean Validation API æ³¨é‡Šï¼ŒåŒæ—¶éœ€è¦ä» Hibernate Validator é›†åˆä¸­å€Ÿç”¨ä¸€äº›éªŒè¯æ³¨è§£ã€‚ä¸‹é¢ç¨‹åºæ¸…å•åˆ—å‡ºäº†éªŒè¯ Order ç±»æ‰€éœ€è¦çš„æ”¹å˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Digits;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.CreditCardNumber;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotBlank;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message=&quot;Name is required&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message=&quot;Street is required&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String street;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message=&quot;City is required&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message=&quot;State is required&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message=&quot;Zip code is required&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String zip;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@CreditCardNumber(message=&quot;Not a valid credit card number&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String ccNumber;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pattern(regexp=&quot;^(0[1-9]|1[0-2])([\\/])([1-9][0-9])$&quot;,</span></span><br><span class="line"><span class="meta">             message=&quot;Must be formatted MM/YY&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String ccExpiration;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Digits(integer=3, fraction=0, message=&quot;Invalid CVV&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String ccCVV;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼ŒccNumber å±æ€§ç”¨ @CreditCardNumber è¿›è¡Œäº†æ³¨é‡Šã€‚è¯¥æ³¨é‡Šå£°æ˜å±æ€§çš„å€¼å¿…é¡»æ˜¯é€šè¿‡ Luhn ç®—æ³•ï¼ˆ<a href="https://en.wikipedia.org/wiki/Luhn_algorithm%EF%BC%89%E6%A3%80%E6%9F%A5%E8%BF%87%E7%9A%84%E6%9C%89%E6%95%88%E4%BF%A1%E7%94%A8%E5%8D%A1%E5%8F%B7%E3%80%82%E8%BF%99%E5%8F%AF%E4%BB%A5%E9%98%B2%E6%AD%A2%E7%94%A8%E6%88%B7%E5%87%BA%E9%94%99%E7%9A%84%E6%95%B0%E6%8D%AE%E5%92%8C%E6%95%85%E6%84%8F%E9%94%99%E8%AF%AF%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%83%BD%E4%BF%9D%E8%AF%81%E4%BF%A1%E7%94%A8%E5%8D%A1%E5%8F%B7%E7%A0%81%E5%AE%9E%E9%99%85%E4%B8%8A%E8%A2%AB%E5%88%86%E9%85%8D%E5%88%B0%E4%B8%80%E4%B8%AA%E5%B8%90%E6%88%B7%EF%BC%8C%E6%88%96%E8%AF%A5%E5%B8%90%E6%88%B7%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E4%BA%A4%E6%98%93%E3%80%82">https://en.wikipedia.org/wiki/Luhn_algorithmï¼‰æ£€æŸ¥è¿‡çš„æœ‰æ•ˆä¿¡ç”¨å¡å·ã€‚è¿™å¯ä»¥é˜²æ­¢ç”¨æˆ·å‡ºé”™çš„æ•°æ®å’Œæ•…æ„é”™è¯¯çš„æ•°æ®ï¼Œä½†ä¸èƒ½ä¿è¯ä¿¡ç”¨å¡å·ç å®é™…ä¸Šè¢«åˆ†é…åˆ°ä¸€ä¸ªå¸æˆ·ï¼Œæˆ–è¯¥å¸æˆ·å¯ä»¥ç”¨äºäº¤æ˜“ã€‚</a></p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰ç°æˆçš„æ³¨é‡Šæ¥éªŒè¯ ccExpiration å±æ€§çš„ MM/YY æ ¼å¼ã€‚æˆ‘å·²ç»åº”ç”¨äº† @Pattern æ³¨é‡Šï¼Œä¸ºå®ƒæä¾›äº†ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥ç¡®ä¿å±æ€§å€¼ç¬¦åˆæ‰€éœ€çš„æ ¼å¼ã€‚</p>
<p>æœ€åï¼Œç”¨ @Digits æ³¨é‡Š ccCVV å±æ€§ï¼Œä»¥ç¡®ä¿å€¼æ°å¥½åŒ…å«ä¸‰ä¸ªæ•°å­—ã€‚</p>
<p>æ‰€æœ‰çš„éªŒè¯æ³¨é‡Šéƒ½åŒ…å«ä¸€ä¸ªæ¶ˆæ¯å±æ€§ï¼Œè¯¥å±æ€§å®šä¹‰äº†å¦‚æœç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ä¸ç¬¦åˆå£°æ˜çš„éªŒè¯è§„åˆ™çš„è¦æ±‚æ—¶å°†æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ¶ˆæ¯ã€‚</p>
<h3 id="è¡¨å•ç»‘å®šæ—¶æ‰§è¡Œæ ¡éªŒ"><a href="#è¡¨å•ç»‘å®šæ—¶æ‰§è¡Œæ ¡éªŒ" class="headerlink" title="è¡¨å•ç»‘å®šæ—¶æ‰§è¡Œæ ¡éªŒ"></a>è¡¨å•ç»‘å®šæ—¶æ‰§è¡Œæ ¡éªŒ</h3><p>ä¸Šä¸€èŠ‚åœ¨é¢†åŸŸç±»ä¸­åˆ¶å®šäº†éªŒè¯è§„åˆ™ï¼Œç°åœ¨éœ€è¦é‡æ–°ä¿®æ”¹æ¯ä¸ªæ§åˆ¶å™¨ï¼Œè®©è¡¨å•åœ¨POSTæäº¤è‡³å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ—¶æ‰§è¡Œå¯¹åº”çš„æ ¡éªŒã€‚</p>
<p>è¦éªŒè¯æäº¤çš„ Tacoï¼Œéœ€è¦å°† Java Bean Validation API çš„ @Valid æ³¨é‡Šæ·»åŠ åˆ° DesignTacoController çš„ processDesign() æ–¹æ³•çš„ Taco å‚æ•°ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">processDesign</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@ModelAttribute(&quot;design&quot;)</span> Taco design, Errors errors)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (errors.hasErrors()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;design&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Save the taco design...</span></span><br><span class="line">    <span class="comment">// We&#x27;ll do this in chapter 3</span></span><br><span class="line">    log.info(<span class="string">&quot;Processing design: &quot;</span> + design);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/orders/current&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Valid æ³¨é‡Šå‘Šè¯‰ Spring MVC åœ¨æäº¤çš„ Taco å¯¹è±¡ç»‘å®šåˆ°æäº¤çš„è¡¨å•æ•°æ®ä¹‹åï¼Œä»¥åŠè°ƒç”¨ processDesign() æ–¹æ³•ä¹‹å‰ï¼Œå¯¹æäº¤çš„ Taco å¯¹è±¡æ‰§è¡ŒéªŒè¯ã€‚å¦‚æœå­˜åœ¨ä»»ä½•éªŒè¯é”™è¯¯ï¼Œè¿™äº›é”™è¯¯çš„è¯¦ç»†ä¿¡æ¯å°†åœ¨ä¼ é€’åˆ° processDesign() çš„é”™è¯¯å¯¹è±¡ä¸­æ•è·ã€‚processDesign() çš„å‰å‡ è¡ŒæŸ¥è¯¢ Errors å¯¹è±¡ï¼Œè¯¢é—®å®ƒçš„ hasErrors() æ–¹æ³•æ˜¯å¦å­˜åœ¨ä»»ä½•éªŒè¯é”™è¯¯ã€‚å¦‚æœæœ‰ï¼Œè¯¥æ–¹æ³•ç»“æŸæ—¶ä¸å¤„ç† Tacoï¼Œå¹¶è¿”å› â€œdesignâ€ è§†å›¾åï¼Œä»¥ä¾¿é‡æ–°æ˜¾ç¤ºè¡¨å•ã€‚</p>
<p>è¦å¯¹æäº¤çš„ Order å¯¹è±¡æ‰§è¡ŒéªŒè¯ï¼Œè¿˜éœ€è¦å¯¹ OrderController çš„ processOrder() æ–¹æ³•è¿›è¡Œç±»ä¼¼çš„æ›´æ”¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">processOrder</span><span class="params">(<span class="meta">@Valid</span> Order order, Errors errors)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (errors.hasErrors()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;orderForm&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    log.info(<span class="string">&quot;Order submitted: &quot;</span> + order);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰éªŒè¯é”™è¯¯ï¼Œåˆ™å…è®¸è¯¥æ–¹æ³•å¤„ç†æäº¤çš„æ•°æ®ã€‚å¦‚æœå­˜åœ¨éªŒè¯é”™è¯¯ï¼Œåˆ™è¯·æ±‚å°†è¢«è½¬å‘åˆ°è¡¨å•è§†å›¾ï¼Œä»¥ä¾¿ç”¨æˆ·æœ‰æœºä¼šçº æ­£å…¶é”™è¯¯ã€‚</p>
<h3 id="æ˜¾ç¤ºéªŒè¯é”™è¯¯"><a href="#æ˜¾ç¤ºéªŒè¯é”™è¯¯" class="headerlink" title="æ˜¾ç¤ºéªŒè¯é”™è¯¯"></a>æ˜¾ç¤ºéªŒè¯é”™è¯¯</h3><p>å‰é¢ä¼šåœ¨ä¼ å…¥æ§åˆ¶å™¨ä¹‹å‰è¿›è¡ŒéªŒè¯ï¼ŒéªŒè¯æœ‰è¯¯ï¼Œåˆ™è¿”å›ä¹‹å‰é¡µé¢ã€‚</p>
<p>ä½†æ˜¯ç”¨æˆ·å¦‚ä½•çŸ¥é“å“ªäº›é”™è¯¯éœ€è¦æ”¹æ­£å‘¢ï¼Ÿé™¤éè°ƒå‡ºè¡¨å•ä¸Šçš„é”™è¯¯ï¼Œå¦åˆ™ç”¨æˆ·å°†åªèƒ½çŒœæµ‹å¦‚ä½•æˆåŠŸæäº¤è¡¨å•ã€‚</p>
<p>Thymeleaf é€šè¿‡ fields å±æ€§åŠå…¶ <code>th:errors</code> å±æ€§æä¾›äº†å¯¹ Errors å¯¹è±¡çš„ä¾¿æ·è®¿é—®ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨ä¿¡ç”¨å¡å·å­—æ®µä¸Šæ˜¾ç¤ºéªŒè¯é”™è¯¯ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ª <code>&lt;span&gt; </code>å…ƒç´ ï¼Œè¯¥å…ƒç´ å°†è¿™äº›é”™è¯¯å¼•ç”¨ç”¨äºè®¢å•æ¨¡æ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;label <span class="keyword">for</span>=<span class="string">&quot;ccNumber&quot;</span>&gt;Credit Card #: &lt;/label&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> th:field=<span class="string">&quot;*&#123;ccNumber&#125;&quot;</span>/&gt;</span><br><span class="line">&lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;validationError&quot;</span></span><br><span class="line">      th:<span class="keyword">if</span>=<span class="string">&quot;$&#123;#fields.hasErrors(&#x27;ccNumber&#x27;)&#125;&quot;</span></span><br><span class="line">      th:errors=<span class="string">&quot;*&#123;ccNumber&#125;&quot;</span>&gt;CC Num Error&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†å¯ä»¥ç”¨æ¥è®¾ç½®é”™è¯¯æ ·å¼ä»¥å¼•èµ·ç”¨æˆ·æ³¨æ„çš„ class å±æ€§å¤–ï¼Œ<span> å…ƒç´ è¿˜ä½¿ç”¨ <code>th:if</code> å±æ€§æ¥å†³å®šæ˜¯å¦æ˜¾ç¤º <span>ã€‚fields å±æ€§çš„ hasErrors() æ–¹æ³•æ£€æŸ¥ ccNumber å­—æ®µä¸­æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯ã€‚å¦‚æœæœ‰é”™è¯¯ï¼Œ<span> å°†è¢«æ¸²æŸ“ã€‚</span></span></span></p>
<p><code>th:errors</code> å±æ€§å¼•ç”¨ ccNumber å­—æ®µï¼Œå¹¶ä¸”å‡è®¾è¯¥å­—æ®µå­˜åœ¨é”™è¯¯ï¼Œå®ƒå°†ç”¨éªŒè¯æ¶ˆæ¯æ›¿æ¢ <span> å…ƒç´ çš„å ä½ç¬¦å†…å®¹ã€‚</span></p>
<h2 id="ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨"><a href="#ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨" class="headerlink" title="ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨"></a>ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå·²ç»ä¸º Taco Cloud åº”ç”¨ç¨‹åºç¼–å†™äº†ä¸‰ä¸ªæ§åˆ¶å™¨ã€‚å°½ç®¡æ¯ä¸ªæ§åˆ¶å™¨åœ¨åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ä¸Šéƒ½æœ‰ä¸åŒçš„ç”¨é€”ï¼Œä½†å®ƒä»¬å‡ ä¹éƒ½éµå¾ªç›¸åŒçš„ç¼–ç¨‹æ¨¡å‹ï¼š</p>
<ul>
<li>å®ƒä»¬éƒ½ç”¨ @Controller è¿›è¡Œäº†æ³¨é‡Šï¼Œä»¥è¡¨æ˜å®ƒä»¬æ˜¯æ§åˆ¶å™¨ç±»ï¼Œåº”è¯¥ç”± Spring ç»„ä»¶æ‰«æè‡ªåŠ¨å‘ç°ï¼Œå¹¶åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­ä½œä¸º bean è¿›è¡Œå®ä¾‹åŒ–ã€‚</li>
<li>é™¤äº† HomeController ä¹‹å¤–ï¼Œæ‰€æœ‰çš„æ§åˆ¶å™¨éƒ½åœ¨ç±»çº§åˆ«ä¸Šä½¿ç”¨ @RequestMapping è¿›è¡Œæ³¨é‡Šï¼Œä»¥å®šä¹‰æ§åˆ¶å™¨å°†å¤„ç†çš„åŸºæœ¬è¯·æ±‚æ¨¡å¼ã€‚</li>
<li>å®ƒä»¬éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½ç”¨ @GetMapping æˆ– @PostMapping è¿›è¡Œäº†æ³¨é‡Šï¼Œä»¥æä¾›å…³äºå“ªäº›æ–¹æ³•åº”è¯¥å¤„ç†å“ªäº›è¯·æ±‚çš„ç»†èŠ‚ã€‚</li>
</ul>
<p>å³å°†ç¼–å†™çš„å¤§å¤šæ•°æ§åˆ¶å™¨éƒ½å°†éµå¾ªè¿™ç§æ¨¡å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ§åˆ¶å™¨è¶³å¤Ÿç®€å•ï¼Œä¸å¡«å……æ¨¡å‹æˆ–æµç¨‹è¾“å…¥ï¼ˆå°±åƒ HomeController ä¸€æ ·ï¼‰ï¼Œé‚£ä¹ˆè¿˜æœ‰å¦ä¸€ç§å®šä¹‰æ§åˆ¶å™¨çš„æ–¹æ³•ã€‚è¯·æŸ¥çœ‹ä¸‹ä¸€ä¸ªç¨‹åºæ¸…å•ï¼Œäº†è§£å¦‚ä½•å£°æ˜è§†å›¾æ§åˆ¶å™¨ â€”â€” ä¸€ä¸ªåªå°†è¯·æ±‚è½¬å‘ç»™è§†å›¾çš„æ§åˆ¶å™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.web;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ViewControllerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/&quot;</span>).setViewName(<span class="string">&quot;home&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³äº @WebConfig æœ€å€¼å¾—æ³¨æ„çš„æ˜¯å®ƒå®ç°äº† WebMvcConfigurer æ¥å£ã€‚WebMvcConfigurer å®šä¹‰äº†å‡ ä¸ªé…ç½® Spring MVC çš„æ–¹æ³•ã€‚å°½ç®¡å®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œä½†å®ƒæä¾›äº†æ‰€æœ‰æ–¹æ³•çš„é»˜è®¤å®ç°ï¼Œå› æ­¤åªéœ€è¦†ç›–æ‰€éœ€çš„æ–¹æ³•ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œè¦†ç›–äº† addViewControllers() æ–¹æ³•ã€‚</p>
<p>addViewControllers() æ–¹æ³•æä¾›äº†ä¸€ä¸ª ViewControllerRegistryï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥æ³¨å†Œä¸€ä¸ªæˆ–å¤šä¸ªè§†å›¾æ§åˆ¶å™¨ã€‚åœ¨è¿™é‡Œï¼Œåœ¨æ³¨å†Œè¡¨ä¸Šè°ƒç”¨ addViewController()ï¼Œä¼ å…¥ â€œ/â€ï¼Œè¿™æ˜¯è§†å›¾æ§åˆ¶å™¨å¤„ç† GET è¯·æ±‚çš„è·¯å¾„ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª ViewControllerRegistration å¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸Šç«‹å³è°ƒç”¨ setViewName() æ¥æŒ‡å®š home ä½œä¸ºåº”è¯¥è½¬å‘ â€œ/â€ è¯·æ±‚çš„è§†å›¾ã€‚</p>
<p>å°±åƒè¿™æ ·ï¼Œå·²ç»èƒ½å¤Ÿç”¨é…ç½®ç±»ä¸­çš„å‡ è¡Œä»£ç æ›¿æ¢ HomeControllerã€‚ç°åœ¨å¯ä»¥åˆ é™¤ HomeControllerï¼Œåº”ç”¨ç¨‹åºçš„è¡Œä¸ºåº”è¯¥ä¸ä»¥å‰ä¸€æ ·ã€‚æƒŸä¸€éœ€è¦åšçš„å…¶ä»–æ›´æ”¹æ˜¯é‡æ–°è®¿é—®ç¬¬ 1 ç« ä¸­çš„ HomeControllerTestï¼Œä» @WebMvcTest æ³¨é‡Šä¸­åˆ é™¤å¯¹ HomeController çš„å¼•ç”¨ï¼Œè¿™æ ·æµ‹è¯•ç±»å°±å¯ä»¥æ— é”™è¯¯åœ°ç¼–è¯‘äº†ã€‚</p>
<p>è¿™é‡Œï¼Œå·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ WebConfig é…ç½®ç±»æ¥å­˜æ”¾è§†å›¾æ§åˆ¶å™¨å£°æ˜ã€‚ä½†æ˜¯ä»»ä½•é…ç½®ç±»éƒ½å¯ä»¥å®ç° WebMvcConfigurer å¹¶è¦†ç›– addViewController() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†ç›¸åŒçš„è§†å›¾æ§åˆ¶å™¨å£°æ˜æ·»åŠ åˆ°å¼•å¯¼ TacoCloudApplication ç±»ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TacoCloudApplication</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(TacoCloudApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/&quot;</span>).setViewName(<span class="string">&quot;home&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ‰©å±•ç°æœ‰çš„é…ç½®ç±»ï¼Œå¯ä»¥é¿å…åˆ›å»ºæ–°çš„é…ç½®ç±»ï¼Œä»è€Œé™ä½é¡¹ç›®å·¥ä»¶æ•°é‡ã€‚ä½†æ˜¯æˆ‘å€¾å‘äºä¸ºæ¯ç§é…ç½®ï¼ˆwebã€æ•°æ®ã€å®‰å…¨æ€§ç­‰ç­‰ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®ç±»ï¼Œä¿æŒåº”ç”¨ç¨‹åºå¼•å¯¼é…ç½®çš„ç®€æ´ã€‚</p>
<p>è¯´åˆ°è§†å›¾æ§åˆ¶å™¨ï¼Œæ›´ä¸€èˆ¬åœ°è¯´ï¼Œæ˜¯æ§åˆ¶å™¨å°†è¯·æ±‚è½¬å‘ç»™çš„è§†å›¾ã€‚</p>
<h2 id="è§†å›¾æ¨¡æ¿åº“"><a href="#è§†å›¾æ¨¡æ¿åº“" class="headerlink" title="è§†å›¾æ¨¡æ¿åº“"></a>è§†å›¾æ¨¡æ¿åº“</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥é€‰æ‹©æƒ³è¦çš„è§†å›¾æ¨¡æ¿åº“ï¼Œå°†å…¶ä½œä¸ºä¾èµ–é¡¹æ·»åŠ åˆ°æ„å»ºä¸­ï¼Œç„¶åå¼€å§‹åœ¨ /templates ç›®å½•ä¸­ï¼ˆåœ¨ Maven æˆ– Gradl æ„å»ºé¡¹ç›®çš„ src/main/resources ç›®å½•ä¸‹ï¼‰ç¼–å†™æ¨¡æ¿ã€‚Spring Boot å°†æ£€æµ‹é€‰æ‹©çš„æ¨¡æ¿åº“ï¼Œå¹¶è‡ªåŠ¨é…ç½®æ‰€éœ€çš„ç»„ä»¶æ¥ä¸º Spring MVC æ§åˆ¶å™¨æä¾›è§†å›¾ã€‚</p>
<p>å·²ç»åœ¨ Taco Cloud åº”ç”¨ç¨‹åºä¸­ç”¨ Thymeleaf å®ç°äº†è¿™ä¸€ç‚¹ã€‚åœ¨ç¬¬ 1 ç« ä¸­ï¼Œåœ¨åˆå§‹åŒ–é¡¹ç›®æ—¶é€‰æ‹©äº† Thymeleaf å¤é€‰æ¡†ã€‚è¿™å¯¼è‡´ Spring Boot çš„ Thymeleaf starter è¢«åŒ…å«åœ¨ pom.xml æ–‡ä»¶ä¸­ã€‚å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼ŒSpring Boot è‡ªåŠ¨é…ç½®ä¼šæ£€æµ‹åˆ° Thymeleaf çš„å­˜åœ¨ï¼Œå¹¶è‡ªåŠ¨é…ç½® Thymeleaf beanã€‚ç°åœ¨è¦åšçš„å°±æ˜¯å¼€å§‹åœ¨ /templates ä¸­ç¼–å†™æ¨¡æ¿ã€‚</p>
<p>å¦‚æœå¸Œæœ›ä½¿ç”¨ä¸åŒçš„æ¨¡æ¿åº“ï¼Œåªéœ€åœ¨é¡¹ç›®åˆå§‹åŒ–æ—¶é€‰æ‹©å®ƒï¼Œæˆ–è€…ç¼–è¾‘ç°æœ‰çš„é¡¹ç›®æ„å»ºä»¥åŒ…å«æ–°é€‰æ‹©çš„æ¨¡æ¿åº“ã€‚</p>
<h2 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>Spring æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ web æ¡†æ¶ï¼Œç§°ä¸º Spring MVCï¼Œå¯ä»¥ç”¨äºå¼€å‘ Spring åº”ç”¨ç¨‹åºçš„ web å‰ç«¯ã€‚</li>
<li>Spring MVC æ˜¯åŸºäºæ³¨è§£çš„ï¼Œå¯ä»¥ä½¿ç”¨ @RequestMappingã€@GetMapping å’Œ @PostMapping ç­‰æ³¨è§£æ¥å£°æ˜è¯·æ±‚å¤„ç†æ–¹æ³•ã€‚</li>
<li>å¤§å¤šæ•°è¯·æ±‚å¤„ç†æ–¹æ³•é€šè¿‡è¿”å›è§†å›¾çš„é€»è¾‘åç§°æ¥ç»“æŸï¼Œä¾‹å¦‚ä¸€ä¸ª Thymeleaf æ¨¡æ¿ï¼Œè¯·æ±‚ï¼ˆä»¥åŠä»»ä½•æ¨¡å‹æ•°æ®ï¼‰è¢«è½¬å‘åˆ°è¯¥æ¨¡æ¿ã€‚</li>
<li>Spring MVC é€šè¿‡ Java Bean Validation API å’Œ Hibernate Validator ç­‰éªŒè¯ API çš„å®ç°æ¥æ”¯æŒéªŒè¯ã€‚</li>
<li>è§†å›¾æ§åˆ¶å™¨å¯ä»¥ç”¨æ¥å¤„ç†ä¸éœ€è¦æ¨¡å‹æ•°æ®æˆ–å¤„ç†çš„ HTTP GET è¯·æ±‚ã€‚</li>
<li>é™¤äº† Thymeleafï¼ŒSpring è¿˜æ”¯æŒå¤šç§è§†å›¾é€‰é¡¹ï¼ŒåŒ…æ‹¬ FreeMarkerã€Groovy Templates å’Œ Mustacheã€‚</li>
</ul>
<h1 id="ç¬¬ä¸‰ç« -ä½¿ç”¨æ•°æ®"><a href="#ç¬¬ä¸‰ç« -ä½¿ç”¨æ•°æ®" class="headerlink" title="ç¬¬ä¸‰ç«  ä½¿ç”¨æ•°æ®"></a>ç¬¬ä¸‰ç«  ä½¿ç”¨æ•°æ®</h1><p>æœ¬ç« å†…å®¹ï¼š</p>
<ul>
<li>ä½¿ç”¨ Spring JdbcTemplate</li>
<li>ä½¿ç”¨ SimpleJdbcInsert æ’å…¥æ•°æ®</li>
<li>ä½¿ç”¨ Spring Data å£°æ˜ JPA repositories</li>
</ul>
<p>åœ¨ Taco Cloud åº”ç”¨ç¨‹åºä¸­ï¼Œéœ€è¦èƒ½å¤Ÿç»´æŠ¤å…³äº ingredientsã€tacos å’Œ orders çš„ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ•°æ®åº“æ¥å­˜å‚¨è¿™äº›ä¿¡æ¯ï¼Œåº”ç”¨ç¨‹åºå°†æ— æ³•æ¯”åœ¨ç¬¬ 2 ç« ä¸­å¼€å‘çš„åº”ç”¨ç¨‹åºå–å¾—æ›´å¤§çš„è¿›å±•ã€‚</p>
<p>åœ¨æœ¬ç« ä¸­ï¼Œå°†å‘ Taco Cloud åº”ç”¨ç¨‹åºæ·»åŠ æ•°æ®æŒä¹…åŒ–æ“ä½œã€‚é¦–å…ˆä½¿ç”¨ Spring å¯¹ JDBCï¼ˆJava Database Connectivityï¼‰çš„æ”¯æŒæ¥æ¶ˆé™¤æ ·æ¿ä»£ç ã€‚ç„¶åï¼Œå°†é‡æ–°ä½¿ç”¨ JPAï¼ˆJava Persistence APIï¼‰å¤„ç†æ•°æ®å­˜å‚¨åº“ï¼Œä»è€Œæ¶ˆé™¤æ›´å¤šä»£ç ã€‚</p>
<p>åœ¨å¤„ç†å…³ç³»æ•°æ®æ—¶ï¼ŒJava å¼€å‘äººå‘˜æœ‰å¤šä¸ªé€‰æ‹©ã€‚ä¸¤ä¸ªæœ€å¸¸è§çš„é€‰æ‹©æ˜¯ JDBC å’Œ JPAã€‚Spring é€šè¿‡æŠ½è±¡æ”¯æŒè¿™ä¸¤ç§æ–¹å¼ï¼Œè¿™ä½¿å¾—ä½¿ç”¨ JDBC æˆ– JPA æ¯”ä¸ä½¿ç”¨ Spring æ›´å®¹æ˜“ã€‚</p>
<h2 id="ä½¿ç”¨-JDBC-è¯»å†™æ•°æ®"><a href="#ä½¿ç”¨-JDBC-è¯»å†™æ•°æ®" class="headerlink" title="ä½¿ç”¨ JDBC è¯»å†™æ•°æ®"></a>ä½¿ç”¨ JDBC è¯»å†™æ•°æ®</h2><p>Spring JDBC æ”¯æŒèµ·æºäº JdbcTemplate ç±»ã€‚JdbcTemplate æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¼€å‘äººå‘˜å¯ä»¥å¯¹å…³ç³»æ•°æ®åº“æ‰§è¡Œ SQL æ“ä½œï¼Œä¸é€šå¸¸ä½¿ç”¨ JDBC ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œä¸éœ€è¦æ»¡è¶³æ‰€æœ‰çš„æ¡ä»¶å’Œæ ·æ¿ä»£ç ã€‚</p>
<p>åœ¨æ²¡æœ‰ JdbcTemplate çš„æƒ…å†µä¸‹ç”¨ Java æ‰§è¡Œä¸€ä¸ªç®€å•çš„æŸ¥è¯¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Ingredient <span class="title">findOne</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line">    PreparedStatement statement = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        connection = dataSource.getConnection();</span><br><span class="line">        statement = connection.prepareStatement(</span><br><span class="line">            <span class="string">&quot;select id, name, type from Ingredient&quot;</span>);</span><br><span class="line">        statement.setString(<span class="number">1</span>, id);</span><br><span class="line">        resultSet = statement.executeQuery();</span><br><span class="line">        Ingredient ingredient = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(resultSet.next()) &#123;</span><br><span class="line">            ingredient = <span class="keyword">new</span> Ingredient(</span><br><span class="line">                resultSet.getString(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">                resultSet.getString(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">                Ingredient.Type.valueOf(resultSet.getString(<span class="string">&quot;type&quot;</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ingredient;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        <span class="comment">// ??? What should be done here ???</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (resultSet != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (statement != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (connection != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¯­å¥è¢«åˆ›å»ºè¿æ¥ã€åˆ›å»ºè¯­å¥å’Œé€šè¿‡å…³é—­è¿æ¥ã€è¯­å¥å’Œç»“æœé›†æ¥æ¸…ç†çš„ä»£ç æ‰€åŒ…å›´ã€‚</p>
<p>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œåœ¨åˆ›å»ºè¿æ¥æˆ–è¯­å¥æˆ–æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°è®¸å¤šé—®é¢˜ã€‚è¿™è¦æ±‚æ•è·ä¸€ä¸ª SQLExceptionï¼Œè¿™å¯èƒ½æœ‰åŠ©äºï¼ˆä¹Ÿå¯èƒ½æ— åŠ©äºï¼‰æ‰¾å‡ºé—®é¢˜å‡ºåœ¨å“ªé‡Œæˆ–å¦‚ä½•è§£å†³é—®é¢˜ã€‚</p>
<p>SQLException æ˜¯ä¸€ä¸ªè¢«æ£€æŸ¥çš„å¼‚å¸¸ï¼Œå®ƒéœ€è¦åœ¨ catch å—ä¸­è¿›è¡Œå¤„ç†ã€‚ä½†æ˜¯æœ€å¸¸è§çš„é—®é¢˜ï¼Œå¦‚æœªèƒ½åˆ›å»ºåˆ°æ•°æ®åº“çš„è¿æ¥æˆ–è¾“å…¥é”™è¯¯çš„æŸ¥è¯¢ï¼Œä¸å¯èƒ½åœ¨ catch å—ä¸­å¾—åˆ°è§£å†³ï¼Œå¯èƒ½ä¼šé‡æ–°å‘ä¸ŠæŠ›å‡ºä»¥æ±‚å¤„ç†ã€‚ç›¸åï¼Œè¦æ˜¯è€ƒè™‘ä½¿ç”¨ JdbcTemplate çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> JdbcTemplate jdbc;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Ingredient <span class="title">findOne</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> jdbc.queryForObject(</span><br><span class="line">        <span class="string">&quot;select id, name, type from Ingredient where id=?&quot;</span>,</span><br><span class="line">        <span class="keyword">this</span>::mapRowToIngredient, id);</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="function"><span class="keyword">private</span> Ingredient <span class="title">mapRowToIngredient</span><span class="params">(ResultSet rs, <span class="keyword">int</span> rowNum)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Ingredient(</span><br><span class="line">        rs.getString(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">        rs.getString(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">        Ingredient.Type.valueOf(rs.getString(<span class="string">&quot;type&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰åˆ›å»ºä»»ä½•è¯­å¥æˆ–è¿æ¥ã€‚è€Œä¸”ï¼Œåœ¨æ–¹æ³•å®Œæˆä¹‹åï¼Œä¸ä¼šå¯¹é‚£äº›å¯¹è±¡è¿›è¡Œä»»ä½•æ¸…ç†ã€‚æœ€åï¼Œè¿™æ ·åšä¸ä¼šå­˜åœ¨ä»»ä½•åœ¨ catch å—ä¸­ä¸èƒ½å¤„ç†çš„å¼‚å¸¸ã€‚å‰©ä¸‹çš„ä»£ç åªä¸“æ³¨äºæ‰§è¡ŒæŸ¥è¯¢ï¼ˆè°ƒç”¨ JdbcTemplate çš„ queryForObject() æ–¹æ³•ï¼‰å¹¶å°†ç»“æœæ˜ å°„åˆ° Ingredient å¯¹è±¡ï¼ˆåœ¨ mapRowToIngredient() æ–¹æ³•ä¸­ï¼‰ã€‚</p>
<h3 id="ä¸ºåŸŸé€‚é…æŒä¹…åŒ–"><a href="#ä¸ºåŸŸé€‚é…æŒä¹…åŒ–" class="headerlink" title="ä¸ºåŸŸé€‚é…æŒä¹…åŒ–"></a>ä¸ºåŸŸé€‚é…æŒä¹…åŒ–</h3><p>åœ¨å°†å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“æ—¶ï¼Œé€šå¸¸æœ€å¥½æœ‰ä¸€ä¸ªæƒŸä¸€æ ‡è¯†å¯¹è±¡çš„å­—æ®µã€‚Ingredient ç±»å·²ç»æœ‰ä¸€ä¸ª id å­—æ®µï¼Œä½†æ˜¯éœ€è¦å‘ Taco å’Œ Order æ·»åŠ  id å­—æ®µã€‚è¿˜éœ€è¦å‘æ¯ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œä»¥æ•è·ä¿å­˜å¯¹è±¡çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</p>
<p>æ–°çš„tacoï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Taco</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> Date createdAt;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–°çš„orderï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> Date placedAt;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä½¿ç”¨ Lombok åœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆè®¿é—®å™¨æ–¹æ³•ï¼Œæ‰€ä»¥é™¤äº†å£°æ˜ id å’Œ createdAt å±æ€§å¤–ï¼Œä¸éœ€è¦åšä»»ä½•äº‹æƒ…ã€‚å®ƒä»¬å°†åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦ç”Ÿæˆé€‚å½“çš„ getter å’Œ setter æ–¹æ³•ã€‚</p>
<h3 id="ä½¿ç”¨-JdbcTemplate"><a href="#ä½¿ç”¨-JdbcTemplate" class="headerlink" title="ä½¿ç”¨ JdbcTemplate"></a><strong>ä½¿ç”¨ JdbcTemplate</strong></h3><p>åœ¨å¼€å§‹ä½¿ç”¨ JdbcTemplate ä¹‹å‰ï¼Œéœ€è¦å°†å®ƒæ·»åŠ åˆ°é¡¹ç›®ç±»è·¯å¾„ä¸­ã€‚è¿™å¾ˆå®¹æ˜“é€šè¿‡æ·»åŠ  Spring Boot çš„ JDBC starter ä¾èµ–æ¥å®ç°ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿˜éœ€è¦ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„æ•°æ®åº“ã€‚å‡ºäºå¼€å‘ç›®çš„ï¼ŒåµŒå…¥å¼æ•°æ®åº“è¶³çŸ£ã€‚æˆ‘å–œæ¬¢ H2 åµŒå…¥å¼æ•°æ®åº“ï¼Œæ‰€ä»¥æˆ‘æ·»åŠ äº†ä»¥ä¸‹ä¾èµ–è¿›è¡Œæ„å»ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em><strong>å†™ä¸€ä¸ªè·å–å’Œä¿å­˜ Ingredient æ•°æ®çš„å­˜å‚¨åº“ï¼š</strong></em></p>
<h4 id="ï¼ˆ1ï¼‰å®šä¹‰-JDBC-æ•°æ®åº“æ¥å£"><a href="#ï¼ˆ1ï¼‰å®šä¹‰-JDBC-æ•°æ®åº“æ¥å£" class="headerlink" title="ï¼ˆ1ï¼‰å®šä¹‰ JDBC æ•°æ®åº“æ¥å£"></a>ï¼ˆ1ï¼‰å®šä¹‰ JDBC æ•°æ®åº“æ¥å£</h4><p>Ingredient repository éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>æŸ¥è¯¢æ‰€æœ‰çš„ Ingredient ä½¿ä¹‹å˜æˆä¸€ä¸ª Ingredient çš„é›†åˆå¯¹è±¡</li>
<li>é€šè¿‡å®ƒçš„ id æŸ¥è¯¢å•ä¸ª Ingredient</li>
<li>ä¿å­˜ä¸€ä¸ª Ingredient å¯¹è±¡</li>
</ul>
<p>ä»¥ä¸‹ IngredientRepository æ¥å£ä»¥æ–¹æ³•å£°æ˜çš„æ–¹å¼å®šä¹‰äº†è¿™ä¸‰ç§æ“ä½œï¼š<strong>æ¯ä¸€ä¸ªåº“ä¸€ä¸ªå•ç‹¬æ¥å£æ–‡ä»¶</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IngredientRepository</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Iterable&lt;Ingredient&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Ingredient <span class="title">findOne</span><span class="params">(String id)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Ingredient <span class="title">save</span><span class="params">(Ingredient ingredient)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ï¼ˆ2ï¼‰ä½¿ç”¨-JdbcTemplate-ç¼–å†™å…·ä½“æ“ä½œï¼Œè¯»å–"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨-JdbcTemplate-ç¼–å†™å…·ä½“æ“ä½œï¼Œè¯»å–" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨ JdbcTemplate ç¼–å†™å…·ä½“æ“ä½œï¼Œè¯»å–"></a>ï¼ˆ2ï¼‰ä½¿ç”¨ JdbcTemplate ç¼–å†™å…·ä½“æ“ä½œï¼Œè¯»å–</h4><p>ç¼–å†™ä¸€ä¸ªä½¿ç”¨ JdbcTemplate æ¥æŸ¥è¯¢æ•°æ®åº“çš„ IngredientRepository çš„å®ç°ã€‚<strong>æ¯ä¸€ä¸ªåº“ä¸€ä¸ªå…·ä½“æ“ä½œç±»æ–‡ä»¶ï¼Œæ–¹æ³•ä»£è¡¨æŸ¥è¯¢æ’å…¥ç­‰ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.RowMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcIngredientRepository</span> <span class="keyword">implements</span> <span class="title">IngredientRepository</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbc;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JdbcIngredientRepository</span><span class="params">(JdbcTemplate jdbc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.jdbc = jdbc;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">â€‹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JdbcIngredientRepository ä½¿ç”¨ @Repository è¿›è¡Œäº†æ³¨è§£ã€‚è¿™ä¸ªæ³¨è§£æ˜¯ Spring å®šä¹‰çš„å°‘æ•°å‡ ä¸ªåŸå‹æ³¨è§£ä¹‹ä¸€ï¼ŒåŒ…æ‹¬ @Controller å’Œ @Componentã€‚é€šè¿‡ä½¿ç”¨ @Repository å¯¹ JdbcIngredientRepository è¿›è¡Œæ³¨è§£ï¼Œè¿™æ ·å®ƒå°±ä¼šç”± Spring ç»„ä»¶åœ¨æ‰«ææ—¶è‡ªåŠ¨å‘ç°ï¼Œå¹¶åœ¨ Spring åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­ç”Ÿæˆ bean å®ä¾‹ã€‚</p>
<p>å½“ Spring åˆ›å»º JdbcIngredientRepository bean æ—¶ï¼Œé€šè¿‡ @Autowired æ³¨è§£å°† JdbcTemplate æ³¨å…¥åˆ° bean ä¸­ã€‚æ„é€ å‡½æ•°å°† JdbcTemplate åˆ†é…ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œè¯¥å˜é‡å°†åœ¨å…¶ä»–æ–¹æ³•ä¸­ç”¨äºæŸ¥è¯¢å’Œæ’å…¥æ•°æ®åº“ã€‚è°ˆåˆ°é‚£äº›å…¶ä»–æ–¹æ³•ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ findAll() å’Œ findOne() çš„å®ç°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;Ingredient&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> jdbc.query(<span class="string">&quot;select id, name, type from Ingredient&quot;</span>,</span><br><span class="line">              <span class="keyword">this</span>::mapRowToIngredient);</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Ingredient <span class="title">findOne</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> jdbc.queryForObject(</span><br><span class="line">        <span class="string">&quot;select id, name, type from Ingredient where id=?&quot;</span>,</span><br><span class="line">        <span class="keyword">this</span>::mapRowToIngredient, id);</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="function"><span class="keyword">private</span> Ingredient <span class="title">mapRowToIngredient</span><span class="params">(ResultSet rs, <span class="keyword">int</span> rowNum)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Ingredient(</span><br><span class="line">        rs.getString(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">        rs.getString(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">        Ingredient.Type.valueOf(rs.getString(<span class="string">&quot;type&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>findAll() å’Œ findOne() éƒ½ä»¥ç±»ä¼¼çš„æ–¹å¼ä½¿ç”¨ JdbcTemplateã€‚æœŸæœ›è¿”å›å¯¹è±¡é›†åˆçš„ findAll() æ–¹æ³•ä½¿ç”¨äº† JdbcTemplate çš„ query() æ–¹æ³•ã€‚query() æ–¹æ³•æ¥å—æŸ¥è¯¢çš„ SQL ä»¥åŠ Spring çš„ RowMapper å®ç°ï¼Œä»¥ä¾¿å°†ç»“æœé›†ä¸­çš„æ¯ä¸€è¡Œæ˜ å°„åˆ°ä¸€ä¸ªå¯¹è±¡ã€‚findAll() è¿˜æ¥å—æŸ¥è¯¢ä¸­æ‰€éœ€çš„æ‰€æœ‰å‚æ•°çš„åˆ—è¡¨ä½œä¸ºå®ƒçš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•å¿…éœ€çš„å‚æ•°ã€‚</p>
<p>findOne() æ–¹æ³•åªæœŸæœ›è¿”å›å•ä¸ªæˆåˆ†å¯¹è±¡ï¼Œå› æ­¤å®ƒä½¿ç”¨ JdbcTemplate çš„ queryForObject() æ–¹æ³•è€Œä¸æ˜¯ query()ã€‚queryForObject() çš„å·¥ä½œåŸç†ä¸ query() éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯å®ƒè¿”å›çš„æ˜¯å•ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯å¯¹è±¡åˆ—è¡¨ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒç»™å‡ºäº†è¦æ‰§è¡Œçš„æŸ¥è¯¢ã€ä¸€ä¸ª RowMapper å’Œè¦è·å–çš„ Ingredient çš„ idï¼Œåè€…ç”¨äºä»£æ›¿æŸ¥è¯¢ SQL ä¸­ çš„ <code>?</code>ã€‚</p>
<p>findAll() å’Œ findOne() çš„ RowMapper å‚æ•°ä½œä¸º mapRowToIngredient() æ–¹æ³•çš„æ–¹æ³•å¼•ç”¨ã€‚å½“ä½¿ç”¨ JdbcTemplate ä½œä¸ºæ˜¾å¼ RowMapper å®ç°çš„æ›¿ä»£æ–¹æ¡ˆæ—¶ï¼Œä½¿ç”¨ Java 8 çš„æ–¹æ³•å¼•ç”¨å’Œ lambda éå¸¸æ–¹ä¾¿ã€‚ä½†æ˜¯ï¼Œå¦‚æœå‡ºäºæŸç§åŸå› ï¼Œæƒ³è¦æˆ–æ˜¯éœ€è¦ä¸€ä¸ªæ˜¾å¼çš„ RowMapperï¼Œé‚£ä¹ˆ findOne() çš„ä»¥ä¸‹å®ç°å°†å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Ingredient <span class="title">findOne</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> jdbc.queryForObject(</span><br><span class="line">        <span class="string">&quot;select id, name, type from Ingredient where id=?&quot;</span>,</span><br><span class="line">        <span class="keyword">new</span> RowMapper&lt;Ingredient&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> Ingredient <span class="title">mapRow</span><span class="params">(ResultSet rs, <span class="keyword">int</span> rowNum)</span></span></span><br><span class="line"><span class="function">                <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Ingredient(</span><br><span class="line">                    rs.getString(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">                    rs.getString(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">                    Ingredient.Type.valueOf(rs.getString(<span class="string">&quot;type&quot;</span>)));</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;, id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ï¼ˆ3ï¼‰æ’å…¥ä¸€è¡Œæ•°æ®"><a href="#ï¼ˆ3ï¼‰æ’å…¥ä¸€è¡Œæ•°æ®" class="headerlink" title="ï¼ˆ3ï¼‰æ’å…¥ä¸€è¡Œæ•°æ®"></a>ï¼ˆ3ï¼‰æ’å…¥ä¸€è¡Œæ•°æ®</h4><p>JdbcTemplate çš„ update() æ–¹æ³•å¯ç”¨äºåœ¨æ•°æ®åº“ä¸­å†™å…¥æˆ–æ›´æ–°æ•°æ®çš„ä»»ä½•æŸ¥è¯¢ã€‚</p>
<p>ä½¿ç”¨JdbcTemplateæ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Ingredient <span class="title">save</span><span class="params">(Ingredient ingredient)</span> </span>&#123;</span><br><span class="line">    jdbc.update(</span><br><span class="line">        <span class="string">&quot;insert into Ingredient (id, name, type) values (?, ?, ?)&quot;</span>,</span><br><span class="line">        ingredient.getId(),</span><br><span class="line">        ingredient.getName(),</span><br><span class="line">        ingredient.getType().toString());</span><br><span class="line">    <span class="keyword">return</span> ingredient;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæ²¡æœ‰å¿…è¦å°† ResultSet æ•°æ®æ˜ å°„åˆ°å¯¹è±¡ï¼Œæ‰€ä»¥ update() æ–¹æ³•è¦æ¯” query() æˆ– queryForObject() ç®€å•å¾—å¤šã€‚å®ƒåªéœ€è¦ä¸€ä¸ªåŒ…å« SQL çš„å­—ç¬¦ä¸²æ¥æ‰§è¡Œï¼Œä»¥åŠä¸ºä»»ä½•æŸ¥è¯¢å‚æ•°èµ‹å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒæŸ¥è¯¢æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œå®ƒä»¬å¯¹åº”äº save() æ–¹æ³•çš„æœ€åä¸‰ä¸ªå‚æ•°ï¼Œæä¾›äº† Ingredient çš„ idã€name å’Œ typeã€‚</p>
<p>å®Œæˆäº† JdbcIngredientRepositoryåï¼Œç°åœ¨å¯ä»¥å°†å…¶æ³¨å…¥åˆ° DesignTacoController ä¸­ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥æä¾›ä¸€ä¸ª Ingredient å¯¹è±¡åˆ—è¡¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„å€¼ï¼ˆæ­£å¦‚ç¬¬ 2 ç« ä¸­æ‰€åšçš„é‚£æ ·ï¼‰ã€‚DesignTacoController çš„å˜åŒ–å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/design&quot;)</span></span><br><span class="line"><span class="meta">@SessionAttributes(&quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DesignTacoController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> IngredientRepository ingredientRepo;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DesignTacoController</span><span class="params">(IngredientRepository ingredientRepo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ingredientRepo = ingredientRepo;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">showDesignForm</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">        List&lt;Ingredient&gt; ingredients = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        ingredientRepo.findAll().forEach(i -&gt; ingredients.add(i));</span><br><span class="line">        Type[] types = Ingredient.Type.values();</span><br><span class="line">        <span class="keyword">for</span> (Type type : types) &#123;</span><br><span class="line">            model.addAttribute(type.toString().toLowerCase(),</span><br><span class="line">                               filterByType(ingredients, type));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;design&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>showDesignForm() æ–¹æ³•çš„ç¬¬ 2 è¡Œç°åœ¨è°ƒç”¨äº†æ³¨å…¥çš„ IngredientRepository çš„ findAll() æ–¹æ³•ã€‚findAll() æ–¹æ³•ä»æ•°æ®åº“ä¸­æå–æ‰€æœ‰ Ingredientï¼Œç„¶åå°†å®ƒä»¬å¯¹åº”åˆ°åˆ°æ¨¡å‹çš„ä¸åŒç±»å‹ä¸­ã€‚</p>
<h3 id="å†™è¡¨å¹¶é¢„åŠ è½½æ•°æ®"><a href="#å†™è¡¨å¹¶é¢„åŠ è½½æ•°æ®" class="headerlink" title="å†™è¡¨å¹¶é¢„åŠ è½½æ•°æ®"></a>å†™è¡¨å¹¶é¢„åŠ è½½æ•°æ®</h3><p>åœ¨å¼€å§‹ä»æŸ¥è¯¢ä¸­å¼•ç”¨çš„ Ingredient è¡¨è¯»å–æ•°æ®ä¹‹å‰ï¼Œåº”è¯¥åˆ›å»ºè¿™ä¸ªè¡¨å¹¶å†™ä¸€äº› Ingredient æ•°æ®è¿›å»ã€‚</p>
<p>é™¤äº† Ingredient è¡¨ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä¸€äº›ä¿å­˜è®¢å•å’Œè®¾è®¡ä¿¡æ¯çš„è¡¨ã€‚ä¹Ÿå°±æ˜¯è¦å®šä¹‰æ•°æ®åº“æ•°æ®è§„åˆ™ã€‚createè¯­å¥ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/f285480b152f4c6bb537a8b6dc309f46.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<ul>
<li>Ingredient - ä¿å­˜ç€åŸæ–™ä¿¡æ¯</li>
<li>Taco - ä¿å­˜ç€å…³äº taco è®¾è®¡çš„é‡è¦ä¿¡æ¯</li>
<li>Taco_Ingredient - åŒ…å« Taco è¡¨ä¸­æ¯ä¸€è¡Œçš„ä¸€ä¸ªæˆ–å¤šè¡Œæ•°æ®ï¼Œå°† Taco æ˜ å°„åˆ°è¯¥ Taco çš„ Ingredientï¼ˆå¦‚æœä¸€ä¸ªtacoæœ‰å¤šä¸ªé…æ–™ï¼Œå°±æ’å…¥å¤šè¡Œï¼‰</li>
<li>Taco_Order - ä¿å­˜ç€é‡è¦çš„è®¢å•ç»†èŠ‚</li>
<li>Taco_Order_Tacos - åŒ…å« Taco_Order è¡¨ä¸­çš„æ¯ä¸€è¡Œçš„ä¸€ä¸ªæˆ–å¤šè¡Œæ•°æ®ï¼Œå°† Order æ˜ å°„åˆ° Order ä¸­çš„Tacos</li>
</ul>
<p>åˆ›å»ºè¡¨çš„sqlè¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> Ingredient (</span><br><span class="line">    id <span class="type">varchar</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">25</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    type <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> Taco (</span><br><span class="line">    id <span class="keyword">identity</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    createdAt <span class="type">timestamp</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> Taco_Ingredients (</span><br><span class="line">    taco <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    ingredient <span class="type">varchar</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Taco_Ingredients <span class="keyword">add</span> <span class="keyword">foreign</span> key (taco) <span class="keyword">references</span> Taco(id);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Taco_Ingredients <span class="keyword">add</span> <span class="keyword">foreign</span> key (ingredient) <span class="keyword">references</span> Ingredient(id);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> Taco_Order (</span><br><span class="line">    id <span class="keyword">identity</span>,</span><br><span class="line">    deliveryName <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    deliveryStreet <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    deliveryCity <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    deliveryState <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    deliveryZip <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    ccNumber <span class="type">varchar</span>(<span class="number">16</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    ccExpiration <span class="type">varchar</span>(<span class="number">5</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    ccCVV <span class="type">varchar</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    placedAt <span class="type">timestamp</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> Taco_Order_Tacos (</span><br><span class="line">    tacoOrder <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    taco <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Taco_Order_Tacos <span class="keyword">add</span> <span class="keyword">foreign</span> key (tacoOrder) <span class="keyword">references</span> Taco_Order(id);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Taco_Order_Tacos <span class="keyword">add</span> <span class="keyword">foreign</span> key (taco) <span class="keyword">references</span> Taco(id);</span><br></pre></td></tr></table></figure>

<p>æœ€å¤§çš„é—®é¢˜æ˜¯æŠŠè¿™ä¸ªæ¨¡å¼å®šä¹‰æ”¾åœ¨å“ªé‡Œã€‚äº‹å®è¯æ˜ï¼ŒSpring Boot å›ç­”äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å¦‚æœæœ‰ä¸€ä¸ªåä¸º schema.sql çš„æ–‡ä»¶ã€‚åœ¨åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ sqlï¼Œç„¶ååœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å¯¹æ•°æ®åº“æ‰§è¡Œè¯¥æ–‡ä»¶ä¸­çš„ SQLã€‚å› æ­¤ï¼Œåº”è¯¥å°†å®šä¹‰æ•°æ®åº“ çš„å†…å®¹å†™å…¥ä¸€ä¸ªåä¸º schema.sql çš„æ–‡ä»¶ä¸­ï¼Œç„¶åæ”¾åœ¨é¡¹ç›®çš„ src/main/resources æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>è¿˜éœ€è¦ç”¨ä¸€äº› Ingredient æ•°æ®æ¥é¢„åŠ è½½æ•°æ®åº“ã€‚å¹¸è¿çš„æ˜¯ï¼ŒSpring Boot è¿˜å°†æ‰§è¡Œä¸€ä¸ªåä¸º data.sql çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä½äºæ ¹è·¯å¾„ä¸‹ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ src/main/resources/data.sql ä¸­çš„é¢„åŠ è½½æ•°æ®åº“ç¨‹åºä¸­çš„ insert è¯­å¥æ¥åŠ è½½åŒ…å« Ingredient æ•°æ®çš„æ•°æ®åº“ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Taco_Order_Tacos;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Taco_Ingredients;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Taco;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Taco_Order;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Ingredient;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;FLTO&#x27;</span>, <span class="string">&#x27;Flour Tortilla&#x27;</span>, <span class="string">&#x27;WRAP&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;COTO&#x27;</span>, <span class="string">&#x27;Corn Tortilla&#x27;</span>, <span class="string">&#x27;WRAP&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;GRBF&#x27;</span>, <span class="string">&#x27;Ground Beef&#x27;</span>, <span class="string">&#x27;PROTEIN&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;CARN&#x27;</span>, <span class="string">&#x27;Carnitas&#x27;</span>, <span class="string">&#x27;PROTEIN&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;TMTO&#x27;</span>, <span class="string">&#x27;Diced Tomatoes&#x27;</span>, <span class="string">&#x27;VEGGIES&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;LETC&#x27;</span>, <span class="string">&#x27;Lettuce&#x27;</span>, <span class="string">&#x27;VEGGIES&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;CHED&#x27;</span>, <span class="string">&#x27;Cheddar&#x27;</span>, <span class="string">&#x27;CHEESE&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;JACK&#x27;</span>, <span class="string">&#x27;Monterrey Jack&#x27;</span>, <span class="string">&#x27;CHEESE&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;SLSA&#x27;</span>, <span class="string">&#x27;Salsa&#x27;</span>, <span class="string">&#x27;SAUCE&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Ingredient (id, name, type) <span class="keyword">values</span> (<span class="string">&#x27;SRCR&#x27;</span>, <span class="string">&#x27;Sour Cream&#x27;</span>, <span class="string">&#x27;SAUCE&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šåªå¼€å‘äº† Ingredient æ•°æ®çš„å­˜å‚¨åº“ï¼Œè¿˜éœ€è¦ç»§ç»­ç¼–å†™ç”¨äºæŒä¹…åŒ– Tacoã€Order çš„å­˜å‚¨åº“å’Œç›¸åº”çš„æ•°æ®ã€‚</p>
<h3 id="å…·ä½“æŒä¹…åŒ–æ–¹æ³•"><a href="#å…·ä½“æŒä¹…åŒ–æ–¹æ³•" class="headerlink" title="å…·ä½“æŒä¹…åŒ–æ–¹æ³•"></a>å…·ä½“æŒä¹…åŒ–æ–¹æ³•</h3><p>åˆ°æ­¤ï¼Œå·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ JdbcTemplate å‘æ•°æ®åº“å†™å…¥æ•°æ®ã€‚JdbcIngredientRepository ä¸­çš„ save() æ–¹æ³•ä½¿ç”¨ JdbcTemplate çš„ update() æ–¹æ³•å°† Ingredient å¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<p>è™½ç„¶è¿™æ˜¯ç¬¬ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œä½†æ˜¯å®ƒå¯èƒ½æœ‰ç‚¹å¤ªç®€å•äº†ã€‚ä¿å­˜æ•°æ®å¯èƒ½æ¯” JdbcIngredientRepository æ‰€éœ€è¦çš„æ›´å¤æ‚ã€‚ä½¿ç”¨ JdbcTemplate ä¿å­˜æ•°æ®çš„ä¸¤ç§æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›´æ¥ä½¿ç”¨ update() æ–¹æ³•</li>
<li>ä½¿ç”¨ SimpleJdbcInsert åŒ…è£…ç±»</li>
</ul>
<p>è®©æˆ‘ä»¬é¦–å…ˆçœ‹çœ‹ï¼Œå½“æŒä¹…è¯éœ€æ±‚æ¯”ä¿å­˜ä¸€ä¸ª Ingredient æ‰€éœ€è¦çš„æ›´å¤æ‚æ—¶ï¼Œå¦‚ä½•ä½¿ç”¨ update() æ–¹æ³•ã€‚</p>
<h4 id="ä½¿ç”¨-JdbcTemplate-ä¿å­˜æ•°æ®"><a href="#ä½¿ç”¨-JdbcTemplate-ä¿å­˜æ•°æ®" class="headerlink" title="ä½¿ç”¨ JdbcTemplate ä¿å­˜æ•°æ®"></a>ä½¿ç”¨ JdbcTemplate ä¿å­˜æ•°æ®</h4><p>ç›®å‰ï¼ŒTaco å’Œ Order å­˜å‚¨åº“éœ€è¦åšçš„æƒŸä¸€ä¸€ä»¶äº‹æ˜¯ä¿å­˜å®ƒä»¬å„è‡ªçš„å¯¹è±¡ã€‚ä¸ºäº†ä¿å­˜ Taco å¯¹è±¡ï¼ŒTacoRepository å£°æ˜äº†ä¸€ä¸ª save() æ–¹æ³•ï¼Œæ¥å£å¦‚ä¸‹æ‰€ç¤ºï¼šOrderRepositoryæ¥å£ ä¹Ÿå£°æ˜äº†ä¸€ä¸ª save() æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> tacos.Taco;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TacoRepository</span> </span>&#123;</span><br><span class="line">    <span class="function">Taco <span class="title">save</span><span class="params">(Taco design)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> tacos.Order;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OrderRepository</span> </span>&#123;</span><br><span class="line">    <span class="function">Order <span class="title">save</span><span class="params">(Order order)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜ä¸€ä¸ª Taco è®¾è®¡éœ€è¦å°†ä¸è¯¥ Taco å…³è”çš„ Ingredient ä¿å­˜åˆ° Taco_Ingredient è¡¨ä¸­ã€‚åŒæ ·ï¼Œä¿å­˜ Order ä¹Ÿéœ€è¦å°†ä¸ Order å…³è”çš„ Taco ä¿å­˜åˆ° Taco_Order_Tacos è¡¨ä¸­ã€‚è¿™ä½¿å¾—ä¿å­˜ Taco å’Œ Order æ¯” ä¿å­˜ Ingredient æ›´æœ‰æŒ‘æˆ˜æ€§ã€‚</p>
<p>è¦å®ç° TacoRepositoryï¼Œéœ€è¦ä¸€ä¸ª save() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•é¦–å…ˆä¿å­˜åŸºæœ¬çš„ Taco è®¾è®¡ç»†èŠ‚ï¼ˆä¾‹å¦‚ï¼Œåç§°å’Œåˆ›å»ºæ—¶é—´ï¼‰ï¼Œç„¶åä¸º Taco å¯¹è±¡ä¸­çš„æ¯ä¸ª Ingredient åœ¨ Taco_Ingredients ä¸­æ’å…¥ä¸€è¡Œã€‚ä¸‹é¢çš„ç¨‹åºæ˜¾ç¤ºäº†å®Œæ•´çš„ JdbcTacoRepository ç±»ã€‚</p>
<p>ä½¿ç”¨ JdbcTemplate å®ç° TacoRepositoryï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Timestamp;</span><br><span class="line"><span class="keyword">import</span> java.sql.Types;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.PreparedStatementCreator;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.PreparedStatementCreatorFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.support.GeneratedKeyHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.support.KeyHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient;</span><br><span class="line"><span class="keyword">import</span> tacos.Taco;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcTacoRepository</span> <span class="keyword">implements</span> <span class="title">TacoRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbc;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JdbcTacoRepository</span><span class="params">(JdbcTemplate jdbc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.jdbc = jdbc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Taco <span class="title">save</span><span class="params">(Taco taco)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> tacoId = saveTacoInfo(taco);</span><br><span class="line">        taco.setId(tacoId);</span><br><span class="line">        <span class="keyword">for</span> (Ingredient ingredient : taco.getIngredients()) &#123;</span><br><span class="line">            saveIngredientToTaco(ingredient, tacoId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> taco;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">saveTacoInfo</span><span class="params">(Taco taco)</span> </span>&#123;</span><br><span class="line">        taco.setCreatedAt(<span class="keyword">new</span> Date());</span><br><span class="line">        PreparedStatementCreator psc = <span class="keyword">new</span> PreparedStatementCreatorFactory(</span><br><span class="line">            <span class="string">&quot;insert into Taco (name, createdAt) values (?, ?)&quot;</span>,</span><br><span class="line">            Types.VARCHAR, Types.TIMESTAMP</span><br><span class="line">        ).newPreparedStatementCreator(</span><br><span class="line">            Arrays.asList(</span><br><span class="line">                taco.getName(),</span><br><span class="line">                <span class="keyword">new</span> Timestamp(taco.getCreatedAt().getTime())));</span><br><span class="line"></span><br><span class="line">        KeyHolder keyHolder = <span class="keyword">new</span> GeneratedKeyHolder();</span><br><span class="line">        jdbc.update(psc, keyHolder);</span><br><span class="line">        <span class="keyword">return</span> keyHolder.getKey().longValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">saveIngredientToTaco</span><span class="params">(Ingredient ingredient, <span class="keyword">long</span> tacoId)</span> </span>&#123;</span><br><span class="line">        jdbc.update(</span><br><span class="line">            <span class="string">&quot;insert into Taco_Ingredients (taco, ingredient) &quot;</span> +<span class="string">&quot;values (?, ?)&quot;</span>,</span><br><span class="line">            tacoId, ingredient.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>save() æ–¹æ³•é¦–å…ˆè°ƒç”¨ç§æœ‰çš„ saveTacoInfo() æ–¹æ³•ï¼Œç„¶åä½¿ç”¨è¯¥æ–¹æ³•è¿”å›çš„ Taco id è°ƒç”¨ saveIngredientToTaco()ï¼Œå®ƒä¿å­˜æ¯ä¸ªé…æ–™ã€‚åœ¨ Taco ä¸­æ’å…¥ä¸€è¡Œæ—¶ï¼Œéœ€è¦çŸ¥é“æ•°æ®åº“ç”Ÿæˆçš„ idï¼Œä»¥ä¾¿åœ¨æ¯ä¸ª Ingredient ä¸­å¼•ç”¨å®ƒã€‚ä¿å­˜ Ingredient æ•°æ®æ—¶ä½¿ç”¨çš„ update() æ–¹æ³•ä¸èƒ½è·å¾—ç”Ÿæˆçš„ idï¼Œå› æ­¤è¿™é‡Œéœ€è¦ä¸€ä¸ªä¸åŒçš„ update() æ–¹æ³•ã€‚</p>
<p>éœ€è¦çš„ update() æ–¹æ³•æ¥å— PreparedStatementCreator å’Œ KeyHolderã€‚KeyHolder å°†æä¾›ç”Ÿæˆçš„ Taco idï¼Œä½†æ˜¯ä¸ºäº†ä½¿ç”¨å®ƒï¼Œè¿˜å¿…é¡»åˆ›å»ºä¸€ä¸ª PreparedStatementCreatorã€‚åˆ›å»º PreparedStatementCreator éå¸¸é‡è¦ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ª PreparedStatementCreatorFactoryï¼Œä¸ºå®ƒæä¾›æƒ³è¦æ‰§è¡Œçš„ SQLï¼Œä»¥åŠæ¯ä¸ªæŸ¥è¯¢å‚æ•°çš„ç±»å‹ã€‚ç„¶ååœ¨è¯¥å·¥å‚ä¸Šè°ƒç”¨ newPreparedStatementCreator()ï¼Œåœ¨æŸ¥è¯¢å‚æ•°ä¸­ä¼ é€’æ‰€éœ€çš„å€¼ä»¥ç”Ÿæˆ PreparedStatementCreatorã€‚é€šè¿‡ä½¿ç”¨ PreparedStatementCreatorï¼Œå¯ä»¥è°ƒç”¨ update()ï¼Œä¼ å…¥ PreparedStatementCreator å’Œ KeyHolderï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯ GeneratedKeyHolder å®ä¾‹ï¼‰ã€‚update() å®Œæˆåï¼Œå¯ä»¥é€šè¿‡è¿”å› keyHolder.getKey().longValue() æ¥è¿”å› Taco idã€‚</p>
<p>å›åˆ° save() æ–¹æ³•ï¼Œå¾ªç¯éå† Taco ä¸­çš„æ¯ä¸ªæˆåˆ†ï¼Œè°ƒç”¨ saveIngredientToTaco() æ–¹æ³•ã€‚saveIngredientToTaco() æ–¹æ³•ä½¿ç”¨æ›´ç®€å•çš„ update() å½¢å¼æ¥ä¿å­˜å¯¹åˆ°Taco_Ingredient è¡¨ä¸­ã€‚</p>
<p>TacoRepository å‰©ä¸‹æ‰€è¦åšçš„å°±æ˜¯åœ¨ DesignTacoController ä¸­è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼Œå°†è®¢å•ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/design&quot;)</span></span><br><span class="line"><span class="meta">@SessionAttributes(&quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DesignTacoController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> IngredientRepository ingredientRepo;</span><br><span class="line">    <span class="keyword">private</span> TacoRepository designRepo;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DesignTacoController</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        IngredientRepository ingredientRepo,</span></span></span><br><span class="line"><span class="params"><span class="function">        TacoRepository designRepo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ingredientRepo = ingredientRepo;</span><br><span class="line">        <span class="keyword">this</span>.designRepo = designRepo;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°åŒ…å«ä¸€ä¸ª IngredientRepository å’Œä¸€ä¸ªTacoRepositoryã€‚å®ƒå°†è¿™ä¸¤ä¸ªå˜é‡éƒ½èµ‹å€¼ç»™å®ä¾‹å˜é‡ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥åœ¨ showDesignForm() å’Œ processDesign() æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</p>
<p>æ–°çš„ processDesign() æ–¹æ³•ï¼Œä¿å­˜ Taco è®¾è®¡å¹¶é“¾æ¥åˆ° Orderï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/design&quot;)</span></span><br><span class="line"><span class="meta">@SessionAttributes(&quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DesignTacoController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ModelAttribute(name = &quot;order&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">order</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Order();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ModelAttribute(name = &quot;taco&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Taco <span class="title">taco</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Taco();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">processDesign</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@Valid</span> Taco design, Errors errors,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@ModelAttribute</span> Order order)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (errors.hasErrors()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;design&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Taco saved = designRepo.save(design);</span><br><span class="line">        order.addDesign(saved);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/orders/current&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> DesignTacoController ä½¿ç”¨ @SessionAttributes(â€œorderâ€) è¿›è¡Œäº†æ³¨è§£ï¼Œå¹¶ä¸”åœ¨ order() æ–¹æ³•ä¸Šæœ‰ä¸€ä¸ªæ–°çš„æ³¨è§£ @ModelAttributeã€‚ä¸ taco() æ–¹æ³•ä¸€æ ·ï¼Œorder() æ–¹æ³•ä¸Šçš„ @ModelAttribute æ³¨è§£ç¡®ä¿åœ¨æ¨¡å‹ä¸­èƒ½å¤Ÿåˆ›å»º Order å¯¹è±¡ã€‚ä½†æ˜¯ä¸ <strong>session</strong> ä¸­çš„ Taco å¯¹è±¡ä¸åŒï¼Œè¿™é‡Œ<strong>éœ€è¦åœ¨å¤šä¸ªè¯·æ±‚é—´æ˜¾ç¤ºè®¢å•ï¼Œå› æ­¤å¯ä»¥åˆ›å»ºå¤šä¸ª Taco å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°è®¢å•ä¸­</strong>ã€‚ç±»çº§åˆ«çš„ @SessionAttributes æ³¨è§£æŒ‡å®šäº†ä»»ä½•æ¨¡å‹å¯¹è±¡ï¼Œæ¯”å¦‚åº”è¯¥ä¿å­˜åœ¨ä¼šè¯ä¸­çš„ order å±æ€§ï¼Œå¹¶ä¸”å¯ä»¥<strong>è·¨å¤šä¸ªè¯·æ±‚ä½¿ç”¨</strong>ã€‚</p>
<p>taco è®¾è®¡çš„å®é™…å¤„ç†å‘ç”Ÿåœ¨ processDesign() æ–¹æ³•ä¸­ï¼Œé™¤äº† Taco å’Œ Errors å¯¹è±¡å¤–ï¼Œè¯¥æ–¹æ³•ç°åœ¨è¿˜æ¥å— Order å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚Order å‚æ•°ä½¿ç”¨ @ModelAttribute è¿›è¡Œæ³¨è§£ï¼Œä»¥æŒ‡ç¤ºå…¶å€¼åº”è¯¥æ¥è‡ªæ¨¡å‹ï¼Œè€Œ Spring MVC ä¸åº”è¯¥å°è¯•ç»™å®ƒç»‘å®šè¯·æ±‚å‚æ•°ã€‚</p>
<p>åœ¨æ£€æŸ¥éªŒè¯é”™è¯¯ä¹‹åï¼ŒprocessDesign() ä½¿ç”¨æ³¨å…¥çš„ TacoRepository æ¥ä¿å­˜ Tacoã€‚ç„¶åï¼Œ<strong>å®ƒå°† Taco å¯¹è±¡æ·»åŠ åˆ°ä¿å­˜äº session ä¸­ Order å¯¹è±¡ä¸­</strong>ã€‚å®é™…ä¸Šï¼ŒOrder å¯¹è±¡ä»ç„¶ä¿ç•™åœ¨ session ä¸­ï¼Œç›´åˆ°ç”¨æˆ·å®Œæˆå¹¶æäº¤ Order è¡¨å•æ‰ä¼šä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚æ­¤æ—¶ï¼ŒOrderController éœ€è¦è°ƒç”¨ OrderRepository çš„å®ç°æ¥ä¿å­˜è®¢å•ã€‚ä¸‹é¢æ¥å†™ä¸€ä¸‹è¿™ä¸ªå®ç°ã€‚</p>
<h4 id="ä½¿ç”¨-SimpleJdbcInsert-ä¿å­˜æ•°æ®"><a href="#ä½¿ç”¨-SimpleJdbcInsert-ä¿å­˜æ•°æ®" class="headerlink" title="ä½¿ç”¨ SimpleJdbcInsert ä¿å­˜æ•°æ®"></a>ä½¿ç”¨ SimpleJdbcInsert ä¿å­˜æ•°æ®</h4><p>åœ¨ä¿å­˜è®¢å•æ–¹é¢ï¼Œä¹Ÿå­˜åœ¨ç±»ä¼¼çš„æƒ…å†µã€‚ä¸ä»…å¿…é¡»å°†è®¢å•æ•°æ®ä¿å­˜åˆ° Taco_Order è¡¨ä¸­ï¼Œè¿˜å¿…é¡»å¼•ç”¨ Taco_Order_Tacos è¡¨ä¸­çš„æ¯ä¸ª tacoã€‚ä½†æ˜¯ä¸æ˜¯ä½¿ç”¨ç¹ççš„ PreparedStatementCreator, è€Œæ˜¯ä½¿ç”¨SimpleJdbcInsertï¼Œ SimpleJdbcInsert æ˜¯ä¸€ä¸ªåŒ…è£…äº† JdbcTemplate çš„å¯¹è±¡ï¼Œå®ƒè®©å‘è¡¨æ’å…¥æ•°æ®çš„æ“ä½œå˜å¾—æ›´å®¹æ˜“ã€‚</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª JdbcOrderRepositoryï¼Œå®ƒæ˜¯ OrderRepository çš„ä¸€ä¸ªå®ç°ã€‚ä½†æ˜¯åœ¨ç¼–å†™ save() æ–¹æ³•å®ç°ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå…³æ³¨æ„é€ å‡½æ•°ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†åˆ›å»ºä¸¤ä¸ª SimpleJdbcInsert å®ä¾‹ï¼Œç”¨äºå°†å€¼æ’å…¥ Taco_Order å’Œ Taco_Order_Tacos è¡¨ä¸­ã€‚ä¸‹é¢çš„ç¨‹åºæ¸…å•æ˜¾ç¤ºäº† JdbcOrderRepositoryï¼ˆæ²¡æœ‰ save() æ–¹æ³•ï¼‰ã€‚ä» JdbcTemplate åˆ›å»ºä¸€ä¸ª SimpleJdbcTemplateï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.simple.SimpleJdbcInsert;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> tacos.Taco;</span><br><span class="line"><span class="keyword">import</span> tacos.Order;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcOrderRepository</span> <span class="keyword">implements</span> <span class="title">OrderRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SimpleJdbcInsert orderInserter;</span><br><span class="line">    <span class="keyword">private</span> SimpleJdbcInsert orderTacoInserter;</span><br><span class="line">    <span class="keyword">private</span> ObjectMapper objectMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JdbcOrderRepository</span><span class="params">(JdbcTemplate jdbc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orderInserter = <span class="keyword">new</span> SimpleJdbcInsert(jdbc)</span><br><span class="line">            .withTableName(<span class="string">&quot;Taco_Order&quot;</span>)</span><br><span class="line">            .usingGeneratedKeyColumns(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.orderTacoInserter = <span class="keyword">new</span> SimpleJdbcInsert(jdbc)</span><br><span class="line">            .withTableName(<span class="string">&quot;Taco_Order_Tacos&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ JdbcTacoRepository ä¸€æ ·ï¼ŒJdbcOrderRepository ä¹Ÿé€šè¿‡å…¶æ„é€ å‡½æ•°æ³¨å…¥äº† JdbcTemplateã€‚ä½†æ˜¯ï¼Œæ„é€ å‡½æ•°å¹¶æ²¡æœ‰å°† JdbcTemplate ç›´æ¥åˆ†é…ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨å®ƒæ¥æ„é€ ä¸¤ä¸ª SimpleJdbcInsert å®ä¾‹ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå®ä¾‹è¢«åˆ†é…ç»™ orderInserter å®ä¾‹å˜é‡ï¼Œå®ƒè¢«é…ç½®ä¸ºä½¿ç”¨ Taco_Order è¡¨ï¼Œå¹¶å‡å®š id å±æ€§å°†ç”±æ•°æ®åº“æä¾›æˆ–ç”Ÿæˆã€‚åˆ†é…ç»™ orderTacoInserter çš„ç¬¬äºŒä¸ªå®ä¾‹è¢«é…ç½®ä¸ºä½¿ç”¨ Taco_Order_Tacos è¡¨ï¼Œä½†æ˜¯æ²¡æœ‰å£°æ˜å¦‚ä½•åœ¨è¯¥è¡¨ä¸­ç”Ÿæˆä»»ä½• idã€‚</p>
<p>æ„é€ å‡½æ•°è¿˜åˆ›å»º ObjectMapper å®ä¾‹ï¼Œå¹¶å°†å…¶åˆ†é…ç»™å®ä¾‹å˜é‡ã€‚å°½ç®¡ Jackson ç”¨äº JSON å¤„ç†ï¼Œä½†ç¨åå°†çœ‹åˆ°å¦‚ä½•é‡æ–°ä½¿ç”¨å®ƒæ¥å¸®åŠ©ä¿å­˜è®¢å•åŠå…¶å…³è”çš„ tacosã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ save() æ–¹æ³•å¦‚ä½•ä½¿ç”¨ SimpleJdbcInsert å®ä¾‹ã€‚ä¸‹ä¸€ä¸ªç¨‹åºæ¸…å•æ˜¾ç¤ºäº† save() æ–¹æ³•ï¼Œä»¥åŠå‡ ä¸ªç”¨äºå®é™…å·¥ä½œçš„ save() å§”æ‰˜çš„ç§æœ‰æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨ SimpleJdbcInsert æ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Order <span class="title">save</span><span class="params">(Order order)</span> </span>&#123;</span><br><span class="line">    order.setPlacedAt(<span class="keyword">new</span> Date());</span><br><span class="line">    <span class="keyword">long</span> orderId = saveOrderDetails(order);</span><br><span class="line">    order.setId(orderId);</span><br><span class="line"></span><br><span class="line">    List&lt;Taco&gt; tacos = order.getTacos();</span><br><span class="line">    <span class="keyword">for</span> (Taco taco : tacos) &#123;</span><br><span class="line">        saveTacoToOrder(taco, orderId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">saveOrderDetails</span><span class="params">(Order order)</span> </span>&#123;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    Map&lt;String, Object&gt; values = objectMapper.convertValue(order, Map.class);</span><br><span class="line">    values.put(<span class="string">&quot;placedAt&quot;</span>, order.getPlacedAt());</span><br><span class="line">â€‹</span><br><span class="line">    <span class="keyword">long</span> orderId = orderInserter.executeAndReturnKey(values).longValue();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> orderId;</span><br><span class="line">&#125;</span><br><span class="line">â€‹</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">saveTacoToOrder</span><span class="params">(Taco taco, <span class="keyword">long</span> orderId)</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Object&gt; values = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    values.put(<span class="string">&quot;tacoOrder&quot;</span>, orderId);</span><br><span class="line">    values.put(<span class="string">&quot;taco&quot;</span>, taco.getId());</span><br><span class="line"></span><br><span class="line">    orderTacoInserter.execute(values);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>save() æ–¹æ³•å®é™…ä¸Šå¹¶ä¸ä¿å­˜ä»»ä½•ä¸œè¥¿ã€‚å®ƒå®šä¹‰äº†ä¿å­˜è®¢å•åŠå…¶å…³è” Taco å¯¹è±¡çš„æµï¼Œå¹¶å°†æŒä¹…æ€§å·¥ä½œå§”æ‰˜ç»™ saveOrderDetails() å’Œ saveTacoToOrder()ã€‚</p>
<p>SimpleJdbcInsert æœ‰ä¸¤ä¸ªæ‰§è¡Œæ’å…¥çš„æœ‰ç”¨æ–¹æ³•ï¼šexecute() å’Œ executeAndReturnKey()ã€‚ä¸¤è€…éƒ½æ¥å— Map&lt;String, Object&gt;ï¼Œå…¶ä¸­ Map é”®å¯¹åº”äºæ•°æ®æ’å…¥çš„è¡¨ä¸­çš„åˆ—åï¼Œæ˜ å°„çš„å€¼è¢«æ’å…¥åˆ°è¿™äº›åˆ—ä¸­ã€‚</p>
<p>é€šè¿‡å°† Order ä¸­çš„å€¼å¤åˆ¶åˆ° Map çš„æ¡ç›®ä¸­ï¼Œå¾ˆå®¹æ˜“åˆ›å»ºè¿™æ ·çš„ Mapã€‚ä½†æ˜¯ Order æœ‰å‡ ä¸ªå±æ€§ï¼Œè¿™äº›å±æ€§å’Œå®ƒä»¬è¦è¿›å…¥çš„åˆ—æœ‰ç›¸åŒçš„åå­—ã€‚å› æ­¤ï¼Œåœ¨ saveOrderDetails() ä¸­ï¼Œæˆ‘å†³å®šä½¿ç”¨ Jackson çš„ ObjectMapper åŠå…¶ convertValue() æ–¹æ³•å°† Order è½¬æ¢ä¸º Mapã€‚è¿™æ˜¯å¿…è¦çš„ï¼Œå¦åˆ™ ObjectMapper ä¼šå°† Date å±æ€§è½¬æ¢ä¸º longï¼Œè¿™ä¸ Taco_Order è¡¨ä¸­çš„ placedAt å­—æ®µä¸å…¼å®¹ã€‚</p>
<p>éšç€ Map ä¸­å¡«å……å®Œæˆè®¢å•æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ orderInserter ä¸Šè°ƒç”¨ executeAndReturnKey() æ–¹æ³•äº†ã€‚è¿™ä¼šå°†è®¢å•ä¿¡æ¯ä¿å­˜åˆ° Taco_Order è¡¨ä¸­ï¼Œå¹¶å°†æ•°æ®åº“ç”Ÿæˆçš„ id ä½œä¸ºä¸€ä¸ª Number å¯¹è±¡è¿”å›ï¼Œè°ƒç”¨ longValue() æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºä»æ–¹æ³•è¿”å›çš„ long å€¼ã€‚</p>
<p>saveTacoToOrder() æ–¹æ³•è¦ç®€å•å¾—å¤šã€‚ä¸æ˜¯ä½¿ç”¨ ObjectMapper å°†å¯¹è±¡è½¬æ¢ä¸º Mapï¼Œè€Œæ˜¯åˆ›å»º Map å¹¶è®¾ç½®é€‚å½“çš„å€¼ã€‚åŒæ ·ï¼Œæ˜ å°„é”®å¯¹åº”äºè¡¨ä¸­çš„åˆ—åã€‚å¯¹ orderTacoInserter çš„ execute() æ–¹æ³•çš„ç®€å•è°ƒç”¨å°±èƒ½æ‰§è¡Œæ’å…¥æ“ä½œã€‚</p>
<p>ç°åœ¨å¯ä»¥å°† OrderRepository æ³¨å…¥åˆ° OrderController ä¸­å¹¶å¼€å§‹ä½¿ç”¨å®ƒã€‚ä¸‹é¢çš„ç¨‹åºæ¸…å•æ˜¾ç¤ºäº†å®Œæ•´çš„ OrderControllerï¼ŒåŒ…æ‹¬å› ä½¿ç”¨æ³¨å…¥çš„ OrderRepository è€Œåšçš„æ›´æ”¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.web;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> javax.validation.Valid;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.Errors;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.SessionAttributes;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.support.SessionStatus;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> tacos.Order;</span><br><span class="line"><span class="keyword">import</span> tacos.data.OrderRepository;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/orders&quot;)</span></span><br><span class="line"><span class="meta">@SessionAttributes(&quot;order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> OrderRepository orderRepo;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OrderController</span><span class="params">(OrderRepository orderRepo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orderRepo = orderRepo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/current&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">orderForm</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;orderForm&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">processOrder</span><span class="params">(<span class="meta">@Valid</span> Order order, Errors errors,</span></span></span><br><span class="line"><span class="params"><span class="function">                               SessionStatus sessionStatus)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (errors.hasErrors()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;orderForm&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        orderRepo.save(order);</span><br><span class="line">        sessionStatus.setComplete();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†å°† OrderRepository æ³¨å…¥æ§åˆ¶å™¨ä¹‹å¤–ï¼ŒOrderController ä¸­æƒŸä¸€é‡è¦çš„æ›´æ”¹æ˜¯ processOrder() æ–¹æ³•ã€‚åœ¨è¿™é‡Œï¼Œè¡¨å•ä¸­æäº¤çš„ Order å¯¹è±¡ï¼ˆæ°å¥½ä¹Ÿæ˜¯åœ¨ session ä¸­ç»´æŠ¤çš„ Order å¯¹è±¡ï¼‰é€šè¿‡æ³¨å…¥çš„ OrderRepository ä¸Šçš„ save() æ–¹æ³•ä¿å­˜ã€‚</p>
<p>ä¸€æ—¦è®¢å•è¢«ä¿å­˜ï¼Œå°±ä¸å†éœ€è¦å®ƒå­˜åœ¨äº session ä¸­äº†ã€‚äº‹å®ä¸Šï¼Œå¦‚æœä¸æ¸…é™¤å®ƒï¼Œè®¢å•å°†ä¿æŒåœ¨ session ä¸­ï¼ŒåŒ…æ‹¬å…¶å…³è”çš„ tacosï¼Œä¸‹ä¸€ä¸ªè®¢å•å°†ä»æ—§è®¢å•ä¸­åŒ…å«çš„ä»»ä½• tacos å¼€å§‹ã€‚å› æ­¤éœ€è¦ processOrder() æ–¹æ³•è¯·æ±‚ SessionStatus å‚æ•°å¹¶è°ƒç”¨å…¶ setComplete() æ–¹æ³•æ¥é‡ç½®ä¼šè¯ã€‚</p>
<p>æ‰€æœ‰çš„ JDBC æŒä¹…åŒ–ä»£ç éƒ½å‡†å¤‡å¥½äº†ã€‚ç°åœ¨ï¼Œå¯ä»¥å¯åŠ¨ Taco Cloud åº”ç”¨ç¨‹åºå¹¶è¿›è¡Œæµ‹è¯•ã€‚ä½ æƒ³è¦å¤šå°‘ tacos å’Œå¤šå°‘ orders éƒ½å¯ä»¥ã€‚</p>
<p>å¯èƒ½è¿˜ä¼šå‘ç°åœ¨æ•°æ®åº“ä¸­è¿›è¡ŒæŒ–æ˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚å› ä¸ºä½¿ç”¨ H2 ä½œä¸ºåµŒå…¥å¼æ•°æ®åº“ï¼Œè€Œä¸” Spring Boot DevTools å·²ç»å°±ä½ï¼Œæ‰€ä»¥åº”è¯¥èƒ½å¤Ÿç”¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/h2-console">http://localhost:8080/h2-console</a> æ¥æŸ¥çœ‹ H2 æ§åˆ¶å°ã€‚è™½ç„¶éœ€è¦ç¡®ä¿ JDBC URL å­—æ®µè¢«è®¾ç½®ä¸º JDBC:h2:mem:testdbï¼Œä½†æ˜¯é»˜è®¤çš„å‡­è¯åº”è¯¥å¯ä»¥è®©ä½ è¿›å…¥ã€‚ç™»å½•åï¼Œåº”è¯¥èƒ½å¤Ÿå¯¹ Taco Cloud æ¨¡å¼ä¸­çš„è¡¨å‘èµ·æŸ¥è¯¢ã€‚</p>
<p>Spring çš„ JdbcTemplate å’Œ SimpleJdbcInsert ä½¿å¾—ä½¿ç”¨å…³ç³»æ•°æ®åº“æ¯”æ™®é€š JDBC ç®€å•å¾—å¤šã€‚ä½†æ˜¯å¯èƒ½ä¼šå‘ç° JPA ä½¿å®ƒæ›´åŠ ç®€å•ã€‚3.2å°†å±•ç¤ºJPAå¦‚ä½•ä½¿ç”¨ Spring æ•°æ®ä½¿æ•°æ®æŒä¹…åŒ–æ›´åŠ å®¹æ˜“ã€‚</p>
<h2 id="ä½¿ç”¨-Spring-Data-JPA-è¯»å†™æ•°æ®"><a href="#ä½¿ç”¨-Spring-Data-JPA-è¯»å†™æ•°æ®" class="headerlink" title="ä½¿ç”¨ Spring Data JPA è¯»å†™æ•°æ®"></a>ä½¿ç”¨ Spring Data JPA è¯»å†™æ•°æ®</h2><p>Spring Data é¡¹ç›®æ˜¯ä¸€ä¸ªç›¸å½“å¤§çš„ä¼å½¢é¡¹ç›®ï¼Œå‡ ä¸ªå­é¡¹ç›®ç»„æˆï¼Œå…¶ä¸­å¤§å¤šæ•°å­é¡¹ç›®å…³æ³¨äºå…·æœ‰å„ç§ä¸åŒæ•°æ®åº“ç±»å‹çš„æ•°æ®æŒä¹…åŒ–ã€‚ä¸€äº›æœ€æµè¡Œçš„ Spring æ•°æ®é¡¹ç›®åŒ…æ‹¬ï¼š</p>
<ul>
<li>Spring Data JPA* - é’ˆå¯¹å…³ç³»æ•°æ®åº“çš„æŒä¹…åŒ–</li>
<li><em>Spring Data Mongo</em> - é’ˆå¯¹ Mongo æ–‡æ¡£æ•°æ®åº“çš„æŒä¹…åŒ–</li>
<li><em>Spring Data Neo4j</em> - é’ˆå¯¹ Neo4j å›¾å½¢æ•°æ®åº“çš„æŒä¹…åŒ–</li>
<li><em>Spring Data Redis</em> - é’ˆå¯¹ Redis é”®å€¼å­˜å‚¨çš„æŒä¹…åŒ–</li>
<li><em>Spring Data Cassandra</em> - é’ˆå¯¹ Cassandra æ•°æ®åº“çš„æŒä¹…åŒ–</li>
</ul>
<p>Spring Data ä¸ºæ‰€æœ‰è¿™äº›é¡¹ç›®æä¾›çš„æœ€æœ‰æ„æ€å’Œæœ€æœ‰ç”¨çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯èƒ½å¤Ÿ<strong>åŸºäºå­˜å‚¨åº“è§„èŒƒæ¥å£è‡ªåŠ¨åˆ›å»ºå­˜å‚¨åº“</strong>ã€‚</p>
<p>ä¸ºäº†äº†è§£ Spring Data æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œéœ€è¦å°†æœ¬ç« å‰é¢ä»‹ç»çš„åŸºäº jdbc çš„å­˜å‚¨åº“æ›¿æ¢ä¸º Spring Data JPA åˆ›å»ºçš„å­˜å‚¨åº“ã€‚ä½†æ˜¯é¦–å…ˆï¼Œéœ€è¦å°† Spring Data JPA æ·»åŠ åˆ°é¡¹ç›®æ„å»ºä¸­ã€‚</p>
<h3 id="æ·»åŠ Spring-Data-JPAä¾èµ–"><a href="#æ·»åŠ Spring-Data-JPAä¾èµ–" class="headerlink" title="æ·»åŠ Spring Data JPAä¾èµ–"></a>æ·»åŠ <strong>Spring Data JPA</strong>ä¾èµ–</h3><p>Spring Data JPA å¯ç”¨äºå…·æœ‰ JPA starter çš„ Spring Boot åº”ç”¨ç¨‹åºã€‚è¿™ä¸ª starter ä¾èµ–ä¸ä»…å¸¦æ¥äº† Spring Data JPAï¼Œè¿˜åŒ…æ‹¬ Hibernate ä½œä¸º JPA çš„å®ç°ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å¯¹é¢†åŸŸç±»æ·»åŠ æ³¨è§£æˆä¸ºå®ä½“"><a href="#å¯¹é¢†åŸŸç±»æ·»åŠ æ³¨è§£æˆä¸ºå®ä½“" class="headerlink" title="å¯¹é¢†åŸŸç±»æ·»åŠ æ³¨è§£æˆä¸ºå®ä½“"></a>å¯¹é¢†åŸŸç±»æ·»åŠ æ³¨è§£æˆä¸ºå®ä½“</h3><p>åœ¨åˆ›å»ºå­˜å‚¨åº“æ–¹é¢ï¼ŒSpring Data åšäº†ä¸€äº›æƒŠäººçš„äº‹æƒ…ã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ JPA æ˜ å°„æ³¨è§£åŸŸå¯¹è±¡æ—¶ï¼Œå®ƒå¹¶æ²¡æœ‰å¤ªå¤§çš„å¸®åŠ©ã€‚éœ€è¦æ‰“å¼€ Ingredientã€Taco å’Œ Order ç±»ï¼Œå¹¶æ·»åŠ ä¸€äº›æ³¨è§£ã€‚é¦–å…ˆæ˜¯ Ingredient ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"><span class="keyword">import</span> lombok.AccessLevel;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.RequiredArgsConstructor;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor(access=AccessLevel.PRIVATE, force=true)</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ingredient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Type type;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">enum</span> <span class="title">Type</span> </span>&#123;</span><br><span class="line">        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å°†å…¶å£°æ˜ä¸º JPA å®ä½“ï¼Œå¿…é¡»ä½¿ç”¨ @Entity æ³¨è§£ã€‚å®ƒçš„ id å±æ€§å¿…é¡»ä½¿ç”¨ @Id è¿›è¡Œæ³¨è§£ï¼Œä»¥ä¾¿å°†å…¶æŒ‡å®šä¸ºæƒŸä¸€æ ‡è¯†æ•°æ®åº“ä¸­å®ä½“çš„å±æ€§ã€‚</p>
<p>é™¤äº†ç‰¹å®šäº JPA çš„æ³¨è§£ä¹‹å¤–ï¼Œè¿˜åœ¨ç±»çº§åˆ«ä¸Šæ·»åŠ äº† @NoArgsConstructor æ³¨è§£ã€‚JPA è¦æ±‚å®ä½“æœ‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ Lombok çš„ @NoArgsConstructor å®ç°äº†è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯è¦æ˜¯ä¸å¸Œæœ›ä½¿ç”¨å®ƒï¼Œå¯ä»¥é€šè¿‡å°† access å±æ€§è®¾ç½®ä¸º AccessLevel.PRIVATE æ¥å°†å…¶è®¾ç½®ä¸ºç§æœ‰ã€‚å› ä¸ºå¿…é¡»è®¾ç½® final å±æ€§ï¼Œæ‰€ä»¥è¿˜è¦å°† force å±æ€§è®¾ç½®ä¸º trueï¼Œè¿™å°†å¯¼è‡´ Lombok ç”Ÿæˆçš„æ„é€ å‡½æ•°å°†å®ƒä»¬è®¾ç½®ä¸º nullã€‚</p>
<p>è¿˜æ·»åŠ äº†ä¸€ä¸ª @RequiredArgsConstructorã€‚@Data éšå¼åœ°æ·»åŠ äº†ä¸€ä¸ªå¿…éœ€çš„æœ‰å‚æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å½“ä½¿ç”¨ @NoArgsConstructor æ—¶ï¼Œè¯¥æ„é€ å‡½æ•°å°†è¢«åˆ é™¤ã€‚æ˜¾å¼çš„ @RequiredArgsConstructor ç¡®ä¿é™¤äº†ç§æœ‰æ— å‚æ•°æ„é€ å‡½æ•°å¤–ï¼Œä»ç„¶æœ‰ä¸€ä¸ªå¿…éœ€æœ‰å‚æ„é€ å‡½æ•°ã€‚</p>
<p>Tacoç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.ManyToMany;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.OneToMany;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.PrePersist;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Size;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Taco</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy=GenerationType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min=5, message=&quot;Name must be at least 5 characters long&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Date createdAt;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ManyToMany(targetEntity=Ingredient.class)</span></span><br><span class="line">    <span class="meta">@Size(min=1, message=&quot;You must choose at least 1 ingredient&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Ingredient&gt; ingredients;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PrePersist</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">createdAt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.createdAt = <span class="keyword">new</span> Date();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ Ingredient ä¸€æ ·ï¼ŒTaco ç±»ç°åœ¨ä½¿ç”¨ @Entity æ³¨è§£ï¼Œå…¶ id å±æ€§ä½¿ç”¨ @Id æ³¨è§£ã€‚å› ä¸ºä¾èµ–äºæ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆ id å€¼ï¼Œæ‰€ä»¥è¿˜ä½¿ç”¨ @GeneratedValue æ³¨è§£ id å±æ€§ï¼ŒæŒ‡å®šè‡ªåŠ¨ç­–ç•¥ã€‚</p>
<p>è¦å£°æ˜ Taco åŠå…¶ç›¸å…³ Ingredient åˆ—è¡¨ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥ä½¿ç”¨ @ManyToMany æ³¨è§£ ingredient å±æ€§ã€‚ä¸€ä¸ª Taco å¯ä»¥æœ‰å¾ˆå¤š Ingredientï¼Œä¸€ä¸ª Ingredient å¯ä»¥æ˜¯å¾ˆå¤š Taco çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ–°æ–¹æ³• createdAt()ï¼Œå®ƒç”¨ @PrePersist æ³¨è§£ã€‚å°†ä½¿ç”¨å®ƒå°† createdAt å±æ€§è®¾ç½®ä¸ºä¿å­˜ Taco ä¹‹å‰çš„å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚</p>
<p>Orderç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GeneratedValue;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.GenerationType;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Id;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.ManyToMany;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.OneToMany;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.PrePersist;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Table;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Digits;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.Pattern;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.CreditCardNumber;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.NotBlank;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name=&quot;Taco_Order&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy=GenerationType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Date placedAt;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ManyToMany(targetEntity=Taco.class)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Taco&gt; tacos = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addDesign</span><span class="params">(Taco design)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tacos.add(design);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PrePersist</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">placedAt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.placedAt = <span class="keyword">new</span> Date();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹ Order çš„æ›´æ”¹ä¸å¯¹ Taco çš„æ›´æ”¹éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯åœ¨ç±»çº§åˆ«æœ‰ä¸€ä¸ªæ–°çš„æ³¨è§£ï¼š@Tableã€‚è¿™æŒ‡å®šè®¢å•å®ä½“åº”è¯¥æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­åä¸º Taco_Order çš„è¡¨ä¸­ã€‚</p>
<p>å°½ç®¡å¯ä»¥åœ¨ä»»ä½•å®ä½“ä¸Šä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œä½†å®ƒå¯¹äº Order æ˜¯å¿…éœ€çš„ã€‚æ²¡æœ‰å®ƒï¼ŒJPA å°†é»˜è®¤å°†å®ä½“æŒä¹…åŒ–åˆ°ä¸€ä¸ªåä¸º Order çš„è¡¨ä¸­ï¼Œä½†æ˜¯ Order åœ¨ SQL ä¸­æ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼Œä¼šå¯¼è‡´é—®é¢˜ã€‚</p>
<h3 id="å£°æ˜-JPA-repositoryæ¥å£"><a href="#å£°æ˜-JPA-repositoryæ¥å£" class="headerlink" title="å£°æ˜ JPA repositoryæ¥å£"></a>å£°æ˜ JPA repositoryæ¥å£</h3><p>åœ¨å­˜å‚¨åº“çš„ JDBC ç‰ˆæœ¬ä¸­ï¼Œæ˜¾å¼åœ°å£°æ˜äº†å¸Œæœ› repository æä¾›çš„æ–¹æ³•ã€‚ä½†æ˜¯ä½¿ç”¨ Spring Dataï¼Œæ‰©å±• CrudRepository æ¥å£ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„ IngredientRepository æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.repository.CrudRepository;</span><br><span class="line"><span class="keyword">import</span> tacos.Ingredient;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IngredientRepository</span> <span class="keyword">extends</span> <span class="title">CrudRepository</span>&lt;<span class="title">Ingredient</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>CrudRepository ä¸º CRUDï¼ˆåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤ï¼‰æ“ä½œå£°æ˜äº†åå‡ ä¸ªæ–¹æ³•ã€‚æ³¨æ„ï¼Œå®ƒæ˜¯å‚æ•°åŒ–çš„ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­˜å‚¨åº“è¦æŒä¹…åŒ–çš„å®ä½“ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å®ä½“ id å±æ€§çš„ç±»å‹ã€‚å¯¹äº IngredientRepositoryï¼Œå‚æ•°åº”è¯¥æ˜¯ Ingredient å’Œ String ç±»å‹ã€‚</p>
<p>å®šä¹‰ TacoRepositoryï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.repository.CrudRepository;</span><br><span class="line"><span class="keyword">import</span> tacos.Taco;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">TacoRepository</span> <span class="keyword">extends</span> <span class="title">CrudRepository</span>&lt;<span class="title">Taco</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>IngredientRepository å’Œ TacoRepository ä¹‹é—´å”¯ä¸€æ˜¾è‘—çš„åŒºåˆ«æ˜¯å¯¹äº CrudRepository çš„å‚æ•°ä¸åŒã€‚åœ¨è¿™é‡Œï¼Œå®ƒä»¬è¢«è®¾ç½®ä¸º Taco å’Œ Long å»æŒ‡å®š Taco å®ä½“ï¼ˆåŠå…¶ id ç±»å‹ï¼‰ä½œä¸ºè¿™ä¸ª respository æ¥å£çš„æŒä¹…åŒ–å•å…ƒã€‚æœ€åï¼ŒåŒæ ·çš„æ›´æ”¹å¯ä»¥åº”ç”¨åˆ° OrderRepositoryï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> tacos.data;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.repository.CrudRepository;</span><br><span class="line"><span class="keyword">import</span> tacos.Order;</span><br><span class="line">â€‹</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OrderRepository</span> <span class="keyword">extends</span> <span class="title">CrudRepository</span>&lt;<span class="title">Order</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æœ‰äº†è¿™ä¸‰ä¸ª repositoryï¼Œå¯èƒ½è®¤ä¸ºéœ€è¦ä¸ºè¿™ä¸‰ä¸ª repository ç¼–å†™å®ç°ï¼Œè¿˜åŒ…æ‹¬æ¯ç§å®ç°çš„åå‡ ä¸ªæ–¹æ³•ã€‚ä½†è¿™å°±æ˜¯ Spring Data JPA ä¼˜ç§€çš„åœ°æ–¹ â€”â€” ä¸éœ€è¦ç¼–å†™å®ç°ï¼å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼ŒSpring Data JPA ä¼šåŠ¨æ€åœ°è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå®ç°ã€‚è¿™æ„å‘³ç€ repository å¯ä»¥ä»ä¸€å¼€å§‹å°±ä½¿ç”¨ã€‚åªéœ€å°†å®ƒä»¬æ³¨å…¥åˆ°æ§åˆ¶å™¨ä¸­ï¼Œå°±åƒåœ¨åŸºäº JDBC çš„å®ç°ä¸­æ‰€åšçš„é‚£æ ·ã€‚</p>
<p>CrudRepository æä¾›çš„æ–¹æ³•éå¸¸é€‚åˆç”¨äºå®ä½“çš„é€šç”¨æŒä¹…åŒ–ã€‚ä½†æ˜¯å¦‚æœæœ‰ä¸€äº›åŸºæœ¬æŒä¹…åŒ–ä¹‹å¤–çš„éœ€æ±‚å‘¢ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è‡ªå®šä¹‰ repository æ¥æ‰§è¡ŒåŸŸç‰¹æœ‰çš„æŸ¥è¯¢ã€‚</p>
<h3 id="è‡ªå®šä¹‰-JPA-repositoryå®ç°"><a href="#è‡ªå®šä¹‰-JPA-repositoryå®ç°" class="headerlink" title="è‡ªå®šä¹‰ JPA repositoryå®ç°"></a>è‡ªå®šä¹‰ JPA repositoryå®ç°</h3><p>æƒ³è±¡ä¸€ä¸‹ï¼Œé™¤äº† CrudRepository æä¾›çš„åŸºæœ¬ CRUD æ“ä½œä¹‹å¤–ï¼Œè¿˜éœ€è¦è·å–æŠ•é€’ç»™æŒ‡å®šé‚®æ”¿ç¼–ç çš„æ‰€æœ‰è®¢å•ã€‚äº‹å®è¯æ˜ï¼Œé€šè¿‡åœ¨ OrderRepository ä¸­æ·»åŠ ä»¥ä¸‹æ–¹æ³•å£°æ˜å¯ä»¥å¾ˆå®¹æ˜“åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<p><code>List&lt;Order&gt; findByDeliveryZip(String deliveryZip);</code></p>
<p>åœ¨ç”Ÿæˆ repository å®ç°æ—¶ï¼ŒSpring Data æ£€æŸ¥å­˜å‚¨åº“æ¥å£ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œè§£ææ–¹æ³•åç§°ï¼Œå¹¶<strong>å°è¯•åœ¨æŒä¹…åŒ–å¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­ç†è§£æ–¹æ³•çš„ç”¨é€”</strong>ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯ Orderï¼‰ã€‚æœ¬è´¨ä¸Šï¼ŒSpring Data å®šä¹‰äº†ä¸€ç§å°å‹çš„é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰ï¼Œå…¶ä¸­æŒä¹…åŒ–ç»†èŠ‚ç”¨ repository ä¸­çš„æ–¹æ³•ç­¾åè¡¨ç¤ºã€‚</p>
<p>è®©æˆ‘ä»¬è€ƒè™‘å¦ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ã€‚å‡è®¾éœ€è¦æŸ¥è¯¢åœ¨ç»™å®šæ—¥æœŸèŒƒå›´å†…æŠ•é€’ç»™æŒ‡å®šé‚®æ”¿ç¼–ç çš„æ‰€æœ‰è®¢å•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æ·»åŠ åˆ° OrderRepository æ—¶ï¼Œä¸‹é¢çš„æ–¹æ³•å¯èƒ½ä¼šè¢«è¯æ˜æ˜¯æœ‰ç”¨çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">List&lt;Order&gt; <span class="title">readOrdersByDeliveryZipAndPlacedAtBetween</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    String deliveryZip, Date startDate, Date endDate)</span></span>;</span><br></pre></td></tr></table></figure>

<p><em><strong><u>è‡ªåŠ¨è¯†åˆ«æ–¹æ³•åçŒœæµ‹åŠŸèƒ½ï¼Œæ–¹æ³•å‘½åçº¦å®š</u></strong></em></p>
<p>è™½ç„¶å‘½åçº¦å®šå¯¹äºç›¸å¯¹ç®€å•çš„æŸ¥è¯¢å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯å¯¹äºæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œä¸éœ€è¦å¤ªå¤šçš„æƒ³è±¡å°±å¯ä»¥çœ‹å‡ºæ–¹æ³•åç§°å¯èƒ½ä¼šå¤±æ§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥éšæ„å°†æ–¹æ³•å‘½åä¸ºä»»ä½•æƒ³è¦çš„åç§°ï¼Œå¹¶ä½¿ç”¨ @Query å¯¹å…¶è¿›è¡Œæ³¨è§£ï¼Œä»¥æ˜¾å¼åœ°æŒ‡å®šè°ƒç”¨æ–¹æ³•æ—¶è¦æ‰§è¡Œçš„æŸ¥è¯¢ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Query(&quot;Order o where o.deliveryCity=&#x27;Seattle&#x27;&quot;)</span></span><br><span class="line"><span class="function">List&lt;Order&gt; <span class="title">readOrdersDeliveredInSeattle</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><ul>
<li>JdbcTemplate å¤§å¤§ç®€åŒ–äº† JDBC çš„å·¥ä½œã€‚</li>
<li>å½“éœ€è¦çŸ¥é“æ•°æ®åº“ç”Ÿæˆçš„ id æ—¶ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨ PreparedStatementCreator å’Œ KeyHolderã€‚</li>
<li>ä¸ºäº†æ–¹ä¾¿æ‰§è¡Œæ•°æ®æ’å…¥ï¼Œä½¿ç”¨ SimpleJdbcInsertã€‚</li>
<li>Spring Data JPA ä½¿å¾— JPA æŒä¹…åŒ–å°±åƒç¼–å†™å­˜å‚¨åº“æ¥å£ä¸€æ ·ç®€å•ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠSpringå®æˆ˜ã€‹ç¬”è®°</title>
    <url>/2021/12/23/myblog/JAVA/%E3%80%8ASpring%E5%AE%9E%E6%88%98%E3%80%8B%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h3 id="springbootåœ¨ideaçš„RunDashboardå¦‚ä½•æ˜¾ç¤ºå‡ºæ¥"><a href="#springbootåœ¨ideaçš„RunDashboardå¦‚ä½•æ˜¾ç¤ºå‡ºæ¥" class="headerlink" title="springbootåœ¨ideaçš„RunDashboardå¦‚ä½•æ˜¾ç¤ºå‡ºæ¥"></a>springbootåœ¨ideaçš„RunDashboardå¦‚ä½•æ˜¾ç¤ºå‡ºæ¥</h3><p>è¿ç”¨spring cloudæ¡†æ¶åŸºäºspring bootæ„å»ºå¾®æœåŠ¡ï¼Œä¸€èˆ¬éœ€è¦å¯åŠ¨å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œåœ¨ideaå¼€å‘å·¥å…·ä¸­ï¼Œå¤šä¸ªåŒæ—¶å¯åŠ¨çš„åº”ç”¨éœ€è¦åœ¨RunDashboardè¿è¡Œä»ªè¡¨ç›˜ä¸­å¯ä»¥æ›´å¥½çš„ç®¡ç†ï¼Œä½†æœ‰æ—¶å€™ideaä¸­çš„RunDashboardçª—å£æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹Ÿæ‰¾ä¸åˆ°ç›´æ¥çš„å¼€å¯æŒ‰é’®ã€‚</p>
<p>é€‰æ‹©Edit Configurationsï¼Œåœ¨è¿è¡Œé…ç½®çª—å£ï¼Œé€‰æ‹©ä¸€æ¡springbootçš„è¿è¡Œé…ç½®ï¼Œç„¶åç‚¹å‡»ä¸Šæ–¹çš„å¤åˆ¶æŒ‰é’®è¿›è¡Œå¤åˆ¶å‰¯æœ¬ï¼Œå¤åˆ¶å®Œæˆä¹‹åï¼Œç‚¹å‡»OKç¡®å®šæŒ‰é’®ï¼Œç„¶ååœ¨å±å¹•å³ä¸‹è§’å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¼¹æ¡†æç¤ºï¼Œç‚¹å‡»å¼¹æ¡†å³ä¸‹è§’çš„å‘ä¸‹çš„å°ç®­å¤´ï¼Œå±•å¼€å¼¹æ¡†è¯¦æƒ…ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»Show run configurations in Run Dashboardï¼Œåœ¨Run Dashboardä¸­å¯ä»¥çœ‹åˆ°å½“å‰æ‰€æœ‰çš„å¯åŠ¨é…ç½®ï¼Œç›´æ¥ç‚¹å‡»å¯ä»¥æ–¹ä¾¿çš„å¯åŠ¨å’Œåœæ­¢ã€‚</p>
<p>ä»¥ä¸Šæ–¹æ³•è¿˜æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥çš„è¯ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¿®æ”¹ideaçš„workspace.xmlçš„æ–¹å¼æ¥å¿«é€Ÿæ‰“å¼€Run Dashboardçª—å£ã€‚</p>
<p>æ‰“å¼€workspace.xmlæ–‡ä»¶ä¹‹åï¼Œæ‰¾åˆ°componentä¸ºRunDashboardçš„èŠ‚ç‚¹å¤„ï¼Œç„¶ååœ¨componentæ ‡ç­¾é‡Œæ·»åŠ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;option name=&quot;configurationTypes&quot;&gt;</span><br><span class="line">   &lt;set&gt;</span><br><span class="line">â€‹    &lt;option value=&quot;SpringBootApplicationConfigurationType&quot; /&gt;</span><br><span class="line">   &lt;/set&gt;</span><br><span class="line">  &lt;/option&gt;</span><br></pre></td></tr></table></figure>

<p>æœ€åä¿å­˜å³å¯ï¼Œä¿å­˜å®Œæˆä¹‹åç«‹å³è‡ªåŠ¨å¼¹å‡ºRun Dashboardçª—å£äº†ã€‚</p>
<h3 id="Tacoå•†åº—"><a href="#Tacoå•†åº—" class="headerlink" title="Tacoå•†åº—"></a>Tacoå•†åº—</h3><p>è·¯å¾„ã€é¢†åŸŸç±»ã€æ§åˆ¶å™¨ã€æ§åˆ¶å™¨è¿”å›çš„æ˜¯è¡¨å•ã€‚æ§åˆ¶å™¨ä¹Ÿå¯é‡å®šå‘åˆ°å¦ä¸€ä¸ªè·¯å¾„ã€‚æ¯ä¸ªæ§åˆ¶å™¨ç±»å¤„ç†ä¸€ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªè·¯å¾„å¯ä»¥å¤„ç†getã€postï¼Œä¸€æ¬¡å¯ä»¥æœ‰ä¸åŒçš„æ–¹æ³•ã€‚è¡¨å•postè¯·æ±‚åˆ°æ§åˆ¶å™¨ã€‚</p>
<p>ç›®å‰çš„é¢†åŸŸç±»ï¼štacoã€orderã€ingredient</p>
<p>æ§åˆ¶ç±»ï¼šdesigncontrolã€ordercontrol</p>
<p>è¡¨å•ï¼šhomeã€designã€order</p>
<h3 id="ç¬¬äºŒç« è°ƒè¯•"><a href="#ç¬¬äºŒç« è°ƒè¯•" class="headerlink" title="ç¬¬äºŒç« è°ƒè¯•"></a>ç¬¬äºŒç« è°ƒè¯•</h3><p>1.åªæœ‰homeï¼Œåªæ˜¾ç¤ºä¸»é¡µã€‚</p>
<p>2.æœ‰designï¼Œæ˜¾ç¤ºdesigné¡µé¢ï¼Œæ²¡æœ‰è¡¨å•éªŒè¯ï¼Œé…æ–™æ˜¯è‡ªå·±å†™çš„ï¼Œç‚¹äº†submité”™è¯¯äº†ï¼Œ405 Request method â€˜POSTâ€™ not supportedã€‚</p>
<p>3.åŠ postæ–¹æ³•ï¼Œé‡å®šå‘ï¼ˆè·³è½¬ï¼‰åˆ°è®¢å•å¤„ç†æ§åˆ¶å™¨ï¼Œæ˜¾ç¤ºorderé¡µé¢ï¼Œæ³¨æ„ordercontrolé‡Œä¹Ÿæ˜¯ä¸€ä¸ªgetä¸€ä¸ªpostã€‚</p>
<p>4.æ·»åŠ è¡¨å•éªŒè¯ï¼Œä¸¤ä¸ªé¢†åŸŸç±»æ·»åŠ è§„åˆ™ï¼Œä¸¤ä¸ªæ§åˆ¶ç±»çš„postæäº¤è¡¨å•æ–¹æ³•è¿›è¡ŒéªŒè¯ï¼Œä¸¤ä¸ªè¡¨å•ä¹Ÿè¦åšç›¸åº”å˜åŒ–ï¼ŒåŠ spanã€‚ï¼ˆä¸åŠ @ModelAttribute(â€œdesignâ€) æ˜¯é”™çš„ï¼Œåªæ˜¯designcontrolï¼Œå¦å¤–ï¼Œç©ºç™½æ¡†æ—çš„true/falseä¸çŸ¥é“å“ªæ¥çš„ï¼Œï¼‰ã€‚</p>
<p>5.ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨ï¼Œåˆ é™¤homecontrolï¼Œä¿®æ”¹homecontroltestã€‚</p>
<h3 id="ç¬¬ä¸‰ç« ä¸­"><a href="#ç¬¬ä¸‰ç« ä¸­" class="headerlink" title="ç¬¬ä¸‰ç« ä¸­"></a>ç¬¬ä¸‰ç« ä¸­</h3><p>ä¸¤ä¸ªæ–¹æ³•3.1å’Œ3.2æ˜¯å¹¶åˆ—çš„ï¼Œå¯ä»¥ç”¨è¿™ä¸ªä¸¤ç§æ–¹æ³•ï¼ŒJDBCå’ŒJPAï¼ŒJPAæ¯”JDBCç®€å•ã€‚</p>
<p>3.1ä¸­ï¼Œingredientåº“æ’å…¥æ•°æ®æ¯”è¾ƒç®€å•ï¼Œåªæ’å…¥ä¸€ä¸ªåº“ï¼Œä½†æ˜¯tacoå’Œorderæ¯”è¾ƒéš¾ï¼Œéƒ½æœ‰ä¸¤ä¸ªåº“è¦æ’å…¥ï¼Œæ’å…¥ä¸€ä¸ªåº“ä¹‹åéœ€è¦è·å¾—ä¸€ä¸ªidæ‰èƒ½æ’å…¥ç¬¬äºŒä¸ªåº“ï¼Œ3.1.4å…·ä½“æŒä¹…åŒ–æ–¹æ³•ä¸­æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ¯”ç¬¬ä¸€ç§ç®€å•ã€‚</p>
<p>å¯¹äºingredientï¼Œéœ€è¦é¢„æ’å…¥æ•°æ®ã€‚</p>
<p>å¯¹designcontrolã€ordercontrolçš„ä¿®æ”¹ï¼Œç¬¬ä¸€åœ¨äºæ„é€ æ–¹æ³•å°†æ•°æ®åº“æ³¨å…¥åˆ°æ§åˆ¶å™¨ä¸­ï¼Œç¬¬äºŒåœ¨äºpostæ–¹æ³•æäº¤è¡¨å•éœ€è¦å°†æ•°æ®å­˜å…¥æ•°æ®åº“ã€‚</p>
<p>å…¶ä¸­æ¶‰åŠåˆ°sessionï¼Œç”¨äºä¿å­˜åœ¨ä¼šè¯ä¸­çš„ order å±æ€§ï¼Œå¹¶ä¸”å¯ä»¥<strong>è·¨å¤šä¸ªè¯·æ±‚ä½¿ç”¨</strong>ã€‚å› ä¸ºå­˜å…¥orderæ•°æ®åº“çš„æ•°æ®é‡Œæœ‰tacoç›¸å…³çš„æ•°æ®ï¼Œéœ€è¦sessionæš‚å­˜ä¸€ä¸‹ã€‚</p>
<h3 id="ç¬¬ä¸‰ç« ç¬¬ä¸€èŠ‚JDBCè°ƒè¯•"><a href="#ç¬¬ä¸‰ç« ç¬¬ä¸€èŠ‚JDBCè°ƒè¯•" class="headerlink" title="ç¬¬ä¸‰ç« ç¬¬ä¸€èŠ‚JDBCè°ƒè¯•"></a>ç¬¬ä¸‰ç« ç¬¬ä¸€èŠ‚JDBCè°ƒè¯•</h3><p><code>lsof -i:8080</code>æŸ¥çœ‹ç«¯å£å ç”¨   å…³é—­è¿›ç¨‹ <code>kill pid</code></p>
<p>1.ä¸ºé¢†åŸŸç±»tacoã€orderæ·»åŠ idå’Œæ—¥æœŸã€‚</p>
<p>2.pom.xmlé‡Œæ·»åŠ jdbcã€h2ä¾èµ–</p>
<p>3.å…³äºingredientçš„æ”¹å˜ï¼šdataæ–‡ä»¶å¤¹ä¸‹ingredientrepoæ¥å£å’Œjdbcingredientrepoç±»ï¼Œç±»ä¸‹findæ–¹æ³•å’Œsaveæ–¹æ³•ã€‚æ”¹é€ DesignTacoControllerçš„æ„é€ æ–¹æ³•å’ŒshowDesignFormï¼Œå°†å›ºå®šé…æ–™æ”¹ä¸ºä»æ•°æ®åº“ä¸­è¯»å–é…æ–™ã€‚</p>
<p>4.å†™è¡¨ï¼Œé¢„åŠ è½½æ•°æ®ï¼Œschema.sql  data.sql</p>
<p>5.è®¾ç½®TacoRepositoryã€OrderRepositoryæ¥å£</p>
<p>6.å…³äºtacoï¼Œjdbcå®ç°çš„JdbcTacoRepositoryç±»ã€‚designtacocontrolä¸­æŒä¹…åŒ–çš„è¿‡ç¨‹ï¼Œæ„é€ å‡½æ•°ä¸ºpostæ–¹æ³•æ·»åŠ ä¸€ä¸ªå‚æ•°ã€‚æ”¹é€ postå‡½æ•°ï¼Œæ·»åŠ æŒä¹…åŒ–åˆ°æ•°æ®åº“çš„è¿‡ç¨‹ã€‚è¿˜è¦ä¸€ä¸ªtacoå’Œorderæ–¹æ³•ã€‚orderé¢†åŸŸç±»å†…æ·»åŠ ä¸€ä¸ªadddesignæ–¹æ³•ã€‚</p>
<p>7.å…³äºorderçš„æ”¹å˜ï¼Œä½¿ç”¨SimpleJdbcInsertæ–¹æ³•ï¼Œå®ç°JdbcOrderRepositoryç±»ï¼Œordercontrolä¸­çš„æŒä¹…åŒ–è¿‡ç¨‹ï¼Œæ„é€ å‡½æ•°å’Œpostå‡½æ•°åšæ”¹å˜ã€‚</p>
<h3 id="é”™è¯¯è®°å½•1"><a href="#é”™è¯¯è®°å½•1" class="headerlink" title="é”™è¯¯è®°å½•1"></a>é”™è¯¯è®°å½•1</h3><p>é”™è¯¯è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Error starting ApplicationContext. To display the conditions report re-run your application with <span class="string">&#x27;debug&#x27;</span> enabled.</span><br><span class="line"><span class="number">2021</span>-<span class="number">12</span>-<span class="number">27</span> <span class="number">13</span>:<span class="number">46</span>:<span class="number">56.526</span> ERROR <span class="number">1306</span> --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºåœ¨pomæ–‡ä»¶é‡Œé¢åŠ å…¥äº†mybatisï¼ˆæŸï¼‰æ¨¡å— å´æ²¡æœ‰åœ¨configé…ç½®é‡Œé¢å¢åŠ mybatisï¼ˆå®ƒï¼‰çš„ä¸Šä¸‹æ–‡å¯¼è‡´å¯åŠ¨æŠ¥é”™çš„<br>starting ApplicationContext. To display the conditions report re-run your application with â€˜debugâ€™ enabledï¼ˆè¿™å¥è¯å…¶å®å·²ç»è¯´å¾—å¾ˆæ˜ç™½äº† åœ¨å¯åŠ¨çš„æ—¶å€™ ä¸Šä¸‹æ–‡é”™è¯¯ å¯¼è‡´å¯åŠ¨å¤±è´¥ï¼‰<br>åœ¨é…ç½®æ–‡ä»¶é‡Œé¢åŠ ä¸Šmybatisçš„é…ç½®å°±è¡Œäº†</p>
<p>ä½†æ˜¯ä¸çŸ¥é“è¯´çš„é…ç½®æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œå°è¯•æ³¨é‡Šæ‰ä¸ç”¨çš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jetbrains<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ²¡ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#x27;jdbcIngredientRepository&#x27;</span><br></pre></td></tr></table></figure>

<p> è¿™ä¸ªé—®é¢˜ä¸€èˆ¬æ˜¯mapperé‡Œé¢çš„SQLè¯­å¥å†™é”™äº†ã€‚å¯èƒ½æ˜¯æœ¬æ¥selectï¼Œå´å†™æˆäº†insert</p>
<p>æ‰¾äº†åŠå¤©ï¼ŒåŸæ¥æ˜¯schema.sqlæ–‡ä»¶ä¸­è¯­å¥çš„é”™è¯¯ã€‚</p>
<p>å¹²ï¼ï¼ï¼æ˜¯å› ä¸ºå¤åˆ¶è¿‡æ¥æœ‰æ— æ•ˆç©ºæ ¼ï¼Œæ²¡æ˜¾ç¤ºé”™è¯¯ã€‚</p>
<h3 id="é”™è¯¯è®°å½•2"><a href="#é”™è¯¯è®°å½•2" class="headerlink" title="é”™è¯¯è®°å½•2"></a>é”™è¯¯è®°å½•2</h3><p>ä¹Ÿä¸çŸ¥å“ªä¸€æ­¥æœ‰é—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2021</span>-<span class="number">12</span>-<span class="number">27</span> <span class="number">19</span>:<span class="number">40</span>:<span class="number">36.800</span> ERROR <span class="number">1822</span> --- [nio-<span class="number">8080</span>-exec-<span class="number">6</span>] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() <span class="keyword">for</span> servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause</span><br><span class="line"></span><br><span class="line">java.lang.NullPointerException: <span class="keyword">null</span></span><br><span class="line">	at tacos.data.JdbcTacoRepository.saveTacoInfo(JdbcTacoRepository.java:<span class="number">51</span>) ~[classes/:na]</span><br><span class="line">	at tacos.data.JdbcTacoRepository.save(JdbcTacoRepository.java:<span class="number">28</span>) ~[classes/:na]</span><br></pre></td></tr></table></figure>

<p>åœ¨æäº¤tacoçš„æ—¶å€™ï¼Œå°±ä¼šæœ‰500é”™è¯¯ã€‚</p>
<p>è¡¨å•htmlæ–‡ä»¶å°±éœ€è¦ä¿®æ”¹çš„ï¼Œtomorrowçœ‹ä¸‹è¡¨å•åšå•¥å˜åŒ–äº†ã€‚å†æ¢ä¸€ä¸‹å¤–é¢çš„æ–‡ä»¶ï¼Œçœ‹æ˜¯ä¸æ˜¯å°±èƒ½æ­£å¸¸ã€‚</p>
<p>åªæ˜¯æœ‰ä¸€ä¸ªdesignå˜æˆäº†tacoï¼Œä»æ•°æ®åº“ä¸­æ‹¿é…æ–™ç§ç±»ï¼Œéš¾é“è¡¨å•ä¸éœ€è¦è¿æ¥æ•°æ®åº“æˆ–è€…æ˜¯æ§åˆ¶å™¨å—ï¼Ÿï¼Ÿï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Failed to convert property value of type java.lang.String to required type java.util.List for property ingredients; nested exception is java.lang.IllegalStateException: Cannot convert value of type java.lang.String to required type tacos.Ingredient for property ingredients[0]: no matching editors or conversion strategy found</span><br><span class="line"></span><br><span class="line">å°†java.lang.Stringç±»å‹çš„å±æ€§å€¼è½¬æ¢ä¸ºæ‰€éœ€ç±»å‹java.util.Listå±æ€§æˆåˆ†å¤±è´¥;java.lang.IllegalStateException:ä¸èƒ½è½¬æ¢java.lang.Stringç±»å‹çš„å€¼åˆ°æ‰€éœ€ç±»å‹tacosã€‚å±æ€§æˆåˆ†[0]çš„æˆåˆ†:æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç¼–è¾‘å™¨æˆ–è½¬æ¢ç­–ç•¥</span><br></pre></td></tr></table></figure>

<p>1.designcontrolå’Œordercontrolä¸¤ä¸ªæ§åˆ¶å™¨ï¼Œéœ€è¦åŠ sessionï¼Œ<code>@SessionAttributes(&quot;order&quot;)</code></p>
<p>2.åŸæ¥çš„pom.xmlï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sia<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>taco-cloud<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>taco-cloud<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>Taco Cloud Example<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jetbrains<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sia<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>taco-cloud<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xml-apis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xml-apis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.04<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.bytebuddy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>byte-buddy<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢äº†è§†å›¾æ§åˆ¶å™¨ã€è¡¨å•ã€pomæ–‡ä»¶ï¼Œæ‰å˜å¯¹çš„ã€‚</p>
<h3 id="ç¬¬ä¸‰ç« ç¬¬äºŒèŠ‚JPAè°ƒè¯•"><a href="#ç¬¬ä¸‰ç« ç¬¬äºŒèŠ‚JPAè°ƒè¯•" class="headerlink" title="ç¬¬ä¸‰ç« ç¬¬äºŒèŠ‚JPAè°ƒè¯•"></a>ç¬¬ä¸‰ç« ç¬¬äºŒèŠ‚JPAè°ƒè¯•</h3><p>1.åœ¨pom.xmlä¸­æ·»åŠ ä¾èµ–starter<br>ç–‘é—®ï¼šadd â€¦ to classpath æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¾€pomé‡Œæ·»åŠ ä¾èµ–å—ï¼Ÿ</p>
<p>é—®é¢˜ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/4da10c38ab5a41329f7d2cebdc2e1e93.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p><code>Dependency &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.6.1&#39; not found </code></p>
<p>æ¡ˆä¾‹ä¸­çš„ä»£ç æ— configurationã€‚<code>é”™è¯¯: æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» tacos.TacoCloudApplication</code></p>
<p>2.åº“æ¥å£å®šä¹‰</p>
<p>3.å¯è‡ªåŠ¨å®ç°ï¼Œå¯è‡ªå®šä¹‰å®ç°</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹ä¹‹GUI</title>
    <url>/2021/11/26/myblog/JAVA/%E3%80%8Ajava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B%E4%B9%8BGUI/</url>
    <content><![CDATA[<p>GUIï¼šGraphical User Interface å›¾å½¢ç”¨æˆ·æ¥å£ã€‚ç”¨æ¥æä¾›ç»™ç”¨æˆ·æ“ä½œçš„å›¾åƒç•Œé¢çš„æ¥å£ã€‚</p>
<p>javaé’ˆå¯¹GUIè®¾è®¡æä¾›äº†ä¸€äº›åŸºæœ¬çš„å›¾å½¢ç”¨æˆ·æ¥å£å¼€å‘å·¥å…·ï¼Œå¦‚AWTã€Swingã€JavaFXã€‚</p>
<p>AWTæ˜¯sunå…¬å¸æœ€æ—©æ¨å‡ºçš„ä¸€å¥—APIï¼Œç»„ä»¶ç§ç±»æœ‰é™ï¼Œæ— æ³•å®ç°GUIè®¾è®¡çš„å…¨éƒ¨åŠŸèƒ½ã€‚</p>
<h2 id="Swingæ¦‚è¿°"><a href="#Swingæ¦‚è¿°" class="headerlink" title="Swingæ¦‚è¿°"></a>Swingæ¦‚è¿°</h2><p>æ—©æœŸJDK1.0å‘å¸ƒæ—¶ï¼Œå°±ä¸ºGUIå¼€å‘æä¾›äº†ä¸€å¥—åŸºç¡€ç±»åº“ï¼ˆAWTï¼‰ï¼Œå³æŠ½è±¡çª—å£å·¥å…·åŒ…ã€‚AWTéœ€è¦ç‰ºç‰²åŠŸèƒ½æ¥å®ç°å¹³å°æ— å…³æ€§ã€‚å› æ­¤ï¼ŒSunå…¬å¸å¯¹AWTè¿›è¡Œæ”¹è¿›ï¼Œæå‡ºSwingç»„ä»¶ï¼Œæä¾›æ›´åŠ ä¸°å¯Œçš„ç»„ä»¶å’ŒåŠŸèƒ½ï¼Œæ¥æ»¡è¶³GUIè®¾è®¡çš„ä¸€åˆ‡éœ€æ±‚ã€‚</p>
<p>Swingæ˜¯ä¸€ç»„è½»é‡çº§ç»„ä»¶ï¼Œç”±Javaè¯­è¨€å¼€å‘ï¼ŒåŒæ—¶åº•å±‚ä»¥AWTä¸ºåŸºç¡€ã€‚Swingå¹¶ä¸æ˜¯AWTçš„æ›¿ä»£å“ï¼Œè€Œæ˜¯åœ¨åŸæœ‰çš„AWTçš„åŸºç¡€ä¸Šè¿›è¡Œè¡¥å……å’Œæ”¹è¿›ã€‚</p>
<p>Swingç»„ä»¶çš„æ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ªContainerç±»ï¼Œç„¶åæ ¹æ®GUIå¼€å‘çš„åŠŸèƒ½æ‰©å±•äº†ä¸¤ä¸ªä¸»è¦åˆ†æ”¯ï¼šå®¹å™¨åˆ†æ”¯ï¼ˆWindowçª—å£å’ŒPanelé¢æ¿ï¼‰å’Œç»„ä»¶åˆ†æ”¯ã€‚</p>
<p>å®¹å™¨åˆ†æ”¯æ˜¯ä¸ºäº†å®ç°å›¾å½¢ç”¨æˆ·ç•Œé¢çª—å£å®¹å™¨è€Œè®¾è®¡çš„ã€‚</p>
<p>ç»„ä»¶åˆ†æ”¯æ˜¯ä¸ºäº†å®ç°å‘å®¹å™¨ä¸­å¡«å……æ•°æ®ã€å…ƒç´ ä»¥åŠäººæœºäº¤äº’ç»„ä»¶ç­‰åŠŸèƒ½ã€‚</p>
<p>Swingç»„ä»¶ç±»ä¸­å¸¸ç”¨çš„é¡¶çº§å®¹å™¨ç±»åŒ…æ‹¬ï¼šJAppletã€JFrameå’ŒJDialogã€‚å¸¸ç”¨çš„ç»„ä»¶ç±»ï¼šAbstractButtonç±»åŠå…¶å­ç±»å°±æ˜¯ç”¨æ¥å®šä¹‰æŒ‰é’®å¸¸è§è¡Œä¸ºçš„å·¥å…·ç±»ï¼ŒJTextComponentç±»åŠå…¶å­ç±»å°±æ˜¯ç”¨æ¥å®šä¹‰æ–‡æœ¬å†…å®¹ç¼–è¾‘åŒºåŸŸçš„å·¥å…·ç±»ã€‚</p>
<h2 id="JavaFXæ¦‚è¿°"><a href="#JavaFXæ¦‚è¿°" class="headerlink" title="JavaFXæ¦‚è¿°"></a>JavaFXæ¦‚è¿°</h2><p>JavaFXåŒSwingä¸€æ ·ï¼Œéƒ½ç”¨äºå¤„ç†å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾å½¢å’Œå¤šåª’ä½“å¤„ç†å·¥å…·åŒ…é›†åˆï¼Œå…è®¸å¼€å‘è€…è®¾è®¡ã€åˆ›å»ºã€æµ‹è¯•ã€è°ƒè¯•å’Œéƒ¨ç½²å¯Œå®¢æˆ·ç«¯ç¨‹åºï¼Œå¹¶ä¸”å’ŒJavaä¸€æ ·å…·æœ‰è·¨å¹³å°ç‰¹æ€§ã€‚</p>
<p>Sunå…¬å¸äº2008å¹´æ¨å‡ºJavaFXï¼Œæ¥å¼¥è¡¥Javaåœ¨æ¡Œé¢åº”ç”¨ç¨‹åºçš„ç¼ºé™·ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹ä¹‹JDBC</title>
    <url>/2021/11/27/myblog/JAVA/%E3%80%8Ajava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B%E4%B9%8BJDBC/</url>
    <content><![CDATA[<p>å®é™…å¼€å‘ä¸­ï¼Œé¡¹ç›®ä¸­çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼ŒJavaå¯¹æ•°æ®åº“çš„æ“ä½œæä¾›äº†ä¸€å¥—å¯ä»¥æ‰§è¡ŒSQLè¯­å¥çš„APIï¼Œå³JDBCã€‚</p>
<h2 id="JDBCæ¦‚å¿µ"><a href="#JDBCæ¦‚å¿µ" class="headerlink" title="JDBCæ¦‚å¿µ"></a>JDBCæ¦‚å¿µ</h2><p>JDBCï¼ˆjava database connectivityï¼ŒJavaæ•°æ®åº“è¿æ¥ï¼‰æ˜¯ä¸€å¥—ç”¨äºæ‰§è¡ŒSQLè¯­å¥çš„Java APIã€‚åº”ç”¨ç¨‹åºé€šè¿‡è¯¥APIè¿æ¥åˆ°å…³ç³»å‹æ•°æ®åº“ï¼Œå¹¶ä½¿ç”¨SQLè¯­å¥æ¥å®Œæˆå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚</p>
<p>JDBCè¦æ±‚å„ä¸ªæ•°æ®åº“å‚å•†æŒ‰ç…§ç»Ÿä¸€çš„è§„èŒƒæ¥æä¾›æ•°æ®åº“é©±åŠ¨ï¼Œåœ¨ç¨‹åºä¸­ç”±JDBCå’Œå…·ä½“çš„æ•°æ®åº“é©±åŠ¨è”ç³»ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸å¿…ç›´æ¥ä¸åº•å±‚æ•°æ®åº“äº¤äº’ï¼Œä½¿å¾—ä»£ç çš„é€šç”¨æ€§æ›´å¼ºã€‚</p>
<p>JDBCåœ¨åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ä¹‹é—´èµ·åˆ°ä¸€ä¸ªæ¡¥æ¢ä½œç”¨ã€‚å½“åº”ç”¨ç¨‹åºä½¿ç”¨JDBCè®¿é—®ç‰¹å®šçš„æ•°æ®åº“æ—¶ï¼Œåªéœ€è¦é€šè¿‡ä¸åŒçš„æ•°æ®åº“é©±åŠ¨ä¸å…¶å¯¹åº”çš„æ•°æ®åº“è¿›è¡Œè¿æ¥ï¼Œè¿æ¥åå³å¯å¯¹è¯¥æ•°æ®åº“è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚</p>
<h2 id="JDBCå¸¸ç”¨API"><a href="#JDBCå¸¸ç”¨API" class="headerlink" title="JDBCå¸¸ç”¨API"></a>JDBCå¸¸ç”¨API</h2><p>JDBCçš„APIä¸»è¦ä½äºjava.sqlåŒ…ä¸­ï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—è®¿é—®æ•°æ®åº“çš„æ¥å£å’Œç±»ã€‚</p>
<h3 id="Driveræ¥å£"><a href="#Driveræ¥å£" class="headerlink" title="Driveræ¥å£"></a>Driveræ¥å£</h3><p>æ˜¯æ‰€æœ‰JDBCé©±åŠ¨ç¨‹åºå¿…é¡»å®ç°çš„æ¥å£ï¼Œä¸“é—¨æä¾›ç»™æ•°æ®åº“å‚å•†ä½¿ç”¨ã€‚</p>
<h3 id="DriverManagerç±»"><a href="#DriverManagerç±»" class="headerlink" title="DriverManagerç±»"></a>DriverManagerç±»</h3><p>ç”¨äºåŠ è½½JDBCé©±åŠ¨å¹¶åˆ›å»ºä¸æ•°æ®åº“çš„è¿æ¥ã€‚åœ¨åŠ è½½æ•°æ®åº“é©±åŠ¨æ—¶ï¼Œé€šå¸¸ä½¿ç”¨Classç±»çš„é™æ€æ–¹æ³•forName()æ¥å®ç°ã€‚å‚æ•°æ˜¯æ•°æ®åº“é©±åŠ¨ç±»æ‰€å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚</p>
<h3 id="Connectionæ¥å£"><a href="#Connectionæ¥å£" class="headerlink" title="Connectionæ¥å£"></a>Connectionæ¥å£</h3><p>ä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“çš„è¿æ¥å¯¹è±¡ï¼Œåªæœ‰è·å¾—è¯¥è¿æ¥å¯¹è±¡åï¼Œæ‰èƒ½è®¿é—®æ•°æ®åº“ï¼Œå¹¶æ“ä½œæ•°æ®è¡¨ã€‚</p>
<h3 id="Statementæ¥å£"><a href="#Statementæ¥å£" class="headerlink" title="Statementæ¥å£"></a>Statementæ¥å£</h3><p>ç”¨äºæ‰§è¡Œé™æ€çš„SQLè¯­å¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªç»“æœå¯¹è±¡ã€‚</p>
<p>Statementæ¥å£å¯¹è±¡å¯ä»¥é€šè¿‡Connectionå®ä¾‹çš„createStatement()æ–¹æ³•è·å¾—ï¼Œè¯¥æ–¹æ³•æŠŠé™æ€çš„SQLè¯­å¥å‘é€åˆ°æ•°æ®åº“ä¸­ç¼–è¯‘æ‰§è¡Œï¼Œç„¶åè¿”å›æ•°æ®åº“çš„å¤„ç†ç»“æœã€‚</p>
<h3 id="PreparedStatementæ¥å£"><a href="#PreparedStatementæ¥å£" class="headerlink" title="PreparedStatementæ¥å£"></a>PreparedStatementæ¥å£</h3><p>ä½¿ç”¨Statementæ¥å£æ“ä½œSQLè¯­å¥ä¼šè¿‡äºç¹çï¼Œå¹¶ä¸”å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œå› æ­¤ï¼ŒJDBCæä¾›äº†æ‰©å±•çš„PreparedStatementæ¥å£ã€‚æ˜¯Statementçš„å­æ¥å£ï¼Œç”¨äºæ‰§è¡Œé¢„ç¼–è¯‘çš„SQLè¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨å ä½ç¬¦ï¼Ÿæ¥æ›¿ä»£å‚æ•°ï¼Œç„¶åé€šè¿‡setXXX()æ–¹æ³•ä¸ºSQLè¯­å¥çš„å‚æ•°èµ‹å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String sql=<span class="string">&quot;insert into users(is,name,email) values(?,?,?)&quot;</span>;</span><br><span class="line">PreparedStatement prestmt = conn.preparedStatement(sql);</span><br><span class="line">prestmt.setInt(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">prestmt.setString(<span class="number">2</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">prestmt.setObject(<span class="number">3</span>,<span class="string">&quot;111@1.com&quot;</span>);  <span class="comment">//é€šç”¨æ–¹æ³•ï¼Ÿ</span></span><br><span class="line">prestmt.executeUpdate();</span><br></pre></td></tr></table></figure>

<h3 id="ResultSetæ¥å£"><a href="#ResultSetæ¥å£" class="headerlink" title="ResultSetæ¥å£"></a>ResultSetæ¥å£</h3><p>ç”¨äºä¿å­˜JDBCæ‰§è¡ŒæŸ¥è¯¢æ—¶è¿”å›çš„ç»“æœé›†ï¼Œç»“æœé›†å°è£…åœ¨ä¸€ä¸ªé€»è¾‘è¡¨æ ¼ä¸­ã€‚æ¥å£å†…éƒ¨æœ‰ä¸€ä¸ªæŒ‡å‘è¡¨æ ¼æ•°æ®è¡Œçš„æ¸¸æ ‡ï¼ˆæˆ–æŒ‡é’ˆï¼‰ï¼ŒResultSetå¯¹è±¡åˆå§‹åŒ–æ—¶ï¼Œæ¸¸æ ‡åœ¨ç¬¬ä¸€è¡Œä¹‹å‰ã€‚è°ƒç”¨next()æ–¹æ³•ï¼Œæ¸¸æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œè‹¥ä¸‹ä¸€è¡Œæ²¡æœ‰æ•°æ®ï¼Œåˆ™è¿”å›falseã€‚</p>
<p>åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨nextæ–¹æ³•ä½œä¸ºwhileå¾ªç¯çš„æ¡ä»¶æ¥è¿­ä»£ResultSetç»“æœé›†ã€‚</p>
<p>getXXXæ–¹æ³•ç”¨äºè·å–æŒ‡å®šçš„æ•°æ®ï¼Œå¯ä»¥ç”¨ç´¢å¼•ï¼ˆä»1å¼€å§‹ï¼‰ä¹Ÿå¯ç”¨å­—æ®µçš„åç§°æ¥è·å–ã€‚</p>
<p>ä¾‹å¦‚ç¬¬1åˆ—å­—æ®µåä¸ºidï¼Œå­—æ®µç±»å‹intï¼Œå¯ä»¥ç”¨getInt(â€œidâ€)æˆ–getInt(1)è·å¾—è¯¥åˆ—çš„å€¼ã€‚</p>
<h2 id="å…·ä½“æ“ä½œ"><a href="#å…·ä½“æ“ä½œ" class="headerlink" title="å…·ä½“æ“ä½œ"></a>å…·ä½“æ“ä½œ</h2><h3 id="ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®åº“é©±åŠ¨"><a href="#ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®åº“é©±åŠ¨" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®åº“é©±åŠ¨"></a><em>ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®åº“é©±åŠ¨</em></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);  <span class="comment">//åŠ è½½mysqlæ•°æ®åº“çš„é©±åŠ¨</span></span><br><span class="line">Class.forName(<span class="string">&quot;oracle.jdbc.driver.OracleDriver&quot;</span>);   <span class="comment">//åŠ è½½Oracleæ•°æ®åº“çš„é©±åŠ¨</span></span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äºŒæ­¥ï¼šè·å–æ•°æ®åº“è¿æ¥"><a href="#ç¬¬äºŒæ­¥ï¼šè·å–æ•°æ®åº“è¿æ¥" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šè·å–æ•°æ®åº“è¿æ¥"></a><em>ç¬¬äºŒæ­¥ï¼šè·å–æ•°æ®åº“è¿æ¥</em></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Connection conn = DriverManager.getConnection(String url, String user, String pwd);</span><br></pre></td></tr></table></figure>

<p>è¿æ¥æ•°æ®åº“çš„urléœ€è¦éµå¾ªå›ºå®šå†™æ³•ï¼š</p>
<p><code>jdbc:mysql://hostname:port/databasename</code></p>
<p>mysqlæŒ‡MySQLæ•°æ®åº“ï¼ŒhostnameæŒ‡ä¸»æœºçš„åç§°ï¼ˆå¦‚æœæ•°æ®åº“åœ¨æœ¬æœºä¸Šï¼Œhostnameå¯ä»¥ä¸ºlocalhostæˆ–127.0.0.1ã€‚å¦‚æœåœ¨å…¶ä»–æœºå™¨ä¸Šï¼Œé‚£ä¹ˆhostnameä¸ºæ‰€è¦è¿æ¥æœºå™¨çš„IPåœ°å€ã€‚portæŒ‡ç«¯å£å·ï¼Œmysqlé»˜è®¤ç«¯å£å·ä¸º3306ï¼ŒdatabasenameæŒ‡çš„æ˜¯mysqlä¸­ç›¸åº”æ•°æ®åº“çš„åå­—ã€‚</p>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡"><a href="#ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡"></a><em>ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡</em></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement stmt = conn.createStatement();</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç”¨PreparedStatementã€‚</p>
<h3 id="ç¬¬å››æ­¥ï¼šä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥"><a href="#ç¬¬å››æ­¥ï¼šä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥" class="headerlink" title="ç¬¬å››æ­¥ï¼šä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥"></a><em>ç¬¬å››æ­¥ï¼šä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥</em></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">execute(String sql);  ç”¨äºæ‰§è¡Œä»»æ„sqlè¯­å¥</span><br><span class="line">executeQuery(String sql);   æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œè¿”å›ä¸€ä¸ªResultSetç»“æœé›†å¯¹è±¡</span><br><span class="line">executeUpdate(String sql);  æ‰§è¡Œinsertã€updateã€deleteä¼šè¿”å›å—sqlè¯­å¥å½±å“çš„è¡Œæ•°ï¼Œæ‰§è¡Œcreateã€alterè¿”å›<span class="number">0</span></span><br><span class="line"></span><br><span class="line">ResultSet rs=stmt.executeQuery(sql);</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äº”æ­¥ï¼šæ“ä½œResultSetç»“æœé›†"><a href="#ç¬¬äº”æ­¥ï¼šæ“ä½œResultSetç»“æœé›†" class="headerlink" title="ç¬¬äº”æ­¥ï¼šæ“ä½œResultSetç»“æœé›†"></a><em>ç¬¬äº”æ­¥ï¼šæ“ä½œResultSetç»“æœé›†</em></h3><h3 id="ç¬¬å…­æ­¥ï¼šå…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº"><a href="#ç¬¬å…­æ­¥ï¼šå…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº" class="headerlink" title="ç¬¬å…­æ­¥ï¼šå…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº"></a><em>ç¬¬å…­æ­¥ï¼šå…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº</em></h3><p>é¡ºåºä¸ºï¼šResultSetã€Statementã€Connectionã€‚ä¸ºäº†ä¿è¯åœ¨å¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿèƒ½å…³é—­èµ„æºï¼Œç”¨tryâ€¦catchçš„finallyä»£ç å—ç»Ÿä¸€å…³é—­èµ„æºã€‚</p>
<h2 id="ç¬¬ä¸€ä¸ªJDBCç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªJDBCç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªJDBCç¨‹åº"></a>ç¬¬ä¸€ä¸ªJDBCç¨‹åº</h2><h3 id="æ•°æ®åº“å»ºè¡¨"><a href="#æ•°æ®åº“å»ºè¡¨" class="headerlink" title="æ•°æ®åº“å»ºè¡¨"></a>æ•°æ®åº“å»ºè¡¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database jdbc;</span><br><span class="line">show databases;</span><br><span class="line">use jdbc;</span><br><span class="line">create table test_table(</span><br><span class="line">    id int primary key auto_increment,</span><br><span class="line">    name varchar(40),</span><br><span class="line">    sex varchar(2),</span><br><span class="line">    birthday date</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹è¡¨ç»“æ„ï¼š desc test_table;</span><br><span class="line">æŸ¥çœ‹å»ºè¡¨è¯­å¥ï¼šshow create table test_table;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‡ºç°ä¸­æ–‡ä¹±ç çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºMySQLæ•°æ®åº“é»˜è®¤ä½¿ç”¨UTF-8ç¼–ç æ ¼å¼ï¼Œè€Œå‘½ä»¤è¡Œçª—å£é»˜è®¤ä½¿ç”¨çš„æ˜¯GBKç¼–ç æ ¼å¼ï¼Œæ‰€ä»¥æ‰§è¡Œå¸¦æœ‰ä¸­æ–‡æ•°æ®çš„æ’å…¥è¯­å¥ä¼šå‡ºç°è§£æé”™è¯¯ã€‚éœ€è¦æ‰§è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set character_set_client=gbk;</span><br><span class="line">set character_set_results=gbk;</span><br></pre></td></tr></table></figure>

<h3 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into test_table(name, sex, birthday)</span><br><span class="line">values(&#x27;jade&#x27;,&#x27;ç”·&#x27;,&#x27;2000-1-1&#x27;),(&#x27;marry&#x27;,&#x27;å¥³&#x27;,&#x27;1999-2-21&#x27;),(&#x27;james&#x27;,&#x27;ç”·&#x27;,&#x27;2010-2-3&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥æ•°æ®åº“é©±åŠ¨"><a href="#æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥æ•°æ®åº“é©±åŠ¨" class="headerlink" title="æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥æ•°æ®åº“é©±åŠ¨"></a>æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥æ•°æ®åº“é©±åŠ¨</h3><p>IDEä¸‹æ­£å¸¸åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå³é”®æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå–ålibsã€‚</p>
<p>ä¸‹è½½Mysqlé©±åŠ¨æ–‡ä»¶ï¼š<a href="https://dev.mysql.com/downloads/connector/j/%EF%BC%8C%E9%80%89%E6%8B%A9platform">https://dev.mysql.com/downloads/connector/j/ï¼Œé€‰æ‹©platform</a> independentï¼Œä¸‹è½½ <strong>ZIP Archive</strong>ã€‚ç›´æ¥No thanks, just start my download.  å¤åˆ¶åˆ°libsæ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>æŠŠjaråŒ…æ·»åŠ åˆ°é¡¹ç›®é‡Œï¼Œç±»ä¼¼eclipseçš„add to build pathåŠŸèƒ½ï¼Œfile â€“ project structure â€“ modules â€“ dependencies â€“ åŠ å· â€“ ç¬¬ä¸€é¡¹â€“æ·»åŠ jaråŒ… â€“ applyã€‚</p>
<h3 id="ç¼–å†™JDBCç¨‹åº"><a href="#ç¼–å†™JDBCç¨‹åº" class="headerlink" title="ç¼–å†™JDBCç¨‹åº"></a>ç¼–å†™JDBCç¨‹åº</h3><p>srcä¸‹æ–°å»ºåŒ…com.liuxuan.jdbcã€‚åˆ›å»ºç±»Testã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.jdbc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jdk.nashorn.internal.parser.JSONParser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: JDBCdemo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: jdbc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-11-27 22:09</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn = <span class="keyword">null</span>;</span><br><span class="line">        Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//1.åŠ è½½æ•°æ®åº“é©±åŠ¨ com.mysql.jdbc.Driver å¤šåŠ äº†cj</span></span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">            <span class="comment">//2.é€šè¿‡DriverManagerè·å–æ•°æ®åº“è¿æ¥</span></span><br><span class="line">            String url = <span class="string">&quot;jdbc:mysql://localhost:3306/jdbc&quot;</span>;</span><br><span class="line">            String username = <span class="string">&quot;liuxuan&quot;</span>;</span><br><span class="line">            String password = <span class="string">&quot;jade&quot;</span>;</span><br><span class="line">            conn = DriverManager.getConnection(url, username, password);</span><br><span class="line">            <span class="comment">//3.é€šè¿‡Connectionå¯¹è±¡è·å–Statementå¯¹è±¡</span></span><br><span class="line">            stmt = conn.createStatement();</span><br><span class="line">            <span class="comment">//4.ä½¿ç”¨Statementæ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line">            String sql = <span class="string">&quot;select * from test_table&quot;</span>;</span><br><span class="line">            rs = stmt.executeQuery(sql);</span><br><span class="line">            <span class="comment">//5.æ“ä½œResultSetç»“æœé›†</span></span><br><span class="line">            System.out.println(<span class="string">&quot;id  |  name  |  sex  &quot;</span></span><br><span class="line">                            +<span class="string">&quot;  birthday  &quot;</span>);</span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                <span class="keyword">int</span> id = rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">                String name = rs.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">                String sex = rs.getString(<span class="string">&quot;sex&quot;</span>);</span><br><span class="line">                Date birthday = rs.getDate(<span class="string">&quot;birthday&quot;</span>);</span><br><span class="line">                System.out.println(id+<span class="string">&quot;  |  &quot;</span>+name+<span class="string">&quot;  |  &quot;</span></span><br><span class="line">                                +sex+<span class="string">&quot;  |  &quot;</span>+birthday);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            <span class="comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº</span></span><br><span class="line">            <span class="keyword">if</span>(rs != <span class="keyword">null</span>)&#123;rs.close();&#125;</span><br><span class="line">            <span class="keyword">if</span>(stmt != <span class="keyword">null</span>)&#123;stmt.close();&#125;</span><br><span class="line">            <span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;conn.close();&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹ä¹‹å¤šçº¿ç¨‹</title>
    <url>/2021/11/30/myblog/JAVA/%E3%80%8Ajava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B%E4%B9%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œå¤šçº¿ç¨‹å°±æ˜¯æŒ‡ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­æœ‰å¤šæ¡å¹¶å‘æ‰§è¡Œçš„çº¿ç´¢ï¼Œæ¯æ¡çº¿ç´¢ç§°ä¸ºä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬äº¤æ›¿æ‰§è¡Œï¼Œå½¼æ­¤é—´å¯ä»¥è¿›è¡Œé€šä¿¡ã€‚</p>
<h2 id="çº¿ç¨‹æ¦‚è¿°"><a href="#çº¿ç¨‹æ¦‚è¿°" class="headerlink" title="çº¿ç¨‹æ¦‚è¿°"></a>çº¿ç¨‹æ¦‚è¿°</h2><h3 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h3><p>åœ¨ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç‹¬ç«‹æ‰§è¡Œçš„ç¨‹åºéƒ½å¯ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ã€‚</p>
<p>åœ¨å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿä¸­ï¼Œè¡¨é¢ä¸Šçœ‹æ˜¯æ”¯æŒè¿›ç¨‹å¹¶å‘æ‰§è¡Œçš„ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯åœ¨åŒä¸€æ—¶åˆ»è¿è¡Œçš„ã€‚è®¡ç®—æœºçš„åº”ç”¨ç¨‹åºéƒ½æ˜¯ç”±CPUæ‰§è¡Œçš„ï¼Œä¸€ä¸ªCPUåœ¨æŸä¸ªæ—¶é—´ç‚¹åªèƒ½æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿèƒ½åœ¨æçŸ­çš„æ—¶é—´å†…åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥ç»™äººä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªç¨‹åºçš„æ„Ÿè§‰ã€‚</p>
<h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><p>å¤šçº¿ç¨‹çœ‹ä¼¼æ˜¯åŒæ—¶å¹¶å‘æ‰§è¡Œçš„ï¼Œå…¶å®æ˜¯å’Œè¿›ç¨‹ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”±CPUæ§åˆ¶å¹¶è½®æµæ‰§è¡Œçš„ï¼Œåªä¸è¿‡CPUè¿è¡Œé€Ÿåº¦éå¸¸å¿«ã€‚</p>
<h2 id="çº¿ç¨‹çš„åˆ›å»º"><a href="#çº¿ç¨‹çš„åˆ›å»º" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»º"></a>çº¿ç¨‹çš„åˆ›å»º</h2><p>åœ¨Javaä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸‰ç§æ–¹å¼æ¥å®ç°å¤šçº¿ç¨‹</p>
<p>1.ç»§æ‰¿Threadç±»ï¼Œé‡å†™run()æ–¹æ³•ã€‚</p>
<p>2.å®ç°Runnableæ¥å£ï¼Œé‡å†™run()æ–¹æ³•ã€‚</p>
<p>3.å®ç°Callableæ¥å£ï¼Œé‡å†™call()æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨Futureæ¥è·å–call()æ–¹æ³•çš„è¿”å›ç»“æœã€‚</p>
<h3 id="Threadç±»å®ç°å¤šçº¿ç¨‹"><a href="#Threadç±»å®ç°å¤šçº¿ç¨‹" class="headerlink" title="Threadç±»å®ç°å¤šçº¿ç¨‹"></a>Threadç±»å®ç°å¤šçº¿ç¨‹</h3><p>Threadç±»æ˜¯java.langåŒ…ä¸‹çš„ä¸€ä¸ªçº¿ç¨‹ç±»ï¼Œç”¨æ¥å®ç°Javaå¤šçº¿ç¨‹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªThreadçº¿ç¨‹ç±»çš„å­ç±»ï¼ˆå­çº¿ç¨‹ï¼‰ï¼ŒåŒæ—¶é‡å†™Threadç±»çš„run()æ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè¯¥å­ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶é€šè¿‡è°ƒç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.å®šä¹‰ä¸€ä¸ªç»§æ‰¿Threadçº¿ç¨‹ç±»çš„å­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread1</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="comment">//åˆ›å»ºå­çº¿ç¨‹æœ‰å‚æ„é€ æ–¹æ³•,nameæ˜¯çº¿ç¨‹åå­—</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyThread1</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//é‡å†™Threadç±»çš„run()æ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i++,<span class="number">5</span>)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()</span><br><span class="line">							+<span class="string">&quot;çš„runæ–¹æ³•åœ¨è¿è¡Œ&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//2.åˆ›å»ºMyThread1å®ä¾‹å¯¹è±¡</span></span><br><span class="line">		MyThread1 thread1 = <span class="keyword">new</span> MyThread1(<span class="string">&quot;thread1&quot;</span>);</span><br><span class="line">		<span class="comment">//è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">		thread1.start();</span><br><span class="line">		MyThread1 thread2 = <span class="keyword">new</span> MyThread1(<span class="string">&quot;thread2&quot;</span>);</span><br><span class="line">		<span class="comment">//è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>currentThread()æ˜¯Threadç±»çš„é™æ€æ–¹æ³•ï¼Œç”¨æ¥è·å–å½“å‰çº¿ç¨‹å¯¹è±¡ï¼ŒgetNameæ–¹æ³•ç”¨æ¥è·å–çº¿ç¨‹åç§°ã€‚</p>
<p>ç»“æœæ˜¯ï¼šä¸¤ä¸ªçº¿ç¨‹å®ä¾‹äº¤äº’è¿è¡Œã€‚</p>
<h3 id="Runnableæ¥å£å®ç°å¤šçº¿ç¨‹"><a href="#Runnableæ¥å£å®ç°å¤šçº¿ç¨‹" class="headerlink" title="Runnableæ¥å£å®ç°å¤šçº¿ç¨‹"></a>Runnableæ¥å£å®ç°å¤šçº¿ç¨‹</h3><p>Threadç±»å®ç°å¤šçº¿ç¨‹çš„å±€é™æ€§ï¼šå› ä¸ºJavaåªæ”¯æŒç±»çš„å•ç»§æ‰¿ï¼Œå¦‚æœæŸä¸ªç±»å·²ç»ç»§æ‰¿äº†å…¶ä»–çˆ¶ç±»ï¼Œå°±æ— æ³•å†ç»§æ‰¿Threadç±»æ¥å®ç°å¤šçº¿ç¨‹ã€‚å› æ­¤ï¼Œè€ƒè™‘é€šè¿‡å®ç°Runnableæ¥å£æ¥å®ç°å¤šçº¿ç¨‹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»ï¼ŒåŒæ—¶é‡å†™æ¥å£ä¸­çš„runæ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºRunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨Threadæœ‰å‚æ„é€ æ–¹æ³•åˆ›å»ºçº¿ç¨‹å®ä¾‹ï¼Œå¹¶å°†Runnableæ¥å£çš„å®ç°ç±»çš„å®ä¾‹å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>
<p>ç¬¬å››æ­¥ï¼šè°ƒç”¨çº¿ç¨‹å®ä¾‹çš„startæ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.å®šä¹‰ä¸€ä¸ªå®ç°Runnableæ¥å£çš„å®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="comment">//é‡å†™runæ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i++,<span class="number">5</span>)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()</span><br><span class="line">							+<span class="string">&quot;çš„runæ–¹æ³•åœ¨è¿è¡Œ&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//2.åˆ›å»ºRunnableæ¥å£å®ç°ç±»çš„å®ä¾‹å¯¹è±¡</span></span><br><span class="line">		MyThread2 myThread2 = <span class="keyword">new</span> MyThread2();</span><br><span class="line">		<span class="comment">//3.ä½¿ç”¨Thread(Runnable target, String name)æ„é€ æ–¹æ³•åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">		Thread thread1 = <span class="keyword">new</span> Thread(myThread2, <span class="string">&quot;thread1&quot;</span>);</span><br><span class="line">		<span class="comment">//4.è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„startæ–¹æ³•å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">		thread1.start();</span><br><span class="line">		Thread thread2 = <span class="keyword">new</span> Thread(myThread2, <span class="string">&quot;thread2&quot;</span>);</span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Runnableæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡çš„runæ–¹æ³•ï¼Œè¯¥æ¥å£å±äºJDK8ä¸­å®šä¹‰çš„å‡½æ•°å¼æ¥å£ï¼Œåœ¨ä½¿ç”¨ä¸­å¯ä»¥ç›´æ¥é€šè¿‡Lambdaè¡¨è¾¾å¼çš„æ–¹å¼ç®€æ´åœ°å®ç°çº¿ç¨‹å®ä¾‹ã€‚</p>
<h3 id="Callableæ¥å£å®ç°å¤šçº¿ç¨‹"><a href="#Callableæ¥å£å®ç°å¤šçº¿ç¨‹" class="headerlink" title="Callableæ¥å£å®ç°å¤šçº¿ç¨‹"></a>Callableæ¥å£å®ç°å¤šçº¿ç¨‹</h3><p>Threadç±»å’ŒRunnableæ¥å£å®ç°å¤šçº¿ç¨‹ï¼Œé‡å†™runæ–¹æ³•ï¼Œç”±äºè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤æ— æ³•ä»å¤šä¸ªçº¿ç¨‹ä¸­è·å–è¿”å›ç»“æœã€‚å› æ­¤ï¼ŒJDK5å¼€å§‹ï¼Œjavaæä¾›äº†ä¸€ä¸ªCallableæ¥å£ï¼Œæ¥æ»¡è¶³è¿™ç§æ—¢èƒ½åˆ›å»ºå¤šçº¿ç¨‹åˆå¯ä»¥æœ‰è¿”å›å€¼çš„éœ€æ±‚ã€‚</p>
<p>ä¸Runnableä¸åŒï¼Œè¿™æ¬¡ä¼ å…¥Threadç±»æœ‰å‚æ„é€ æ–¹æ³•çš„æ˜¯Runnableæ¥å£çš„å­ç±»FutureTaskå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡ä¸­å°è£…äº†å¸¦æœ‰è¿”å›å€¼çš„Callableæ¥å£å®ç°ç±»ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªCallableæ¥å£çš„å®ç°ç±»ï¼ŒåŒæ—¶é‡å†™Callableæ¥å£çš„callæ–¹æ³•</p>
<p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºCallableæ¥å£çš„å®ç°ç±»å¯¹è±¡ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šé€šè¿‡FutureTaskçº¿ç¨‹ç»“æœå¤„ç†ç±»çš„æœ‰å‚æ„é€ æ–¹æ³•æ¥å°è£…Callableæ¥å£å®ç°ç±»å¯¹è±¡ã€‚</p>
<p>ç¬¬å››æ­¥ï¼šä½¿ç”¨å‚æ•°ä¸ºFutureTaskç±»å¯¹è±¡çš„Threadæœ‰å‚æ„é€ æ–¹æ³•åˆ›å»ºThreadçº¿ç¨‹å®ä¾‹ã€‚</p>
<p>ç¬¬äº”æ­¥ï¼šè°ƒç”¨çº¿ç¨‹å®ä¾‹çš„startæ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.cocurrent.*;</span><br><span class="line"><span class="comment">//1.å®šä¹‰ä¸€ä¸ªå®ç°Callableæ¥å£çš„å®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread3</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Object</span>&gt;</span>&#123;</span><br><span class="line">	<span class="comment">//é‡å†™callæ–¹æ³•</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i++,<span class="number">5</span>)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()</span><br><span class="line">							+<span class="string">&quot;çš„runæ–¹æ³•åœ¨è¿è¡Œ&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException,</span></span><br><span class="line"><span class="function">														ExecutionException</span>&#123;</span><br><span class="line">		<span class="comment">//2.åˆ›å»ºCallableæ¥å£çš„å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">		MyThread3 myThread3 = <span class="keyword">new</span> MyThread3();</span><br><span class="line">		<span class="comment">//3.ä½¿ç”¨FutureTaskå°è£…Callableæ¥å£</span></span><br><span class="line">		FutureTask&lt;Object&gt;ft1 = <span class="keyword">new</span> FutureTask&lt;&gt;(myThread3);</span><br><span class="line">		<span class="comment">//4.ä½¿ç”¨Thread()æ„é€ æ–¹æ³•åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">		Thread thread1 = <span class="keyword">new</span> Thread(ft1, <span class="string">&quot;thread1&quot;</span>);</span><br><span class="line">		<span class="comment">//5.å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">		thread1.start();</span><br><span class="line">		FutureTask&lt;Object&gt;ft2 = <span class="keyword">new</span> FutureTask&lt;&gt;(myThread3);</span><br><span class="line">		Thread thread2 = <span class="keyword">new</span> Thread(ft2, <span class="string">&quot;thread1&quot;</span>);</span><br><span class="line">		thread2.start();</span><br><span class="line">		<span class="comment">//é€šè¿‡FutureTaskå¯¹è±¡çš„æ–¹æ³•ç®¡ç†è¿”å›å€¼</span></span><br><span class="line">		System.out.println(<span class="string">&quot;thread1è¿”å›ç»“æœï¼š&quot;</span>+ft1.get());</span><br><span class="line">		System.out.println(<span class="string">&quot;thread2è¿”å›ç»“æœï¼š&quot;</span>+ft2.get());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>FutureTaskç±»ç”¨æ¥å°è£…å’Œç®¡ç†è¿”å›ç»“æœï¼Œç›´æ¥çˆ¶æ¥å£æ˜¯RunnableFutureï¼ŒRunnableFutureæ¥å£æ˜¯å®ç°è‡ªRunnableæ¥å£å’ŒFutureæ¥å£ã€‚</p>
<p>Futureæ¥å£æ—¶JDK5æä¾›çš„ç”¨æ¥ç®¡ç†çº¿ç¨‹æ‰§è¡Œè¿”å›ç»“æœçš„ï¼Œå…±æœ‰äº”ä¸ªæ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">cancel</span><span class="params">(<span class="keyword">boolean</span> å‚æ•°)</span>   <span class="comment">//ç”±äºå–æ¶ˆä»»åŠ¡ï¼Œå‚æ•°ä¸ºtrueè¡¨ç¤ºå¯ä»¥å–æ¶ˆæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isCancelled</span><span class="params">()</span>    <span class="comment">//åˆ¤æ–­æ˜¯å¦è¢«å–æ¶ˆæˆåŠŸ</span></span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isDone</span><span class="params">()</span>    <span class="comment">//åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆ</span></span></span><br><span class="line"><span class="function">V <span class="title">get</span><span class="params">()</span>     <span class="comment">//è·å–æ‰§è¡Œç»“æœï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå‘ç”Ÿé˜»å¡ï¼Œä¸€ç›´ç­‰åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ‰è¿”å›æ‰§è¡Œç»“æœ</span></span></span><br><span class="line"><span class="function">V <span class="title">get</span><span class="params">(<span class="keyword">long</span> time, TumeUnit unit)</span>  <span class="comment">//ç”±äºåœ¨æŒ‡å®šæ—¶é—´å†…è·å–æ‰§è¡Œç»“æœ</span></span></span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰ç§æ–¹æ³•çš„å¯¹æ¯”åˆ†æ"><a href="#ä¸‰ç§æ–¹æ³•çš„å¯¹æ¯”åˆ†æ" class="headerlink" title="ä¸‰ç§æ–¹æ³•çš„å¯¹æ¯”åˆ†æ"></a>ä¸‰ç§æ–¹æ³•çš„å¯¹æ¯”åˆ†æ</h3><p>Callableæ¥å£çš„æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”å¯ä»¥å£°æ˜æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>è‹¥æ˜¯æƒ³è¦å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªæ•°æ®ï¼Œåˆ™ç”±äºç»§æ‰¿Threadçš„æ–¹æ³•éœ€è¦åˆ›å»ºå¤šä¸ªå­ç±»çš„çº¿ç¨‹å¯¹è±¡ï¼Œæ— æ³•å…±äº«ç±»å†…çš„privateå˜é‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> MyThread1().start();</span><br><span class="line"><span class="keyword">new</span> MyThread1().start();</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºå¤šçº¿ç¨‹æ—¶ï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡æ„é€ æ–¹æ³•æŒ‡å®šçº¿ç¨‹åç§°ï¼Œåˆ™ç³»ç»Ÿä¼šé»˜è®¤ç”Ÿæˆçº¿ç¨‹åç§°ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªæ•°æ®ï¼Œç”¨Runnableæ¥å£å®ç°ï¼Œç¨‹åºåªåˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œè€Œæ˜¯åˆ›å»ºå¤šä¸ªthreadç±»çš„å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MyThread2 myThread2 = <span class="keyword">new</span> MyThread2();</span><br><span class="line"><span class="keyword">new</span> Thread(myThread2, <span class="string">&quot;çº¿ç¨‹1&quot;</span>).start();</span><br><span class="line"><span class="keyword">new</span> Thread(myThread2, <span class="string">&quot;çº¿ç¨‹2&quot;</span>).start();</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼ŒRunnableæ¥å£æˆ–Callableæ¥å£å®ç°å¤šçº¿ç¨‹ç›¸æ¯”äºç»§æ‰¿Threadç±»æ¥è¯´ï¼Œå¥½å¤„åœ¨äºï¼š</p>
<p>ï¼ˆ1ï¼‰é€‚åˆå¤šä¸ªçº¿ç¨‹å¤„ç†åŒä¸€ä¸ªå…±äº«èµ„æºçš„æƒ…å†µï¼Œä½“ç°é¢å‘å¯¹è±¡è®¾è®¡æ€æƒ³ã€‚</p>
<p>ï¼ˆ2ï¼‰é¿å…Javaå•ç»§æ‰¿çš„å±€é™ï¼Œè‹¥ç±»å·²ç»§æ‰¿æŸçˆ¶ç±»ï¼Œåˆ™è¿˜å¯ä»¥å®ç°æ¥å£ã€‚</p>
<h3 id="åå°çº¿ç¨‹"><a href="#åå°çº¿ç¨‹" class="headerlink" title="åå°çº¿ç¨‹"></a>åå°çº¿ç¨‹</h3><p>mainæ–¹æ³•ä¸­åˆ›å»ºå¹¶å¯åŠ¨å‡ ä¸ªæ–°çº¿ç¨‹åï¼Œä¸»çº¿ç¨‹éšä¹‹ç»“æŸï¼Œä½†æ˜¯ï¼Œè™½ç„¶ä¸»çº¿ç¨‹ç»“æŸäº†ï¼Œä½†æ•´ä¸ªJavaç¨‹åºå¹¶æœªç»“æŸï¼Œå¯¹javaç¨‹åºæ¥è¯´ï¼Œåªè¦è¿˜æœ‰å‰å°çº¿ç¨‹åœ¨è¿è¡Œï¼Œè¿™ä¸ªè¿›ç¨‹å°±ä¸ä¼šç»“æŸã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹ä¸­åªæœ‰åå°çº¿ç¨‹è¿è¡Œï¼Œè¿™ä¸ªè¿›ç¨‹å°±ä¼šç»“æŸã€‚</p>
<p>æ–°åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤æ˜¯å‰å°çº¿ç¨‹ï¼Œå¦‚æœæŸä¸ªçº¿ç¨‹å¯¹è±¡åœ¨å¯åŠ¨ä¹‹å‰è°ƒç”¨äº†setDaemon(true)è¯­å¥ï¼Œè¿™ä¸ªçº¿ç¨‹å°±å˜æˆä¸€ä¸ªåå°çº¿ç¨‹ã€‚</p>
<p>åˆ¤æ–­æ˜¯å¦æ˜¯åå°çº¿ç¨‹ï¼š<code>th.isDaemon()</code></p>
<p><code>th.setDaemon(true);   thread.start();  </code>  //ä¸€å®šæ˜¯åœ¨startå¯åŠ¨ä¹‹å‰</p>
<p>æ•´ä¸ªè¿›ç¨‹ç»“æŸï¼ŒJVMä¼šé€šçŸ¥åå°çº¿ç¨‹ç»“æŸï¼Œç”±äºåå°çº¿ç¨‹ä»æ¥æ”¶æŒ‡ä»¤åˆ°åšå‡ºå“åº”ï¼Œéœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œç»“æŸåå°è¿›ç¨‹ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿã€‚</p>
<h2 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠçŠ¶æ€è½¬æ¢"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠçŠ¶æ€è½¬æ¢" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠçŠ¶æ€è½¬æ¢"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠçŠ¶æ€è½¬æ¢</h2><p>åœ¨Javaä¸­ï¼Œä»»ä½•å¯¹è±¡éƒ½æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œçº¿ç¨‹ä¹Ÿä¸ä¾‹å¤–ï¼ŒThreadå¯¹è±¡åˆ›å»ºå®Œæˆæ—¶ï¼Œçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¾¿å¼€å§‹äº†ï¼Œå½“æ‰§è¡Œå®Œæ¯•æˆ–æŠ›å‡ºå¼‚å¸¸æˆ–é”™è¯¯æ—¶ï¼Œç”Ÿå‘½å‘¨æœŸä¾¿ç»“æŸã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/ca388386e5024a2d9bdcc74eafa835bc.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p><em><strong>æ–°å»ºçŠ¶æ€</strong></em>ï¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åï¼Œä»…ä»…ç”±JVMä¸ºå…¶åˆ†é…äº†å†…å­˜ï¼Œæ²¡æœ‰è¡¨ç°å‡ºä»»ä½•çº¿ç¨‹çš„åŠ¨æ€ç‰¹å¾ã€‚</p>
<p><em><strong>å°±ç»ªçŠ¶æ€</strong></em>ï¼šçº¿ç¨‹å¯¹è±¡è°ƒç”¨startæ–¹æ³•ä¹‹åï¼Œç­‰å¾…JVMè°ƒåº¦ï¼Œæ­¤æ—¶å¹¶æœªè¿è¡Œã€‚</p>
<p><em><strong>è¿è¡ŒçŠ¶æ€</strong></em>ï¼šçº¿ç¨‹å¯¹è±¡è·å¾—JVMè°ƒåº¦ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªCPUï¼Œåˆ™å…è®¸å¤šä¸ªçº¿ç¨‹å¹¶è¡Œè¿è¡Œã€‚</p>
<p><em><strong>é˜»å¡çŠ¶æ€</strong></em>ï¼šçº¿ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå‘å‡ºI/Oè¯·æ±‚æ—¶ï¼Œè¯¥çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ã€‚å½“çº¿ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­è·å–åŒæ­¥é”æ—¶ï¼Œå´è¢«å¦ä¸€ä¸ªçº¿ç¨‹è·å–ï¼Œæ­¤æ—¶JVMæŠŠå½“å‰çº¿ç¨‹å­˜åˆ°å¯¹è±¡çš„é”æ± ä¸­ï¼Œè¯¥çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ã€‚æ­¤æ—¶ï¼ŒJVMä¸ä¼šç»™çº¿ç¨‹åˆ†é…CPUï¼Œç›´åˆ°çº¿ç¨‹é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šè½¬æ¢åˆ°è¿è¡ŒçŠ¶æ€ã€‚</p>
<p><em><strong>ç­‰å¾…çŠ¶æ€</strong></em>ï¼šå½“å¤„äºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹è°ƒç”¨äº†é™åˆ¶çš„æ–¹æ³•åï¼Œå¦‚wait()æ–¹æ³•ã€join()æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚<br>å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹æ— æ³•ç«‹å³äº‰å¤ºCPUä½¿ç”¨æƒï¼Œéœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œç‰¹å®šçš„æ“ä½œåï¼Œæ‰æœ‰æœºä¼šå†æ¬¡äº‰å¤ºï¼Œå°†ç­‰å¾…çŠ¶æ€å˜ä¸ºè¿è¡ŒçŠ¶æ€ã€‚<br><code>wait()</code>æ–¹æ³•ï¼šç­‰å¾…å…¶ä»–çº¿ç¨‹è°ƒç”¨<code>notify()</code>æˆ–<code>notifyAll()</code>æ–¹æ³•ï¼Œæ¥å”¤é†’å½“å‰ç­‰å¾…ä¸­çš„çº¿ç¨‹ã€‚<br><code>join()</code>æ–¹æ³•ï¼šå¿…é¡»ç­‰å¾…å…¶ä»–åŠ å…¥çš„çº¿ç¨‹ç»ˆæ­¢ã€‚</p>
<p><em><strong>å®šæ—¶ç­‰å¾…çŠ¶æ€</strong></em>ï¼šç±»ä¼¼ç­‰å¾…çŠ¶æ€ï¼Œæ‰§è¡Œ<code>sleep(long millis)ã€wait(long timeout)ã€join(long millis)</code>ç­‰æ–¹æ³•ã€‚å¿…é¡»ç­‰å¾…å…¶ä»–ç›¸å…³çº¿ç¨‹æ‰§è¡Œå®Œç‰¹å®šæ“ä½œ<strong>æˆ–</strong>é™æ—¶æ—¶é—´ç»“æŸåï¼Œæ‰æœ‰æœºä¼šå†æ¬¡äº‰å¤ºCPUï¼Œè¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</p>
<p><em><strong>ç»ˆæ­¢çŠ¶æ€</strong></em>ï¼šçº¿ç¨‹çš„run()æ–¹æ³•æˆ–è€…call()æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–çº¿ç¨‹æŠ›å‡ºä¸€ä¸ªæœªæ•è·çš„å¼‚å¸¸ï¼ˆExceptionï¼‰ã€é”™è¯¯ï¼ˆErrorï¼‰ï¼Œçº¿ç¨‹è¿›å…¥ç»ˆæ­¢çŠ¶æ€ã€‚ä¸€æ—¦è¿›å…¥ç»ˆæ­¢çŠ¶æ€ï¼Œçº¿ç¨‹å°†ä¸å†æ‹¥æœ‰è¿è¡Œçš„èµ„æ ¼ï¼Œä¹Ÿä¸èƒ½å†è½¬æ¢åˆ°å…¶ä»–çŠ¶æ€ï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸã€‚</p>
<h2 id="çº¿ç¨‹çš„è°ƒåº¦"><a href="#çº¿ç¨‹çš„è°ƒåº¦" class="headerlink" title="çº¿ç¨‹çš„è°ƒåº¦"></a>çº¿ç¨‹çš„è°ƒåº¦</h2><p>Javaè™šæ‹Ÿæœºä¼šæŒ‰ç…§ç‰¹å®šçš„æœºåˆ¶ä¸ºç¨‹åºä¸­çš„æ¯ä¸ªçº¿ç¨‹åˆ†é…CPUçš„ä½¿ç”¨æƒï¼Œè¿™ç§æœºåˆ¶å«åšçº¿ç¨‹çš„è°ƒåº¦ã€‚</p>
<p>è®¡ç®—æœºä¸­çº¿ç¨‹çš„è°ƒåº¦æœ‰ä¸¤ç§æ¨¡å‹ï¼š<br>1ã€åˆ†æ—¶æ¨¡å‹ï¼šæ‰€æœ‰çº¿ç¨‹è½®æµè·å¾—CPUçš„ä½¿ç”¨æƒï¼Œå¹¶ä¸”å¹³å‡åˆ†é…æ¯ä¸ªçº¿ç¨‹å ç”¨çš„CPUæ—¶é—´ç‰‡ã€‚<br>2ã€æŠ¢å å¼è°ƒåº¦æ¨¡å¼ï¼šè®©å¯è¿è¡Œæ± ä¸­æ‰€æœ‰å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹äº‰æŠ¢CPUçš„ä½¿ç”¨æƒï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹è·å¾—CPUæ¦‚ç‡æ›´å¤§ã€‚</p>
<p>Javaè™šæ‹Ÿæœºé»˜è®¤é‡‡ç”¨æŠ¢å å¼è°ƒåº¦æ¨¡å¼ï¼Œç‰¹å®šéœ€æ±‚ä¸‹éœ€è¦æ”¹å˜æ¨¡å¼ï¼Œç”±ç¨‹åºè‡ªå·±æ¥æ§åˆ¶CPUçš„è°ƒåº¦ã€‚</p>
<h3 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§"><a href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="çº¿ç¨‹çš„ä¼˜å…ˆçº§"></a>çº¿ç¨‹çš„ä¼˜å…ˆçº§</h3><p>çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨1-10ä¹‹é—´çš„æ•´æ•°æ¥è¡¨ç¤ºï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚é™¤äº†ç›´æ¥ç”¨æ•°å­—å¤–ï¼Œè¿˜å¯ç”¨Threadç±»ä¸­æä¾›çš„ä¸‰ä¸ªé™æ€å¸¸é‡è¡¨ç¤ºçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//ç”¨lambdaè¡¨è¾¾å¼åˆ›å»ºçº¿ç¨‹ï¼Ÿ</span></span><br><span class="line">		Thread th1 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()</span><br><span class="line">						+<span class="string">&quot;æ­£åœ¨è¾“å‡ºi+&quot;</span>+i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,<span class="string">&quot;ä¼˜å…ˆçº§è¾ƒä½çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">		Thread th2 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()</span><br><span class="line">						+<span class="string">&quot;æ­£åœ¨è¾“å‡ºj+&quot;</span>+j);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,<span class="string">&quot;ä¼˜å…ˆçº§è¾ƒé«˜çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">		<span class="comment">//è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§</span></span><br><span class="line">		th1.setPriority(Thread.MIN_PRIORITY);  <span class="comment">//MIN=1 NORM=5  MAX=10</span></span><br><span class="line">		th2.setPriority(<span class="number">10</span>);</span><br><span class="line">		th1.start();</span><br><span class="line">		th2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¿ç¨‹ä¼‘çœ "><a href="#çº¿ç¨‹ä¼‘çœ " class="headerlink" title="çº¿ç¨‹ä¼‘çœ "></a>çº¿ç¨‹ä¼‘çœ </h3><p>å°†æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœï¼Œå°†CPUä½¿ç”¨æƒè®©ç»™å…¶ä»–çº¿ç¨‹ï¼Œè¿™æ˜¯å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•sleep(long millis)ï¼Œè¯¥æ–¹æ³•ä½¿å¾—çº¿ç¨‹è¿›å…¥ä¼‘çœ ç­‰å¾…çŠ¶æ€ï¼ˆé˜»å¡ï¼‰ï¼Œè¿™æ ·å…¶ä»–çº¿ç¨‹å°±å¯ä»¥å¾—åˆ°æ‰§è¡Œçš„æœºä¼šã€‚sleep(long millis)æ–¹æ³•ä¼šå£°æ˜æŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œå› æ­¤åœ¨è°ƒåŠ¨è¯¥æ–¹æ³•æ—¶åº”è¯¥æ•è·å¼‚å¸¸ï¼Œæˆ–è€…å£°æ˜æŠ›å‡ºå¼‚å¸¸ã€‚ä¼‘çœ æ—¶é—´ç»“æŸåï¼Œçº¿ç¨‹æ‰ä¼šè½¬æ¢åˆ°å°±ç»ªçŠ¶æ€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		Thread th1 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()</span><br><span class="line">						+<span class="string">&quot;æ­£åœ¨è¾“å‡ºi+&quot;</span>+i);</span><br><span class="line">				<span class="keyword">if</span>(i==<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="keyword">try</span>&#123;</span><br><span class="line">						<span class="comment">//åœ¨è¯¥çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œè®©å…¶ä»–çº¿ç¨‹å…ˆæ‰§è¡Œ</span></span><br><span class="line">						Thread.sleep(<span class="number">500</span>);</span><br><span class="line">					&#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,<span class="string">&quot;çº¿ç¨‹1&quot;</span>);</span><br><span class="line">		Thread th2 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++)&#123;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()</span><br><span class="line">						+<span class="string">&quot;æ­£åœ¨è¾“å‡ºj+&quot;</span>+j);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,<span class="string">&quot;çº¿ç¨‹2&quot;</span>);</span><br><span class="line">		th1.start();</span><br><span class="line">		th2.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¿ç¨‹è®©æ­¥"><a href="#çº¿ç¨‹è®©æ­¥" class="headerlink" title="çº¿ç¨‹è®©æ­¥"></a>çº¿ç¨‹è®©æ­¥</h3><p><code>Thread.yield();</code> ä½¿å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æš‚åœï¼Œä½†ä¸ä¼šé˜»å¡è¯¥çº¿ç¨‹ï¼Œåªæ˜¯å°†çº¿ç¨‹è½¬æ¢æˆå°±ç»ªçŠ¶æ€ï¼Œè®©çº¿ç¨‹çš„è°ƒåº¦å™¨é‡æ–°è°ƒåº¦ä¸€æ¬¡ã€‚Threadçš„yieldæ–¹æ³•ï¼Œåœ¨çº¿ç¨‹ç±»å®ç°å†…ä½¿ç”¨ã€‚</p>
<p>ç›¸å½“äºè®©å ç€CPUçš„çº¿ç¨‹è®©æ­¥ï¼Œäº¤å‡ºCPUï¼Œå¤§å®¶é‡æ–°æŠ¢å ä¸€æ¬¡ï¼Œå› æ­¤ï¼Œä¹Ÿæœ‰å¯èƒ½è‡ªå·±å†æŠ¢åˆ°ã€‚</p>
<h3 id="çº¿ç¨‹æ’é˜Ÿ"><a href="#çº¿ç¨‹æ’é˜Ÿ" class="headerlink" title="çº¿ç¨‹æ’é˜Ÿ"></a>çº¿ç¨‹æ’é˜Ÿ</h3><p>å½“æŸä¸ªçº¿ç¨‹aä¸­è°ƒç”¨å…¶ä»–çº¿ç¨‹bçš„joinæ–¹æ³•æ—¶ï¼Œçº¿ç¨‹aå°†è¢«é˜»å¡ï¼Œçº¿ç¨‹bæ’é˜Ÿä¼˜å…ˆæ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹bæ‰§è¡Œå®Œæˆåï¼Œçº¿ç¨‹aæ‰ä¼šå®Œæˆã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Thread1</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">6</span>; i++)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">&quot;è¾“å…¥ï¼š&quot;</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException</span>&#123;</span><br><span class="line">		<span class="comment">//åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">		Thread th1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Thread1(), <span class="string">&quot;thread1&quot;</span>);</span><br><span class="line">		th1.start();</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">&quot;è¾“å…¥&quot;</span>+i);</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">2</span>)&#123;</span><br><span class="line">				th1.join();  <span class="comment">//th1æ’é˜Ÿæ‰§è¡Œï¼Œmainé˜»å¡ï¼Œåœ¨th1æ‰§è¡Œå®Œæ‰ä¼šç»§ç»­æ‰§è¡Œ</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤joinæ— å‚æ•°çš„çº¿ç¨‹æ’é˜Ÿæ–¹æ³•å¤–ï¼ŒThreadè¿˜æä¾›äº†å¸¦æœ‰æ—¶é—´å‚æ•°çš„çº¿ç¨‹æ’é˜Ÿæ–¹æ³•<code>join(long millis)</code>ã€‚è¡¨ç¤ºéœ€è¦ç­‰å¾…æ’é˜Ÿçš„çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šæ—¶é—´åï¼Œæ‰å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–çº¿ç¨‹ã€‚</p>
<p>mianå‡½æ•°æœ¬èº«ä¹Ÿç®—æ˜¯ä¸€ä¸ªä¸»çº¿ç¨‹ã€‚</p>
<h2 id="å¤šçº¿ç¨‹åŒæ­¥"><a href="#å¤šçº¿ç¨‹åŒæ­¥" class="headerlink" title="å¤šçº¿ç¨‹åŒæ­¥"></a>å¤šçº¿ç¨‹åŒæ­¥</h2><p>å¤šçº¿ç¨‹åŒæ­¥ï¼šé™åˆ¶æŸä¸ªèµ„æºåœ¨åŒä¸€æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚</p>
<p>Runnableæ¥å£å®ç°å¤šçº¿ç¨‹ï¼Œé€‚åˆå¤šä¸ªçº¿ç¨‹å¤„ç†åŒä¸€ä¸ªå…±äº«èµ„æºçš„æƒ…å†µã€‚ä½†æ˜¯å…±äº«çš„æ—¶å€™ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚</p>
<h3 id="åŒæ­¥ä»£ç å—"><a href="#åŒæ­¥ä»£ç å—" class="headerlink" title="åŒæ­¥ä»£ç å—"></a>åŒæ­¥ä»£ç å—</h3><p>Javaæä¾›äº†çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œå½“å¤šä¸ªçº¿ç¨‹ä½¿ç”¨åŒä¸€å…±äº«èµ„æºæ—¶ï¼Œå¯ä»¥å°†<strong>å¤„ç†å…±äº«èµ„æºçš„æ“ä½œä»£ç </strong>æ”¾ç½®åœ¨ä¸€ä¸ªä½¿ç”¨synchronizedå…³é”®å­—æ¥ä¿®é¥°çš„ä»£ç å—ä¸­ï¼Œè¿™æ®µä»£ç å—è¢«ç§°ä½œåŒæ­¥ä»£ç å—ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(lock)&#123;</span><br><span class="line">	<span class="comment">//æ“ä½œå…±äº«èµ„æºä»£ç å—</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>lockæ˜¯ä¸€ä¸ªé”å¯¹è±¡ï¼Œæ˜¯åŒæ­¥ä»£ç å—çš„å…³é”®ã€‚å½“çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—æ—¶ï¼Œé¦–å…ˆä¼šæ£€æŸ¥é”å¯¹è±¡çš„æ ‡å¿—ä½ï¼Œé»˜è®¤æƒ…å†µä¸‹æ ‡å¿—ä½ä¸º1ï¼Œæ­¤æ—¶çº¿ç¨‹ä¼šæ‰§è¡ŒåŒæ­¥ä»£ç å—ï¼ŒåŒæ—¶å°†é”å¯¹è±¡çš„æ ‡å¿—ä½ç½®ä¸º0ã€‚å½“ä¸€ä¸ªæ–°çš„çº¿ç¨‹æ‰§è¡Œåˆ°è¿™æ®µåŒæ­¥ä»£ç å—æ—¶ï¼Œç”±äºé”å¯¹è±¡çš„æ ‡å¿—ä½ä¸º0ï¼Œæ–°çº¿ç¨‹ä¼šå‘ç”Ÿé˜»å¡ï¼Œç­‰é”å¯¹è±¡çš„æ ‡å¿—ä½è¢«ç½®ä¸º1ï¼Œæ–°çº¿ç¨‹æ‰èƒ½è¿›å…¥åŒæ­¥ä»£ç å—æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚ï¼ˆå¥½æ¯”å…¬å…±ç”µè¯äº­ï¼Œå‰ä¸€ä¸ªæ‰“å®Œå‡ºæ¥ï¼Œåé¢çš„äººæ‰èƒ½è¿›å»ï¼‰ã€‚</p>
<p>åŒæ­¥ä»£ç å—ä¸­çš„é”å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œä½†å¤šä¸ªçº¿ç¨‹å…±äº«çš„é”å¯¹è±¡å¿…é¡»æ˜¯ç›¸åŒçš„ã€‚é”å¯¹è±¡çš„åˆ›å»ºä»£ç ä¸èƒ½æ”¾åœ¨run()æ–¹æ³•ä¸­ï¼Œå¦åˆ™æ¯ä¸ªçº¿ç¨‹è¿è¡Œåˆ°run()æ–¹æ³•éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªä¸åŒçš„é”ï¼Œæ¯ä¸ªé”æœ‰è‡ªå·±çš„æ ‡å¿—ä½ï¼Œæ— æ³•åŒæ­¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.multithread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: multithread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: å¤šçº¿ç¨‹æ¨¡æ‹Ÿå”®ç¥¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-11-30 13:15</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test_Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SaleThread saleThread = <span class="keyword">new</span> SaleThread();</span><br><span class="line">        <span class="comment">//åˆ›å»ºå¹¶å¼€å¯4ä¸ªçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿå››ä¸ªå”®ç¥¨çª—å£</span></span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£2&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£3&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£4&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SaleThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">    Object lock = <span class="keyword">new</span> Object();  <span class="comment">//å®šä¹‰ä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨ä½œåŒæ­¥ä»£ç å—çš„é”</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock)&#123;</span><br><span class="line">                <span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);  <span class="comment">//æ¨¡æ‹Ÿå”®ç¥¨è€—æ—¶è¿‡ç¨‹</span></span><br><span class="line">                    &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()</span><br><span class="line">                                +<span class="string">&quot;æ­£åœ¨å‘å”®ç¬¬&quot;</span>+tickets--+<span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªclassç±»ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªå«mianå‡½æ•°çš„ç±»ï¼Œå¹¶ä¸”æ–‡ä»¶åéœ€è¦å’Œå«mainå‡½æ•°çš„ç±»çš„åå­—ç›¸åŒã€‚</p>
</blockquote>
<h3 id="åŒæ­¥æ–¹æ³•"><a href="#åŒæ­¥æ–¹æ³•" class="headerlink" title="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h3><p>åœ¨æ–¹æ³•å‰é¢ä¹Ÿå¯ä»¥ä½¿ç”¨synchronizedå…³é”®å­—æ¥ä¿®é¥°ï¼Œè¢«ä¿®é¥°çš„æ–¹æ³•ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå®ƒèƒ½å®ç°å’ŒåŒæ­¥ä»£ç å—åŒæ ·çš„åŠŸèƒ½ã€‚</p>
<p><code>[ä¿®é¥°ç¬¦] synchronized è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°)&#123;&#125;</code></p>
<p>è¢«synchronizedä¿®é¥°çš„æ–¹æ³•åœ¨æŸä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œè®¿é—®è¯¥æ–¹æ³•çš„å…¶ä»–çº¿ç¨‹éƒ½ä¼šå‘ç”Ÿé˜»å¡ï¼Œç›´åˆ°å½“å‰çº¿ç¨‹è®¿é—®å®Œæ¯•åï¼Œå…¶ä»–çº¿ç¨‹æ‰æœ‰æœºä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.multithread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: multithread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: åŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-11-30 13:47</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test_Thread1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SaleThread1 saleThread = <span class="keyword">new</span> SaleThread1();</span><br><span class="line">        <span class="comment">//åˆ›å»ºå¹¶å¼€å¯4ä¸ªçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿå››ä¸ªå”®ç¥¨çª—å£</span></span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£2&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£3&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£4&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SaleThread1</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;    <span class="comment">//åœ¨runæ–¹æ³•ä¸­è°ƒç”¨synchronizedä¿®é¥°çš„åŒæ­¥æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            saleTicket();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">saleTicket</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">10</span>);  <span class="comment">//æ¨¡æ‹Ÿå”®ç¥¨è€—æ—¶è¿‡ç¨‹</span></span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()</span><br><span class="line">                    +<span class="string">&quot;æ­£åœ¨å‘å”®ç¬¬&quot;</span>+tickets--+<span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ­¥ä»£ç å—çš„é”æ˜¯è‡ªå·±å®šä¹‰çš„ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚åŒæ­¥æ–¹æ³•çš„é”æ˜¯å½“å‰è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯thisæŒ‡å‘çš„å¯¹è±¡ã€‚åŒæ­¥æ–¹æ³•è¢«æ‰€æœ‰çº¿ç¨‹æ‰€å…±äº«ï¼Œæ–¹æ³•æ‰€åœ¨çš„å¯¹è±¡ç›¸å¯¹äºæ‰€æœ‰çº¿ç¨‹æ¥è¯´æ˜¯å”¯ä¸€çš„ï¼Œä»è€Œä¿è¯äº†é”çš„å”¯ä¸€æ€§ã€‚å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå…¶ä»–çš„çº¿ç¨‹å°±ä¸èƒ½è¿›å…¥è¯¥æ–¹æ³•ã€‚</p>
<p>æœ‰æ—¶ï¼Œéœ€è¦åŒæ­¥çš„æ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ä¸éœ€è¦åˆ›å»ºå¯¹è±¡å°±å¯ç”¨ç±»åè°ƒç”¨ï¼Œé™æ€åŒæ­¥æ–¹æ³•çš„é”æ˜¯è¯¥æ–¹æ³•æ‰€åœ¨ç±»çš„classå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥ç›´æ¥ç”¨<code>ç±»å.class</code>çš„æ–¹å¼æ¥è·å–ã€‚</p>
<p>åŒæ­¥ä»£ç å—å’ŒåŒæ­¥æ–¹æ³•ï¼šè§£å†³äº†å¤šçº¿ç¨‹è®¿é—®å…±äº«æ•°æ®æ—¶çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå³åŠ é”æ¥ä½¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>å¼Šç«¯ï¼šçº¿ç¨‹åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç æ—¶æ¯æ¬¡éƒ½ä¼šåˆ¤æ–­é”çš„çŠ¶æ€ï¼Œæ¶ˆè€—èµ„æºï¼Œæ•ˆç‡è¾ƒä½ã€‚</p>
<h3 id="åŒæ­¥é”"><a href="#åŒæ­¥é”" class="headerlink" title="åŒæ­¥é”"></a>åŒæ­¥é”</h3><p>synchronizedåŒæ­¥ä»£ç å—å’ŒåŒæ­¥æ–¹æ³•ä½¿ç”¨ä¸€ç§å°é—­å¼çš„é”æœºåˆ¶ï¼Œä½†æ˜¯å®ƒæ— æ³•ä¸­æ–­ä¸€ä¸ªæ­£åœ¨ç­‰å€™è·å¾—é”çš„çº¿ç¨‹ï¼Œä¹Ÿæ— æ³•é€šè¿‡è½®è¯¢å¾—åˆ°é”ã€‚</p>
<p>JDK5å¼€å§‹ï¼Œjavaæä¾›äº†ä¸€ä¸ªåŠŸèƒ½æ›´å¼ºå¤§çš„Locké”ï¼ŒLocké”ä¸synchronizedéšå¼é”åœ¨åŠŸèƒ½ä¸ŠåŸºæœ¬ç›¸åŒï¼Œæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºLocké”å¯ä»¥è®©æŸä¸ªçº¿ç¨‹åœ¨æŒç»­è·å–åŒæ­¥é”å¤±è´¥åè¿”å›ï¼Œä¸å†ç»§ç»­ç­‰å¾…ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ çµæ´»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.multithread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: multithread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: Locké”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-11-30 14:51</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tset_Lock</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LockThread saleThread = <span class="keyword">new</span> LockThread();</span><br><span class="line">        <span class="comment">//åˆ›å»ºå¹¶å¼€å¯4ä¸ªçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿå››ä¸ªå”®ç¥¨çª—å£</span></span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£2&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£3&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(saleThread, <span class="string">&quot;çª—å£4&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LockThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tickets = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªlocké”å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Lock lo = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            lo.lock();</span><br><span class="line">            <span class="keyword">if</span>(tickets&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);  <span class="comment">//æ¨¡æ‹Ÿå”®ç¥¨è€—æ—¶è¿‡ç¨‹</span></span><br><span class="line">                    System.out.println(Thread.currentThread().getName()</span><br><span class="line">                            +<span class="string">&quot;æ­£åœ¨å‘å”®ç¬¬&quot;</span>+tickets--+<span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">                    lo.unlock();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Lock</code>æ¥å£çš„å®ç°ç±»ï¼š<code>ReentrantLock</code>ã€‚</p>
<p>è¿˜æœ‰<code>tryLock()</code>æ–¹æ³•ç”¨æ¥åˆ¤æ–­æŸä¸ªçº¿ç¨‹é”æ˜¯å¦å¯ç”¨ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸ç®¡æ˜¯åŒæ­¥ä»£ç å—ã€åŒæ­¥æ–¹æ³•è¿˜æ˜¯åŒæ­¥é”ï¼Œé”å¯¹è±¡éƒ½æ˜¯å‡ ä¸ªçº¿ç¨‹å…±äº«çš„ï¼Œä¸èƒ½åœ¨runæ–¹æ³•ä¸­å®šä¹‰ï¼Œéƒ½æ˜¯åœ¨runæ–¹æ³•ä¹‹å¤–å®šä¹‰ã€‚åŒæ­¥æ–¹æ³•ä¸­ï¼Œåªåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªå¯¹è±¡ä»£è¡¨é”å¯¹è±¡ã€‚</p>
</blockquote>
<h3 id="æ­»é”é—®é¢˜"><a href="#æ­»é”é—®é¢˜" class="headerlink" title="æ­»é”é—®é¢˜"></a>æ­»é”é—®é¢˜</h3><p>ä¸¤ä¸ªçº¿ç¨‹éƒ½éœ€è¦å¯¹æ–¹æ‰€å ç”¨çš„é”ï¼Œä½†æ˜¯éƒ½æ— æ³•é‡Šæ”¾è‡ªå·±æ‰€æ‹¥æœ‰çš„é”ã€‚</p>
<h2 id="å¤šçº¿ç¨‹é€šä¿¡"><a href="#å¤šçº¿ç¨‹é€šä¿¡" class="headerlink" title="å¤šçº¿ç¨‹é€šä¿¡"></a>å¤šçº¿ç¨‹é€šä¿¡</h2><p>æ§åˆ¶å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ä¸€å®šçš„é¡ºåºè½®æµæ‰§è¡Œï¼Œæ­¤æ—¶å°±éœ€è¦è®©çº¿ç¨‹é—´è¿›è¡Œé€šä¿¡ï¼Œä¿è¯çº¿ç¨‹ä»»åŠ¡çš„åè°ƒè¿›è¡Œã€‚</p>
<p>Javaåœ¨Objectç±»ä¸­æä¾›äº†<code>wait()ã€notify()ã€notifyAll()</code>ç­‰æ–¹æ³•ç”¨äºè§£å†³çº¿ç¨‹é—´çš„é€šä¿¡é—®é¢˜ã€‚æ‰€æœ‰ç±»éƒ½æ˜¯Objectç±»çš„å­ç±»æˆ–é—´æ¥å­ç±»ï¼Œå› æ­¤ä»»ä½•ç±»éƒ½å¯ç›´æ¥ç”¨è¿™äº›æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wait</span><span class="params">()</span>  <span class="comment">//ä½¿å½“å‰çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">notify</span><span class="params">()</span>  <span class="comment">//å”¤é†’æ­¤åŒæ­¥é”ä¸Šç­‰å¾…çš„ç¬¬ä¸€ä¸ªè°ƒç”¨wait()æ–¹æ³•çš„çº¿ç¨‹</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">notifyAll</span><span class="params">()</span>  <span class="comment">//å”¤é†’æ­¤åŒæ­¥é”ä¸Šè°ƒç”¨wait()æ–¹æ³•çš„æ‰€æœ‰çº¿ç¨‹</span></span></span><br></pre></td></tr></table></figure>

<p>è¿™äº›æ–¹æ³•çš„è°ƒç”¨è€…éƒ½æ˜¯<strong>åŒæ­¥é”å¯¹è±¡</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.multithread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: multithread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: çº¿ç¨‹é—´é€šä¿¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-11-30 15:40</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread_Commu</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸€ä¸ªé›†åˆç±»ï¼Œæ¨¡æ‹Ÿå­˜å‚¨ç”Ÿäº§çš„å•†å“</span></span><br><span class="line">        List&lt;Object&gt; goods = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//è®°å½•çº¿ç¨‹æ‰§è¡Œå‰ç»Ÿä¸€çš„èµ·å§‹æ—¶é—´start</span></span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªç”Ÿäº§è€…çº¿ç¨‹ï¼Œç”±äºç”Ÿäº§å•†å“å¹¶å­˜å…¥å•†å“é›†åˆ</span></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(System.currentTimeMillis()-start&lt;=<span class="number">1000</span>)&#123;  <span class="comment">//æ§åˆ¶æ‰§è¡Œæ—¶é—´</span></span><br><span class="line">                <span class="comment">//ä½¿ç”¨synchronizedå…³é”®å­—åŒæ­¥å•†å“ç”Ÿäº§å’Œæ¶ˆè´¹</span></span><br><span class="line">                <span class="keyword">synchronized</span> (goods)&#123;</span><br><span class="line">                    <span class="comment">//æœ‰å•†å“å°±è®©ç”Ÿäº§è€…ç­‰å¾…</span></span><br><span class="line">                    <span class="keyword">if</span>(goods.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">try</span>&#123;</span><br><span class="line">                            goods.wait();</span><br><span class="line">                        &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="comment">//ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§å•†å“</span></span><br><span class="line">                        num++;</span><br><span class="line">                        goods.add(<span class="string">&quot;å•†å“&quot;</span>+num);</span><br><span class="line">                        System.out.println(<span class="string">&quot;ç”Ÿäº§å•†å“&quot;</span>+num);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;ç”Ÿäº§è€…&quot;</span>);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(System.currentTimeMillis()-start&lt;=<span class="number">1000</span>)&#123;  <span class="comment">//æ§åˆ¶æ‰§è¡Œæ—¶é—´</span></span><br><span class="line">                <span class="comment">//ä½¿ç”¨synchronizedå…³é”®å­—åŒæ­¥å•†å“ç”Ÿäº§å’Œæ¶ˆè´¹</span></span><br><span class="line">                <span class="keyword">synchronized</span> (goods)&#123;</span><br><span class="line">                    <span class="comment">//å•†å“ä¸è¶³å°±å”¤é†’ç”Ÿäº§è€…è¿›è¡Œç”Ÿäº§</span></span><br><span class="line">                    <span class="keyword">if</span>(goods.size()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">                        goods.notifyAll();</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="comment">//ç»§ç»­æ¶ˆè´¹å•†å“</span></span><br><span class="line">                        num++;</span><br><span class="line">                        goods.remove(<span class="string">&quot;å•†å“&quot;</span>+num);</span><br><span class="line">                        System.out.println(<span class="string">&quot;æ¶ˆè´¹å•†å“&quot;</span>+num);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;æ¶ˆè´¹è€…&quot;</span>);</span><br><span class="line">        <span class="comment">//åŒæ—¶å¯åŠ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¸¤ä¸ªçº¿ç¨‹ï¼Œå¹¶ç»Ÿä¸€æ‰§è¡Œ100msæ—¶é—´</span></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šï¼Œå®ç°ä¾›éœ€æœ‰åºã€å‡è¡¡ï¼ŒæŒ‰ç…§å…ˆç”Ÿäº§åæ¶ˆè´¹çš„é¡ºåºè½®æµæ‰§è¡Œã€‚</p>
<p>æ³¨æ„ï¼šwaitå‡½æ•°ä¸­ï¼Œå¯æœ‰æ—¶é—´ï¼Œæ—¶é—´åˆ°äº†ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨å”¤é†’å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ã€‚å”¤é†’çš„æ–¹å¼ï¼šå…¶ä»–çº¿ç¨‹notifyå”¤é†’ æˆ– æ—¶é—´åˆ°ã€‚</p>
<h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><p>å‰é¢çš„å¤šçº¿ç¨‹ä¸­ï¼Œå¤æ‚ä»»åŠ¡ä¼šé¢‘ç¹æ‰‹åŠ¨å¼åœ°åˆ›å»ºã€ç®¡ç†çº¿ç¨‹ï¼Œçº¿ç¨‹å¯¹è±¡ä½¿ç”¨äº†å¤§é‡çš„å†…å­˜ï¼Œåœ¨å¤§è§„æ¨¡åº”ç”¨ä¸­ï¼Œåˆ›å»ºã€åˆ†é…å’Œé‡Šæ”¾å¤šçº¿ç¨‹å¯¹è±¡ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç®¡ç†å¼€é”€ã€‚ä¸ºæ­¤ï¼ŒJavaæä¾›äº†çº¿ç¨‹æ± æ¥åˆ›å»ºå¤šçº¿ç¨‹ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–çº¿ç¨‹ç®¡ç†ã€‚</p>
<h3 id="Executoræ¥å£å®ç°çº¿ç¨‹æ± ç®¡ç†"><a href="#Executoræ¥å£å®ç°çº¿ç¨‹æ± ç®¡ç†" class="headerlink" title="Executoræ¥å£å®ç°çº¿ç¨‹æ± ç®¡ç†"></a>Executoræ¥å£å®ç°çº¿ç¨‹æ± ç®¡ç†</h3><p>ä»JDK5å¼€å§‹ï¼Œjava.util.concurrentåŒ…ä¸‹å¢åŠ äº†Executoræ¥å£åŠå…¶å­ç±»ï¼Œå…è®¸ä½¿ç”¨çº¿ç¨‹æ± æŠ€æœ¯æ¥ç®¡ç†çº¿ç¨‹å¹¶å‘é—®é¢˜ã€‚</p>
<p>Executoræ¥å£æä¾›ä¸€ä¸ªå¸¸ç”¨çš„ExecutorServiceå­æ¥å£ï¼Œé€šè¿‡è¯¥å­æ¥å£å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†çº¿ç¨‹æ± ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.liuxuan.multithread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: multithread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: çº¿ç¨‹æ± </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2021-12-01 12:50</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.å®šä¹‰ä¸€ä¸ªå®ç°Runnableæ¥å£æˆ–è€…Callableæ¥å£çš„å®ç°ç±»ï¼ŒåŒæ—¶é‡å†™run()æˆ–è€…call()æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread4</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Object</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//1.1é‡å†™Callableæ¥å£çš„call()æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i++&lt;<span class="number">5</span>)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()</span><br><span class="line">                              +<span class="string">&quot;çš„call()æ–¹æ³•åœ¨è¿è¡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread_Pool</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException, ExecutionException </span>&#123;</span><br><span class="line">        <span class="comment">//2.åˆ›å»ºRunnableæ¥å£æˆ–è€…Callableæ¥å£çš„å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        MyThread4 myth = <span class="keyword">new</span> MyThread4();</span><br><span class="line">        <span class="comment">//3.ä½¿ç”¨Executorsçº¿ç¨‹æ‰§è¡Œå™¨ç±»åˆ›å»ºå¯æ‰©å±•çš„çº¿ç¨‹æ± </span></span><br><span class="line">        ExecutorService executor = Executors.newCachedThreadPool();</span><br><span class="line">        <span class="comment">//4.å°†Callableæ¥å£å®ç°ç±»å¯¹è±¡æäº¤åˆ°çº¿ç¨‹æ± è¿›è¡Œç®¡ç†</span></span><br><span class="line">        Future&lt;Object&gt;res1 = executor.submit(myth);</span><br><span class="line">        Future&lt;Object&gt;res2 = executor.submit(myth);</span><br><span class="line">        <span class="comment">//5.å…³é—­çº¿ç¨‹æ± </span></span><br><span class="line">        executor.shutdown();</span><br><span class="line">        <span class="comment">//å¯¹äºæœ‰è¿”å›å€¼çš„çº¿ç¨‹ä»»åŠ¡ï¼Œè·å–æ‰§è¡Œç»“æœ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;thread-1è¿”å›ç»“æœï¼š&quot;</span>+res1.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;thread-2è¿”å›ç»“æœï¼š&quot;</span>+res2.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çº¿ç¨‹æ± executorç³»ç»Ÿç»™åå­—pool-1.è¯¥çº¿ç¨‹æ± ä¸­ç®¡ç†æœ‰ä¸¤ä¸ªé»˜è®¤ç”Ÿæˆåç§°çš„çº¿ç¨‹thread-1å’Œthread-2.</p>
<p>çº¿ç¨‹æ± é€šè¿‡Executorsçš„newCachedThreadPoolæ–¹æ³•åˆ›å»ºï¼ŒExecutorsæ˜¯JDK5å¢åŠ çš„çº¿ç¨‹æ‰§è¡Œå™¨å·¥å…·ç±»ï¼Œæä¾›å››ç§æ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">newCachedThreadPool()    åˆ›å»ºä¸€ä¸ªå¯æ‰©å±•çº¿ç¨‹æ± çš„æ‰§è¡Œå™¨ã€‚é€‚åˆç”±äºå¯åŠ¨è®¸å¤šçŸ­æœŸä»»åŠ¡çš„åº”ç”¨ç¨‹åºã€‚</span><br><span class="line">newFixedThreadPool(<span class="keyword">int</span> n)     åˆ›å»ºå›ºå®šçº¿ç¨‹æ•°é‡çº¿ç¨‹æ± çš„æ‰§è¡Œå™¨ã€‚</span><br><span class="line">newSingleThreadExecutor()     åˆ›å»ºä¸€ä¸ªåªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡çš„å•çº¿ç¨‹</span><br><span class="line">newScheduledThreadPool(<span class="keyword">int</span> size)    åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚</span><br></pre></td></tr></table></figure>

<h3 id="CompletableFutureç±»å®ç°çº¿ç¨‹æ± ç®¡ç†"><a href="#CompletableFutureç±»å®ç°çº¿ç¨‹æ± ç®¡ç†" class="headerlink" title="CompletableFutureç±»å®ç°çº¿ç¨‹æ± ç®¡ç†"></a>CompletableFutureç±»å®ç°çº¿ç¨‹æ± ç®¡ç†</h3><p>ä½¿ç”¨Callableæ¥å£å®ç°å¤šçº¿ç¨‹æ—¶ï¼Œä¼šç”¨åˆ°FutureTaskç±»å¯¹çº¿ç¨‹æ‰§è¡Œç»“æœè¿›è¡Œç®¡ç†å’Œè·å–ï¼Œè¯¥ç±»è·å–ç»“æœæ—¶æ˜¯é€šè¿‡é˜»å¡æˆ–è€…è½®è¯¢çš„æ–¹å¼ï¼Œæ¶ˆè€—è¿‡å¤šèµ„æºã€‚</p>
<p>JDK8å¢åŠ äº†ä¸€ä¸ªå¼ºå¤§çš„å‡½æ•°å¼å¼‚æ­¥ç¼–ç¨‹è¾…åŠ©ç±»CompletableFutureï¼Œè¯¥ç±»åŒæ—¶å®ç°äº†Futureæ¥å£å’ŒCompletionStageæ¥å£ï¼ˆJava8å¢åŠ çš„çº¿ç¨‹ä»»åŠ¡å®Œæˆç»“æœæ¥å£ï¼‰ï¼Œå¯ä»¥ç®€åŒ–å¼‚æ­¥ç¼–ç¨‹ã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>macä¸‹vscodeé…ç½®cppç¯å¢ƒ</title>
    <url>/2021/08/23/myblog/cpp%E4%BF%AE%E7%82%BC/Mac%E4%B8%8Bvscode%E9%85%8D%E7%BD%AEcpp%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h3 id="1-å®‰è£…vscode"><a href="#1-å®‰è£…vscode" class="headerlink" title="1.å®‰è£…vscode"></a>1.å®‰è£…vscode</h3><h3 id="2-æ’ä»¶å®‰è£…"><a href="#2-æ’ä»¶å®‰è£…" class="headerlink" title="2.æ’ä»¶å®‰è£…"></a>2.æ’ä»¶å®‰è£…</h3><p>å®‰è£…â€œC/C++â€ã€â€œC/C++ Clang Command Adapterâ€</p>
<h3 id="3-æ–°å»ºcppæ–‡ä»¶"><a href="#3-æ–°å»ºcppæ–‡ä»¶" class="headerlink" title="3.æ–°å»ºcppæ–‡ä»¶"></a>3.æ–°å»ºcppæ–‡ä»¶</h3><h3 id="4-é…ç½®1-c-cpp-properties-json"><a href="#4-é…ç½®1-c-cpp-properties-json" class="headerlink" title="4.é…ç½®1 c_cpp_properties.json"></a>4.é…ç½®1 c_cpp_properties.json</h3><p>æŒ‰ <code>Command + Shift + P</code> æ‰“å¼€å‘½ä»¤è¡Œé¢æ¿ï¼Œè¾“å…¥ <code>C/Cpp: Edit Configurations</code>å‘½ä»¤<br>æ­¤æ—¶ä¼šåœ¨å½“å‰å·¥ä½œç©ºé—´ç›®å½•ç”Ÿæˆ.vscodeé…ç½®ç›®å½•<br>åŒæ—¶åœ¨é…ç½®ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªc_cpp_properties.jsonæ–‡ä»¶</p>
<p>å°†è¦ç”¨åˆ°çš„åº“çš„è·¯å¾„æ·»åŠ åˆ°includePathæ•°ç»„ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;Mac&quot;,</span><br><span class="line">            &quot;includePath&quot;: [</span><br><span class="line">                        &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">                        &quot;/Library/Developer/CommandLineTools/usr/include/c++/v1&quot;,</span><br><span class="line">                        &quot;/usr/local/include&quot;,</span><br><span class="line">                        &quot;/Library/Developer/CommandLineTools/usr/include&quot;,</span><br><span class="line">                    ],</span><br><span class="line">            &quot;defines&quot;: [],</span><br><span class="line">            &quot;macFrameworkPath&quot;: [</span><br><span class="line">                &quot;/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Frameworks&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;compilerPath&quot;: &quot;/usr/bin/clang&quot;,</span><br><span class="line">            &quot;cStandard&quot;: &quot;c17&quot;,</span><br><span class="line">            &quot;cppStandard&quot;: &quot;c++98&quot;,</span><br><span class="line">            &quot;intelliSenseMode&quot;: &quot;macos-clang-x64&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;version&quot;: 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-é…ç½®2-tasks-json"><a href="#5-é…ç½®2-tasks-json" class="headerlink" title="5.é…ç½®2 tasks.json"></a>5.é…ç½®2 tasks.json</h3><p>æŒ‰ <code>Command + Shift + P</code> æ‰“å¼€å‘½ä»¤è¡Œé¢æ¿ï¼Œè¾“å…¥ <code>tasks</code>ï¼Œé€‰æ‹© <code>Tasks:Configure Task</code> ç”Ÿæˆ <code>tasks.json</code> é…ç½®æ–‡ä»¶ï¼Œé€‰æ‹©çš„æ¨¡æ¿ä¸ºMSBuild</p>
<p>è¯¥æ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œæ„å»ºå·¥å…·<br>æŠŠè¿è¡Œç¨‹åºæ—¶åœ¨ç»ˆç«¯è¾“å…¥çš„å‘½ä»¤å’Œå‚æ•°å¯¹äºâ€commandâ€å’Œâ€argsâ€çš„å€¼<br>è¾“å…¥shift+command+bï¼Œä¾¿å¯æ„å»ºæˆåŠŸï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶a.out</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // See https://go.microsoft.com/fwlink/?LinkId=733558</span><br><span class="line">    // for the documentation about the tasks.json format</span><br><span class="line">        &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">        &quot;tasks&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;label&quot;: &quot;c++&quot;,</span><br><span class="line">                &quot;command&quot;: &quot;clang++&quot;,</span><br><span class="line">                &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">                &quot;args&quot;: [</span><br><span class="line">                    &quot;main.cpp&quot;,</span><br><span class="line">                    &quot;-std=c++11&quot;,</span><br><span class="line">                    &quot;-g&quot;</span><br><span class="line">                ],</span><br><span class="line">                &quot;presentation&quot;: &#123;</span><br><span class="line">                    &quot;echo&quot;: true,</span><br><span class="line">                    &quot;reveal&quot;: &quot;always&quot;,</span><br><span class="line">                    &quot;focus&quot;: false,</span><br><span class="line">                    &quot;panel&quot;: &quot;new&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h3 id="6-é…ç½®3-launch-json"><a href="#6-é…ç½®3-launch-json" class="headerlink" title="6.é…ç½®3 launch.json"></a>6.é…ç½®3 <strong>launch.json</strong></h3><p>å¦‚æœéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œè¿›è¡Œ <code>debug</code>ï¼Œåˆ™éœ€è¦å…ˆç”Ÿæˆ <code>launch.json</code> æ–‡ä»¶å¹¶å¯¹å…¶åšç›¸åº”çš„é…ç½®</p>
<ul>
<li><p>æŒ‰ <code>Command + Shift + D</code> è¿›å…¥åˆ°è¿è¡Œç•Œé¢</p>
</li>
<li><p>ç‚¹å‡» <code>åˆ›å»º launch.json æ–‡ä»¶</code>ï¼Œé€‰æ‹© <code>C++(GDB/LLDB)</code></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span><br><span class="line">    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span><br><span class="line">    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;c/c++ Launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/a.out&quot;,</span><br><span class="line">            &quot;args&quot;: [],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: true,</span><br><span class="line">            &quot;MIMode&quot;: &quot;lldb&quot;,</span><br><span class="line">            &quot;preLaunchTask&quot;:&quot;c++&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<p>![image-20210816193726334](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210816193726334.png)</p>
<h3 id="7-shift-command-bç¼–è¯‘å¤±è´¥"><a href="#7-shift-command-bç¼–è¯‘å¤±è´¥" class="headerlink" title="7.shift+command+bç¼–è¯‘å¤±è´¥"></a>7.shift+command+bç¼–è¯‘å¤±è´¥</h3><p>äºVScodeæŠ¥é”™â€œç»ˆç«¯å°†è¢«ä»»åŠ¡é‡ç”¨ï¼ŒæŒ‰ä»»æ„é”®å…³é—­â€çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<p>åŸå› æ˜¯æœ¬åœ°ç«¯å£æ˜¯è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å¿…é¡»å…³é—­ä¸€ä¸ªè¿›ç¨‹æ‰èƒ½æ‰§è¡Œå¦ä¸€ä¸ªï¼Œåªéœ€è¦å¯¹ <code>tasks.json</code>æ–‡ä»¶åšä¸€äº›ä¿®æ”¹å³å¯ã€‚</p>
<p>tasks.jsoné‡ŒæŠŠâ€panelâ€=â€sharedâ€æ”¹æˆï¼šâ€panelâ€=â€newâ€</p>
<h3 id="8-å¦‚ä½•è¿è¡Œï¼Ÿ"><a href="#8-å¦‚ä½•è¿è¡Œï¼Ÿ" class="headerlink" title="8.å¦‚ä½•è¿è¡Œï¼Ÿ"></a>8.å¦‚ä½•è¿è¡Œï¼Ÿ</h3><p>è¾“å…¥shift+command+bï¼Œä¾¿å¯æ„å»ºæˆåŠŸï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶a.out</p>
<p>ç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®è·¯å¾„ä¸‹ç”Ÿæˆ <code>main</code> æ–‡ä»¶ï¼Œä½¿ç”¨ <code>./main</code> å³å¯æ‰§è¡Œ</p>
<hr>
<p>å‡ºç°é”™è¯¯ï¼Œé‡æ–°å‚è€ƒï¼Œç†è§£ä¸‰ä¸ªé…ç½®æ–‡ä»¶</p>
<hr>
<p>åœ¨é…ç½®ç¯å¢ƒä¹‹å‰å…ˆæ£€æŸ¥ä¸€ä¸‹æœºå™¨ä¸Šéƒ½å®‰è£…äº†ä»€ä¹ˆC++ç¼–è¯‘å™¨ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†g++/clangç¼–è¯‘å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">g++ --version</span><br><span class="line">clang++ --version</span><br></pre></td></tr></table></figure>

<p>ç„¶åå®‰è£…ä¸¤ä¸ªæ’ä»¶</p>
<p>ç„¶åæ–°å»ºå·¥ç¨‹ç›®å½•ï¼Œåœ¨é‡Œé¢æ–°å»ºä¸€ä¸ªcppæ–‡ä»¶å‘½åä¸ºmain.cppã€‚</p>
<p>ç„¶åç‚¹å‡»ä¾§è¾¹æ çš„DebugæŒ‰é’®ï¼Œç‚¹å‡»è®¾ç½®å›¾æ ‡ï¼Œä¾¿ä¼šæç¤ºä½ é€‰æ‹©ç¯å¢ƒï¼Œè¿™é‡Œå°±é€‰æ‹©C++é‚£ä¸€é¡¹ã€‚</p>
<p>æ­¤æ—¶VSCodeä¼šåœ¨ä½ çš„å·¥ç¨‹ç›®å½•ä¸‹è‡ªåŠ¨æ–°å»ºä¸€ä¸ª.vscodeçš„æ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºäº†ä¸€ä¸ªlaunch.jsonçš„æ–‡ä»¶ï¼Œè¿™é‡Œéœ€è¦å¯¹ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä¸€äº›å°æ”¹åŠ¨ã€‚æœ¬äººé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span><br><span class="line">    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span><br><span class="line">    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;(lldb) Launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/a.out&quot;,</span><br><span class="line">            //a.out æ˜¯éœ€è¦è¿è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥æ”¹å</span><br><span class="line">            &quot;args&quot;: [],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: true,</span><br><span class="line">            &quot;MIMode&quot;: &quot;lldb&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åæŒ‰å¿«æ·é”®â‡§âŒ˜Bç¼–è¯‘ï¼Œæ­¤æ—¶ä¼šå‡ºç°æç¤ºæ²¡æœ‰æ‰¾åˆ°è¦è¿è¡Œçš„ç”Ÿæˆä»»åŠ¡ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°†è¿›è¡Œç”Ÿæˆä»»åŠ¡çš„é…ç½®å·¥ä½œï¼ŒVSCodeæä¾›äº†ä¸€äº›æ¨¡ç‰ˆï¼Œæœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡Œé€‰æ‹©ï¼Œè¿™é‡Œå°±é€‰åˆ™Othersã€‚</p>
<p>æ­¤æ—¶.vscodeç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ªtask.jsonæ–‡ä»¶ï¼Œå¯¹å®ƒè¿›è¡Œæ”¹å†™ã€‚æœ¬äººé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // See https://go.microsoft.com/fwlink/?LinkId=733558</span><br><span class="line">    // for the documentation about the tasks.json format</span><br><span class="line">    &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;label&quot;: &quot;hello world&quot;,  //æè¿°</span><br><span class="line">            &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">            &quot;command&quot;: &quot;clang++&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">            </span><br><span class="line">                &quot;main.cpp&quot;  //æ–‡ä»¶å</span><br><span class="line">            ],</span><br><span class="line">            &quot;group&quot;: &#123;</span><br><span class="line">                &quot;kind&quot;:&quot;build&quot;,</span><br><span class="line">                &quot;isDefault&quot;: true</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;presentation&quot;: &#123;</span><br><span class="line">                &quot;echo&quot;: true,</span><br><span class="line">                &quot;reveal&quot;: &quot;always&quot;,</span><br><span class="line">                &quot;focus&quot;: false,</span><br><span class="line">                &quot;panel&quot;: &quot;new&quot;  //æ–°å»ºç«¯å£</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åå†æ¬¡æŒ‰å¿«æ·é”®â‡§âŒ˜Bå°±èƒ½å¤Ÿé¡ºåˆ©ç¼–è¯‘äº†ï¼Œç¼–è¯‘å®ŒæˆåæŒ‰F5æ‰§è¡Œï¼Œå¾—åˆ°è¾“å‡ºç»“æœã€‚</p>
<p>æ¯æ¬¡ç¼–è¯‘å®Œæˆåï¼Œæˆ‘ä»¬ä¼šå‘ç°ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªa.outæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯Linux/Unixç¯å¢ƒä¸‹ç¼–è¯‘å™¨ç¼–è¯‘æºä»£ç å¹¶è¿æ¥äº§ç”Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåœ¨æœªæŒ‡å®šçš„æƒ…å†µä¸‹å…¶é»˜è®¤å‘½åä¸ºa.outã€‚é‚£ä¹ˆå¦‚ä½•é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶çš„å‘½åå‘¢ï¼Ÿ</p>
<p>æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨task.jsonä¸­çš„argså±æ€§ä¸‹å¡«å…¥<code>-o yourfilename.out</code></p>
<p>å¯ä»¥å‘ç°è¿™é‡Œçš„commandå’Œargsä¸¤ä¸ªå±æ€§å°±ç›¸å½“äºåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œäº†<code>clang++ -o yourfilename.out main.cpp</code>ï¼Œæ‰€ä»¥å¦‚æœè¿˜æœ‰å…¶ä»–çš„éœ€æ±‚ä¹Ÿå¯ä»¥å¯¹è¿™é‡Œè¿›è¡Œæ”¹å†™ã€‚æœ€åä¸è¦å¿˜è®°ä¿®æ”¹launch.jsonä¸­çš„programå±æ€§ï¼Œå°†.outçš„æ–‡ä»¶åä¿®æ”¹ä¸ºä¸task.jsonä¸€è‡´ã€‚ä¾¿å¯ä»¥æˆåŠŸç¼–è¯‘æ‰§è¡Œäº†ã€‚</p>
<hr>
<p>ç”¨äº†ç¬¬äºŒç§ä¹‹åï¼Œcontrol+command+b ç¼–è¯‘</p>
<p>å†F5æ‰§è¡Œï¼Œä¸è¡Œï¼Œåº”è¯¥æ˜¯branchæ–‡ä»¶é…ç½®çš„åŸå› ã€‚</p>
<p>ä½†æ˜¯./\ app.out å¯ä»¥è¿è¡Œã€‚å…ˆè¿™æ ·ã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/qq_43119354/article/details/89219180?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.control&amp;spm=1001.2101.3001.4242">https://blog.csdn.net/qq_43119354/article/details/89219180?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.control&amp;spm=1001.2101.3001.4242</a></p>
]]></content>
      <categories>
        <category>cppå¼€å‘</category>
      </categories>
      <tags>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>go-channel</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-channel/</url>
    <content><![CDATA[<h3 id="1-channelç®€ä»‹"><a href="#1-channelç®€ä»‹" class="headerlink" title="1.channelç®€ä»‹"></a>1.channelç®€ä»‹</h3><p>Channelæ˜¯Goä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç±»å‹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªç®¡é“ï¼Œé€šè¿‡å®ƒå¹¶å‘æ ¸å¿ƒå•å…ƒå°±å¯ä»¥å‘é€æˆ–è€…æ¥æ”¶æ•°æ®è¿›è¡Œé€šè®¯(communication)ã€‚</p>
<p>å®ƒçš„æ“ä½œç¬¦æ˜¯ç®­å¤´ <strong>&lt;-</strong> ã€‚ç”¨æ¥åç¨‹é—´ä¼ é€’æ•°æ®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ch &lt;- v    // å‘é€å€¼våˆ°Channel chä¸­</span><br><span class="line">v := &lt;-ch  // ä»Channel chä¸­æ¥æ”¶æ•°æ®ï¼Œå¹¶å°†æ•°æ®èµ‹å€¼ç»™v</span><br><span class="line">ch := make(chan int, 100)  //å®¹é‡(capacity)ä»£è¡¨Channelå®¹çº³çš„æœ€å¤šçš„å…ƒç´ çš„æ•°é‡ï¼Œä»£è¡¨Channelçš„ç¼“å­˜çš„å¤§å°ã€‚</span><br><span class="line">å¦‚æœæ²¡æœ‰è®¾ç½®å®¹é‡ï¼Œæˆ–è€…å®¹é‡è®¾ç½®ä¸º0, è¯´æ˜Channelæ²¡æœ‰ç¼“å­˜ï¼Œåªæœ‰senderå’Œreceiveréƒ½å‡†å¤‡å¥½äº†åå®ƒä»¬çš„é€šè®¯(communication)æ‰ä¼šå‘ç”Ÿ(Blocking)ã€‚å¦‚æœè®¾ç½®äº†ç¼“å­˜ï¼Œå°±æœ‰å¯èƒ½ä¸å‘ç”Ÿé˜»å¡ï¼Œ åªæœ‰bufferæ»¡äº†å sendæ‰ä¼šé˜»å¡ï¼Œ è€Œåªæœ‰ç¼“å­˜ç©ºäº†åreceiveæ‰ä¼šé˜»å¡ã€‚ä¸€ä¸ªnil channelä¸ä¼šé€šä¿¡ã€‚</span><br><span class="line">close(ch)  //å…³é—­channel</span><br></pre></td></tr></table></figure>

<p>æ— ç¼“å†²é˜»å¡åœºæ™¯ï¼š1.æ²¡æœ‰åç¨‹åœ¨å†™å´è¯»   2.æ²¡æœ‰åç¨‹åœ¨è¯»å´å†™</p>
<p>æœ‰ç¼“å†²é˜»å¡åœºæ™¯ï¼š1.ç¼“å†²ä¸­æ— æ•°æ®å´è¯»  2.ç¼“å†²å·²æ»¡å´å†™</p>
<p>æ— ç¼“å†²çš„channelï¼Œä¸ç®¡æ˜¯å…¥è¿˜æ˜¯å‡ºï¼Œéƒ½ä¼šé˜»å¡ï¼Œæ‰€ä»¥åœ¨åŒä¸€ä¸ªgoroutineä¸­ï¼Œä¸èƒ½åŒæ—¶å¯¹åŒä¸€ä¸ªæ— ç¼“å†²channelè¿›è¡Œå…¥å’Œå‡ºæ“ä½œï¼›</p>
<p>å¸¦ç¼“å†²çš„channelï¼Œåœ¨é˜Ÿåˆ—æ»¡ä¹‹å‰ï¼Œä¸ä¼šé˜»å¡ï¼›é˜Ÿåˆ—æ»¡ä¹‹åï¼Œä¾ç„¶ä¼šé˜»å¡ã€‚</p>
<h3 id="2-åº”ç”¨1ï¼šä½œä¸ºä¸€ä¸ªFIFOé˜Ÿåˆ—"><a href="#2-åº”ç”¨1ï¼šä½œä¸ºä¸€ä¸ªFIFOé˜Ÿåˆ—" class="headerlink" title="2.åº”ç”¨1ï¼šä½œä¸ºä¸€ä¸ªFIFOé˜Ÿåˆ—"></a>2.åº”ç”¨1ï¼šä½œä¸ºä¸€ä¸ªFIFOé˜Ÿåˆ—</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="comment">//ç”¨channelå®ç°é˜Ÿåˆ—ï¼ŒæŸ¥çœ‹æ˜¯å¦åŸå­æ€§</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;errors&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">20</span>)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(ch))</span><br><span class="line">	fmt.Println(<span class="built_in">cap</span>(ch))</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">20</span>; i++&#123;</span><br><span class="line">    	ch &lt;- i+<span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	wg := sync.WaitGroup&#123;&#125;</span><br><span class="line">	wg.Add(<span class="number">30</span>)</span><br><span class="line">	<span class="keyword">var</span> err error</span><br><span class="line">	<span class="keyword">for</span> j:=<span class="number">0</span>; j&lt;<span class="number">30</span>; j++&#123;</span><br><span class="line">		<span class="keyword">go</span> get(&amp;ch, &amp;wg, &amp;err)</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get</span><span class="params">(ch *<span class="keyword">chan</span> <span class="keyword">int</span>, wg *sync.WaitGroup, err *error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> x := &lt;- *ch:   <span class="comment">//å¦‚æœå¯ä»¥è¯»å‡ºï¼Œå°±è¯»</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;get number: %d, channel size: %d\n&quot;</span>, x, <span class="built_in">len</span>(*ch))</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">default</span>:     <span class="comment">//å¤±è´¥è¿”å›</span></span><br><span class="line">	    fmt.Println(<span class="string">&quot;no number&quot;</span>)</span><br><span class="line">		*err = errors.New(<span class="string">&quot;channel has no data&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-åº”ç”¨2ï¼šå®ç°ç±»ä¼¼sync-WaitGroupçš„åŒæ­¥"><a href="#3-åº”ç”¨2ï¼šå®ç°ç±»ä¼¼sync-WaitGroupçš„åŒæ­¥" class="headerlink" title="3.åº”ç”¨2ï¼šå®ç°ç±»ä¼¼sync.WaitGroupçš„åŒæ­¥"></a>3.åº”ç”¨2ï¼šå®ç°ç±»ä¼¼sync.WaitGroupçš„åŒæ­¥</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//ç”¨sleepå®ç°å®šæ—¶å™¨</span></span><br><span class="line">	fmt.Println(time.Now())</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	fmt.Println(time.Now())</span><br><span class="line">	<span class="comment">//ç”¨timerå®ç°å®šæ—¶å™¨</span></span><br><span class="line">	timer := time.NewTimer(time.Second)</span><br><span class="line">	fmt.Println(&lt;-timer.C)</span><br><span class="line">	<span class="comment">//ç”¨afterå®ç°å®šæ—¶å™¨</span></span><br><span class="line">	fmt.Println(&lt;-time.After(time.Second))</span><br><span class="line">	<span class="comment">//å‘¨æœŸå®šæ—¶</span></span><br><span class="line">	tiker := time.NewTicker(time.Second)</span><br><span class="line">	<span class="keyword">for</span> i :=<span class="number">1</span>; i&lt;<span class="number">4</span>; i++&#123;</span><br><span class="line">			fmt.Println(&lt;-tiker.C)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;------------------&quot;</span>)</span><br><span class="line">	<span class="comment">//å®šæ—¶å®Œæˆçš„æ“ä½œå†™åœ¨åç¨‹é‡Œ</span></span><br><span class="line">	ticker := time.NewTicker(time.Second * <span class="number">3</span>)</span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)  <span class="comment">//è¯¥channelå®ŒæˆåŒæ­¥ï¼Œå®ç°ä¸‹é¢çš„åç¨‹æ‰§è¡Œå®Œä¸»çº¿ç¨‹æ‰ç»“æŸ</span></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">var</span> x <span class="keyword">int</span></span><br><span class="line">		<span class="keyword">for</span> x &lt; <span class="number">10</span> &#123;</span><br><span class="line">			<span class="keyword">select</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> &lt;-ticker.C:</span><br><span class="line">				x++</span><br><span class="line">				fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, x)</span><br><span class="line">				fmt.Println(time.Now())</span><br><span class="line">				time.Sleep(time.Second * <span class="number">1</span>)  <span class="comment">//caseé‡Œçš„æ“ä½œä¸è¦è¶…è¿‡å®šæ—¶æ—¶é—´ï¼Œä¸ç„¶ä¼šä¸ç¬¦åˆé¢„æœŸ</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		ticker.Stop()</span><br><span class="line">		ch &lt;- <span class="number">0</span></span><br><span class="line">	&#125;()</span><br><span class="line">	&lt;-ch</span><br><span class="line">&#125;   </span><br><span class="line"><span class="comment">//è¿™é‡Œçš„channel å®ç°äº†ä¸€ä¸ª sync.WaitGroupçš„æ•ˆæœï¼Œä¸»è¿›ç¨‹ç›´æ¥åˆ°&lt;-chï¼Œæ— æ‹¥å¡channelï¼Œé‡Œé¢æ²¡ä¸œè¥¿ï¼Œç›´æ¥æ‹¿æ˜¯ä¼šé˜»å¡çš„ï¼Œç›´åˆ°é‡Œé¢æœ‰ä¸œè¥¿</span></span><br><span class="line"><span class="comment">//ä¹Ÿå°±æ˜¯ä¸Šé¢åç¨‹é‡Œçš„10æ¬¡å®šæ—¶éƒ½ç»“æŸï¼Œå¾€channelå†™ä¸€ä¸ªä¸œè¥¿ï¼Œå°±ç»ˆæ­¢é˜»å¡ï¼Œä½¿ç¨‹åºç»“æŸ</span></span><br><span class="line"><span class="comment">// ch := make(chan int)  å’Œ   ch := make(chan intï¼Œ 1) ç†è§£ï¼š</span></span><br><span class="line"><span class="comment">// æœ‰1çš„ç¼“å†²channelï¼Œä¸€ä¸ªåç¨‹å†™å…¥æ‹¿åˆ°è¿™ä¸ªæ•°ï¼Œå…¶ä»–å†æ‹¿éƒ½æ‹¿ä¸åˆ°ï¼Œé…åˆselectï¼Œæ‹¿ä¸åˆ°å°±èµ°ï¼Œé‚£ä¸ªåç¨‹æ‰§è¡Œå®Œæ“ä½œä¹‹åï¼Œå†å¾€é‡Œå†™ä¸ªæ•°ï¼Œå…¶ä»–åç¨‹å°±å¯ä»¥æ‹¿äº†ã€‚</span></span><br><span class="line"><span class="comment">//å…¶å®ä¸ç®¡æ˜¯æœ‰ç¼“å†²è¿˜æ˜¯æ— ç¼“å†²ï¼Œå•çº¯ç”¨éƒ½ä¼šé˜»å¡ï¼Œæ— éæ˜¯æœ‰ä¸€ä¸ªbuffer</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯ï¼ŒåŠ ä¸Šselectï¼Œéƒ½å¯ä»¥å®ç°ä¸æ‹¥å¡ï¼Œç›´æ¥è¿‡ã€‚</span></span><br></pre></td></tr></table></figure>

<h3 id="4-åº”ç”¨3ï¼šæ­é…selectå®ç°é”æ•ˆæœ"><a href="#4-åº”ç”¨3ï¼šæ­é…selectå®ç°é”æ•ˆæœ" class="headerlink" title="4.åº”ç”¨3ï¼šæ­é…selectå®ç°é”æ•ˆæœ"></a>4.åº”ç”¨3ï¼šæ­é…selectå®ç°é”æ•ˆæœ</h3><p>mutexå®ç°çš„é”ï¼šæ‹¥å¡çš„ï¼Œä¸€ä¸ªè·é”ï¼Œå…¶ä»–éœ€è¦ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°ä¸Šä¸€ä¸ªæ“ä½œé‡Šæ”¾ï¼Œå†æ‰§è¡Œæ“ä½œ</p>
<p>channelå®ç°çš„é”ï¼šå¯ä»¥é€‰æ‹©æ‹¥å¡ä¸æ‹¥å¡ï¼Œå¾—ä¸åˆ°å¯ä»¥ç›´æ¥æ”¾å¼ƒï¼Œä¹Ÿå¯ä»¥ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰§è¡Œå…¶ä»–æ“ä½œã€‚</p>
<p>æ­é…select å®ç°çš„æ˜¯ioæ“ä½œã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="comment">//å®ç°åˆå§‹åŒ–ä¸€å°å®ä¾‹çš„é”ï¼Œä¸åŒappidéƒ½å¯ä»¥æ›´æ–°map</span></span><br><span class="line"><span class="comment">//å®ç°channleçš„æ‹¥å¡é”</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;errors&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">	ch &lt;- <span class="number">1</span></span><br><span class="line">	wg := sync.WaitGroup&#123;&#125;</span><br><span class="line">	<span class="keyword">var</span> err error</span><br><span class="line">	wg.Add(<span class="number">10</span>)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++&#123;</span><br><span class="line">		<span class="keyword">go</span> get_blockf(&amp;ch, &amp;wg, &amp;err)  <span class="comment">//ä¸€ç›´æ‹¥å¡</span></span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	wg.Add(<span class="number">10</span>)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++&#123;</span><br><span class="line">		<span class="keyword">go</span> get_block(&amp;ch, &amp;wg, &amp;err)  <span class="comment">//æ‹¥å¡2s</span></span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	wg.Add(<span class="number">10</span>)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++&#123;</span><br><span class="line">		<span class="keyword">go</span> get_noblock(&amp;ch, &amp;wg, &amp;err)  <span class="comment">//æ— æ‹¥å¡</span></span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get_blockf</span><span class="params">(ch *<span class="keyword">chan</span> <span class="keyword">int</span>, wg *sync.WaitGroup, err *error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> x := &lt;- *ch:   <span class="comment">//å¦‚æœå¯ä»¥è¯»å‡ºï¼Œå°±è¯»</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;Block get number: %d, channel size: %d\n&quot;</span>, x, <span class="built_in">len</span>(*ch))</span><br><span class="line">		time.Sleep(time.Second*<span class="number">1</span>)</span><br><span class="line">		*ch &lt;-x+<span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get_block</span><span class="params">(ch *<span class="keyword">chan</span> <span class="keyword">int</span>, wg *sync.WaitGroup, err *error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> x := &lt;- *ch:   <span class="comment">//å¦‚æœå¯ä»¥è¯»å‡ºï¼Œå°±è¯»</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;Block 2s get number: %d, channel size: %d\n&quot;</span>, x, <span class="built_in">len</span>(*ch))</span><br><span class="line">		time.Sleep(time.Second*<span class="number">1</span>)</span><br><span class="line">		*ch &lt;-x+<span class="number">1</span></span><br><span class="line">	<span class="keyword">case</span> &lt;- time.After(time.Second *<span class="number">20</span>):  <span class="comment">//ç­‰å¾…è¿‡ç¨‹ä¸­ä¸€ç›´å°è¯•ï¼Œå°è¯•æˆåŠŸå³ä»chå–æ•°ï¼Œè¶…æ—¶è¿˜å–ä¸åˆ°æ‰§è¡Œä¸‹é¢æ“ä½œ</span></span><br><span class="line">		fmt.Println(<span class="string">&quot;no number&quot;</span>)</span><br><span class="line">		*err = errors.New(<span class="string">&quot;channel has no data&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">get_noblock</span><span class="params">(ch *<span class="keyword">chan</span> <span class="keyword">int</span>, wg *sync.WaitGroup, err *error)</span></span>&#123;</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> x := &lt;- *ch:   <span class="comment">//å¦‚æœå¯ä»¥è¯»å‡ºï¼Œå°±è¯»</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;Block 2s get number: %d, channel size: %d\n&quot;</span>, x, <span class="built_in">len</span>(*ch))</span><br><span class="line">		time.Sleep(time.Second*<span class="number">1</span>)</span><br><span class="line">		*ch &lt;-x+<span class="number">1</span></span><br><span class="line">	<span class="keyword">default</span>:       <span class="comment">//ç­‰å¾…è¿‡ç¨‹ä¸­ä¸€ç›´å°è¯•ï¼Œå°è¯•æˆåŠŸå³ä»chå–æ•°ï¼Œè¶…æ—¶è¿˜å–ä¸åˆ°æ‰§è¡Œä¸‹é¢æ“ä½œ</span></span><br><span class="line">		fmt.Println(<span class="string">&quot;no number&quot;</span>)</span><br><span class="line">		*err = errors.New(<span class="string">&quot;channel has no data&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>go-httpè¯·æ±‚</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-http%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<p>å†…å®¹ä¸¢å¤±</p>
]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>go-mutexé”</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-mutex%E9%94%81/</url>
    <content><![CDATA[<h3 id="Goè¯­è¨€é‡Œçš„Mutexå’ŒRwMutex"><a href="#Goè¯­è¨€é‡Œçš„Mutexå’ŒRwMutex" class="headerlink" title="Goè¯­è¨€é‡Œçš„Mutexå’ŒRwMutex"></a>Goè¯­è¨€é‡Œçš„Mutexå’ŒRwMutex</h3><p>å…±äº«é”(Sé”)åˆç§°è¯»é”ï¼Œè‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠSé”ï¼Œåˆ™äº‹åŠ¡Tå¯ä»¥è¯»Aä½†ä¸èƒ½ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹AåŠ Sé”ï¼Œè€Œä¸èƒ½åŠ Xé”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„S é”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»Aï¼Œä½†åœ¨Té‡Šæ”¾Aä¸Šçš„Sé”ä¹‹å‰ä¸èƒ½å¯¹Aåšä»»ä½•ä¿®æ”¹ã€‚ï¼ˆå¤šè¯»/å•å†™ï¼‰</p>
<p>æ’ä»–é”(Xé”)åˆç§°å†™é”ã€‚è‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠXé”ï¼Œäº‹åŠ¡Tå¯ä»¥è¯»Aä¹Ÿå¯ä»¥ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹AåŠ ä»»ä½•é”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„é”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡åœ¨Té‡Šæ”¾Aä¸Šçš„é”ä¹‹å‰ä¸èƒ½å†è¯»å–å’Œä¿®æ”¹Aã€‚ï¼ˆå•è¯»/å•å†™ï¼‰</p>
<p>goé‡Œçš„mutexï¼ˆæ™®é€šé”ï¼‰ï¼šå…¨å±€äº’æ–¥é”ç‰¹æ€§(ä¸æ”¯æŒåŒæ—¶è¯»)â€”-è¯»å†™æ“ä½œä¸€æ ·å¾…é‡ ï¼ˆç±»ä¼¼äºï¼šåªèƒ½åŠ Xé”ï¼Œè¯»å†™éƒ½æ˜¯Xé”ï¼‰<br>sync.RWMutexï¼šè¯»å†™é”ï¼Œæ”¯æŒå•å†™å¤šè¯»ç‰¹æ€§ã€‚â€”-è¯»å†™æ“ä½œä¸åŒå¾…é‡  ï¼ˆç±»ä¼¼äºï¼šåˆ†ä¸¤ç§Lockæ’ä»–é”ï¼ŒRLockå…±äº«é”ï¼‰</p>
<p>æ„æ€æ˜¯ï¼šRWMutexæ˜¯å®Œå…¨å¯ä»¥å®ç°mutexçš„åŠŸèƒ½çš„ï¼Œè€ŒRWMtexå¯ä»¥å®ç°åŒæ—¶è¯»ã€‚</p>
<ul>
<li>func (m *Mutex) Lock()<br>Lockâ½…æ³•é”ä½mï¼Œå¦‚æœmå·²ç»åŠ é”ï¼Œåˆ™é˜»å¡ç›´åˆ°mè§£é”ã€‚</li>
<li>func (m *Mutex) Unlock()<br>Unlockâ½…æ³•è§£é”mï¼Œå¦‚æœmæœªåŠ é”ä¼šå¯¼è‡´è¿â¾æ—¶é”™è¯¯ã€‚é”å’Œçº¿ç¨‹æ— å…³ï¼Œå¯ä»¥ç”±ä¸åŒçš„çº¿ç¨‹åŠ é”å’Œè§£é”ã€‚</li>
</ul>
<p>1.mutexæ— æ³•å®ç°åˆ†å¸ƒå¼ï¼Œå¤šä¸ªè¯·æ±‚æ€ä¹ˆå…±äº«ä¸€ä¸ªå…¬å…±å˜é‡ï¼Ÿ</p>
<p>2.é™¤éåˆ†å¸ƒå¼è¯·æ±‚ï¼Œå…±äº« sync.RWMutex å˜é‡</p>
<h3 id="Mutexä½¿ç”¨"><a href="#Mutexä½¿ç”¨" class="headerlink" title="Mutexä½¿ç”¨"></a>Mutexä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;sync&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// å…±äº«å˜é‡</span><br><span class="line">var (</span><br><span class="line">	m  sync.Mutex</span><br><span class="line">	v1 int</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// ä¿®æ”¹å…±äº«å˜é‡</span><br><span class="line">// åœ¨Lock()å’ŒUnlock()ä¹‹é—´çš„ä»£ç éƒ¨åˆ†æ˜¯ä¸´ç•ŒåŒº</span><br><span class="line">func change(i int, m *sync.Mutex) &#123;</span><br><span class="line">	m.Lock()</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	v1 = v1 + 1</span><br><span class="line">	fmt.Printf(&quot;Write %dth time, v1:%d.\n&quot;, i, v1)</span><br><span class="line">	m.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func read(i int, m *sync.Mutex) &#123;</span><br><span class="line">	m.Lock()</span><br><span class="line">	fmt.Printf(&quot;Read %dth time, v1:%d.\n&quot;, i, v1)</span><br><span class="line">	m.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var numGR = 10</span><br><span class="line">	var wg sync.WaitGroup</span><br><span class="line">	for i := 0; i &lt; numGR; i++ &#123;</span><br><span class="line">		wg.Add(1)</span><br><span class="line">		go func(i int) &#123;</span><br><span class="line">			defer wg.Done()</span><br><span class="line">			change(i, &amp;m)</span><br><span class="line">			read(i, &amp;m)     //è¯»å’Œå†™éƒ½ä¸ä¼šåŒæ—¶è¿›è¡Œ</span><br><span class="line">		&#125;(i)</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="RWMutexä½¿ç”¨"><a href="#RWMutexä½¿ç”¨" class="headerlink" title="RWMutexä½¿ç”¨"></a>RWMutexä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">	&quot;sync&quot;</span><br><span class="line">	&quot;time&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// å…±äº«å˜é‡</span><br><span class="line">var (</span><br><span class="line">	m  sync.RWMutex</span><br><span class="line">	v1 int</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// ä¿®æ”¹å…±äº«å˜é‡</span><br><span class="line">// åœ¨Lock()å’ŒUnlock()ä¹‹é—´çš„ä»£ç éƒ¨åˆ†æ˜¯ä¸´ç•ŒåŒº</span><br><span class="line">func change(i int, m *sync.RWMutex) &#123;</span><br><span class="line">	m.Lock()</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	v1 = v1 + 1</span><br><span class="line">	fmt.Printf(&quot;Write %dth time, v1:%d.\n&quot;, i, v1)</span><br><span class="line">	m.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func read(i int, m *sync.RWMutex) &#123;</span><br><span class="line">	m.RLock()</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	v1 = v1 + 1</span><br><span class="line">	fmt.Printf(&quot;Read %dth time, v1:%d.\n&quot;, i, v1)</span><br><span class="line">	m.RUnlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	var numGR = 10000</span><br><span class="line">	var wg sync.WaitGroup</span><br><span class="line">	for i := 0; i &lt; numGR; i++ &#123;</span><br><span class="line">		wg.Add(1)</span><br><span class="line">		go func(i int) &#123;</span><br><span class="line">			defer wg.Done()</span><br><span class="line">		//	change(i, &amp;m)</span><br><span class="line">			read(i, &amp;m)</span><br><span class="line">		&#125;(i)</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼šå¹¶å‘é‡ä¸é«˜çš„æƒ…å†µä¸‹ï¼Œå¦‚100ï¼Œå‘ç°ç”¨å…±äº«é”è·å¾—çš„æ•°æ®æ˜¯å®Œå…¨æ²¡é‡å¤çš„ï¼Œåƒæ˜¯äº’æ–¥é”çš„æ•ˆæœã€‚ä½†æ˜¯åªæ˜¯å¹¶å‘é‡ä¸é«˜ï¼Œ10000å¹¶å‘é‡ï¼Œå…±äº«é”çš„æ•ˆæœå°±æç°å‡ºæ¥äº†ã€‚çŒœæµ‹ï¼šforå¾ªç¯é—´éš”æ—¶é—´å¤§äºè‡ªå¢æ—¶é—´äº†ï¼Ÿï¼Ÿç›²çŒœ</p>
]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ŠJavaåŸºç¡€å…¥é—¨ã€‹IO</title>
    <url>/2021/11/25/myblog/JAVA/%E3%80%8Ajava%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E3%80%8B%E4%B9%8BIO%E6%B5%81/</url>
    <content><![CDATA[<h2 id="I-Oæµæ¦‚è¿°"><a href="#I-Oæµæ¦‚è¿°" class="headerlink" title="I/Oæµæ¦‚è¿°"></a>I/Oæµæ¦‚è¿°</h2><p>javaä¸­å°†ä¸åŒè¾“å…¥è¾“å‡ºè®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“æŠ½è±¡è¡¨è¿°ä¸ºâ€œæµâ€ã€‚</p>
<p>åˆ†ç±»1ï¼šæ ¹æ®æ“ä½œçš„æ•°æ®å•ä½ä¸åŒï¼Œåˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµã€‚</p>
<p>åˆ†ç±»2ï¼šæ ¹æ®ä¼ è¾“æ–¹å‘ï¼Œåˆ†ä¸ºè¾“å…¥æµå’Œè¾“å‡ºæµã€‚è¾“å…¥æµåªèƒ½ä»æµä¸­è¯»å–æ•°æ®ï¼Œè€Œä¸èƒ½å†™å…¥æ•°æ®ï¼›è¾“å‡ºæµåªèƒ½å‘æµä¸­å†™å…¥æ•°æ®ï¼Œè€Œä¸èƒ½ä»ä¸­è¯»å–æ•°æ®ã€‚</p>
<p>åˆ†ç±»3ï¼šæ ¹æ®æµçš„åŠŸèƒ½ä¸åŒï¼Œåˆ†ä¸ºèŠ‚ç‚¹æµå’Œå¤„ç†æµã€‚èŠ‚ç‚¹æµè¢«ç§°ä¸ºä½çº§æµï¼ŒæŒ‡å¯ä»¥ä»ä¸€ä¸ªç‰¹å®šçš„I/Oè®¾å¤‡è¯»å†™æ•°æ®çš„æµï¼Œå®ƒåªèƒ½ç›´æ¥è¿æ¥æ•°æ®æºï¼Œè¿›è¡Œæ•°æ®çš„è¯»å†™æ“ä½œã€‚å¤„ç†æµä¹Ÿè¢«ç§°ä¸ºé«˜çº§æµï¼Œç”¨äºå¯¹ä¸€ä¸ªå·²å­˜åœ¨çš„èŠ‚ç‚¹æµè¿›è¡Œè¿æ¥å’Œå°è£…ï¼Œé€šè¿‡å°è£…åçš„æµæ¥å®ç°æµçš„è¯»å†™èƒ½åŠ›ã€‚å½“ä½¿ç”¨å¤„ç†æµæ—¶ï¼Œç¨‹åºä¸ä¼šç›´æ¥è¿æ¥åˆ°å®é™…çš„æ•°æ®æºï¼Œè€Œæ˜¯è¿æ¥åœ¨å·²å­˜åœ¨çš„æµä¹‹ä¸Šã€‚</p>
<p>javaä¸­çš„I/Oæµä¸»è¦å®šä¹‰åœ¨java.ioåŒ…ä¸­ï¼Œè¯¥åŒ…æœ‰å››ä¸ªé¡¶çº§ç±»ï¼Œéƒ½æ˜¯æŠ½è±¡ç±»ï¼Œæ˜¯æ‰€æœ‰æµç±»å‹çš„çˆ¶ç±»ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/f17ecff43e2a4f498e1b845d0fe6c7f7.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<h2 id="å­—èŠ‚æµ"><a href="#å­—èŠ‚æµ" class="headerlink" title="å­—èŠ‚æµ"></a>å­—èŠ‚æµ</h2><p>è®¡ç®—æœºä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯äºŒè¿›åˆ¶ï¼ˆå­—èŠ‚ï¼‰å½¢å¼å­˜åœ¨çš„ã€‚JDKæä¾›äº†<code>InputStream</code>å’Œ<code>OutputStream</code>ã€‚å­—èŠ‚è¾“å…¥æµï¼šä»æºè®¾å¤‡ç»æµä¸­èµ°å‘ç¨‹åºã€‚å­—èŠ‚è¾“å‡ºæµï¼šä»ç¨‹åºè¾“å‡ºç»æµä¸­èµ°å‘ç›®æ ‡ã€‚è¾“å…¥è¾“å‡ºæ˜¯ç›¸å¯¹ç¨‹åºè€Œè¨€çš„ï¼Œè¾“å…¥åˆ°è¾“å‡ºåˆ°çš„æ„æ€ã€‚</p>
<h3 id="æ–‡ä»¶çš„è¯»å†™"><a href="#æ–‡ä»¶çš„è¯»å†™" class="headerlink" title="æ–‡ä»¶çš„è¯»å†™"></a>æ–‡ä»¶çš„è¯»å†™</h3><p>é’ˆå¯¹æ–‡ä»¶çš„è¯»å†™ï¼Œæœ‰ä¸¤ä¸ªç±»ï¼š<code>FileInputStream</code>å’Œ<code>FileOutputStream</code>ã€‚</p>
<p><code>FileInputStream</code>æ˜¯<code>InputStream</code>çš„å­ç±»ï¼Œç”±äºä»æ–‡ä»¶è¯»å–æ•°æ®æ˜¯é‡å¤çš„æ“ä½œï¼Œå› æ­¤éœ€è¦é€šè¿‡å¾ªç¯è¯­å¥æ¥å®ç°æ•°æ®çš„æŒç»­è¯»å–ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å…¥æµæ¥è¯»å–æ–‡ä»¶</span></span><br><span class="line">		FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line">		<span class="comment">//å®šä¹‰intå˜é‡</span></span><br><span class="line">		<span class="keyword">int</span> b=<span class="number">0</span>; </span><br><span class="line">		<span class="comment">//é€šè¿‡å¾ªç¯è¯»å–æ–‡ä»¶ï¼Œå½“è¿”å›å€¼ä¸º-1ç»“æŸå¾ªç¯</span></span><br><span class="line">		<span class="keyword">while</span>((b=in.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//å…³é—­æµ</span></span><br><span class="line">		in.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚å†…å®¹ä¸ºhelloï¼Œå­—ç¬¦å ä¸€ä¸ªå­—èŠ‚ï¼Œå› æ­¤æ˜¾ç¤ºçš„æ˜¯è¿™äº”ä¸ªå­—èŠ‚æ‰€å¯¹åº”çš„ASCIIç å€¼ã€‚</p>
<p><code>FileOutputStream</code>è´Ÿè´£å°†æ•°æ®å†™å…¥æ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµæ¥å†™æ–‡ä»¶</span></span><br><span class="line">		FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;out.txt&quot;</span>);</span><br><span class="line">		<span class="comment">//å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">		String str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">		<span class="comment">//å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„è¿›è¡Œå†™å…¥æ“ä½œ</span></span><br><span class="line">		out.write(str.getBytes());</span><br><span class="line">		<span class="comment">//å…³é—­æµ</span></span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™ä¼šé¦–å…ˆå°†æ–‡ä»¶ä¸­å†…å®¹æ“¦ç©ºï¼Œå†å†™å…¥ã€‚</p>
<p>è‹¥æƒ³è¿½åŠ å†…å®¹ï¼š<code>FileOutputStream out = new FileOutputStream(&quot;out.txt&quot;, true);</code></p>
<p>I/Oæµåœ¨è¿›è¡Œæ•°æ®è¯»å†™æ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸Šè¿°ä»£ç ä½¿ç”¨throwså°†å¼‚å¸¸æŠ›å‡ºã€‚ä½†æ˜¯ä¸€æ—¦é‡åˆ°I/Oå¼‚å¸¸ï¼Œcloseæ–¹æ³•æ— æ³•æ‰§è¡Œï¼Œæµå¯¹è±¡æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æºå°†ä¸èƒ½é‡Šæ”¾ã€‚å› æ­¤é€šå¸¸å°†å…³é—­æµçš„æ“ä½œå†™åœ¨finallyä»£ç å—ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(in!=<span class="keyword">null</span>)  in.close();</span><br><span class="line">	&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(out!=<span class="keyword">null</span>)  out.close();</span><br><span class="line">	&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶çš„æ‹·è´"><a href="#æ–‡ä»¶çš„æ‹·è´" class="headerlink" title="æ–‡ä»¶çš„æ‹·è´"></a>æ–‡ä»¶çš„æ‹·è´</h3><p>é€šè¿‡è¾“å…¥æµæ¥è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå¹¶é€šè¿‡è¾“å‡ºæµå°†æ•°æ®å†™å…¥æ–°æ–‡ä»¶ã€‚</p>
<p>å®šä¹‰ä¸€æ¬¡è¾“å‡ºæµåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå®šä¹‰ä¹‹åå¤šæ¬¡å†™å…¥ï¼Œéƒ½æ˜¯è¿½åŠ çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;source/src.jpg&quot;</span>)</span><br><span class="line">		FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;target/src.jpg&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">long</span> beginTime = System.currentTimeMillis();</span><br><span class="line">		<span class="keyword">while</span>((b=in.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			out.write(b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">&quot;èŠ±è´¹æ—¶é—´ä¸ºï¼š&quot;</span>+(endTime-beginTime)+<span class="string">&quot;æ¯«ç§’&quot;</span>);</span><br><span class="line">		<span class="comment">//å…³é—­æµ</span></span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­—èŠ‚æµçš„ç¼“å†²åŒº"><a href="#å­—èŠ‚æµçš„ç¼“å†²åŒº" class="headerlink" title="å­—èŠ‚æµçš„ç¼“å†²åŒº"></a>å­—èŠ‚æµçš„ç¼“å†²åŒº</h3><p>ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚åœ°æ‹·è´ï¼Œéœ€è¦é¢‘ç¹æ“ä½œæ–‡ä»¶ï¼Œå› æ­¤æ„å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ä½œä¸ºä¸´æ—¶ç¼“å†²åŒºã€‚å¯ä»¥ä¸€æ¬¡æ€§è¯»å†™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;source/src.jpg&quot;</span>);</span><br><span class="line">		FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;target/src.jpg&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">long</span> beginTime = System.currentTimeMillis();</span><br><span class="line">		<span class="keyword">while</span>((len=in.read(buffer))!=-<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="comment">//é€šè¿‡å˜é‡lenè®°ä½è¯»å…¥æ•°ç»„çš„å­—èŠ‚æ•°ï¼Œlenè¡¨ç¤ºè¯»å–å­—èŠ‚çš„æ•°ç›®</span></span><br><span class="line">			out.write(buffer, <span class="number">0</span>, len); <span class="comment">//ä»bufferçš„0ä½ç½®å¼€å§‹å†™å…¥lenä¸ªå­—èŠ‚</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">&quot;èŠ±è´¹æ—¶é—´ä¸ºï¼š&quot;</span>+(endTime-beginTime)+<span class="string">&quot;æ¯«ç§’&quot;</span>);</span><br><span class="line">		<span class="comment">//å…³é—­æµ</span></span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>readæ–¹æ³•å†…æ— ä¸œè¥¿æ—¶ï¼Œè¡¨ç¤ºä»è¾“å…¥æµè¯»å–ä¸€ä¸ª8ä½çš„å­—èŠ‚ï¼ŒæŠŠå®ƒè½¬æ¢ä¸º0-255çš„æ•´æ•°ï¼Œå¹¶è¿”å›è¿™ä¸ªæ•´æ•°ï¼Œå½“æ²¡æœ‰å¯ç”¨å­—èŠ‚æ—¶ï¼Œå°†è¿”å›-1ã€‚</p>
<p>readæ–¹æ³•å†…æ˜¯byteæ•°ç»„æ—¶ï¼Œè¡¨ç¤ºè¯»å–è‹¥å¹²å­—èŠ‚ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æŒ‡å®šçš„å­—èŠ‚æ•°ç»„ä¸­ï¼Œè¿”å›æ•´æ•°è¡¨ç¤ºè¯»å–çš„å­—èŠ‚çš„æ•°ç›®ã€‚</p>
<p>writeæ–¹æ³•å†…ï¼Œä¸€ä¸ªintè¡¨ç¤ºå†™å…¥ä¸€ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªå­—èŠ‚æ•°ç»„è¡¨ç¤ºå†™å…¥å­—èŠ‚æ•°ç»„ä¸­çš„æ‰€æœ‰å­—èŠ‚ï¼Œä¹Ÿå¯ä»¥å†™å…¥æŒ‡å®šæ•°ç›®å­—èŠ‚ã€‚</p>
<p>è¾“å‡ºæµçš„flush()æ–¹æ³•è¡¨ç¤ºå°†è¾“å‡ºç¼“å†²åŒºï¼ˆé€šå¸¸æ˜¯å­—èŠ‚æ•°ç»„ï¼‰ä¸­çš„æ•°æ®å¼ºåˆ¶å†™å…¥ç›®æ ‡è®¾å¤‡ï¼Œæ­¤è¿‡ç¨‹ç§°ä¸ºåˆ·æ–°ã€‚</p>
</blockquote>
<h3 id="å­—èŠ‚ç¼“å†²æµ"><a href="#å­—èŠ‚ç¼“å†²æµ" class="headerlink" title="å­—èŠ‚ç¼“å†²æµ"></a>å­—èŠ‚ç¼“å†²æµ</h3><p>I/OåŒ…ä¸­æä¾›äº†ä¸¤ä¸ªå¸¦ç¼“å†²çš„å­—èŠ‚æµï¼Œåˆ†åˆ«ä¸º<code>BufferedInputStream</code>å’Œ<code>BufferedOutputStream</code>ï¼Œå®ƒä»¬çš„æ„é€ æ–¹æ³•ä¸­åˆ†åˆ«æ¥æ”¶<code>InputStream</code>å’Œ<code>OutputStream</code>ç±»å‹çš„å‚æ•°ä½œä¸ºå¯¹è±¡ã€‚å†è¯»å†™æ•°æ®æ—¶æä¾›ç¼“å†²åŠŸèƒ½ã€‚</p>
<p>å…¶å®å°±åƒæ˜¯ä¸Šä¸€èŠ‚çš„ç³»ç»Ÿå®ç°ã€‚</p>
<p>å…³ç³»ï¼šæºè®¾å¤‡â€”å­—èŠ‚æµâ€”å­—èŠ‚ç¼“å†²æµâ€”åº”ç”¨ç¨‹åºâ€”å­—èŠ‚ç¼“å†²æµâ€”å­—èŠ‚æµâ€”ç›®æ ‡è®¾å¤‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		BufferedInputStream in = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;source/src.jpg&quot;</span>));</span><br><span class="line">		BufferedOutputStream out = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;target/src.jpg&quot;</span>));</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">long</span> beginTime = System.currentTimeMillis();</span><br><span class="line">		<span class="keyword">while</span>((len=in.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			out.write(len)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">long</span> endTime = System.currentTimeMillis();</span><br><span class="line">		System.out.println(<span class="string">&quot;èŠ±è´¹æ—¶é—´ä¸ºï¼š&quot;</span>+(endTime-beginTime)+<span class="string">&quot;æ¯«ç§’&quot;</span>);</span><br><span class="line">		<span class="comment">//å…³é—­æµ</span></span><br><span class="line">		in.close();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼“å†²æµå¯¹è±¡å†…éƒ¨éƒ½å®šä¹‰äº†ä¸€ä¸ªå¤§å°ä¸º8192çš„å­—èŠ‚æ•°ç»„ã€‚è¯»å†™éƒ½æ˜¯åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­ï¼Œå……å½“ç¼“å†²ã€‚</p>
<h2 id="å­—ç¬¦æµ"><a href="#å­—ç¬¦æµ" class="headerlink" title="å­—ç¬¦æµ"></a>å­—ç¬¦æµ</h2><p>Readeræ˜¯å­—ç¬¦è¾“å…¥æµï¼Œç”¨äºä»æŸä¸ªæºè®¾å¤‡è¯»å–å­—ç¬¦ã€‚Writeræ˜¯å­—ç¬¦è¾“å‡ºæµã€‚ç”¨äºå‘æŸä¸ªç›®æ ‡è®¾å¤‡å†™å…¥å­—ç¬¦ã€‚</p>
<p>è¾“å…¥è¾“å‡ºæ˜¯ç›¸å¯¹ç¨‹åºè€Œè¨€çš„ï¼Œè¾“å…¥åˆ°è¾“å‡ºåˆ°çš„æ„æ€ã€‚è¯»å’Œå†™æ˜¯è¯»åˆ°ç¨‹åºå’Œä»ç¨‹åºä¸­å†™å‡ºçš„æ„æ€ã€‚</p>
<h3 id="å­—ç¬¦æµæ“ä½œæ–‡ä»¶"><a href="#å­—ç¬¦æµæ“ä½œæ–‡ä»¶" class="headerlink" title="å­—ç¬¦æµæ“ä½œæ–‡ä»¶"></a>å­—ç¬¦æµæ“ä½œæ–‡ä»¶</h3><p>ä»æ–‡ä»¶è¯»å–å­—ç¬¦ç”¨å­—ç¬¦è¾“å…¥æµFileReaderã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		FileReader fileReader = <span class="keyword">new</span> FileReader(<span class="string">&quot;reader.txt&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>((b=fileReader.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)b)</span><br><span class="line">		&#125;</span><br><span class="line">		fileReader.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>readè¿”å›çš„æ˜¯intç±»å‹ï¼Œå› æ­¤è¦è·å¾—å­—ç¬¦éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
<p>å‘æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦ç”¨FileWriterç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		FileWriter fileWriter = <span class="keyword">new</span> FileWriter(<span class="string">&quot;writer.txt&quot;</span>);</span><br><span class="line">		fileWriter.write(<span class="string">&quot;ä½ å¥½,\r\n&quot;</span>);</span><br><span class="line">		fileWriter.write(<span class="string">&quot;ä¸–ç•Œã€‚\r\n&quot;</span>);</span><br><span class="line">		fileWriterr.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™å…¥æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨åˆ™å…ˆæ¸…ç©ºï¼Œé¡¹è¿½åŠ çš„è¯ï¼Œåˆ™æ„é€ æ—¶åé¢åŠ trueã€‚</p>
<p>ä¸å­—èŠ‚æµç±»ä¼¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åŠ å­—ç¬¦æµç¼“å†²åŒº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span>[] buff=<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">while</span>((len=fileReader.read(buff))!=-<span class="number">1</span>)&#123;</span><br><span class="line">	fileWriter.write(buff, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ç¼“å†²æµ"><a href="#å­—ç¬¦ç¼“å†²æµ" class="headerlink" title="å­—ç¬¦ç¼“å†²æµ"></a>å­—ç¬¦ç¼“å†²æµ</h3><p>å­—ç¬¦æµä¹Ÿæä¾›äº†å¸¦ç¼“å†²åŒºçš„å­—ç¬¦ç¼“å†²æµï¼Œ<code>BufferedReader</code>å’Œ<code>BufferedWriter</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">	    <span class="comment">//åˆ›å»ºå­—ç¬¦è¾“å…¥ç¼“å†²æµå¯¹è±¡</span></span><br><span class="line">	    BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">&quot;read.txt&quot;</span>));</span><br><span class="line">	    <span class="comment">//åˆ›å»ºå­—ç¬¦è¾“å‡ºç¼“å†²æµå¯¹è±¡</span></span><br><span class="line">	    BufferedWriter out = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">&quot;write.txt&quot;</span>));</span><br><span class="line">	    String str = <span class="keyword">null</span>;</span><br><span class="line">	    <span class="keyword">while</span>((str=in.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">	    	out.write(str);</span><br><span class="line">	    	out.newLine();</span><br><span class="line">	    &#125;</span><br><span class="line">	    in.close();</span><br><span class="line">	    out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>BufferedReader</code>çš„readLine()æ–¹æ³•ï¼Œç”¨äºä¸€æ¬¡è¯»å–ä¸€è¡Œæ–‡æœ¬ã€‚</p>
<h2 id="è½¬æ¢æµ"><a href="#è½¬æ¢æµ" class="headerlink" title="è½¬æ¢æµ"></a>è½¬æ¢æµ</h2><p>JDKä¸­æä¾›äº†ä¸¤ä¸ªç±»å®ç°å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµã€‚</p>
<p>å­—èŠ‚è¾“å…¥æµè½¬å˜ä¸ºå­—ç¬¦è¾“å…¥æµï¼š<code>InputStreamReader</code></p>
<p>å­—èŠ‚è¾“å‡ºæµè½¬å˜ä¸ºå­—ç¬¦è¾“å‡ºæµï¼š<code>OutputStreamWriter</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå­—èŠ‚è¾“å…¥æµï¼Œè·å–æºæ–‡ä»¶</span></span><br><span class="line">FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;read.txt&quot;</span>);</span><br><span class="line"><span class="comment">//å°†å­—èŠ‚è¾“å…¥æµå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦è¾“å…¥æµå¯¹è±¡</span></span><br><span class="line">InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(in);</span><br><span class="line"><span class="comment">//åˆ›å»ºå­—ç¬¦è¾“å…¥ç¼“å†²æµå¯¹è±¡</span></span><br><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå­—èŠ‚è¾“å‡ºæµï¼ŒæŒ‡å®šç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;write.txt&quot;</span>);</span><br><span class="line"><span class="comment">//å°†å­—èŠ‚è¾“å‡ºæµå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦è¾“å‡ºæµå¯¹è±¡</span></span><br><span class="line">OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamReader(out);</span><br><span class="line"><span class="comment">//åˆ›å»ºå­—ç¬¦è¾“å‡ºç¼“å†²æµå¯¹è±¡</span></span><br><span class="line">BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(osw);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç–‘é—®ï¼Œä¸æ˜ç™½æ„ä¹‰ä½•åœ¨ï¼Œæ–‡ä»¶æ—¶å­—èŠ‚ç æ–‡ä»¶ï¼Œç¨‹åºä¾§ç”¨å­—ç¬¦æµæœ‰ä½•ç›Šå¤„ã€‚</p>
</blockquote>
<h2 id="Fileç±»"><a href="#Fileç±»" class="headerlink" title="Fileç±»"></a>Fileç±»</h2><p>é€šè¿‡I/Oæµå¯ä»¥å¯¹æ–‡ä»¶çš„å†…å®¹è¿›è¡Œè¯»å†™æ“ä½œï¼Œä½†æ˜¯å¯¹æ–‡ä»¶æœ¬èº«è¿›è¡Œä¸€äº›å¸¸è§„æ“ä½œï¼Œä¾‹å¦‚åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åç­‰ï¼ŒJDKæä¾›äº†ä¸€ä¸ªFileç±»ã€‚</p>
<p>Fileç±»ç”¨äºå°è£…ä¸€ä¸ªè·¯å¾„ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚è¯¥ç±»ä¸»è¦ç”¨äºæ–‡ä»¶å’Œç›®å½•çš„åˆ›å»ºã€æ–‡ä»¶çš„æŸ¥æ‰¾å’Œæ–‡ä»¶çš„åˆ é™¤ç­‰ã€‚</p>
<p>Fileå¯¹è±¡ä»£è¡¨ç£ç›˜ä¸­å®é™…å­˜åœ¨çš„æ–‡ä»¶å’Œç›®å½•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirList</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        String dirname = <span class="string">&quot;/java&quot;</span>;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(dirname);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶/æ–‡ä»¶å¤¹åç§°ï¼š&quot;</span>+f1.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶/æ–‡ä»¶å¤¹å¤§å°ï¼š&quot;</span>+f1.length()+<span class="string">&quot;bytes&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (f1.isDirectory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Directory of &quot;</span> + dirname);</span><br><span class="line">            String s[] = f1.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">                File f = <span class="keyword">new</span> File(dirname + <span class="string">&quot;/&quot;</span> + s[i]);</span><br><span class="line">                <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">&quot; is a directory&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.println(s[i] + <span class="string">&quot; is a file&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(dirname + <span class="string">&quot; is not a directory&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦æˆåŠŸåˆ é™¤ï¼š&quot;</span>+f1.delete());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éå†æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç”¨listæ–¹æ³•ï¼Œé™¤äº†ä¸Šé¢çš„æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥é‡‡ç”¨æ•°ç»„å·¥å…·ç±»Arraysçš„streamæ–¹æ³•è¿›è¡Œéå†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line">String[] fileNames = file.list();</span><br><span class="line">Arrays.stream(fileNames).forEach(f-&gt;System.out.println(f));</span><br></pre></td></tr></table></figure>

<p>è‹¥æ˜¯æƒ³è¦è·å¾—æŒ‡å®šç±»å‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚.txtæ–‡ä»¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‘listä¼ å…¥lambdaè¡¨è¾¾å¼å½¢å¼çš„å‚æ•°ï¼Œè¿›è¡Œè¿‡æ»¤ã€‚</span></span><br><span class="line">String[] fileNames=file.list((dir,name)-&gt;name.endsWith(<span class="string">&quot;.txt&quot;</span>));</span><br><span class="line">Arrays.stream(fileNames).forEach(f-&gt;System.out.println(f));</span><br></pre></td></tr></table></figure>

<p>è‹¥æ˜¯è¦éå†æ‰€æœ‰æ–‡ä»¶åŠç›®å½•ï¼ŒåŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚ä½¿ç”¨listFilesæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªFileå¯¹è±¡æ•°ç»„ã€‚è¿›è¡Œé€’å½’ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;è·¯å¾„&quot;</span>);</span><br><span class="line">        func(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éå†ç›®å½•åŠå…¶å­ç›®å½•æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">(File file)</span></span>&#123;</span><br><span class="line">        File[] listFiles=file.listFiles();</span><br><span class="line">        <span class="keyword">for</span>(File files:listFiles)&#123;</span><br><span class="line">            <span class="keyword">if</span>(files.isDirectory())&#123;</span><br><span class="line">                func(files);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(files);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šjavaä¸­çš„åˆ é™¤æ–‡ä»¶æ˜¯é€šè¿‡javaè™šæ‹Ÿæœºç›´æ¥åˆ é™¤çš„ï¼Œè€Œä¸èµ°å›æ”¶ç«™ã€‚</p>
</blockquote>
<h2 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h2><p>ä¸å±äºæµç±»ï¼Œä½†å…·æœ‰è¯»å†™æ–‡ä»¶æ•°æ®çš„åŠŸèƒ½ï¼Œå¯ä»¥éšæœºä»æ–‡ä»¶çš„ä»»ä½•ä½ç½®å¼€å§‹æ‰§è¡Œè¯»å†™æ•°æ®çš„æ“ä½œã€‚</p>
<h2 id="å¯¹è±¡åºåˆ—åŒ–"><a href="#å¯¹è±¡åºåˆ—åŒ–" class="headerlink" title="å¯¹è±¡åºåˆ—åŒ–"></a>å¯¹è±¡åºåˆ—åŒ–</h2><p>ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å°†ä¸€äº›æ•°æ®æ°¸ä¹…åœ°ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œè€Œæ•°æ®åœ¨javaä¸­éƒ½æ˜¯ä¿å­˜åœ¨å¯¹è±¡å½“ä¸­çš„ï¼Œå¦‚ä½•å°†å¯¹è±¡ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œå°±ç”¨javaä¸­çš„å¯¹è±¡åºåˆ—åŒ–ã€‚</p>
<p>å¯¹è±¡çš„åºåˆ—åŒ–ï¼ˆSerializableï¼‰æ˜¯æŒ‡å°†ä¸€ä¸ªJavaå¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªI/Oæµä¸­å­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ã€‚å¯ä»¥ä½¿å†…å­˜ä¸­çš„Javaå¯¹è±¡è½¬æ¢æˆä¸å¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµã€‚</p>
<p>å°†I/Oæµä¸­çš„å­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹â€“ååºåˆ—åŒ–ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªå¹³å°ä¸Šåºåˆ—åŒ–çš„å¯¹è±¡å¯ä»¥åœ¨å¦ä¸€ä¸ªå®Œå…¨ä¸åŒçš„å¹³å°ä¸Šååºåˆ—åŒ–è¯¥å¯¹è±¡ã€‚</p>
<p>æƒ³è®©å¯¹è±¡åºåˆ—åŒ–ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡æ‰€åœ¨çš„ç±»å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¿…é¡»å®ç°Serializableæˆ–Externalizableä¸¤ä¸ªæ¥å£ä¹‹ä¸€ã€‚Externalizableæ€§èƒ½å¥½ä½†æ˜¯ç¼–ç¨‹å¤æ‚ï¼Œå› æ­¤å¤§éƒ¨åˆ†é‡‡ç”¨Serializableã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SerializeDemo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      Employee e = <span class="keyword">new</span> Employee();</span><br><span class="line">      e.name = <span class="string">&quot;Reyan Ali&quot;</span>;</span><br><span class="line">      e.address = <span class="string">&quot;Phokka Kuan, Ambehta Peer&quot;</span>;</span><br><span class="line">      e.SSN = <span class="number">11122333</span>;</span><br><span class="line">      e.number = <span class="number">101</span>;</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         FileOutputStream fileOut =</span><br><span class="line">         <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;/tmp/employee.ser&quot;</span>);</span><br><span class="line">         ObjectOutputStream out = <span class="keyword">new</span> ObjectOutputStream(fileOut);</span><br><span class="line">         out.writeObject(e);</span><br><span class="line">         out.close();</span><br><span class="line">         fileOut.close();</span><br><span class="line">         System.out.printf(<span class="string">&quot;Serialized data is saved in /tmp/employee.ser&quot;</span>);</span><br><span class="line">      &#125;<span class="keyword">catch</span>(IOException i)</span><br><span class="line">      &#123;</span><br><span class="line">          i.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeserializeDemo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">      Employee e = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">         FileInputStream fileIn = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;/tmp/employee.ser&quot;</span>);</span><br><span class="line">         ObjectInputStream in = <span class="keyword">new</span> ObjectInputStream(fileIn);</span><br><span class="line">         e = (Employee) in.readObject();</span><br><span class="line">         in.close();</span><br><span class="line">         fileIn.close();</span><br><span class="line">      &#125;<span class="keyword">catch</span>(IOException i)</span><br><span class="line">      &#123;</span><br><span class="line">         i.printStackTrace();</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;<span class="keyword">catch</span>(ClassNotFoundException c)</span><br><span class="line">      &#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;Employee class not found&quot;</span>);</span><br><span class="line">         c.printStackTrace();</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(<span class="string">&quot;Deserialized Employee...&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Name: &quot;</span> + e.name);</span><br><span class="line">      System.out.println(<span class="string">&quot;Address: &quot;</span> + e.address);</span><br><span class="line">      System.out.println(<span class="string">&quot;SSN: &quot;</span> + e.SSN);</span><br><span class="line">      System.out.println(<span class="string">&quot;Number: &quot;</span> + e.number);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>readObject() æ–¹æ³•ä¸­çš„ try/catchä»£ç å—å°è¯•æ•è· ClassNotFoundException å¼‚å¸¸ã€‚å¯¹äº JVM å¯ä»¥ååºåˆ—åŒ–å¯¹è±¡ï¼Œå®ƒå¿…é¡»æ˜¯èƒ½å¤Ÿæ‰¾åˆ°å­—èŠ‚ç çš„ç±»ã€‚å¦‚æœJVMåœ¨ååºåˆ—åŒ–å¯¹è±¡çš„è¿‡ç¨‹ä¸­æ‰¾ä¸åˆ°è¯¥ç±»ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ª ClassNotFoundException å¼‚å¸¸ã€‚</p>
<p>æ³¨æ„ï¼ŒreadObject() æ–¹æ³•çš„è¿”å›å€¼è¢«è½¬åŒ–æˆ Employee å¼•ç”¨ã€‚</p>
<p>å½“å¯¹è±¡è¢«åºåˆ—åŒ–æ—¶ï¼Œå±æ€§ SSN çš„å€¼ä¸º 111222333ï¼Œä½†æ˜¯å› ä¸ºè¯¥å±æ€§æ˜¯çŸ­æš‚çš„ï¼Œè¯¥å€¼æ²¡æœ‰è¢«å‘é€åˆ°è¾“å‡ºæµã€‚æ‰€ä»¥ååºåˆ—åŒ–å Employee å¯¹è±¡çš„ SSN å±æ€§ä¸º 0ã€‚</p>
<h2 id="NIO"><a href="#NIO" class="headerlink" title="NIO"></a>NIO</h2><p>ä»JDK1.4å¼€å§‹ï¼Œjavaæä¾›äº†ä¸€ç³»åˆ—æ”¹è¿›çš„ç”¨äºå¤„ç†è¾“å…¥è¾“å‡ºçš„æ–°åŠŸèƒ½ï¼Œè¢«ç§°ä¸ºNIOï¼ˆNew I/Oï¼‰ã€‚</p>
<p>NIOé‡‡ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶çš„æ–¹å¼æ¥å¤„ç†è¾“å…¥è¾“å‡ºï¼Œå°†æ–‡ä»¶æˆ–æ–‡ä»¶çš„ä¸€æ®µåŒºåŸŸæ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œåƒè®¿é—®å†…å­˜ä¸€æ ·æ¥è®¿é—®æ–‡ä»¶ã€‚</p>
<p>æ ‡å‡†çš„IOä¸­ä½¿ç”¨å­—èŠ‚æµå’Œå­—ç¬¦æµï¼ŒNIOä¸­ï¼Œä½¿ç”¨é€šé“Channelå’Œç¼“å†²åŒºBufferã€‚æ•°æ®æ€»æ˜¯ä»é€šé“è¯»å…¥ç¼“å†²åŒºï¼Œæˆ–ä»ç¼“å†²åŒºå†™å…¥é€šé“ã€‚</p>
<p>Bufferå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„ç¼“å†²åŒºï¼Œè¯»å…¥æˆ–å†™å‡ºåˆ°Channelä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½å…ˆæ”¾åœ¨Bufferä¸­ã€‚</p>
<p>Channelæ˜¯å¯¹ä¼ ç»Ÿçš„è¾“å…¥è¾“å‡ºçš„æ¨¡æ‹Ÿï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½é€šè¿‡é€šé“æµçš„å½¢å¼ä¼ è¾“ã€‚</p>
<p>Selectoré€‰æ‹©å™¨ï¼Œç”¨äºç›‘å¬å¤šä¸ªé€šé“çš„äº‹ä»¶ï¼ˆä¾‹å¦‚è¿æ¥æ‰“å¼€ã€æ•°æ®åˆ°è¾¾ï¼‰ä¸»è¦ç”¨äºå¤šçº¿ç¨‹å¤„ç†ã€‚</p>
<h2 id="NIO-2"><a href="#NIO-2" class="headerlink" title="NIO.2"></a>NIO.2</h2><p>JDK7å¼•å…¥æ–°çš„I/O APIï¼Œæä¾›å…¨é¢çš„æ–‡ä»¶è¾“å…¥è¾“å‡ºä»¥åŠæ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®ä¸æ”¯æŒï¼Œå¹¶ä¸”æ–°å¢java.nio.fileåŒ…åŠå…¶å­åŒ…ï¼Œæä¾›åŸºäºå¼‚æ­¥Channelçš„è¾“å…¥è¾“å‡ºã€‚</p>
]]></content>
      <categories>
        <category>javaå¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>go-å‡½æ•°ç»“æŸåç¨‹ç»“æŸå—</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-%E5%87%BD%E6%95%B0%E7%BB%93%E6%9D%9F%E5%8D%8F%E7%A8%8B%E7%BB%93%E6%9D%9F%E5%90%97/</url>
    <content><![CDATA[<h3 id="ç»“è®ºä¸ºå…ˆ"><a href="#ç»“è®ºä¸ºå…ˆ" class="headerlink" title="ç»“è®ºä¸ºå…ˆ"></a>ç»“è®ºä¸ºå…ˆ</h3><p> åœ¨mainæˆ–å…¶ä»–å‡½æ•°ä¸­å¼€åç¨‹ï¼Œä¸»ç¨‹åºç»“æŸäº†ï¼Œåç¨‹è¿˜ç»§ç»­æ‰§è¡Œå—?</p>
<p> ç»“è®ºï¼šmainå‡½æ•°ä¸­çš„åç¨‹ï¼Œå¦‚æœmainç»“æŸäº†ï¼Œåç¨‹ä¹Ÿä¼šç»“æŸ</p>
<pre><code>  å…¶ä»–å‡½æ•°é‡Œçš„åç¨‹ï¼Œå‡½æ•°ç»“æŸäº†ï¼Œåªè¦mainæ²¡ç»“æŸï¼Œåç¨‹å°±ä¼šæ‰§è¡Œã€‚
</code></pre>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	test()</span><br><span class="line">	time.Sleep(time.Second*<span class="number">20</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//å®šæ—¶å®Œæˆçš„æ“ä½œå†™åœ¨åç¨‹é‡Œ</span></span><br><span class="line">	ticker := time.NewTicker(time.Second * <span class="number">1</span>)</span><br><span class="line">	<span class="comment">//ch := make(chan int)</span></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">var</span> x <span class="keyword">int</span></span><br><span class="line">		<span class="keyword">for</span> x &lt; <span class="number">10</span> &#123;</span><br><span class="line">			<span class="keyword">select</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> &lt;-ticker.C:</span><br><span class="line">				x++</span><br><span class="line">				fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, x)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		ticker.Stop()</span><br><span class="line">		<span class="comment">//ch &lt;- 0</span></span><br><span class="line">	&#125;()</span><br><span class="line">	<span class="comment">//&lt;- ch</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;bye&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>go-å®ç°ä¸€ä¸ªé˜Ÿåˆ—queue</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E9%98%9F%E5%88%97queue/</url>
    <content><![CDATA[<h2 id="goå®¹å™¨"><a href="#goå®¹å™¨" class="headerlink" title="goå®¹å™¨"></a>goå®¹å™¨</h2><p>*è§£å¼•ç”¨  &amp;å–åœ°å€</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;container/list&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//æ•°ç»„</span></span><br><span class="line">	<span class="comment">//var nums [5]int  //ä¸åˆå§‹åŒ–</span></span><br><span class="line">	<span class="keyword">var</span> nums = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt; <span class="built_in">len</span>(nums); i++&#123;</span><br><span class="line">		fmt.Println(nums[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ‡ç‰‡slice</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;---------------&quot;</span>)</span><br><span class="line">	<span class="keyword">var</span> slice[]<span class="keyword">int</span>  <span class="comment">//åˆ‡ç‰‡ä¸éœ€è¦è¯´æ˜é•¿åº¦ ==nilä¸ºç©º</span></span><br><span class="line">    slice = <span class="built_in">append</span>(slice, <span class="number">1</span>, <span class="number">2</span>)  <span class="comment">//å¯ä»¥ä¸ç”¨make</span></span><br><span class="line">    fmt.Println(slice)</span><br><span class="line">    <span class="keyword">var</span> slice1 = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>, <span class="number">20</span>) <span class="comment">//é•¿åº¦10ï¼Œå®¹é‡20</span></span><br><span class="line">	fmt.Println(slice1)  <span class="comment">//è¾“å‡ºä¸º10ä¸ª0</span></span><br><span class="line">	<span class="keyword">for</span> i, num := <span class="keyword">range</span> slice&#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;slice[%d]=%d\t&quot;</span>, i, num)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> slice2 = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">	<span class="built_in">copy</span>(slice2, slice1)</span><br><span class="line">	fmt.Println(slice2)</span><br><span class="line">	fmt.Println(<span class="string">&quot;---------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//map</span></span><br><span class="line">	<span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>    <span class="comment">//å£°æ˜ï¼Œé»˜è®¤æ˜¯nil</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>)  <span class="comment">//åˆ›å»º</span></span><br><span class="line">	<span class="comment">//æˆ–è€…ä¸€æ­¥åˆ°ä½ï¼š m := make(map[int]string)</span></span><br><span class="line">	m[<span class="number">1</span>] = <span class="string">&quot;two&quot;</span></span><br><span class="line">	m[<span class="number">1</span>] =<span class="string">&quot;one&quot;</span>  <span class="comment">//è¦†ç›–æ‰</span></span><br><span class="line">	m[<span class="number">2</span>] =<span class="string">&quot;two&quot;</span></span><br><span class="line">	m[<span class="number">3</span>] =<span class="string">&quot;three&quot;</span></span><br><span class="line">	value, ok :=m [<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Println(value)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">delete</span>(m,<span class="number">1</span>)  <span class="comment">//åˆ é™¤</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> m&#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;key:%d, value:%s\t&quot;</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//liståŒå‘é“¾è¡¨</span></span><br><span class="line">	li := list.New()  <span class="comment">//å…ƒç´ ç±»å‹ä¸ºæ¥å£ç±»å‹ï¼Œä»€ä¹ˆéƒ½èƒ½å­˜</span></span><br><span class="line">	li.PushBack(<span class="number">1</span>)  <span class="comment">// è¿½åŠ å…ƒç´ åˆ°æœ«å°¾</span></span><br><span class="line">	li.PushBack(<span class="number">2</span>)</span><br><span class="line">	li.PushBack(<span class="number">3</span>)</span><br><span class="line">	zero := li.PushFront(<span class="number">0</span>)  <span class="comment">//æ·»åŠ å…ƒç´ åœ¨å¼€å¤´</span></span><br><span class="line">	li.InsertAfter(<span class="number">0.5</span>, zero)</span><br><span class="line">	<span class="keyword">for</span> e := li.Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">		fmt.Println(e.Value)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å®ç°ä¸€ä¸ªé˜Ÿåˆ—queueå¹¶åŠ é”"><a href="#å®ç°ä¸€ä¸ªé˜Ÿåˆ—queueå¹¶åŠ é”" class="headerlink" title="å®ç°ä¸€ä¸ªé˜Ÿåˆ—queueå¹¶åŠ é”"></a>å®ç°ä¸€ä¸ªé˜Ÿåˆ—queueå¹¶åŠ é”</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="comment">//åˆ‡ç‰‡å®ç°å›ºå®šé•¿åº¦é˜Ÿåˆ—ï¼Œå¹¶åŠ é”</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;errors&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“ç®¡ç†é˜Ÿåˆ—</span></span><br><span class="line"><span class="keyword">type</span> Queue <span class="keyword">struct</span> &#123;</span><br><span class="line">	maxSize <span class="keyword">int64</span></span><br><span class="line">	array []<span class="keyword">int64</span> <span class="comment">//æ•°ç»„=&gt;æ¨¡æ‹Ÿé˜Ÿåˆ—</span></span><br><span class="line">	front  <span class="keyword">int64</span> <span class="comment">//è¡¨ç¤ºæŒ‡å‘é˜Ÿåˆ—åˆ—é¦–</span></span><br><span class="line">	rear <span class="keyword">int64</span> <span class="comment">//è¡¨ç¤ºæŒ‡å‘é˜Ÿåˆ—çš„å°¾éƒ¨</span></span><br><span class="line">	flag <span class="keyword">bool</span> <span class="comment">//è¡¨ç¤ºé˜Ÿå°¾æ˜¯å¦åœ¨å¯¹å¤´åé¢</span></span><br><span class="line">	mut *sync.Mutex</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®ç°ç»“æ„ä½“åˆå§‹åŒ–æœ‰é»˜è®¤å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewQueue</span><span class="params">(max <span class="keyword">int64</span>)</span> <span class="title">Queue</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> Queue&#123;</span><br><span class="line">		maxSize: max,</span><br><span class="line">		array: <span class="built_in">make</span>([]<span class="keyword">int64</span>, max),</span><br><span class="line">		front:   <span class="number">0</span>,</span><br><span class="line">		rear:    <span class="number">-1</span>,</span><br><span class="line">		flag: <span class="literal">true</span>,</span><br><span class="line">		mut: &amp;sync.Mutex&#123;&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">AddQueue</span><span class="params">(val <span class="keyword">int64</span>)</span><span class="params">(err error)</span></span>&#123;</span><br><span class="line">	this.mut.Lock()</span><br><span class="line">	<span class="keyword">defer</span> this.mut.Unlock()</span><br><span class="line">	<span class="comment">//å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡</span></span><br><span class="line">	<span class="keyword">if</span> this.IsFull()&#123;</span><br><span class="line">		<span class="keyword">return</span> errors.New(<span class="string">&quot;queue full&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	this.rear++<span class="comment">//rear åç§»</span></span><br><span class="line">	<span class="keyword">if</span> this.rear == this.maxSize&#123;</span><br><span class="line">		this.rear = <span class="number">0</span></span><br><span class="line">		this.flag = !this.flag</span><br><span class="line">	&#125;</span><br><span class="line">	this.array[this.rear] = val</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä»é˜Ÿåˆ—ä¸­å–å‡ºæ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">GetQueue</span><span class="params">()</span> <span class="params">(val <span class="keyword">int64</span>, err error)</span></span>&#123;</span><br><span class="line">	this.mut.Lock()</span><br><span class="line">	<span class="keyword">defer</span> this.mut.Unlock()</span><br><span class="line">	<span class="comment">//å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ç©º</span></span><br><span class="line">	<span class="keyword">if</span> this.IsEmpty() &#123;<span class="comment">//é˜Ÿç©º</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>, errors.New(<span class="string">&quot;queue empty&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	val = this.array[this.front]</span><br><span class="line">	this.front++</span><br><span class="line">	<span class="keyword">if</span> this.front == this.maxSize&#123;</span><br><span class="line">		this.front = <span class="number">0</span></span><br><span class="line">		this.flag = !this.flag</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> val,err</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">IsEmpty</span><span class="params">()</span> <span class="title">bool</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (this.flag == <span class="literal">true</span> &amp;&amp; this.rear == this.front<span class="number">-1</span>) || (this.flag == <span class="literal">false</span> &amp;&amp; this.front == <span class="number">0</span> &amp;&amp; this.rear == this.maxSize<span class="number">-1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºæ»¡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">IsFull</span><span class="params">()</span> <span class="title">bool</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (this.flag == <span class="literal">true</span> &amp;&amp; this.front == <span class="number">0</span> &amp;&amp; this.rear == this.maxSize<span class="number">-1</span>) || (this.flag == <span class="literal">false</span> &amp;&amp; this.rear == this.front<span class="number">-1</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ±‚é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">QueueSize</span><span class="params">()</span> <span class="title">int64</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> this.flag == <span class="literal">false</span> &amp;&amp; this.front == <span class="number">0</span> &amp;&amp; this.rear == this.maxSize<span class="number">-1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> this.flag == <span class="literal">true</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> this.rear-this.front+<span class="number">1</span></span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> this.maxSize-(this.front-this.rear<span class="number">-1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºé˜Ÿåˆ—,æ‰¾åˆ°é˜Ÿé¦–ï¼Œç„¶ååˆ°éå†åˆ°é˜Ÿå°¾</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span> <span class="title">ShowQueue</span><span class="params">()</span></span> &#123;</span><br><span class="line">	size := this.QueueSize()</span><br><span class="line">	front := this.front</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">int64</span>(<span class="number">1</span>) ; i &lt;= size; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%d\t&quot;</span>,this.array[front])</span><br><span class="line">		front++</span><br><span class="line">		<span class="keyword">if</span> front == this.maxSize&#123;</span><br><span class="line">			front =<span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span>  <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	<span class="comment">//å…ˆåˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—</span></span><br><span class="line">	max := <span class="keyword">int64</span>(<span class="number">50</span>)</span><br><span class="line">	queue := NewQueue(max)</span><br><span class="line">	queue.ShowQueue()</span><br><span class="line">	<span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">	wg.Add(<span class="number">50</span>)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>; i&lt;=<span class="number">50</span>; i++ &#123;</span><br><span class="line">		queue.AddQueue(<span class="keyword">int64</span>(i))</span><br><span class="line">	&#125;</span><br><span class="line">	queue.ShowQueue()</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>; i&lt;=<span class="number">50</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">			out, err :=queue.GetQueue()</span><br><span class="line">			log.Println(err, queue.QueueSize(), <span class="string">&quot;out:&quot;</span>, out)</span><br><span class="line">			wg.Done()</span><br><span class="line">		&#125;()</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	queue.ShowQueue()</span><br><span class="line">	fmt.Println(queue.QueueSize())</span><br><span class="line">	fmt.Println(queue.GetQueue())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>go-æ“ä½œmysqlæ•°æ®åº“</title>
    <url>/2021/08/20/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-%E6%93%8D%E4%BD%9Cmysql%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h2 id="1-mysqlåŸå§‹å‘½ä»¤"><a href="#1-mysqlåŸå§‹å‘½ä»¤" class="headerlink" title="1.mysqlåŸå§‹å‘½ä»¤"></a>1.mysqlåŸå§‹å‘½ä»¤</h2><h3 id="a-ç™»å½•"><a href="#a-ç™»å½•" class="headerlink" title="a.ç™»å½•"></a>a.ç™»å½•</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ç™»å½•ï¼š</span><br><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>på¯†ç   <span class="operator">/</span><span class="operator">/</span>è¿æœ¬æœºçš„</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">User</span>, Host, Password <span class="keyword">FROM</span> mysql.user;  <span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹ç”¨æˆ·</span><br><span class="line"></span><br><span class="line">æ·»åŠ æ–°ç”¨æˆ·ï¼š</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;liuxuan14&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line">ä¿®æ”¹å¯†ç ï¼š</span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> <span class="string">&#x27;liuxuan14&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span><span class="operator">=</span>password(<span class="string">&#x27;1998&#x27;</span>);</span><br><span class="line">ä¸ºç”¨æˆ·æˆæƒï¼š</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>å…è®¸è®¿é—®æ‰€æœ‰æ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> ;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>æŒ‡å®šæ•°æ®åº“ä¸‹çš„æŒ‡å®šè¡¨</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> test.test <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> ;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>åªæ‹¥æœ‰æŸ¥è¯¢æƒé™</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line">FLUSH PRIVILEGES;  <span class="operator">/</span><span class="operator">/</span>åˆ·æ–°æƒé™</span><br><span class="line"></span><br><span class="line">åˆ é™¤ç”¨æˆ·ï¼š</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> liuxuan<span class="variable">@localhost</span>ï¼›</span><br><span class="line"></span><br><span class="line">è¿æ¥è¿œç¨‹æ•°æ®åº“ï¼š</span><br><span class="line">MySQL è¿æ¥è¿œç¨‹æ•°æ®åº“ï¼ˆ<span class="number">192.168</span><span class="number">.5</span><span class="number">.116</span>ï¼‰ï¼Œç«¯å£â€œ<span class="number">3306</span>â€ï¼Œç”¨æˆ·åä¸ºâ€œrootâ€ï¼Œå¯†ç â€œ<span class="number">123456</span>â€</span><br><span class="line">mysql <span class="operator">-</span>h <span class="number">192.168</span><span class="number">.5</span><span class="number">.116</span> <span class="operator">-</span>P <span class="number">3306</span> <span class="operator">-</span>u root <span class="operator">-</span>p123456</span><br><span class="line">mysql <span class="operator">-</span>h ip <span class="operator">-</span>P ç«¯å£ <span class="operator">-</span>A <span class="operator">-</span>u name  <span class="operator">-</span>p å¯†ç </span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> database name</span><br></pre></td></tr></table></figure>

<h3 id="b-å»ºè¡¨"><a href="#b-å»ºè¡¨" class="headerlink" title="b.å»ºè¡¨"></a>b.å»ºè¡¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `mytable`(</span><br><span class="line">   `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#x27;è‡ªå¢&#x27;,</span><br><span class="line">   `app_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;åº”ç”¨id&#x27;,</span><br><span class="line">   `time` int NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ—¶é—´&#x27;,</span><br><span class="line">   `date` DATE,</span><br><span class="line">   PRIMARY KEY ( `id` )</span><br><span class="line">   UNIQUE KEY `idx_app` (`app_id`) USING BTREE</span><br><span class="line">   KEY `idx_ip` (`machine_ip`) USING BTREE,</span><br><span class="line">   KEY `idx_app_machineid` (`app_id`,`machine_id`) USING BTREE</span><br><span class="line">)ENGINE=InnoDB DEFAULT COMMENT=&#x27;è¡¨å&#x27;;</span><br><span class="line"></span><br><span class="line">AUTO_INCREMENTå®šä¹‰åˆ—ä¸ºè‡ªå¢çš„å±æ€§ï¼Œä¸€èˆ¬ç”¨äºä¸»é”®ï¼Œæ•°å€¼ä¼šè‡ªåŠ¨åŠ 1ã€‚</span><br><span class="line">PRIMARY KEYå…³é”®å­—ç”¨äºå®šä¹‰åˆ—ä¸ºä¸»é”®ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤šåˆ—æ¥å®šä¹‰ä¸»é”®ï¼Œåˆ—é—´ä»¥é€—å·åˆ†éš”ã€‚</span><br><span class="line">ENGINE è®¾ç½®å­˜å‚¨å¼•æ“ï¼ŒCHARSET è®¾ç½®ç¼–ç ã€‚</span><br><span class="line"></span><br><span class="line">è¡¨ç»“æ„ï¼šdesc nameï¼›</span><br><span class="line">å»ºè¡¨è¯­å¥ï¼šshow create tablenameï¼›</span><br></pre></td></tr></table></figure>

<p>æ³¨é‡Š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³¨é‡Šï¼šcomment</span><br><span class="line">create table test1 ( </span><br><span class="line">    field_name int comment &#x27;å­—æ®µçš„æ³¨é‡Š&#x27; </span><br><span class="line">)comment=&#x27;è¡¨çš„æ³¨é‡Š&#x27;;</span><br><span class="line">ä¿®æ”¹è¡¨çš„æ³¨é‡Šï¼š</span><br><span class="line">alter table test1 comment &#x27;ä¿®æ”¹åçš„è¡¨çš„æ³¨é‡Š&#x27;;</span><br><span class="line">ä¿®æ”¹å­—æ®µçš„æ³¨é‡Šï¼š</span><br><span class="line">alter table test1 modify column field_name int comment &#x27;ä¿®æ”¹åçš„å­—æ®µæ³¨é‡Š&#x27;; </span><br><span class="line">æŸ¥çœ‹è¡¨æ³¨é‡Šï¼š</span><br><span class="line">show  create  table  test1; </span><br><span class="line">æŸ¥çœ‹å­—æ®µæ³¨é‡Šï¼š</span><br><span class="line">show  full  columns  from  test1; </span><br></pre></td></tr></table></figure>

<p>ç´¢å¼•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å”¯ä¸€ç´¢å¼•ï¼š</span><br><span class="line">UNIQUE KEY</span><br><span class="line">1  ä¸»é”®æ˜¯ä¸€ç§çº¦æŸï¼Œå”¯ä¸€ç´¢å¼•æ˜¯ä¸€ç§ç´¢å¼•ï¼Œä¸¤è€…åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒçš„ã€‚</span><br><span class="line">2  ä¸»é”®åˆ›å»ºåä¸€å®šåŒ…å«ä¸€ä¸ªå”¯ä¸€æ€§ç´¢å¼•ï¼Œå”¯ä¸€æ€§ç´¢å¼•ä¸ä¸€å®šå°±æ˜¯ä¸»é”®ã€‚</span><br><span class="line">3   å”¯ä¸€æ€§ç´¢å¼•åˆ—å…è®¸ç©ºå€¼ï¼Œ è€Œä¸»é”®åˆ—ä¸å…è®¸ä¸ºç©ºå€¼ã€‚</span><br><span class="line">4   ä¸»é”®å¯ä»¥è¢«å…¶ä»–è¡¨å¼•ç”¨ä¸ºå¤–é”®ï¼Œè€Œå”¯ä¸€ç´¢å¼•ä¸èƒ½ã€‚</span><br><span class="line">5   ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½åˆ›å»ºä¸€ä¸ªä¸»é”®ï¼Œä½†æ˜¯å¯ä»¥åˆ›å»ºå¤šä¸ªå”¯ä¸€ç´¢å¼•ã€‚</span><br><span class="line">6   ä¸»é”®æ›´é€‚åˆé‚£äº›ä¸å®¹æ˜“æ”¹å˜çš„å”¯ä¸€æ ‡è¯†ï¼Œå¦‚è‡ªåŠ¨é€’å¢åˆ—ï¼Œèº«ä»½è¯å·ç­‰ã€‚</span><br><span class="line">7   åœ¨RBO æ¨¡å¼ä¸‹ï¼Œä¸»é”®çš„æ‰§è¡Œè®¡åˆ’ä¼˜å…ˆçº§é«˜äºå”¯ä¸€ç´¢å¼•ã€‚ä¸¤è€…å¯ä»¥æé«˜æŸ¥è¯¢çš„é€Ÿåº¦ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="c-æ·»åŠ ä¸€ä¸ªå­—æ®µ"><a href="#c-æ·»åŠ ä¸€ä¸ªå­—æ®µ" class="headerlink" title="c.æ·»åŠ ä¸€ä¸ªå­—æ®µ"></a>c.æ·»åŠ ä¸€ä¸ªå­—æ®µ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table tablename add `app_name` varchar(16) NOT NULL DEFAULT &#x27;&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="d-ä¿®æ”¹æ•°æ®"><a href="#d-ä¿®æ”¹æ•°æ®" class="headerlink" title="d.ä¿®æ”¹æ•°æ®"></a>d.ä¿®æ”¹æ•°æ®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update tablename set å­—æ®µ=&#x27;ä¿®æ”¹çš„å€¼&#x27; where æ¡ä»¶ï¼›</span><br><span class="line">å¤šä¸ªå­—æ®µä¸­é—´åŠ ,</span><br></pre></td></tr></table></figure>

<h3 id="e-åˆ é™¤"><a href="#e-åˆ é™¤" class="headerlink" title="e.åˆ é™¤"></a>e.åˆ é™¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åˆ åº“ï¼šdrop database name;</span><br><span class="line">åˆ è¡¨ï¼šdrop table nameï¼›</span><br><span class="line"></span><br><span class="line">mysqlåˆ é™¤ä¸€è¡Œï¼š</span><br><span class="line">delete from è¡¨ where æ¡ä»¶ï¼›</span><br></pre></td></tr></table></figure>

<h3 id="f-æ·»åŠ ä¸€è¡Œ"><a href="#f-æ·»åŠ ä¸€è¡Œ" class="headerlink" title="f.æ·»åŠ ä¸€è¡Œ"></a>f.æ·»åŠ ä¸€è¡Œ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into tablename (app_id,machine_id,machine_ip,ctime,use_perc) values(?,?,?,?,?);   //å¯¹åº”å­—æ®µåŠ </span><br><span class="line"></span><br><span class="line">insert into è¡¨å values(int,&#x27;string&#x27;)(..);  //å¯ä¸€æ¬¡æ€§åŠ å¤šè¡Œï¼Œä¸€è¡Œå…¨éƒ¨æ•°éƒ½æœ‰</span><br><span class="line"></span><br><span class="line">insert into è¡¨å set åˆ—å=&#x27;&#x27;, ...;</span><br></pre></td></tr></table></figure>

<h2 id="2-goæ“ä½œæ•°æ®åº“"><a href="#2-goæ“ä½œæ•°æ®åº“" class="headerlink" title="2.goæ“ä½œæ•°æ®åº“"></a>2.goæ“ä½œæ•°æ®åº“</h2><p>ä½¿ç”¨ï¼šdatabase/sqlåŒ…</p>
<p>mysqlé»˜è®¤ç«¯å£å·3306</p>
<p>æŸ¥çœ‹ï¼šmysqlå†…ï¼Œ<code>show global variables like &#39;port&#39;; </code></p>
<p>æŸ¥çœ‹mysqlé…ç½®æ–‡ä»¶ç›®å½•ï¼š</p>
<p><code>mysql --help|grep &#39;my.cnf&#39;</code></p>
<h3 id="a-åˆ›å»ºè¿æ¥æ± "><a href="#a-åˆ›å»ºè¿æ¥æ± " class="headerlink" title="a.åˆ›å»ºè¿æ¥æ± "></a>a.åˆ›å»ºè¿æ¥æ± </h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//1.åˆ›å»ºè¿æ¥æ± </span><br><span class="line">func newPool() *sql.DB &#123;  //sql.DB è¡¨ç¤ºä¸€ä¸ªè¿æ¥æ± </span><br><span class="line">	cfg := mysql.NewConfig()</span><br><span class="line">	cfg.User = &quot;name&quot;</span><br><span class="line">	cfg.Passwd = &quot;123456&quot;</span><br><span class="line">	cfg.Net = &quot;tcp&quot;</span><br><span class="line">	cfg.Addr = &quot;127.0.0.1:3306&quot;</span><br><span class="line">	cfg.DBName = &quot;mydb&quot;</span><br><span class="line">	dsn := cfg.FormatDSN()</span><br><span class="line"></span><br><span class="line">	db, err := sql.Open(&quot;mysql&quot;, dsn)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	if err := db.Ping(); err != nil &#123; //pingæµ‹è¯•ç½‘ç»œè¿é€šæ€§åŠç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	return db</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="b-queryæŸ¥è¯¢"><a href="#b-queryæŸ¥è¯¢" class="headerlink" title="b.queryæŸ¥è¯¢"></a>b.queryæŸ¥è¯¢</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func QueryUser(id int64) (*User, error) &#123;</span><br><span class="line">  var db = newPool()  //åˆ›å»ºè¿æ¥</span><br><span class="line">	rows, err := db.Query(&quot;select `id`, `name` from `users` where `id` = ?&quot;, id)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return nil, err</span><br><span class="line">	&#125;</span><br><span class="line">	defer rows.Close() // æ³¨æ„è¿™é‡Œï¼Œä¸€å®šè¦å…³é—­</span><br><span class="line">	user := User&#123;&#125;</span><br><span class="line">	for rows.Next() &#123;</span><br><span class="line">		if err := rows.Scan(&amp;user.ID, &amp;user.Name); err != nil &#123;</span><br><span class="line">			return nil, err</span><br><span class="line">		&#125;</span><br><span class="line">		break</span><br><span class="line">	&#125;</span><br><span class="line">	if err := rows.Err(); err != nil &#123;</span><br><span class="line">		return nil, err</span><br><span class="line">	&#125;</span><br><span class="line">	return &amp;user, nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿æ¥æ± å¯¹ç¨‹åºå‘˜æ˜¯é€æ˜çš„ï¼Œè¿™é‡Œå¹¶ä¸éœ€è¦æ˜¾å¼çš„ä»è¿æ¥æ± é‡Œè·å–è¿æ¥ï¼Œè€Œæ˜¯é€šè¿‡è¿æ¥æ± æ¥æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ã€‚<br>Query æ–¹æ³•è¿”å›ä¸€ä¸ª *Rows æŒ‡é’ˆï¼Œä»£è¡¨ç»“æœé›†ã€‚</p>
<p>è¦æ³¨æ„çš„æ˜¯ defer rows.Close() å¦‚æœå¿˜äº†å…³é—­ï¼Œå¯èƒ½ä¼šé€ æˆè¿æ¥æ³„éœ²ã€‚</p>
<p>rows.Scan æ–¹æ³•æœ‰ä¸ªæ–¹ä¾¿çš„ç‰¹æ€§ï¼Œå¦‚æœidåœ¨æ•°æ®åº“é‡Œæ˜¯ varchar(50) ç±»å‹ï¼Œæˆ‘ä»¬ä¼ çš„å‚æ•°&amp;user.IDæŒ‡å‘int64ï¼Œè¿™ä¾ç„¶å¯ä»¥å·¥ä½œï¼ŒScan æ–¹æ³•ä¼šæ‰§è¡Œè‡ªåŠ¨è½¬æ¢ã€‚</p>
<h3 id="c-å•è¡ŒæŸ¥è¯¢queryrow"><a href="#c-å•è¡ŒæŸ¥è¯¢queryrow" class="headerlink" title="c.å•è¡ŒæŸ¥è¯¢queryrow"></a>c.å•è¡ŒæŸ¥è¯¢queryrow</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// QueryUser1 å•è¡ŒæŸ¥è¯¢</span><br><span class="line">func QueryUser1(id int64) (*User, error) &#123;</span><br><span class="line">	row := pool.QueryRow(&quot;select `id`, `name` from `users` where `id` = ?&quot;, id)</span><br><span class="line">	user := User&#123;&#125;</span><br><span class="line">	if err := row.Scan(&amp;user.ID, &amp;user.Name); err != nil &#123;</span><br><span class="line">		if err == sql.ErrNoRows &#123;</span><br><span class="line">			return nil, nil  // è¿”å› (*User)(nil) è¡¨ç¤ºæŸ¥è¯¢ç»“æœä¸é”™åœ¨</span><br><span class="line">		&#125;</span><br><span class="line">		return nil, err</span><br><span class="line">	&#125;</span><br><span class="line">	return &amp;user, nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="d-æ’å…¥æ›´æ–°åˆ é™¤exec"><a href="#d-æ’å…¥æ›´æ–°åˆ é™¤exec" class="headerlink" title="d.æ’å…¥æ›´æ–°åˆ é™¤exec"></a>d.æ’å…¥æ›´æ–°åˆ é™¤exec</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// InsertUser æ’å…¥ç”¨æˆ·</span><br><span class="line">func InsertUser(name string) (int64, error) &#123;</span><br><span class="line">	res, err := pool.Exec(&quot;insert into `users` (`name`) values (?)&quot;, name)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return 0, err</span><br><span class="line">	&#125;</span><br><span class="line">	return res.LastInsertId()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// UpdateUser æ›´æ–°ç”¨æˆ·</span><br><span class="line">func UpdateUser(id int64, name string) error &#123;</span><br><span class="line">	_, err := pool.Exec(&quot;update `users` set `name` = ? where `id` = ?&quot;, name, id)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return err</span><br><span class="line">	&#125;</span><br><span class="line">	return nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// DeleteUser åˆ é™¤ç”¨æˆ·</span><br><span class="line">func DeleteUser(id int64) error &#123;</span><br><span class="line">	_, err := pool.Exec(&quot;delete from `users` where `id` = ?&quot;, id)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return err</span><br><span class="line">	&#125;</span><br><span class="line">	return nil</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="e-äº‹åŠ¡"><a href="#e-äº‹åŠ¡" class="headerlink" title="e.äº‹åŠ¡"></a>e.äº‹åŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// UpdateFooBar æ›´æ–°</span><br><span class="line">func UpdateFooBar(id int64, x, y string) (err error) &#123;</span><br><span class="line">	tx, err := pool.Begin()</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line">	defer func() &#123;</span><br><span class="line">		switch &#123;</span><br><span class="line">		case err != nil:</span><br><span class="line">			tx.Rollback()</span><br><span class="line">		default:</span><br><span class="line">			err = tx.Commit()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	_, err = tx.Exec(&quot;update `foo` set `x` = ? where `id` = ?&quot;, x, id)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line">	_, err = tx.Exec(&quot;update `bar` set `y` = ? where `id` = ?&quot;, y, id)</span><br><span class="line">	if err != nil &#123;</span><br><span class="line">		return</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-mysqlåŠ é”"><a href="#3-mysqlåŠ é”" class="headerlink" title="3.mysqlåŠ é”"></a>3.mysqlåŠ é”</h2><p>è¯»é”å…¨è¡¨é”(LOCK TABLE è¡¨ READ)<br>è¯»é”è¡Œé”(SELECT â€¦ LOCK IN SHARE MODE)<br>å†™é”å…¨è¡¨é”(LOCK TABLE è¡¨ WRITE)<br>å†™é”è¡Œé”(SELECT â€¦ FOR UPDATE)</p>
<p>é”æ€»ä½“å¯ä»¥åˆ†ä¸ºä¹è§‚é”å’Œæ‚²è§‚é”ï¼Œç®€å•è¯´ï¼Œä¹è§‚é”ç”¨ç‰ˆæœ¬å·æ§åˆ¶ï¼Œæ‚²è§‚é”ç”¨é”æ§åˆ¶ã€‚<br>ä¹è§‚é”ï¼šæ ¸å¿ƒåŸç†æ˜¯å¢åŠ ä¸€ä¸ªversionçš„å­—æ®µæ¥æ§åˆ¶ã€‚æ·»åŠ ä¸€ä¸ªversionå­—æ®µï¼Œæ¯ä¸ªæ›´æ–°æ—¶whereæ¡ä»¶éƒ½åŠ ä¸Šå®ƒï¼Œå¹¶ä¸”ä¹Ÿæ›´æ–°å®ƒUPDATE users SET name=â€é›ªå±±é£çŒªâ€,version=version+1 WHERE id=3 AND version=0 UPDATE users SET name=â€chenqiongheâ€,version=version+1 WHERE id=3 AND version=0ã€‚è¿™å°±æ˜¯æœ€ç®€å•çš„CASæœºåˆ¶ã€‚<br>æ‚²è§‚é”ï¼šç±»ä¼¼Goè¯­è¨€é‡Œçš„Mutexå’ŒRwMutex</p>
<p>å…±äº«é”(Sé”)åˆç§°è¯»é”ï¼Œè‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠSé”ï¼Œåˆ™äº‹åŠ¡Tå¯ä»¥è¯»Aä½†ä¸èƒ½ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹AåŠ Sé”ï¼Œè€Œä¸èƒ½åŠ Xé”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„S é”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»Aï¼Œä½†åœ¨Té‡Šæ”¾Aä¸Šçš„Sé”ä¹‹å‰ä¸èƒ½å¯¹Aåšä»»ä½•ä¿®æ”¹ã€‚</p>
<p>æ’ä»–é”(Xé”)åˆç§°å†™é”ã€‚è‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠXé”ï¼Œäº‹åŠ¡Tå¯ä»¥è¯»Aä¹Ÿå¯ä»¥ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹AåŠ ä»»ä½•é”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„é”ã€‚è¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡åœ¨Té‡Šæ”¾Aä¸Šçš„é”ä¹‹å‰ä¸èƒ½å†è¯»å–å’Œä¿®æ”¹Aã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å†™é”è¡¨é”ï¼š</span><br><span class="line">åŠ é”ï¼šlock table kiss_share_idproducer write;</span><br><span class="line">æ­¤æ—¶å…¶ä»–è¿›ç¨‹æ— æ³•è¯»ä¹Ÿæ— æ³•å†™ã€‚</span><br><span class="line">è§£é”ï¼šunlock table;</span><br><span class="line">--------------------------------</span><br><span class="line">å†™é”è¡Œé”ï¼š</span><br><span class="line">begin;</span><br><span class="line">åŠ é”ï¼šselect * from  kiss_share_idproducer where app_id=21 for update;</span><br><span class="line">å…¶ä»–å†åŠ é”ï¼Œç­‰å¾…ï¼Œç›´åˆ°å é”çš„commitï¼›</span><br><span class="line">æ›´æ–°ï¼šupdate kiss_share_idproducer set mix_id=7 where app_id=21;</span><br><span class="line">è§£é”ï¼šcommit;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯»é”è¡¨é”ï¼š</span><br><span class="line">åŠ é”ï¼šlock table kiss_share_idproducer read;</span><br><span class="line">æ­¤æ—¶å…¶ä»–è¿›ç¨‹å¯ä»¥è¯»ä½†æ— æ³•å†™ã€‚</span><br><span class="line">è§£é”ï¼šunlock table;</span><br><span class="line">-------------------------------</span><br><span class="line">è¯»é”è¡Œé”ï¼š</span><br><span class="line">åŠ é”ï¼šselect * from  kiss_share_idproducer where app_id=21 lock in share mode;</span><br><span class="line">å…¶ä»–å†åŠ é”ï¼Œç­‰å¾…ï¼Œç›´åˆ°å é”çš„commitï¼›</span><br><span class="line">æ›´æ–°ï¼šupdate kiss_share_idproducer set mix_id=7 where app_id=21;</span><br><span class="line">è§£é”ï¼šcommit;</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>goçš„mysqlæ“ä½œï¼š<a href="https://blog.csdn.net/embinux/article/details/84031620">https://blog.csdn.net/embinux/article/details/84031620</a></p>
<p>mysqlåŠ é”ï¼š<a href="https://blog.csdn.net/weixin_33838871/article/details/113566444">https://blog.csdn.net/weixin_33838871/article/details/113566444</a></p>
]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>javaæ•°å’Œæ•°ç»„è¾“å…¥</title>
    <url>/2021/10/13/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/0.%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/</url>
    <content><![CDATA[<p>javaçš„è¾“å…¥éœ€è¦ä¾èµ–Scannerç±»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import java.util.Scanner;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦è¾“å…¥ï¼Œåˆ™å…ˆå£°æ˜ä¸€ä¸ªScannerå¯¹è±¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Scanner s = new Scanner(System.in);</span><br></pre></td></tr></table></figure>

<p>Scanneré™„å±äºè¾“å…¥æµSystem.inï¼Œå£°æ˜Scannerå¯¹è±¡ä¹‹åï¼Œåœ¨è¾“å…¥çš„æ—¶å€™éœ€è¦ä½¿ç”¨<strong>next()æ–¹æ³•</strong>ç³»åˆ—æŒ‡å®šè¾“å…¥çš„ç±»å‹ï¼Œå¦‚è¾“å…¥æ•´æ•°ã€è¾“å…¥å­—ç¬¦ä¸²ç­‰ã€‚é‡åˆ°å›è½¦ç»“æŸã€‚</p>
<p>å¸¸ç”¨çš„next()æ–¹æ³•ç³»åˆ—ï¼šnextInt():è¾“å…¥æ•´æ•°  nextLine():è¾“å…¥å­—ç¬¦ä¸²   nextDouble():è¾“å…¥åŒç²¾åº¦æ•°   next():è¾“å…¥å­—ç¬¦ä¸²ï¼ˆä»¥ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ã€‚</p>
<p>next()æ–¹æ³•è¯»å–åˆ°ç©ºç™½ç¬¦å°±ç»“æŸlï¼›<br>nextLine()è¯»å–åˆ°å›è½¦ç»“æŸä¹Ÿå°±æ˜¯â€œ\râ€ï¼›</p>
<p>!!!æ„æ€æ˜¯next(),ç©ºæ ¼ç»“æŸæ˜¯é”®ç›˜è¾“å…¥ï¼Œå›è½¦ä¹‹åï¼Œæ‹¿å–ç©ºæ ¼ä¹‹å‰çš„ï¼Œè¿˜æ˜¯éœ€è¦å›è½¦çš„ã€‚</p>
<p>å°±ä¸èƒ½ç©ºæ ¼ç»“æŸç®—ä½œè¾“å…¥ä¸€ä¸ªå—ï¼Ÿï¼Ÿï¼Ÿè²Œä¼¼ä¸èƒ½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¾“å…¥æ•°å­—</span></span><br><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">float</span> x;</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        x=in.nextFloat();</span><br><span class="line">        System.out.println(x);   <span class="comment">//æ¢è¡Œè¾“å‡ºï¼Œè¾“å‡ºä¹‹åè‡ªåŠ¨æ¢è¡Œ</span></span><br><span class="line">        System.out.print(x);    <span class="comment">//ä¸æ¢è¡Œæ‰“å°</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;è¾“å‡ºæ˜¯ï¼š%f&quot;</span>, x);   <span class="comment">//æŒ‰æ ¼å¼è¾“å‡º</span></span><br><span class="line"></span><br><span class="line">        String s1;</span><br><span class="line">        Scanner sin=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        s1=sin.next();</span><br><span class="line">        System.out.println(s1);</span><br><span class="line"></span><br><span class="line">        String s2;</span><br><span class="line">        Scanner sin2=<span class="keyword">new</span> Scanner(System.in);  <span class="comment">//æ¯æ¬¡è¾“å…¥ä¹‹å‰ï¼Œéƒ½éœ€è¦é‡æ–°æ¥ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">        s2=sin2.nextLine();</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¾“å…¥æ•°ç»„</span></span><br><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">nums</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è¾“å…¥ä¸å®šé•¿çš„æ•°ç»„</span></span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.length; j++) &#123;</span><br><span class="line">            b[j] = Integer.parseInt(arr[j]);</span><br><span class="line">            System.out.print(b[j] + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¾“å…¥å®šé•¿æ•°ç»„</span></span><br><span class="line">        System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ä¸‰ä¸ªæ•°ï¼š&quot;</span>);</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span>[] c=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;c.length; i++)&#123;</span><br><span class="line">            c[i]=in.nextInt();</span><br><span class="line">            System.out.print(c[i] + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeä¸¤æ•°ä¹‹å’Œ</title>
    <url>/2021/10/07/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2.%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsÂ å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ targetÂ  çš„é‚£Â ä¸¤ä¸ªÂ æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</span><br><span class="line">ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</span><br></pre></td></tr></table></figure>

<p>å…³äºhashmapçš„ä½¿ç”¨ï¼š</p>
<p>m.put(a,b)  æ’å…¥<br>m.containkey(a)  æŸ¥æ‰¾key</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">twonumbersum</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å…ˆå†™åŠŸèƒ½å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt;m = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> a= target - nums[i];</span><br><span class="line">            <span class="keyword">if</span> (m.containsKey(a)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;m.get(a), i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            m.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å†å†™æµ‹è¯•å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">            nums[j] = Integer.parseInt(arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ç›®æ ‡å€¼ï¼š&quot;</span>);</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> target = in.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] res=twoSum(nums, target);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> re : res) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;ç»“æœï¼š&quot;</span>);</span><br><span class="line">            System.out.print(re + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç–‘é—®ï¼šåŠŸèƒ½å‡½æ•°ä¸æ˜¯staticå‹æ—¶ï¼Œmainå‡½æ•°ä¹Ÿä¸èƒ½äº‹staticçš„ï¼Œä½†æ˜¯æ— è¿è¡ŒæŒ‰é’®ã€‚é™¤éæŠŠä¸¤ä¸ªå‡½æ•°éƒ½å˜æˆstaticå‹ã€‚</p>
]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®°-goå…¥é—¨2.0</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-go%E5%85%A5%E9%97%A82.0/</url>
    <content><![CDATA[<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">goç¼–è¯‘å‹è¯­è¨€ï¼Œsoå‡½æ•°ç¼–å†™çš„é¡ºåºæ— å…³ç´§è¦ã€‚</span><br><span class="line">goroutine åç¨‹</span><br><span class="line">Goè¯­è¨€é‡Œé¢æ‹¥ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼š</span><br><span class="line">-æ™®é€šçš„å¸¦æœ‰åå­—çš„å‡½æ•°</span><br><span class="line">-åŒ¿åå‡½æ•°æˆ–è€… lambda å‡½æ•°</span><br><span class="line">-æ–¹æ³•</span><br><span class="line"></span><br><span class="line">åŒä¸€ç§ç±»å‹è¿”å›å€¼å’Œå¸¦æœ‰å˜é‡åçš„è¿”å›å€¼</span><br><span class="line">func name()(int,int)&#123;return a,b&#125;</span><br><span class="line">func name()(a , b int)&#123;return&#125;</span><br><span class="line">ä¸å¯ä»¥ï¼š</span><br><span class="line">func name()(a,b int,int)&#123;return&#125;</span><br><span class="line"></span><br><span class="line">å®šä¹‰å‡½æ•°å˜é‡ï¼š</span><br><span class="line">var fname func()</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">åŒ¿åå‡½æ•°ç¯‡ï¼š</span><br><span class="line">â‘  å‡½æ•°å†…éƒ¨å®šä¹‰å‡½æ•°ï¼šé—­åŒ…</span><br><span class="line">å¥½å¤„ï¼šå†…è”åœ¨å‡½æ•°ä¸­ï¼Œä¸éœ€è¦å£°æ˜ï¼Œå¯ç›´æ¥ä½¿ç”¨å‡½æ•°çš„å˜é‡</span><br><span class="line">Goè¯­è¨€ä¸­é—­åŒ…æ˜¯å¼•ç”¨äº†è‡ªç”±å˜é‡çš„å‡½æ•°ï¼Œè¢«å¼•ç”¨çš„è‡ªç”±å˜é‡å’Œå‡½æ•°ä¸€åŒå­˜åœ¨ï¼Œå³ä½¿å·²ç»ç¦»å¼€äº†è‡ªç”±å˜é‡çš„ç¯å¢ƒä¹Ÿä¸ä¼šè¢«é‡Šæ”¾æˆ–è€…åˆ é™¤ï¼Œåœ¨é—­åŒ…ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨è¿™ä¸ªè‡ªç”±å˜é‡</span><br><span class="line">å‡½æ•° + å¼•ç”¨ç¯å¢ƒ = é—­åŒ…</span><br><span class="line">ä¸€ä¸ªå‡½æ•°ç±»å‹å°±åƒç»“æ„ä½“ä¸€æ ·ï¼Œå¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œå‡½æ•°æœ¬èº«ä¸å­˜å‚¨ä»»ä½•ä¿¡æ¯ï¼Œåªæœ‰ä¸å¼•ç”¨ç¯å¢ƒç»“åˆåå½¢æˆçš„é—­åŒ…æ‰å…·æœ‰â€œè®°å¿†æ€§â€ï¼Œå‡½æ•°æ˜¯ç¼–è¯‘æœŸé™æ€çš„æ¦‚å¿µï¼Œè€Œé—­åŒ…æ˜¯è¿è¡ŒæœŸåŠ¨æ€çš„æ¦‚å¿µã€‚</span><br><span class="line">é—­åŒ…ï¼ˆClosureï¼‰åœ¨æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ä¹Ÿè¢«ç§°ä¸º Lambda è¡¨è¾¾å¼ã€‚</span><br><span class="line">é—­åŒ…å¯¹ç¯å¢ƒä¸­å˜é‡çš„å¼•ç”¨è¿‡ç¨‹ä¹Ÿå¯ä»¥è¢«ç§°ä¸ºâ€œæ•è·â€ï¼Œåœ¨ C++<span class="number">11</span> æ ‡å‡†ä¸­ï¼Œæ•è·æœ‰ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯å¼•ç”¨å’Œå¤åˆ¶ï¼Œå¯ä»¥æ”¹å˜å¼•ç”¨çš„åŸå€¼å«åšâ€œå¼•ç”¨æ•è·â€ï¼Œæ•è·çš„è¿‡ç¨‹å€¼è¢«å¤åˆ¶åˆ°é—­åŒ…ä¸­ä½¿ç”¨å«åšâ€œå¤åˆ¶æ•è·â€ã€‚</span><br><span class="line"><span class="comment">// C++ ä¸ C# ä¸­ä¸ºé—­åŒ…åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼Œè€Œè¢«æ•è·çš„å˜é‡åœ¨ç¼–è¯‘æ—¶æ”¾åˆ°ç±»ä¸­çš„æˆå‘˜ä¸­ï¼Œé—­åŒ…åœ¨è®¿é—®è¢«æ•è·çš„å˜é‡æ—¶ï¼Œå®é™…ä¸Šè®¿é—®çš„æ˜¯é—­åŒ…éšè—ç±»çš„æˆå‘˜ã€‚</span></span><br><span class="line">åœ¨é—­åŒ…å†…éƒ¨ä¿®æ”¹å¼•ç”¨çš„å˜é‡</span><br><span class="line">é—­åŒ…å¯¹å®ƒä½œç”¨åŸŸä¸Šéƒ¨çš„å˜é‡å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å¼•ç”¨çš„å˜é‡ä¼šå¯¹å˜é‡è¿›è¡Œå®é™…ä¿®æ”¹ï¼Œé€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£ï¼š</span><br><span class="line">ä¾‹å­ï¼š</span><br><span class="line"><span class="comment">// å‡†å¤‡ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">str := <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°</span></span><br><span class="line">foo := func() &#123; </span><br><span class="line">    <span class="comment">// åŒ¿åå‡½æ•°ä¸­è®¿é—®str</span></span><br><span class="line">    str = <span class="attr">&quot;hello dude&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨åŒ¿åå‡½æ•°</span></span><br><span class="line">foo()</span><br><span class="line">è¢«æ•è·åˆ°é—­åŒ…ä¸­çš„å˜é‡è®©é—­åŒ…æœ¬èº«æ‹¥æœ‰äº†è®°å¿†æ•ˆåº”ï¼Œé—­åŒ…ä¸­çš„é€»è¾‘å¯ä»¥ä¿®æ”¹é—­åŒ…æ•è·çš„å˜é‡ï¼Œå˜é‡ä¼šè·Ÿéšé—­åŒ…ç”Ÿå‘½æœŸä¸€ç›´å­˜åœ¨ï¼Œé—­åŒ…æœ¬èº«å°±å¦‚åŒå˜é‡ä¸€æ ·æ‹¥æœ‰äº†è®°å¿†æ•ˆåº”ã€‚</span><br><span class="line"></span><br><span class="line">â‘¡ å‡½æ•°å†…éƒ¨è°ƒç”¨å…¶ä»–å‡½æ•°ï¼šå‡½æ•°è°ƒç”¨</span><br><span class="line"></span><br><span class="line">â‘¢ å‡½æ•°å†…éƒ¨è°ƒç”¨å‚æ•°ä¼ è¿‡æ¥çš„å‡½æ•°ï¼šå›è°ƒå‡½æ•°</span><br><span class="line">å°†ä¸€ä¸ªå‡½æ•°çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å¤–éƒ¨å†å®šä¹‰è¿™ä¸ªå‡½æ•°çš„å®ç°ã€‚</span><br><span class="line">å›è°ƒå‡½æ•°ä¾‹å­ï¼š</span><br><span class="line">func visit(list []int, f func(int)) &#123;</span><br><span class="line">    for _, v := range list &#123;</span><br><span class="line">        f(v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨åŒ¿åå‡½æ•°æ‰“å°åˆ‡ç‰‡å†…å®¹ï¼Œå¯æ”¹å˜ä¼ å…¥å‡½æ•°çš„å®ç°</span></span><br><span class="line">    visit([]int&#123;1, 2, 3, 4&#125;, func(v int) &#123;</span><br><span class="line">        fmt.Println(v)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">â‘£ å‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªå·±è¿™ä¸ªå‡½æ•°ï¼šé€’å½’</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>æ¥å£ç¯‡ï¼š</span><br><span class="line">å®šä¹‰æ¥å£ï¼š</span><br><span class="line"><span class="keyword">type</span> Invoker <span class="keyword">interface</span> &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å®ç°ä¸€ä¸ªCallæ–¹æ³•</span></span><br><span class="line">    Call(<span class="keyword">interface</span>&#123;&#125;)  <span class="comment">//è¿™ä¸ªä¼ å‚ï¼Ÿï¼Ÿ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>ç»“æ„ä½“å®ç°æ¥å£</span><br><span class="line"><span class="keyword">type</span> Struct <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ç°Invokerçš„Call</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Struct)</span> <span class="title">Call</span><span class="params">(p <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;from struct&quot;</span>, p)</span><br><span class="line">&#125;</span><br><span class="line">mainå‡½æ•°ä¸­ï¼š</span><br><span class="line"><span class="comment">// å£°æ˜æ¥å£å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> invoker Invoker</span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–ç»“æ„ä½“</span></span><br><span class="line">s := <span class="built_in">new</span>(Struct)</span><br><span class="line"><span class="comment">// å°†å®ä¾‹åŒ–çš„ç»“æ„ä½“èµ‹å€¼åˆ°æ¥å£</span></span><br><span class="line">invoker = s</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¥å£è°ƒç”¨å®ä¾‹åŒ–ç»“æ„ä½“çš„æ–¹æ³•Struct.Call</span></span><br><span class="line">invoker.Call(<span class="string">&quot;hello&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>å‡½æ•°ä½“å®ç°æ¥å£</span><br><span class="line">å‡½æ•°çš„å£°æ˜ä¸èƒ½ç›´æ¥å®ç°æ¥å£ï¼Œéœ€è¦å°†å‡½æ•°å®šä¹‰ä¸ºç±»å‹åï¼Œä½¿ç”¨ç±»å‹å®ç°ç»“æ„ä½“ï¼Œå½“ç±»å‹æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œè¿˜éœ€è¦è°ƒç”¨å‡½æ•°æœ¬ä½“ã€‚</span><br><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰ä¸ºç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> FuncCaller <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">interface</span>&#123;&#125;)</span></span></span><br><span class="line"><span class="comment">// å®ç°Invokerçš„Call</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f FuncCaller)</span> <span class="title">Call</span><span class="params">(p <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨f()å‡½æ•°æœ¬ä½“</span></span><br><span class="line">    f(p)</span><br><span class="line">&#125;</span><br><span class="line">mainå‡½æ•°ä¸­ï¼š</span><br><span class="line"><span class="comment">// å£°æ˜æ¥å£å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> invoker Invoker</span><br><span class="line"><span class="comment">// å°†åŒ¿åå‡½æ•°è½¬ä¸ºFuncCallerç±»å‹, å†èµ‹å€¼ç»™æ¥å£</span></span><br><span class="line">invoker = FuncCaller(<span class="function"><span class="keyword">func</span><span class="params">(v <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;from function&quot;</span>, v)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¥å£è°ƒç”¨FuncCaller.Call, å†…éƒ¨ä¼šè°ƒç”¨å‡½æ•°æœ¬ä½“</span></span><br><span class="line">invoker.Call(<span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">TODO:æ ‡è®°éƒ¨åˆ†ä»£ç ä»¥ä¾›å°†æ¥å‚è€ƒï¼šä¼˜åŒ–å’Œæ”¹è¿›çš„é¢†åŸŸã€å¯èƒ½çš„æ›´æ”¹ã€è¦è®¨è®ºçš„é—®é¢˜ç­‰ã€‚</span><br><span class="line"></span><br><span class="line">Goè¯­è¨€goroutineå’Œchannelä½¿ç”¨</span><br><span class="line">goroutineæ˜¯Goè¯­è¨€ä¸­çš„è½»é‡çº§çº¿ç¨‹å®ç°ï¼Œç”±Goè¯­è¨€è¿è¡Œæ—¶(runtime)ç®¡ç†ã€‚ä½¿ç”¨çš„æ—¶å€™åœ¨å‡½æ•°å‰é¢åŠ â€œ<span class="keyword">go</span>â€è¿™ä¸ªå•è¯ä½œä¸ºå…³é”®è¯ï¼Œä¹Ÿæ˜¯ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«äº†ã€‚åœ¨å‡½æ•°å‰é¢åŠ <span class="keyword">go</span>å…³é”®å­—å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„goroutineè¿›è¡Œå¹¶å‘æ‰§è¡Œã€‚</span><br><span class="line">channelæ˜¯Goè¯­è¨€æä¾›çš„goroutineé—´çš„é€šä¿¡æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨channelåœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªgoroutineä¹‹å®¶ä¼ é€’æ¶ˆæ¯ã€‚channelä½¿ç”¨çš„å…³é”®å­—æ˜¯ç”¨â€œ<span class="keyword">chan</span>â€.</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>æ–¹æ³•ï¼š</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€ä¸­å‡½æ•°çš„æ¦‚å¿µå’Œcè¯­è¨€ä¸­çš„å‡½æ•°ç±»ä¼¼ï¼Œå‡½æ•°åå…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œ<span class="keyword">go</span>è¯­è¨€çš„æ–¹æ³•æ˜¯æ‹¥æœ‰æ¥æ”¶è€…çš„å‡½æ•°ï¼Œå…¶å®æ˜¯c++ä¸­ç±»çš„æ–¹æ³•çš„æ¦‚å¿µã€‚å‡½æ•°æ˜¯ç‹¬ç«‹å­˜åœ¨çš„ï¼Œè€Œæ–¹æ³•å¿…é¡»æœ‰æ¥æ”¶è€…ï¼Œå³å¿…é¡»ä¾é™„äºæŸä¸ªå¯¹è±¡ã€‚<span class="keyword">go</span>è¯­è¨€ä½¿ç”¨<span class="keyword">struct</span>æ¥æŠ½è±¡å¯¹è±¡ã€‚å› æ­¤æ–¹æ³•çš„æ¥æ”¶è€…å¯ä»¥æ˜¯<span class="keyword">struct</span>å®ä¾‹æˆ–<span class="keyword">struct</span>çš„æŒ‡é’ˆã€‚</span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">        name  <span class="keyword">string</span>,</span><br><span class="line">        email <span class="keyword">string</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™æ˜¯å‡½æ•°çš„å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">notify</span><span class="params">(email <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Email is %s&quot;</span>, email)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™æ˜¯æ–¹æ³•çš„å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span> <span class="title">notify</span><span class="params">(email <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Email is %d&quot;</span>, email)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go errorç±»å‹ï¼š</span><br><span class="line">è§goå…¥é—¨ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¹æ–¹æ³•çš„æ¥æ”¶è€…ä¼ å€¼ï¼šä¸æ”¹å˜æ¥æ”¶è€…ã€‚ä¼ åœ°å€æ‰æ”¹å˜ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deferï¼š</span><br><span class="line">Goè¯­è¨€çš„ defer è¯­å¥ä¼šå°†å…¶åé¢è·Ÿéšçš„è¯­å¥è¿›è¡Œå»¶è¿Ÿå¤„ç†ï¼Œåœ¨ defer å½’å±çš„å‡½æ•°å³å°†è¿”å›æ—¶ï¼Œå°†å»¶è¿Ÿå¤„ç†çš„è¯­å¥æŒ‰ defer çš„é€†åºè¿›è¡Œæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆè¢« defer çš„è¯­å¥æœ€åè¢«æ‰§è¡Œï¼Œæœ€åè¢« defer çš„è¯­å¥ï¼Œæœ€å…ˆè¢«æ‰§è¡Œã€‚</span><br><span class="line">å½“æœ‰å¤šä¸ª defer è¡Œä¸ºè¢«æ³¨å†Œæ—¶ï¼Œå®ƒä»¬ä¼šä»¥é€†åºæ‰§è¡Œï¼ˆç±»ä¼¼æ ˆï¼Œå³åè¿›å…ˆå‡ºï¼‰</span><br><span class="line">defer func()&#123;   &#125;</span><br><span class="line">go func()&#123;   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">goä¸­&#123;&#125;åçš„ï¼ˆï¼‰ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeä¸¢å¤±çš„æ•°å­—</title>
    <url>/2022/01/04/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.1.4.%E4%B8%A2%E5%A4%B1%E7%9A%84%E6%95%B0%E5%AD%97/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªåŒ…å« [0, n] ä¸­ n ä¸ªæ•°çš„æ•°ç»„ nums ï¼Œæ‰¾å‡º [0, n] è¿™ä¸ªèŒƒå›´å†…æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„ä¸­çš„é‚£ä¸ªæ•°ã€‚</span><br><span class="line">è¾“å…¥ï¼šnums = [3,0,1]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šn = 3ï¼Œå› ä¸ºæœ‰ 3 ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ•°å­—éƒ½åœ¨èŒƒå›´ [0,3] å†…ã€‚2 æ˜¯ä¸¢å¤±çš„æ•°å­—ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å‡ºç°åœ¨ nums ä¸­ã€‚</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆè§£å†³è¾“å…¥ï¼Œè¾“å…¥æ•°ç»„ï¼Œnext()æ–¹æ³•è¯»å–åˆ°ç©ºç™½ç¬¦å°±ç»“æŸï¼Œå› æ­¤ä½¿ç”¨nextLine()æ–¹æ³•ï¼Œå¯ä»¥è§„å®šä»¥ç©ºæ ¼è¿˜æ˜¯é€—å·æ¥åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå˜ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œç„¶åå°†å­—ç¬¦ä¸²è½¬å˜ä¸ºintç±»å‹æ•°å­—ã€‚</p>
<p>æ–¹æ³•ï¼šå¦‚æœå…ˆæ’åºçš„è¯ï¼Œæ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦é«˜ï¼Œæ’å®Œåºè¿˜å¾—éå†ä¸€éã€‚ä¸å¦‚ç›´æ¥éå†ä¸€éï¼Œæ±‚å’Œï¼Œç„¶åç®—å°‘è°ï¼Œè¾“å‡ºç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: ä¸¢å¤±çš„æ•°å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-04 20:40</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">missedNumber</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥[0ï¼Œn]çš„nä¸ªæ•°å­—ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);  <span class="comment">//é¦–å…ˆScannerå¯¹è±¡</span></span><br><span class="line">        String str = sc.nextLine();    <span class="comment">//ä½¿ç”¨Scannerçš„æ–¹æ³•</span></span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);  <span class="comment">//åˆ†å‰²å­—ç¬¦ä¸²å‡½æ•°</span></span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];  <span class="comment">//æ•°ç»„é•¿åº¦æ²¡æ‹¬å·</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line">            b[i] = Integer.parseInt(arr[i]); <span class="comment">//å­—ç¬¦ä¸²è½¬æ•°å­—å‡½æ•°parseInt</span></span><br><span class="line">        &#125;</span><br><span class="line">        Solution s = <span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(s.missingNumber(b));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span>&#123;  <span class="comment">//Solutionç±»ä¸èƒ½æ˜¯publicçš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i:nums)&#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = (<span class="number">1</span>+nums.length)*nums.length/<span class="number">2</span> - sum;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çŸ¥è¯†ç‚¹ï¼š</p>
<p>æ±‚å¹³æ–¹ï¼š<code>double pre = Math.pow(nums.length, 2);</code></p>
<p>doubleç±»å‹è½¬æ¢ä¸ºintç±»å‹ï¼š<code>int res = new Double(pre).intValue();</code></p>
<p>æ•°ç»„æ’åºï¼š<code>Arrays.sort(nums);</code></p>
<p>å…¶ä»–æ–¹æ³•ï¼š</p>
<p>å“ˆå¸Œé›†åˆï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            set.add(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> missing = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!set.contains(i)) &#123;</span><br><span class="line">                missing = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> missing;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼‚æˆ–è¿ç®—ï¼šè‡ªå·±ä¸è‡ªå·±å¼‚æˆ–ï¼Œå¾—åˆ°çš„æ˜¯0ï¼Œè‡ªå·±ä¸0å¼‚æˆ–ï¼Œå¾—åˆ°çš„æ˜¯è‡ªå·±ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> xor = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            xor ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            xor ^= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> xor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecode Excelè¡¨åˆ—åç§°</title>
    <url>/2022/01/05/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.1.5.Excel%E8%A1%A8%E5%88%97%E5%90%8D%E7%A7%B0/</url>
    <content><![CDATA[<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªæ•´æ•° columnNumber ï¼Œè¿”å›å®ƒåœ¨ Excel è¡¨ä¸­ç›¸å¯¹åº”çš„åˆ—åç§°ã€‚</span><br><span class="line">A -&gt; <span class="number">1</span></span><br><span class="line">B -&gt; <span class="number">2</span></span><br><span class="line">C -&gt; <span class="number">3</span></span><br><span class="line">...</span><br><span class="line">Z -&gt; <span class="number">26</span></span><br><span class="line">AA -&gt; <span class="number">27</span></span><br><span class="line">AB -&gt; <span class="number">28</span> </span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆè¦è¾“å…¥ä¸€ä¸ªintï¼Œè¾“å‡ºä¸€ä¸ªstringï¼Œåº”è¯¥æ¶‰åŠåˆ°å¤§å†™å­—æ¯åˆ°å°å†™å­—æ¯çš„è½¬æ¢ï¼Œä»¥åŠå­—æ¯åˆ°ASCIIç çš„è½¬æ¢ã€‚</p>
<p>ç›¸å½“äº26è¿›åˆ¶çš„è½¬æ¢ï¼Œ10è¿›åˆ¶å˜26è¿›åˆ¶ï¼Œå†è½¬å˜ä¸ºå­—æ¯ã€‚</p>
<blockquote>
<p>Açš„ASCIIç æ˜¯65ï¼Œaçš„ASCIIç æ˜¯97ï¼ŒASCIIç è¡¨ä¸­ï¼Œå°å†™å­—æ¯æ’åœ¨å¤§å†™å­—æ¯çš„åé¢ï¼Œä¸€ä¸ªå­—æ¯çš„å¤§å°å†™æ•°å€¼ç›¸å·®32ï¼Œä¸€èˆ¬çŸ¥é“å¤§å†™å­—æ¯çš„ASCIIç æ•°å€¼ï¼Œå…¶å¯¹åº”çš„å°å†™å­—æ¯çš„ASCIIç æ•°å€¼å°±ç®—å‡ºæ¥äº†ï¼Œæ˜¯å¤§å†™å­—æ¯çš„ASCIIç æ•°å€¼+32ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: Excelè¡¨åˆ—åç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-05 14:08</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">excelTable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> num = sc.nextInt();</span><br><span class="line">        excelTableSolution s = <span class="keyword">new</span> excelTableSolution();</span><br><span class="line">        System.out.println(s.convertToTitle(num));</span><br><span class="line">        System.out.println(s.convertToTitle1(num));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">excelTableSolution</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToTitle</span><span class="params">(<span class="keyword">int</span> columnNumber)</span> </span>&#123;</span><br><span class="line">        String res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(columnNumber &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> pre = (columnNumber-<span class="number">1</span>) % <span class="number">26</span> +<span class="number">1</span>;  <span class="comment">//26é™¤ä½™æ˜¯0ï¼Œè¿™æ ·å˜ä¸º26</span></span><br><span class="line">            res += (<span class="keyword">char</span>) (pre - <span class="number">1</span> + <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">            columnNumber = (columnNumber - pre) / <span class="number">26</span>; <span class="comment">//æ³¨æ„ï¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(res);</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æˆ–è€…ï¼Œç›´æ¥ç”¨StringBuilderç±»</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToTitle1</span><span class="params">(<span class="keyword">int</span> columnNumber)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(columnNumber &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> pre = (columnNumber-<span class="number">1</span>) % <span class="number">26</span> +<span class="number">1</span>;  <span class="comment">//26é™¤ä½™æ˜¯0ï¼Œè¿™æ ·å˜ä¸º26</span></span><br><span class="line">            sb.append((<span class="keyword">char</span>) (pre - <span class="number">1</span> + <span class="string">&#x27;A&#x27;</span>));</span><br><span class="line">            columnNumber = (columnNumber - pre) / <span class="number">26</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecode æ•´æ•°è½¬ç½—é©¬æ•°å­—</title>
    <url>/2022/01/08/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.1.8.%E6%95%B4%E6%95%B0%E8%BD%AC%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚  1 &lt;= num &lt;= 3999</span><br><span class="line">å­—ç¬¦          æ•°å€¼</span><br><span class="line">I             1</span><br><span class="line">V             5</span><br><span class="line">X             10</span><br><span class="line">L             50</span><br><span class="line">C             100</span><br><span class="line">D             500</span><br><span class="line">M             1000</span><br><span class="line">ï¼›</span><br><span class="line">é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åšÂ IIIIï¼Œè€Œæ˜¯Â IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸ºÂ IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š</span><br><span class="line"></span><br><span class="line">IÂ å¯ä»¥æ”¾åœ¨Â VÂ (5) å’ŒÂ XÂ (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚</span><br><span class="line">XÂ å¯ä»¥æ”¾åœ¨Â LÂ (50) å’ŒÂ CÂ (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’ŒÂ 90ã€‚Â </span><br><span class="line">CÂ å¯ä»¥æ”¾åœ¨Â DÂ (500) å’ŒÂ MÂ (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤ºÂ 400 å’ŒÂ 900ã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/integer-to-roman</span><br><span class="line"></span><br><span class="line">è¾“å…¥: num = 9</span><br><span class="line">è¾“å‡º: &quot;IX&quot;</span><br><span class="line">è¾“å…¥: num = 1994</span><br><span class="line">è¾“å‡º: &quot;MCMXCIV&quot;</span><br><span class="line">è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„æ€»å…± 13 ä¸ªç‹¬ç‰¹çš„ç¬¦å·ï¼ˆæ¯ä¸ªç¬¦å·ç”± 1 ä¸ªæˆ– 2 ä¸ªå­—æ¯ç»„æˆï¼‰ã€‚ç¡®å®šç½—é©¬æ•°å­—çš„è§„åˆ™æ˜¯ï¼šå¯¹äºç½—é©¬æ•°å­—ä»å·¦åˆ°å³çš„æ¯ä¸€ä½ï¼Œé€‰æ‹©å°½å¯èƒ½å¤§çš„ç¬¦å·å€¼ã€‚</p>
<p>æ€è·¯ï¼šå»ºç«‹ä¸€ä¸ªæ•°å€¼-ç½—é©¬ç¬¦å·çš„åˆ—è¡¨ï¼Œä»å¤§åˆ°å°æ’åˆ—ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œéå†ï¼Œå¦‚æœnumå€¼å¤§äºå½“å‰éå†åˆ°çš„åˆ—è¡¨å…ƒç´ ï¼Œå°±å‡å»ï¼Œå¹¶åŠ ä¸Šç›¸åº”çš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°numå˜ä¸º0ã€‚éœ€è¦æ³¨æ„ï¼šåŒä¸€ä¸ªç¬¦å·å¯èƒ½ç”¨å¥½å¤šæ¬¡ã€‚æ‰€ä»¥whileå¾ªç¯ã€‚åˆ—è¡¨å°±ç”¨æ•°ç»„è¡¨ç¤ºï¼Œä¸¤ä¸ªæ•°ç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: ç½—é©¬æ•°å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-01-08 20:04</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">luomashuzi</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> num = sc.nextInt();</span><br><span class="line">        luomashuziSolution s = <span class="keyword">new</span> luomashuziSolution();</span><br><span class="line">        System.out.print(s.intToRoman(num));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">luomashuziSolution</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] values = &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    String[] symbols = &#123;<span class="string">&quot;M&quot;</span>, <span class="string">&quot;CM&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;CD&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;XC&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;XL&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;IX&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;IV&quot;</span>, <span class="string">&quot;I&quot;</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        StringBuilder res = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;values.length; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> value = values[i];</span><br><span class="line">            String symbol = symbols[i];</span><br><span class="line">            <span class="keyword">while</span>(num &gt;= value)&#123;</span><br><span class="line">                num -= value;</span><br><span class="line">                res.append(symbol);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span>)  <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecode 500.é”®ç›˜è¡Œ</title>
    <url>/2022/02/14/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.14.%E9%94%AE%E7%9B%98%E8%A1%8C/</url>
    <content><![CDATA[<p>ä¸€é“å…³äºå“ˆå¸Œè¡¨çš„é¢˜ç›®ï¼Œæ¸©ä¹ ä¸€ä¸‹å“ˆå¸Œè¡¨çš„javaæ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ words ï¼Œåªè¿”å›å¯ä»¥ä½¿ç”¨åœ¨ ç¾å¼é”®ç›˜ åŒä¸€è¡Œçš„å­—æ¯æ‰“å°å‡ºæ¥çš„å•è¯ã€‚é”®ç›˜å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</span><br><span class="line"></span><br><span class="line">ç¾å¼é”®ç›˜ ä¸­ï¼š</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€è¡Œç”±å­—ç¬¦ &quot;qwertyuiop&quot; ç»„æˆã€‚</span><br><span class="line">ç¬¬äºŒè¡Œç”±å­—ç¬¦ &quot;asdfghjkl&quot; ç»„æˆã€‚</span><br><span class="line">ç¬¬ä¸‰è¡Œç”±å­—ç¬¦ &quot;zxcvbnm&quot; ç»„æˆã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/keyboard-row</span><br><span class="line">è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šwords = [&quot;Hello&quot;,&quot;Alaska&quot;,&quot;Dad&quot;,&quot;Peace&quot;]</span><br><span class="line">è¾“å‡ºï¼š[&quot;Alaska&quot;,&quot;Dad&quot;]</span><br></pre></td></tr></table></figure>

<p>æ¸©ä¹ ï¼šå…³äºhashmapã€hashsetåŸç†åŠä½¿ç”¨ã€‚</p>
<p>æ€è·¯ä¸€ï¼šçŸ¥é“å„ä¸ªå­—æ¯é”®ç›˜ä¸Šçš„ä½ç½®ï¼Œç¼–å†™ä¸€ä¸²26ä¸ªå­—æ¯çš„å­—ç¬¦ä¸²ï¼Œè¿›è¡Œæ¯”è¾ƒåˆ¤åˆ«ã€‚å½“ç„¶ï¼Œé¦–å…ˆåº”è¯¥è®¾ç½®ä¸€ä¸ª<code>ArrayList&lt;String&gt;()</code>ï¼Œç”¨æ¥å­˜æ”¾ç»“æœã€‚</p>
<p>æˆ‘ä»¬ä¸ºæ¯ä¸€ä¸ªè‹±æ–‡å­—æ¯æ ‡è®°å…¶å¯¹åº”é”®ç›˜ä¸Šçš„è¡Œå·ï¼Œç„¶åæ£€æµ‹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦å¯¹åº”çš„è¡Œå·æ˜¯å¦ç›¸åŒã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†è®¡ç®—å‡ºæ¯ä¸ªå­—ç¬¦å¯¹åº”çš„è¡Œå·ã€‚<br>éå†å­—ç¬¦ä¸²æ—¶ï¼Œç»Ÿä¸€å°†å¤§å†™å­—æ¯è½¬åŒ–ä¸ºå°å†™å­—æ¯æ–¹ä¾¿è®¡ç®—ã€‚</p>
<blockquote>
<p>ç–‘é—®ï¼š<code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>å’Œ<code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>çš„åŒºåˆ«ï¼Ÿ</p>
<p>ç¬¬ä¸€ç§å½¢å¼ç”¨å½“å‰ç±»ä½œä¸ºå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥è®¿é—®åˆ°ArrayListè¿™ä¸ªç±»ä¸­çš„æ‰€æœ‰å…¬ç”¨æ–¹æ³•ã€‚</p>
<p>ç¬¬äºŒç§å½¢å¼ï¼Œç”¨ArrayListå®ç°çš„æ¥å£Listä½œä¸ºå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆé€šè¿‡listå¼•ç”¨å¯ä»¥è®¿é—®åˆ°æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ArrayListè¿™ä¸ªç±»å®ç°äº†Listæ¥å£ï¼Œé™¤äº†è¦å¿…é¡»å®ç°æ¥å£Listä¸­å£°æ˜çš„æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥å®ç°é¢å¤–çš„ä¸€äº›æ–¹æ³•ã€‚</p>
<p>ä½†æ˜¯ï¼Œç¬¬äºŒç§å½¢å¼å°±æ— æ³•è°ƒç”¨çš„Listæ¥å£ä»¥å¤–çš„æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨ä¸Šï¼Œè®¾è®¡æ¨¡å¼ä¸­æœ‰ï¼šâ€œä»£ç å°½é‡ä¾èµ–äºæŠ½è±¡ï¼Œä¸ä¾èµ–äºå…·ä½“â€ã€‚ç¬¬ä¸€ç§å½¢å¼å°±æ˜¯ä¾èµ–å…·ä½“ï¼Œç¬¬äºŒç§å½¢å¼å°±æ˜¯ä¾èµ–äºæŠ½è±¡ã€‚å› ä¸ºListæ˜¯æ¥å£ã€‚ä»£ç ä¾èµ–äºæŠ½è±¡çš„å¥½å¤„æ˜¯ï¼Œä»£ç å¯ä»¥æ–¹ä¾¿æ›¿æ¢ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ä¾‹å¦‚:ä»£ç List list = new ArrayList();ä¸‹é¢é€šè¿‡listæ¥æ“ä½œé›†åˆã€‚ä»£ç ç¼–å†™åå‘ç°é›†åˆä½¿ç”¨çš„ä¸å‡†ç¡®ï¼Œåº”è¯¥ä½¿ç”¨LinkedListï¼Œé‚£ä¹ˆåªè¦ä¿®æ”¹ä¸€è¡Œä»£ç List list = new LinkedList();å°±å¯ä»¥ï¼Œè¿™è¡Œä»¥åçš„ä»£ç ä¸éœ€è¦ä¿®æ”¹ï¼Œå› ä¸ºListæ¥å£ä¿è¯äº†è°ƒç”¨çš„éƒ½æ˜¯æ¥å£ä¸­çš„æ–¹æ³•ï¼Œè€ŒArrayListä¸LinkedListéƒ½å®ç°äº†Listæ¥å£ã€‚è€Œå¦‚æœå½“æ—¶ç”¨ArrayList list = new ArrayList()è¿™ç§å½¢å¼çš„è¯ï¼Œé‚£ä¹ˆlistè®¿é—®åˆ°çš„å°±å¯èƒ½æ˜¯ArrayListé‡Œç‹¬æœ‰çš„æ–¹æ³•è€ŒéListæ¥å£ä¸­çš„æ–¹æ³•ã€‚è¿™æ ·æ›¿æ¢æˆLinkedListçš„æ—¶å€™å°±æœ‰å¯èƒ½éœ€è¦ä¿®æ”¹å¾ˆå¤šçš„ä»£ç ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>å‰ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ArrayListç‹¬æœ‰çš„æ–¹æ³•ã€‚åé¢çš„åªèƒ½è°ƒç”¨Listæ¥å£å£°æ˜çš„æ–¹æ³•<br>Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€ŒListArrayæ˜¯ä¸€ä¸ªç±»ã€‚<br>ListArrayç»§æ‰¿å¹¶å®ç°äº†Listã€‚<br>æ‰€ä»¥Listä¸èƒ½è¢«æ„é€ ï¼Œä½†å¯ä»¥å‘ä¸Šé¢é‚£æ ·ä¸ºListåˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œè€ŒListArrayå°±å¯ä»¥è¢«æ„é€ ã€‚<br>List list; //æ­£ç¡® list=null;<br>List list=new List(); // æ˜¯é”™è¯¯çš„ç”¨æ³•<br>List list = new ArrayList();è¿™å¥åˆ›å»ºäº†ä¸€ä¸ªArrayListçš„å¯¹è±¡åæŠŠä¸Šæº¯åˆ°äº†Listã€‚æ­¤æ—¶å®ƒæ˜¯ä¸€ä¸ªListå¯¹è±¡äº†ï¼Œæœ‰äº›ArrayListæœ‰ä½†æ˜¯Listæ²¡æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå®ƒå°±ä¸èƒ½å†ç”¨äº†ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-02-14 17:47</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JianPanHang500</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è¾“å…¥å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        JianPanHang500Solution s = <span class="keyword">new</span> JianPanHang500Solution();</span><br><span class="line">        <span class="comment">//æ•°ç»„ç›´æ¥è¿”å›æ˜¯åœ°å€ï¼Œå¿…é¡»è¦ç”¨Arrays.toString</span></span><br><span class="line">        System.out.println(Arrays.toString(s.findWords(arr)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JianPanHang500Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        String rowIdx = <span class="string">&quot;12210111011122000010020202&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> isValid = <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">//é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ç¬¬å‡ è¡Œçš„</span></span><br><span class="line">            <span class="keyword">char</span> idx = rowIdx.charAt(Character.toLowerCase(word.charAt(<span class="number">0</span>)) - <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; word.length(); ++i) &#123;</span><br><span class="line">                <span class="comment">//éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œæ³¨æ„éœ€è¦å˜å°å†™ï¼Œé‡åˆ°ä¸æ˜¯åŒä¸€è¡Œçš„å°±breakï¼ŒåŒæ—¶éœ€è¦æ ‡å¿—ä½</span></span><br><span class="line">                <span class="keyword">if</span> (rowIdx.charAt(Character.toLowerCase(word.charAt(i)) - <span class="string">&#x27;a&#x27;</span>) != idx) &#123;</span><br><span class="line">                    isValid = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isValid) &#123;</span><br><span class="line">                list.add(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//listç±»å‹çš„å­—ç¬¦ä¸²æ•°ç»„å˜ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œæœ‰ç®€å•æ–¹æ³•ï¼šreturn ans.toArray(new String[ans.size()]);</span></span><br><span class="line">        String[] ans = <span class="keyword">new</span> String[list.size()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); ++i) &#123;</span><br><span class="line">            ans[i] = list.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ç”¨åˆ°å“ˆå¸Œè¡¨ï¼Œç”¨åˆ°äº†é›†åˆArrayListï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨String[]å‘¢ï¼Œå› ä¸ºæ•°ç»„é•¿åº¦ä¸å¯å˜ï¼Œå¾—ç”¨å®¹å™¨ã€‚</p>
<hr>
<p>æ€è·¯äºŒï¼šå…¶å®ä¸€æ ·ï¼Œæ€è·¯ä¸€é‚£ä¸ªå­—ç¬¦ä¸²è¢«å½“ä½œæ˜¯å“ˆå¸Œè¡¨é‡Œï¼Œå®ƒæ˜¯ç›´æ¥å°±åˆ›å»ºäº†ã€‚ä¸‹é¢å¯ä»¥è‡ªå®šä¹‰å‡½æ•°åˆ›å»ºï¼Œåˆ›å»ºçš„æ˜¯æ•°ç»„ï¼Œå› ä¸ºå­—æ¯ä¸ªæ•°æœ‰é™ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•°ç»„ï¼Œéƒ½æ˜¯ä¸‹æ ‡å¯¹åº”å“ªä¸ªå­—æ¯ï¼Œå€¼å¯¹åº”å€¼ï¼Œä¹Ÿç®—æ˜¯keyï¼ˆå­—æ¯ï¼‰â€“  valueï¼ˆå“ªä¸€è¡Œï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] chars = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line"><span class="keyword">static</span> &#123;   <span class="comment">//é™æ€ä»£ç å—</span></span><br><span class="line">    <span class="comment">// æ•´ç†26ä¸ªå­—æ¯åˆ†åˆ«æ¯ä¸€è¡Œå¯¹åº”1ã€2ã€3</span></span><br><span class="line">    set(<span class="string">&quot;qwertyuiop&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    set(<span class="string">&quot;asdfghjkl&quot;</span>, <span class="number">2</span>);</span><br><span class="line">    set(<span class="string">&quot;zxcvbnm&quot;</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(String s, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        chars[index(s.charAt(i))] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>static{}(é™æ€ä»£ç å—)ä¸{}(éé™æ€ä»£ç å—)çš„å¼‚åŒç‚¹?</p>
<p>ç›¸åŒç‚¹ï¼šéƒ½æ˜¯åœ¨JVMåŠ è½½ç±»æ—¶ä¸”åœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œåœ¨ç±»ä¸­éƒ½å¯ä»¥å®šä¹‰å¤šä¸ªã€‚ã€€ä¸€èˆ¬åœ¨ä»£ç å—ä¸­å¯¹ä¸€äº›staticå˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>ä¸åŒç‚¹ï¼šé™æ€ä»£ç å—åœ¨éé™æ€ä»£ç å—ä¹‹å‰æ‰§è¡Œ(é™æ€ä»£ç å—â€”&gt;éé™æ€ä»£ç å—â€”&gt;æ„é€ æ–¹æ³•)ã€‚é™æ€ä»£ç å—åªåœ¨ç¬¬ä¸€æ¬¡newæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¸å†æ‰§è¡Œï¼Œè€Œéé™æ€ä»£ç å—åœ¨æ¯newä¸€æ¬¡å°±æ‰§è¡Œä¸€æ¬¡ã€‚éé™æ€ä»£ç å—å¯åœ¨æ™®é€šæ–¹æ³•ä¸­å®šä¹‰(ä¸è¿‡ä½œç”¨ä¸å¤§)ï¼›è€Œé™æ€ä»£ç å—ä¸è¡Œã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecode æ£€æµ‹å¤§å†™å­—æ¯</title>
    <url>/2022/02/06/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/2022.2.6.%E6%A3%80%E6%B5%8B%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">520.ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² word ã€‚</span><br><span class="line">æˆ‘ä»¬å®šä¹‰ï¼Œåœ¨ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œå•è¯çš„å¤§å†™ç”¨æ³•æ˜¯æ­£ç¡®çš„ï¼š</span><br><span class="line">å…¨éƒ¨å­—æ¯éƒ½æ˜¯å¤§å†™ï¼Œæ¯”å¦‚ &quot;USA&quot; ã€‚</span><br><span class="line">å•è¯ä¸­æ‰€æœ‰å­—æ¯éƒ½ä¸æ˜¯å¤§å†™ï¼Œæ¯”å¦‚ &quot;leetcode&quot; ã€‚</span><br><span class="line">å¦‚æœå•è¯ä¸åªå«æœ‰ä¸€ä¸ªå­—æ¯ï¼Œåªæœ‰é¦–å­—æ¯å¤§å†™ï¼ŒÂ æ¯”å¦‚Â &quot;Google&quot; ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœå¤§å†™ç”¨æ³•æ­£ç¡®ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</span><br><span class="line">è¾“å…¥ï¼šword = &quot;Usa&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p>å…³äºå­—ç¬¦ä¸²ï¼Œéå†å­—ç¬¦ä¸²ä½¿ç”¨<code>charAt</code>ï¼Œä»¥åŠåˆ¤æ–­å­—æ¯æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ã€‚ASCç ä¸­ï¼ŒAæ˜¯65ï¼Œaæ˜¯97ã€‚å¤§å†™å°å†™ç›¸å·®32ï¼Œè€Œä¸æ˜¯26.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> leecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@program</span>: leeco</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: æ£€æµ‹æ˜¯å¦å…¨å¤§å†™520</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: liuxuan</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span>: 2022-02-06 10:50</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JianceDaxie</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å…¥å­—ç¬¦ä¸²ï¼š&quot;</span>);</span><br><span class="line">        Scanner sin=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String ss = sin.next();</span><br><span class="line"><span class="comment">//        StringBuilder s = new StringBuilder(ss);  //Stringå˜StringBuilder</span></span><br><span class="line"><span class="comment">//        System.out.println(s);</span></span><br><span class="line">        JianceDaxieSolution s = <span class="keyword">new</span> JianceDaxieSolution();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç»“æœï¼š&quot;</span>+s.detectCapitalUse(ss));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JianceDaxieSolution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse_1</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å­—ç¬¦ä¸²éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> num = word.charAt(i);  <span class="comment">//ç›´æ¥å˜acsç ï¼Ÿï¼Ÿ</span></span><br><span class="line">            <span class="keyword">if</span>(num &gt;=<span class="number">97</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> allUpperCase = <span class="keyword">true</span>;  <span class="comment">//æ˜¯å¦å…¨éƒ¨å¤§å†™</span></span><br><span class="line">        <span class="keyword">boolean</span> allLowerCaseFromSecond = <span class="keyword">true</span>;  <span class="comment">//æ˜¯å¦ä»ç¬¬äºŒä¸ªå¼€å§‹å…¨éƒ¨å°å†™</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (word.charAt(i) &lt; <span class="string">&#x27;A&#x27;</span> || word.charAt(i) &gt; <span class="string">&#x27;Z&#x27;</span>) &#123; <span class="comment">//å¯ä»¥ç›´æ¥åˆ¤æ–­çš„</span></span><br><span class="line">                allUpperCase = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; (word.charAt(i) &lt; <span class="string">&#x27;a&#x27;</span> || word.charAt(i) &gt; <span class="string">&#x27;z&#x27;</span>)) &#123;</span><br><span class="line">                allLowerCaseFromSecond = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> allUpperCase || allLowerCaseFromSecond;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–è§£æ³•ï¼š</p>
<p><code>Character.isLowerCase(word.charAt(0))</code>åˆ¤æ–­å­—ç¬¦æ˜¯å¤§å†™è¿˜æ˜¯å°å†™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è‹¥ç¬¬ 1 ä¸ªå­—æ¯ä¸ºå°å†™ï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™ï¼Œåˆ™è‚¯å®šfalse</span></span><br><span class="line">        <span class="keyword">if</span> (word.length() &gt;= <span class="number">2</span> &amp;&amp; Character.isLowerCase(word.charAt(<span class="number">0</span>)) &amp;&amp; Character.isUpperCase(word.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ— è®ºç¬¬ 1 ä¸ªå­—æ¯æ˜¯å¦å¤§å†™ï¼Œå…¶ä»–å­—æ¯å¿…é¡»ä¸ç¬¬ 2 ä¸ªå­—æ¯çš„å¤§å°å†™ç›¸åŒï¼Œæ¯”è¾ƒç»•äº†å±äºæ˜¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; word.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Character.isLowerCase(word.charAt(i)) ^ Character.isLowerCase(word.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šLeetCode-Solution</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode-cn.com/problems/detect-capital/solution/jian-ce-da-xie-zi-mu-by-leetcode-solutio-449z/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure>

<p><code>word.toUpperCase()</code>å­—ç¬¦ä¸²å†…æ‰€æœ‰å­—ç¬¦å¤§å°å†™è½¬æ¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">detectCapitalUse</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (word.toUpperCase().equals(word)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (word.toLowerCase().equals(word)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> n = word.length(), idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (Character.isUpperCase(word.charAt(<span class="number">0</span>))) &#123;</span><br><span class="line">            <span class="keyword">while</span> (idx &lt; n &amp;&amp; Character.isLowerCase(word.charAt(idx))) idx++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> idx == n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šAC_OIer</span><br><span class="line">é“¾æ¥ï¼šhttps:<span class="comment">//leetcode-cn.com/problems/detect-capital/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-rpor/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeå“ˆå¸Œè¡¨ç¯‡</title>
    <url>/2021/11/03/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/java%E3%81%AEleecode%E5%93%88%E5%B8%8C%E8%A1%A8%E7%AF%87/</url>
    <content><![CDATA[<h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p>å“ˆå¸Œè¡¨æ˜¯æ ¹æ®å…³é”®ç çš„å€¼è€Œç›´æ¥è¿›è¡Œè®¿é—®çš„æ•°æ®ç»“æ„ã€‚</p>
<p><strong>ä¸€èˆ¬å“ˆå¸Œè¡¨éƒ½æ˜¯ç”¨æ¥å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°é›†åˆé‡Œã€‚</strong></p>
<p>å“ˆå¸Œå‡½æ•°ã€å“ˆå¸Œç¢°æ’ï¼šæ‹‰é“¾æ³•ã€‚çº¿æ€§æ¢æµ‹æ³•ï¼ˆè¦æ±‚tableSizeä¸€å®šè¦å¤§äºdataSize ï¼Œè¦ä¸ç„¶å“ˆå¸Œè¡¨ä¸Šå°±æ²¡æœ‰ç©ºç½®çš„ä½ç½®æ¥å­˜æ”¾ å†²çªçš„æ•°æ®äº†ï¼‰</p>
<p><strong>å½“æˆ‘ä»¬é‡åˆ°äº†è¦å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°é›†åˆé‡Œçš„æ—¶å€™ï¼Œå°±è¦è€ƒè™‘å“ˆå¸Œæ³•</strong>ã€‚</p>
<p>ä½†æ˜¯å“ˆå¸Œæ³•ä¹Ÿæ˜¯<strong>ç‰ºç‰²äº†ç©ºé—´æ¢å–äº†æ—¶é—´</strong>ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ï¼Œsetæˆ–è€…æ˜¯mapæ¥å­˜æ”¾æ•°æ®ï¼Œæ‰èƒ½å®ç°å¿«é€Ÿçš„æŸ¥æ‰¾ã€‚</p>
<h3 id="Javaä¸­Mapä¸HashMap-Hashtable-HashSetçš„åŒºåˆ«"><a href="#Javaä¸­Mapä¸HashMap-Hashtable-HashSetçš„åŒºåˆ«" class="headerlink" title="Javaä¸­Mapä¸HashMap,Hashtable,HashSetçš„åŒºåˆ«"></a>Javaä¸­Mapä¸HashMap,Hashtable,HashSetçš„åŒºåˆ«</h3><p>HashMapå’ŒHashtableä¸¤ä¸ªç±»éƒ½å®ç°äº†Mapæ¥å£ï¼ŒäºŒè€…ä¿å­˜K-Vå¯¹ï¼ˆkey-valueå¯¹ï¼‰ï¼›HashSetåˆ™å®ç°äº†Setæ¥å£ï¼Œæ€§è´¨ç±»ä¼¼äºé›†åˆã€‚</p>
<p>HashTableå’ŒHashMapåŒºåˆ«ï¼š</p>
<p>ä¸€ã€ç»§æ‰¿çš„çˆ¶ç±»ä¸åŒ<br>Hashtableç»§æ‰¿è‡ªDictionaryç±»ï¼Œè€ŒHashMapç»§æ‰¿è‡ªAbstractMapç±»ã€‚ä½†äºŒè€…éƒ½å®ç°äº†Mapæ¥å£ã€‚<br>äºŒã€çº¿ç¨‹å®‰å…¨æ€§ä¸åŒ<br>Hashtable ä¸­çš„æ–¹æ³•æ˜¯Synchronizeçš„ï¼Œè€ŒHashMapä¸­çš„æ–¹æ³•åœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯éSynchronizeçš„ã€‚åœ¨å¤šçº¿ç¨‹å¹¶å‘çš„ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Hashtableï¼Œä¸éœ€è¦è‡ªå·±ä¸ºå®ƒçš„æ–¹æ³•å®ç°åŒæ­¥ï¼Œä½†ä½¿ç”¨HashMapæ—¶å°±å¿…é¡»è¦è‡ªå·±å¢åŠ åŒæ­¥å¤„ç†ã€‚<br>ä¸‰ã€æ˜¯å¦æä¾›containsæ–¹æ³•<br>HashMapæŠŠHashtableçš„containsæ–¹æ³•å»æ‰äº†ï¼Œæ”¹æˆcontainsValueå’ŒcontainsKeyï¼Œå› ä¸ºcontainsæ–¹æ³•å®¹æ˜“è®©äººå¼•èµ·è¯¯è§£ã€‚<br>Hashtableåˆ™ä¿ç•™äº†containsï¼ŒcontainsValueå’ŒcontainsKeyä¸‰ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­containså’ŒcontainsValueåŠŸèƒ½ç›¸åŒã€‚<br>å››ã€keyå’Œvalueæ˜¯å¦å…è®¸nullå€¼<br>å…¶ä¸­keyå’Œvalueéƒ½æ˜¯å¯¹è±¡ï¼Œå¹¶ä¸”ä¸èƒ½åŒ…å«é‡å¤keyï¼Œä½†å¯ä»¥åŒ…å«é‡å¤çš„valueã€‚<br>Hashtableä¸­ï¼Œkeyå’Œvalueéƒ½ä¸å…è®¸å‡ºç°nullå€¼ã€‚<br>HashMapä¸­ï¼Œnullå¯ä»¥ä½œä¸ºé”®ï¼Œè¿™æ ·çš„é”®åªæœ‰ä¸€ä¸ªï¼›å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ‰€å¯¹åº”çš„å€¼ä¸ºnullã€‚å½“get()æ–¹æ³•è¿”å›nullå€¼æ—¶ï¼Œå¯èƒ½æ˜¯ HashMapä¸­æ²¡æœ‰è¯¥é”®ï¼Œä¹Ÿå¯èƒ½ä½¿è¯¥é”®æ‰€å¯¹åº”çš„å€¼ä¸ºnullã€‚å› æ­¤ï¼Œåœ¨HashMapä¸­ä¸èƒ½ç”±get()æ–¹æ³•æ¥åˆ¤æ–­HashMapä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®ï¼Œ è€Œåº”è¯¥ç”¨containsKey()æ–¹æ³•æ¥åˆ¤æ–­ã€‚<br>äº”ã€ä¸¤ä¸ªéå†æ–¹å¼çš„å†…éƒ¨å®ç°ä¸Šä¸åŒ<br>Hashtableã€HashMapéƒ½ä½¿ç”¨äº† Iteratorã€‚è€Œç”±äºå†å²åŸå› ï¼ŒHashtableè¿˜ä½¿ç”¨äº†Enumerationçš„æ–¹å¼ ã€‚<br>å…­ã€hashå€¼ä¸åŒ<br>å“ˆå¸Œå€¼çš„ä½¿ç”¨ä¸åŒï¼ŒHashTableç›´æ¥ä½¿ç”¨å¯¹è±¡çš„hashCodeã€‚è€ŒHashMapé‡æ–°è®¡ç®—hashå€¼ã€‚<br>ä¸ƒã€å†…éƒ¨å®ç°ä½¿ç”¨çš„æ•°ç»„åˆå§‹åŒ–å’Œæ‰©å®¹æ–¹å¼ä¸åŒ<br>Hashtableå’ŒHashMapå®ƒä»¬ä¸¤ä¸ªå†…éƒ¨å®ç°æ–¹å¼çš„æ•°ç»„çš„åˆå§‹å¤§å°å’Œæ‰©å®¹çš„æ–¹å¼ã€‚HashTableä¸­hashæ•°ç»„é»˜è®¤å¤§å°æ˜¯11ï¼Œå¢åŠ çš„æ–¹å¼æ˜¯ old*2+1ã€‚<br>HashMapä¸­hashæ•°ç»„çš„é»˜è®¤å¤§å°æ˜¯16ï¼Œè€Œä¸”ä¸€å®šæ˜¯2çš„æŒ‡æ•°ã€‚</p>
<h2 id="242é¢˜-æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯"><a href="#242é¢˜-æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯" class="headerlink" title="242é¢˜.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯"></a>242é¢˜.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ t ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ t æ˜¯å¦æ˜¯ s çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br><span class="line">ç¤ºä¾‹ 1: è¾“å…¥: s = &quot;anagram&quot;, t = &quot;nagaram&quot; è¾“å‡º: true</span><br><span class="line">ç¤ºä¾‹ 2: è¾“å…¥: s = &quot;rat&quot;, t = &quot;car&quot; è¾“å‡º: false</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç”¨mapï¼Œå…ˆéå†ä¸€ä¸ªå¾€é‡ŒåŠ ï¼Œå†éå†å¦ä¸€ä¸ªå‡ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…valueæ˜¯0ï¼Œåˆ™falseã€‚çœ‹åˆ°åªæœ‰å°å†™å­—æ¯ï¼Œæ‰€ä»¥é•¿åº¦ä¸º26çš„æ•°ç»„æ¥å……å½“mapä¹Ÿå¯ä»¥ã€‚</p>
<p>çŸ¥è¯†ï¼šchar ch : s.<strong>toCharArray()</strong>  éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚c++ä¸­çš„ chï¼šs ä¸å¯ç”¨ã€‚</p>
<p>å­—ç¬¦ä¸²ä¸­ï¼Œè·å¾—ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œä¸èƒ½ç”¨s[i]ï¼Œè€Œæ˜¯ï¼šs.<strong>charAt(i)</strong></p>
<p>åˆ¤æ–­mapä¸­æ˜¯å¦æœ‰æŸkeyï¼šif(!m.containsKey(ch))</p>
<p>è·å¾—keyå¯¹åº”çš„valueï¼šm.get(key)</p>
<p>æ”¹å˜æŸkeyçš„valueï¼Œç›´æ¥è¦†ç›–ï¼Ÿä¸èƒ½ï¼šm[i]++;</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAnagram</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        Map&lt;Character, Integer&gt;m = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(s.length() != t.length())&#123;</span><br><span class="line">        <span class="comment">//æ•°ç»„çš„é•¿åº¦lengthä¸åŠ æ‹¬å·ï¼Œå­—ç¬¦ä¸²çš„é•¿åº¦è¦åŠ æ‹¬å·</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> ch:s.toCharArray())&#123;</span><br><span class="line">            <span class="keyword">if</span>(!m.containsKey(ch))&#123;</span><br><span class="line">                m.put(ch,<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                m.put(ch, m.get(ch)+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> ch:t.toCharArray())&#123;</span><br><span class="line">            <span class="keyword">if</span>(!m.containsKey(ch) || m.get(ch)==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//a==0 å’Œ a.equals(0) ä¸€æ ·</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                m.put(ch, m.get(ch)-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ç§æ–¹æ³•ï¼šå•çº¯çš„å­—ç¬¦ä¸²æ’åºæ¯”è¾ƒ</p>
<p>é¦–å…ˆå°†å­—ç¬¦ä¸²å˜æˆå­—ç¬¦æ•°ç»„ï¼Œç„¶åè¿›è¡Œæ’åºï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAnagram</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.length() != t.length()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">char</span>[] str1 = s.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] str2 = t.toCharArray();</span><br><span class="line">        Arrays.sort(str1);</span><br><span class="line">        Arrays.sort(str2);</span><br><span class="line">        <span class="keyword">return</span> Arrays.equals(str1, str2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="349é¢˜-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†"><a href="#349é¢˜-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†" class="headerlink" title="349é¢˜.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†"></a>349é¢˜.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚</span><br><span class="line">è¯´æ˜ï¼š è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚ æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šå“ˆå¸Œsetå³å¯ã€‚ä¸€ä¸ªéå†å¾—åˆ°æ•°å­—ï¼Œä¸€ä¸ªå­˜å‚¨ç»“æœã€‚</p>
<p>int[] æ˜¯å›ºå®šé•¿æ•°ç»„ï¼Œæ²¡æ³•åƒvectorä¸€æ ·push_back</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] intersection(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums1 == <span class="keyword">null</span> || nums1.length == <span class="number">0</span> || nums2 == <span class="keyword">null</span> || nums2.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; set1 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Integer&gt; resSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="comment">//éå†æ•°ç»„1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums1) &#123;</span><br><span class="line">            set1.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//éå†æ•°ç»„2çš„è¿‡ç¨‹ä¸­åˆ¤æ–­å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥å…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums2) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set1.contains(i)) &#123;</span><br><span class="line">                resSet.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] resArr = <span class="keyword">new</span> <span class="keyword">int</span>[resSet.size()];</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//å°†ç»“æœå‡ ä½•è½¬ä¸ºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : resSet) &#123;  <span class="comment">//æ•°ç»„ã€setå¯ä»¥è¿™æ ·åšï¼Œstringä¸è¡Œ</span></span><br><span class="line">            resArr[index++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resArr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="202é¢˜-å¿«ä¹æ•°"><a href="#202é¢˜-å¿«ä¹æ•°" class="headerlink" title="202é¢˜.å¿«ä¹æ•°"></a>202é¢˜.å¿«ä¹æ•°</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ã€Œå¿«ä¹æ•°ã€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ æ— é™å¾ªç¯ ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœ å¯ä»¥å˜ä¸º  1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šä½¿ç”¨å“ˆå¸Œæ³•ï¼Œæ¥åˆ¤æ–­è¿™ä¸ªsumæ˜¯å¦é‡å¤å‡ºç°ï¼Œå¦‚æœé‡å¤äº†å°±æ˜¯return falseï¼Œ å¦åˆ™ä¸€ç›´æ‰¾åˆ°sumä¸º1ä¸ºæ­¢ã€‚</p>
<p>çŸ¥è¯†ï¼šsetåˆ¤æ–­æŸæ•°æ˜¯å¦å­˜åœ¨ï¼šs.contains(i);</p>
<p>setæ·»åŠ ä¸€ä¸ªæ•°ï¼šs.add(i);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; record = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !record.contains(n)) &#123;</span><br><span class="line">            record.add(n);</span><br><span class="line">            n = getsum(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å¾—nå„ä½å¹³æ–¹åçš„å’Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getsum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = n % <span class="number">10</span>;</span><br><span class="line">            res += temp * temp;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="454é¢˜-å››æ•°ç›¸åŠ "><a href="#454é¢˜-å››æ•°ç›¸åŠ " class="headerlink" title="454é¢˜.å››æ•°ç›¸åŠ "></a>454é¢˜.å››æ•°ç›¸åŠ </h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚</span><br><span class="line"></span><br><span class="line">ä¸ºäº†ä½¿é—®é¢˜ç®€å•åŒ–ï¼Œæ‰€æœ‰çš„ A, B, C, D å…·æœ‰ç›¸åŒçš„é•¿åº¦ Nï¼Œä¸” 0 â‰¤ N â‰¤ 500 ã€‚æ‰€æœ‰æ•´æ•°çš„èŒƒå›´åœ¨ -2^28 åˆ° 2^28 - 1 ä¹‹é—´ï¼Œæœ€ç»ˆç»“æœä¸ä¼šè¶…è¿‡ 2^31 - 1 ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç”¨ä¸€ä¸ªmapä»£è¡¨åŒå±‚å¾ªç¯ï¼Œå¦å¤–å†æ¥ä¸ªåŒå±‚å¾ªç¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span>[] nums3, <span class="keyword">int</span>[] nums4)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡ä¸¤ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒæ—¶ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°ï¼Œæ”¾å…¥map</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j : nums2) &#123;</span><br><span class="line">                temp = i + j;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(temp)) &#123;</span><br><span class="line">                    map.put(temp, map.get(temp) + <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(temp, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡å‰©ä½™çš„ä¸¤ä¸ªå…ƒç´ çš„å’Œï¼Œåœ¨mapä¸­æ‰¾æ˜¯å¦å­˜åœ¨ç›¸åŠ ä¸º0çš„æƒ…å†µï¼ŒåŒæ—¶è®°å½•æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : nums3) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j : nums4) &#123;</span><br><span class="line">                temp = i + j;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(<span class="number">0</span> - temp)) &#123;</span><br><span class="line">                    res += map.get(<span class="number">0</span> - temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="15é¢˜-ä¸‰æ•°ä¹‹å’Œ"><a href="#15é¢˜-ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="15é¢˜.ä¸‰æ•°ä¹‹å’Œ"></a>15é¢˜.ä¸‰æ•°ä¹‹å’Œ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</span><br><span class="line">æ³¨æ„ï¼š ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</span><br><span class="line">ç¤ºä¾‹ï¼šç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œæ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š [ [-1, 0, 1], [-1, -1, 2] ]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šéš¾ç‚¹åœ¨äºå»é‡</p>
<p>æ–¹æ³•ä¸€ï¼šä¸¤å±‚å¾ªç¯ï¼Œç¬¬äºŒå±‚åŠ ä¸€ä¸ªsetã€‚æ³¨æ„å»é‡ã€‚</p>
<p>æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆæ³•ï¼Œå…¶å®æ˜¯ä¸‰æŒ‡é’ˆï¼ŒiæŒ‡é’ˆåï¼Œleftå’Œrightã€‚ä¸‰æ•°ä¹‹å’Œå¦‚æœå¤§äº†ï¼Œå³æŒ‡é’ˆå·¦ç§»ï¼Œå°äº†ï¼Œå·¦æŒ‡é’ˆå³ç§»ã€‚</p>
<p>çŸ¥è¯†ï¼šåŠ¨æ€æ•°ç»„ArrayListã€‚æ·»åŠ æ•°ï¼šresult.add(Arrays.asList(nums[i], nums[left], nums[right])); ï¼ˆï¼‰asListæ˜¯é™int[]å˜æˆlistçš„æ„æ€ã€‚</p>
<p>æ•°ç»„int[] æ’åºï¼šArrays.sort(nums);</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> result;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> left = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (right &gt; left) &#123;</span><br><span class="line">                <span class="keyword">int</span> sum = nums[i] + nums[left] + nums[right];</span><br><span class="line">                <span class="keyword">if</span> (sum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    result.add(Arrays.asList(nums[i], nums[left], nums[right]));</span><br><span class="line">                    <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[right] == nums[right - <span class="number">1</span>]) right--;</span><br><span class="line">                    <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[left] == nums[left + <span class="number">1</span>]) left++;</span><br><span class="line">                    right--; </span><br><span class="line">                    left++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="18é¢˜-å››æ•°ä¹‹å’Œ"><a href="#18é¢˜-å››æ•°ä¹‹å’Œ" class="headerlink" title="18é¢˜.å››æ•°ä¹‹å’Œ"></a>18é¢˜.å››æ•°ä¹‹å’Œ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¢˜æ„ï¼šç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨å››ä¸ªå…ƒç´  aï¼Œbï¼Œc å’Œ d ï¼Œä½¿å¾— a + b + c + d çš„å€¼ä¸ target ç›¸ç­‰ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ã€‚</span><br><span class="line">æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„å››å…ƒç»„ã€‚</span><br><span class="line">ç¤ºä¾‹ï¼š ç»™å®šæ•°ç»„ nums = [1, 0, -1, 0, -2, 2]ï¼Œå’Œ target = 0ã€‚ æ»¡è¶³è¦æ±‚çš„å››å…ƒç»„é›†åˆä¸ºï¼š [ [-1, 0, 0, 1], [-2, -1, 1, 2], [-2, 0, 0, 2] ]</span><br></pre></td></tr></table></figure>

<p>å››æ•°ä¹‹å’Œï¼Œå’Œ15.ä¸‰æ•°ä¹‹å’Œæ˜¯ä¸€ä¸ªæ€è·¯ï¼Œéƒ½æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆæ³•, åŸºæœ¬è§£æ³•å°±æ˜¯åœ¨15.ä¸‰æ•°ä¹‹å’Œçš„åŸºç¡€ä¸Šå†å¥—ä¸€å±‚forå¾ªç¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; fourSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i - <span class="number">1</span>] == nums[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt; i + <span class="number">1</span> &amp;&amp; nums[j - <span class="number">1</span>] == nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> left = j + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">int</span> right = nums.length - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (right &gt; left) &#123;</span><br><span class="line">                    <span class="keyword">int</span> sum = nums[i] + nums[j] + nums[left] + nums[right];</span><br><span class="line">                    <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">                        right--;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">                        left++;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        result.add(Arrays.asList(nums[i], nums[j], nums[left], nums[right])); </span><br><span class="line">                        <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[right] == nums[right - <span class="number">1</span>]) right--;</span><br><span class="line">                        <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[left] == nums[left + <span class="number">1</span>]) left++;</span><br><span class="line">                        left++;</span><br><span class="line">                        right--;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeå­—ç¬¦ä¸²ç¯‡</title>
    <url>/2021/11/07/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/java%E3%81%AEleecode%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AF%87/</url>
    <content><![CDATA[<h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p>char ch : s.<strong>toCharArray()</strong>  éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚c++ä¸­çš„ chï¼šs ä¸å¯ç”¨ã€‚</p>
<p>å­—ç¬¦ä¸²ä¸­ï¼Œè·å¾—ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œä¸èƒ½ç”¨s[i]ï¼Œè€Œæ˜¯ï¼šs.<strong>charAt(i)</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">sb.setCharAt(<span class="number">0</span>,<span class="string">&#x27;v&#x27;</span>);  <span class="comment">//æ›¿æ¢æŸä½ç½®çš„å­—ç¬¦</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºå­—ç¬¦ä¸²"><a href="#åˆ›å»ºå­—ç¬¦ä¸²" class="headerlink" title="åˆ›å»ºå­—ç¬¦ä¸²"></a>åˆ›å»ºå­—ç¬¦ä¸²</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String str = &quot;Runoob&quot;;</span><br><span class="line">String str2=new String(&quot;Runoob&quot;);</span><br><span class="line">String åˆ›å»ºçš„å­—ç¬¦ä¸²å­˜å‚¨åœ¨å…¬å…±æ± ä¸­ï¼Œè€Œ new åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡åœ¨å †ä¸Šï¼š</span><br><span class="line">char[] helloArray = &#123; &#x27;r&#x27;, &#x27;u&#x27;, &#x27;n&#x27;, &#x27;o&#x27;, &#x27;o&#x27;, &#x27;b&#x27;&#125;;</span><br><span class="line">String helloString = new String(helloArray);  </span><br></pre></td></tr></table></figure>

<p>**æ³¨æ„:**String ç±»æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œæ‰€ä»¥ä½ ä¸€æ—¦åˆ›å»ºäº† String å¯¹è±¡ï¼Œé‚£å®ƒçš„å€¼å°±æ— æ³•æ”¹å˜äº†ï¼ˆè¯¦çœ‹ç¬”è®°éƒ¨åˆ†è§£æï¼‰ã€‚</p>
<p>å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²åšå¾ˆå¤šä¿®æ”¹ï¼Œé‚£ä¹ˆåº”è¯¥é€‰æ‹©ä½¿ç”¨ [StringBuffer &amp; StringBuilder ç±»]ã€‚</p>
<h3 id="å­—ç¬¦ä¸²é•¿åº¦"><a href="#å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å­—ç¬¦ä¸²é•¿åº¦"></a>å­—ç¬¦ä¸²é•¿åº¦</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String site = &quot;www.runoob.com&quot;;</span><br><span class="line">int len = site.length();   (ç»“æœä¸º14)</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²è¿æ¥"><a href="#å­—ç¬¦ä¸²è¿æ¥" class="headerlink" title="å­—ç¬¦ä¸²è¿æ¥"></a>å­—ç¬¦ä¸²è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;æˆ‘çš„åå­—æ˜¯ &quot;.concat(&quot;Runoob&quot;);</span><br><span class="line">String string1 = &quot;èœé¸Ÿæ•™ç¨‹ç½‘å€ï¼š&quot;;     </span><br><span class="line">System.out.println(&quot;1ã€&quot; + string1 + &quot;www.runoob.com&quot;);  </span><br></pre></td></tr></table></figure>

<h3 id="æ ¼å¼åŒ–å­—ç¬¦ä¸²"><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²" class="headerlink" title="æ ¼å¼åŒ–å­—ç¬¦ä¸²"></a>æ ¼å¼åŒ–å­—ç¬¦ä¸²</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">System.out.printf(å­—ç¬¦ä¸²å˜é‡çš„å€¼ä¸º%s&quot;, stringVar);</span><br><span class="line">String fs;</span><br><span class="line">fs = String.format(&quot; å­—ç¬¦ä¸²å˜é‡çš„å€¼ä¸º %s&quot;, stringVar);</span><br></pre></td></tr></table></figure>

<h3 id="Java-StringBuffer-å’Œ-StringBuilder-ç±»"><a href="#Java-StringBuffer-å’Œ-StringBuilder-ç±»" class="headerlink" title="Java StringBuffer å’Œ StringBuilder ç±»"></a>Java StringBuffer å’Œ StringBuilder ç±»</h3><p>å½“å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ StringBuffer å’Œ StringBuilder ç±»ã€‚</p>
<p>å’Œ String ç±»ä¸åŒçš„æ˜¯ï¼ŒStringBuffer å’Œ StringBuilder ç±»çš„å¯¹è±¡èƒ½å¤Ÿè¢«å¤šæ¬¡çš„ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸äº§ç”Ÿæ–°çš„æœªä½¿ç”¨å¯¹è±¡ã€‚</p>
<p>åœ¨ä½¿ç”¨ StringBuffer ç±»æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå¯¹ StringBuffer å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œ<strong>æ‰€ä»¥å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹æ¨èä½¿ç”¨ StringBufferã€‚</strong></p>
<p>StringBuilder ç±»åœ¨ Java 5 ä¸­è¢«æå‡ºï¼Œå®ƒå’Œ StringBuffer ä¹‹é—´çš„æœ€å¤§ä¸åŒåœ¨äº StringBuilder çš„æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆä¸èƒ½åŒæ­¥è®¿é—®ï¼‰ã€‚</p>
<p>ç”±äº StringBuilder ç›¸è¾ƒäº StringBuffer æœ‰é€Ÿåº¦ä¼˜åŠ¿ï¼Œ<strong>æ‰€ä»¥å¤šæ•°æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨ StringBuilder ç±»ã€‚</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">StringBuilder sb = new StringBuilder(10);  //å®šå¤§å°</span><br><span class="line">sb.append(&quot;Runoob..&quot;);    //åœ¨å®¹é‡å†…åŠ </span><br><span class="line">sb.insert(8, &quot;Java&quot;);    //åœ¨å®¹é‡å¤–åŠ </span><br><span class="line">System.out.println(sb); </span><br><span class="line">sb.delete(5,8);    //åˆ é™¤</span><br><span class="line">å˜æˆstringå­—ç¬¦ä¸²ï¼š  res.toString();</span><br></pre></td></tr></table></figure>

<p><strong>åœ¨åº”ç”¨ç¨‹åºè¦æ±‚çº¿ç¨‹å®‰å…¨çš„æƒ…å†µä¸‹ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ StringBuffer ç±»</strong>ã€‚</p>
<h3 id="æˆªå–å­—ç¬¦ä¸²"><a href="#æˆªå–å­—ç¬¦ä¸²" class="headerlink" title="æˆªå–å­—ç¬¦ä¸²"></a>æˆªå–å­—ç¬¦ä¸²</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Str.substring(4)   ä»4å¼€å§‹ï¼ŒåŒ…æ‹¬4</span><br><span class="line">Str.substring(4, 10)   å·¦é—­å³å¼€ï¼ŒåŒ…æ‹¬4ä¸åŒ…æ‹¬10</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²è½¬æ¢ä¸ºint"><a href="#å­—ç¬¦ä¸²è½¬æ¢ä¸ºint" class="headerlink" title="å­—ç¬¦ä¸²è½¬æ¢ä¸ºint"></a>å­—ç¬¦ä¸²è½¬æ¢ä¸ºint</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Integer.valueOf(&quot;444&quot;,16)  //16è¿›åˆ¶</span><br><span class="line">Integer.parseInt(arr[j]);</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²åè½¬"><a href="#å­—ç¬¦ä¸²åè½¬" class="headerlink" title="å­—ç¬¦ä¸²åè½¬"></a>å­—ç¬¦ä¸²åè½¬</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">StringBuilder sb=new StringBuilder(s);</span><br><span class="line">return sb.reverse().toString();</span><br></pre></td></tr></table></figure>

<h2 id="344é¢˜-åè½¬å­—ç¬¦ä¸²"><a href="#344é¢˜-åè½¬å­—ç¬¦ä¸²" class="headerlink" title="344é¢˜.åè½¬å­—ç¬¦ä¸²"></a>344é¢˜.åè½¬å­—ç¬¦ä¸²</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚</span><br><span class="line">ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚</span><br><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line">è¾“å…¥ï¼š[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]</span><br><span class="line">è¾“å‡ºï¼š[&quot;o&quot;,&quot;l&quot;,&quot;l&quot;,&quot;e&quot;,&quot;h&quot;]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šä¸€å¤´ä¸€å°¾åŒæŒ‡é’ˆï¼Œäº¤æ¢å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(<span class="keyword">char</span>[] s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l=<span class="number">0</span>, r=s.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">            s[l] ^= s[r]; </span><br><span class="line">            s[r] ^= s[l];  </span><br><span class="line">            s[l] ^= s[r];  </span><br><span class="line">            l++;</span><br><span class="line">            r--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="541é¢˜-åè½¬å­—ç¬¦ä¸²â…¡"><a href="#541é¢˜-åè½¬å­—ç¬¦ä¸²â…¡" class="headerlink" title="541é¢˜.åè½¬å­—ç¬¦ä¸²â…¡"></a>541é¢˜.åè½¬å­—ç¬¦ä¸²â…¡</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° kï¼Œä½ éœ€è¦å¯¹ä»å­—ç¬¦ä¸²å¼€å¤´ç®—èµ·çš„æ¯éš” 2k ä¸ªå­—ç¬¦çš„å‰ k ä¸ªå­—ç¬¦è¿›è¡Œåè½¬ã€‚</span><br><span class="line">å¦‚æœå‰©ä½™å­—ç¬¦å°‘äº k ä¸ªï¼Œåˆ™å°†å‰©ä½™å­—ç¬¦å…¨éƒ¨åè½¬ã€‚</span><br><span class="line">å¦‚æœå‰©ä½™å­—ç¬¦å°äº 2k ä½†å¤§äºæˆ–ç­‰äº k ä¸ªï¼Œåˆ™åè½¬å‰ k ä¸ªå­—ç¬¦ï¼Œå…¶ä½™å­—ç¬¦ä¿æŒåŸæ ·ã€‚</span><br><span class="line">ç¤ºä¾‹:</span><br><span class="line">è¾“å…¥: s = &quot;abcdefg&quot;, k = 2</span><br><span class="line">è¾“å‡º: &quot;bacdfeg&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§£æ³•ä¸€ï¼šç”¨StringBufferç±»ï¼Œå¯¹å­—ç¬¦ä¸²è¿›è¡Œæ”¹å˜ã€‚ç”¨åˆ°appendï¼ˆï¼‰æ–¹æ³•ã€substringæ–¹æ³•ï¼ˆï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseStr</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        StringBuffer res = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">int</span> length = s.length();</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; length) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°kå¤„å’Œ2kå¤„</span></span><br><span class="line">            StringBuffer temp = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">            <span class="comment">// ä¸lengthè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœå¤§äºlengthäº†ï¼Œé‚£å°±å°†å…¶ç½®ä¸ºlength</span></span><br><span class="line">            <span class="keyword">int</span> firstK = (start + k &gt; length) ? length : start + k;</span><br><span class="line">            <span class="keyword">int</span> secondK = (start + (<span class="number">2</span> * k) &gt; length) ? length : start + (<span class="number">2</span> * k);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ— è®ºstartæ‰€å¤„ä½ç½®ï¼Œè‡³å°‘ä¼šåè½¬ä¸€æ¬¡</span></span><br><span class="line">            temp.append(s.substring(start, firstK));</span><br><span class="line">            res.append(temp.reverse());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœfirstKåˆ°secondKä¹‹é—´æœ‰å…ƒç´ ï¼Œè¿™äº›å…ƒç´ ç›´æ¥æ”¾å…¥resé‡Œå³å¯ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (firstK &lt; secondK) &#123; <span class="comment">//æ­¤æ—¶å‰©ä½™é•¿åº¦ä¸€å®šå¤§äºkã€‚</span></span><br><span class="line">                res.append(s.substring(firstK, secondK));</span><br><span class="line">            &#125;</span><br><span class="line">            start += (<span class="number">2</span> * k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£æ³•äºŒï¼šç”¨charå‹æ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseStr</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ch.length; i += <span class="number">2</span> * k)&#123;</span><br><span class="line">            <span class="keyword">int</span> start = i;</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ˜¯åˆ¤æ–­å°¾æ•°å¤Ÿä¸å¤Ÿkä¸ªæ¥å–å†³endæŒ‡é’ˆçš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">int</span> end = Math.min(ch.length - <span class="number">1</span>, start + k - <span class="number">1</span>);</span><br><span class="line">            <span class="comment">//ç”¨å¼‚æˆ–è¿ç®—åè½¬ </span></span><br><span class="line">            <span class="keyword">while</span>(start &lt; end)&#123;</span><br><span class="line">                ch[start] ^= ch[end];</span><br><span class="line">                ch[end] ^= ch[start];</span><br><span class="line">                ch[start] ^= ch[end];</span><br><span class="line">                start++;</span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(ch);   <span class="comment">//charå‹æ•°ç»„å˜string</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‰‘æŒ‡offer05-æ›¿æ¢ç©ºæ ¼"><a href="#å‰‘æŒ‡offer05-æ›¿æ¢ç©ºæ ¼" class="headerlink" title="å‰‘æŒ‡offer05.æ›¿æ¢ç©ºæ ¼"></a>å‰‘æŒ‡offer05.æ›¿æ¢ç©ºæ ¼</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ&quot;%20&quot;ã€‚</span><br><span class="line">ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šs = &quot;We are happy.&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;We%20are%20happy.&quot;</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç›´æ¥ç”¨ä¸€ä¸ªstringbuilderæ¥æ–°å»ºå­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="comment">//é€‰ç”¨ StringBuilder å•çº¿ç¨‹ä½¿ç”¨ï¼Œæ¯”è¾ƒå¿«</span></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="comment">//ç¢°åˆ°ç©ºæ ¼åˆ™æ›¿æ¢ï¼Œå¦åˆ™ç›´æ¥å¤åˆ¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">		<span class="comment">//str.charAt(i) ä¸º char ç±»å‹ï¼Œä¸ºäº†æ¯”è¾ƒéœ€è¦å°†å…¶è½¬ä¸ºå’Œ &quot; &quot; ç›¸åŒçš„å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot; &quot;</span>.equals(String.valueOf(s.charAt(i))))&#123;</span><br><span class="line">        <span class="comment">//.valueOfç±»å‹è½¬æ¢ï¼Œç±»ä¼¼parseIntä¹Ÿå¯ä»¥stringè½¬int</span></span><br><span class="line">                sb.append(<span class="string">&quot;%20&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sb.append(s.charAt(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯"><a href="#ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯" class="headerlink" title="ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯"></a>ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€ä¸ªç¿»è½¬å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå•è¯ã€‚</span><br><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line">è¾“å…¥: &quot;the sky is blue&quot;</span><br><span class="line">è¾“å‡º: &quot;blue is sky the&quot;</span><br><span class="line">è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šé¦–å…ˆå°†æ•´ä¸ªå­—ç¬¦ä¸²åè½¬è¿‡æ¥ï¼Œç„¶åå°†å­—ç¬¦ä¸²ä¸­çš„å•è¯åè½¬ä¸€ä¸‹ï¼Œå³å¯ã€‚</p>
<ul>
<li>ç§»é™¤å¤šä½™ç©ºæ ¼ : â€œthe sky is blueâ€</li>
<li>å­—ç¬¦ä¸²åè½¬ï¼šâ€eulb si yks ehtâ€</li>
<li>å•è¯åè½¬ï¼šâ€blue is sky theâ€</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.reverseWords2() called with: s = [&quot; + s + &quot;]&quot;);</span></span><br><span class="line">        <span class="comment">// 1.å»é™¤é¦–å°¾ä»¥åŠä¸­é—´å¤šä½™ç©ºæ ¼</span></span><br><span class="line">        StringBuilder sb = removeSpace(s);</span><br><span class="line">        <span class="comment">// 2.åè½¬æ•´ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">        reverseString(sb, <span class="number">0</span>, sb.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 3.åè½¬å„ä¸ªå•è¯</span></span><br><span class="line">        reverseEachWord(sb);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> StringBuilder <span class="title">removeSpace</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end = s.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s.charAt(start) == <span class="string">&#x27; &#x27;</span>) start++;</span><br><span class="line">        <span class="keyword">while</span> (s.charAt(end) == <span class="string">&#x27; &#x27;</span>) end--;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(start);</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="string">&#x27; &#x27;</span> || sb.charAt(sb.length() - <span class="number">1</span>) != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                sb.append(c);</span><br><span class="line">            &#125;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(StringBuilder sb, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">            <span class="keyword">char</span> temp = sb.charAt(start);</span><br><span class="line">            sb.setCharAt(start, sb.charAt(end));</span><br><span class="line">            sb.setCharAt(end, temp);</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverseEachWord</span><span class="params">(StringBuilder sb)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> end = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> n = sb.length();</span><br><span class="line">        <span class="keyword">while</span> (start &lt; n) &#123;</span><br><span class="line">            <span class="keyword">while</span> (end &lt; n &amp;&amp; sb.charAt(end) != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                end++;</span><br><span class="line">            &#125;</span><br><span class="line">            reverseString(sb, start, end - <span class="number">1</span>);</span><br><span class="line">            start = end + <span class="number">1</span>;</span><br><span class="line">            end = start + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‰‘æŒ‡Offer58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²"><a href="#å‰‘æŒ‡Offer58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²" class="headerlink" title="å‰‘æŒ‡Offer58-II.å·¦æ—‹è½¬å­—ç¬¦ä¸²"></a>å‰‘æŒ‡Offer58-II.å·¦æ—‹è½¬å­—ç¬¦ä¸²</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcdefg&quot;, k = 2</span><br><span class="line">è¾“å‡º: &quot;cdefgab&quot;</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šå¦‚æœè¦æ±‚ä¸ç”³è¯·é¢å¤–ç©ºé—´</p>
<ol>
<li>åè½¬åŒºé—´ä¸ºå‰nçš„å­ä¸²</li>
<li>åè½¬åŒºé—´ä¸ºnåˆ°æœ«å°¾çš„å­ä¸²</li>
<li>åè½¬æ•´ä¸ªå­—ç¬¦ä¸²</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reverseLeftWords</span><span class="params">(String s, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=s.length();</span><br><span class="line">        StringBuilder sb=<span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">        reverseString(sb,<span class="number">0</span>,n-<span class="number">1</span>);</span><br><span class="line">        reverseString(sb,n,len-<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//ç¿»è½¬å‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(StringBuilder sb, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">            <span class="keyword">char</span> temp = sb.charAt(start);</span><br><span class="line">            sb.setCharAt(start, sb.charAt(end));</span><br><span class="line">            sb.setCharAt(end, temp);</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="459é¢˜-é‡å¤çš„å­å­—ç¬¦ä¸²"><a href="#459é¢˜-é‡å¤çš„å­å­—ç¬¦ä¸²" class="headerlink" title="459é¢˜.é‡å¤çš„å­å­—ç¬¦ä¸²"></a>459é¢˜.é‡å¤çš„å­å­—ç¬¦ä¸²</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦å¯ä»¥ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚ç»™å®šçš„å­—ç¬¦ä¸²åªå«æœ‰å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”é•¿åº¦ä¸è¶…è¿‡10000ã€‚</span><br><span class="line">è¾“å…¥: &quot;abab&quot;</span><br><span class="line">è¾“å‡º: True</span><br><span class="line">è§£é‡Š: å¯ç”±å­å­—ç¬¦ä¸² &quot;ab&quot; é‡å¤ä¸¤æ¬¡æ„æˆã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šKMPç®—æ³•ï¼ŒKMPçš„ä¸»è¦æ€æƒ³æ˜¯<strong>å½“å‡ºç°å­—ç¬¦ä¸²ä¸åŒ¹é…æ—¶ï¼Œå¯ä»¥çŸ¥é“ä¸€éƒ¨åˆ†ä¹‹å‰å·²ç»åŒ¹é…çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯é¿å…ä»å¤´å†å»åšåŒ¹é…äº†ã€‚</strong></p>
<p>KMPçš„ç²¾é«“æ‰€åœ¨å°±æ˜¯å‰ç¼€è¡¨ï¼Œå‰ç¼€è¡¨ï¼šèµ·å§‹ä½ç½®åˆ°ä¸‹è¡¨iä¹‹å‰ï¼ˆåŒ…æ‹¬iï¼‰çš„å­ä¸²ä¸­ï¼Œæœ‰å¤šå¤§é•¿åº¦çš„ç›¸åŒå‰ç¼€åç¼€ã€‚</p>
<p>å‰ç¼€ï¼šæŒ‡ä¸åŒ…å«æœ€åä¸€ä¸ªå­—ç¬¦çš„æ‰€æœ‰ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å¤´çš„è¿ç»­å­ä¸²ã€‚</p>
<p>åç¼€ï¼šæŒ‡ä¸åŒ…å«ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ‰€æœ‰ä»¥æœ€åä¸€ä¸ªå­—ç¬¦ç»“å°¾çš„è¿ç»­å­ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">repeatedSubstringPattern</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="comment">// åŸä¸²åŠ ä¸ªç©ºæ ¼(å“¨å…µ)ï¼Œä½¿ä¸‹æ ‡ä»1å¼€å§‹ï¼Œè¿™æ ·jä»0å¼€å§‹ï¼Œä¹Ÿä¸ç”¨åˆå§‹åŒ–äº†</span></span><br><span class="line">        s = <span class="string">&quot; &quot;</span> + s;</span><br><span class="line">        <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span>[] next = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// æ„é€  next æ•°ç»„è¿‡ç¨‹ï¼Œjä»0å¼€å§‹(ç©ºæ ¼)ï¼Œiä»2å¼€å§‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= len; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒ¹é…ä¸æˆåŠŸï¼Œjå›åˆ°å‰ä¸€ä½ç½® next æ•°ç»„æ‰€å¯¹åº”çš„å€¼</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; chars[i] != chars[j + <span class="number">1</span>]) j = next[j];</span><br><span class="line">            <span class="comment">// åŒ¹é…æˆåŠŸï¼Œjå¾€åç§»</span></span><br><span class="line">            <span class="keyword">if</span> (chars[i] == chars[j + <span class="number">1</span>]) j++;</span><br><span class="line">            <span class="comment">// æ›´æ–° next æ•°ç»„çš„å€¼</span></span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æœ€ååˆ¤æ–­æ˜¯å¦æ˜¯é‡å¤çš„å­å­—ç¬¦ä¸²ï¼Œè¿™é‡Œ next[len] å³ä»£è¡¨nextæ•°ç»„æœ«å°¾çš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (next[len] &gt; <span class="number">0</span> &amp;&amp; len % (len - next[len]) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeåˆ·é¢˜æ•°ç»„ç¯‡</title>
    <url>/2021/10/31/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/java%E3%81%AEleecode%E6%95%B0%E7%BB%84%E7%AF%87/</url>
    <content><![CDATA[<h2 id="27é¢˜ã®ç§»é™¤å…ƒç´ "><a href="#27é¢˜ã®ç§»é™¤å…ƒç´ " class="headerlink" title="27é¢˜ã®ç§»é™¤å…ƒç´ "></a>27é¢˜ã®ç§»é™¤å…ƒç´ </h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚</span><br><span class="line"></span><br><span class="line">ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚</span><br><span class="line"></span><br><span class="line">å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 1: ç»™å®š nums = [3,2,2,3], val = 3, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæš´åŠ›è§£æ³•ï¼šä¸¤ä¸ªforå¾ªç¯ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªï¼Œéƒ½å°†å®ƒåé¢çš„å…ƒç´ ä¸€ä¸ªä¸ªå¾€å‰ç§»ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ã€‚</p>
<p>ç®€å•è§£æ³•ï¼šå¿«æ…¢æŒ‡é’ˆæ³•ï¼Œå¯¹å“ªä¸ªæŒ‡é’ˆè¿›è¡Œåˆ¤æ–­æ˜¯å…³é”®ï¼Œå¦‚æœå¯¹æ…¢æŒ‡é’ˆè¿›è¡Œåˆ¤æ–­ï¼Œåˆ™æœ‰ä¸€ä¸ªå°±ä¼šåé¢ä¸€ç›´ç›¸é‚»äº¤æ¢ã€‚åº”è¯¥å¯¹å¿«æŒ‡é’ˆè¿›è¡Œåˆ¤æ–­ï¼Œå¿«æŒ‡é’ˆåˆ¤æ–­åˆ°ä¸æ˜¯ç›®æ ‡å€¼ï¼Œå°†è¯¥å€¼èµ‹ç»™æ…¢æŒ‡é’ˆæ‰€åœ¨ä½ç½®ï¼Œæ…¢æŒ‡é’ˆç§»åŠ¨1ï¼Œå¦‚æœæ˜¯ç›®æ ‡å€¼ï¼Œç›´æ¥è·³è¿‡ï¼Œæ…¢æŒ‡é’ˆä¸ç§»åŠ¨ã€‚å› æ­¤ä¸€å±‚å¾ªç¯å¯ä»¥è§£å†³ï¼Œ<strong>å¾ªç¯å†…æ˜¯å¿«æŒ‡é’ˆ</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeElement</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> fast=<span class="number">0</span>; fast&lt;nums.length; fast++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[fast]!=val)&#123;</span><br><span class="line">                nums[slow]=nums[fast];</span><br><span class="line">                slow++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="977é¢˜ã®æœ‰åºæ•°ç»„çš„å¹³æ–¹"><a href="#977é¢˜ã®æœ‰åºæ•°ç»„çš„å¹³æ–¹" class="headerlink" title="977é¢˜ã®æœ‰åºæ•°ç»„çš„å¹³æ–¹"></a>977é¢˜ã®æœ‰åºæ•°ç»„çš„å¹³æ–¹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šnums = [-4,-1,0,3,10] è¾“å‡ºï¼š[0,1,9,16,100] è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]ï¼Œæ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šnums = [-7,-3,2,3,11] è¾“å‡ºï¼š[4,9,9,49,121]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œå› ä¸ºåŸå§‹æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œä½†æ˜¯å·¦è¾¹å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œæ‰€ä»¥ï¼Œæ•°ç»„çš„å·¦å³å„ä¸€ä¸ªæŒ‡é’ˆï¼Œéƒ½å¾€ä¸­é—´ç§»åŠ¨ï¼Œåˆ¤æ–­ä¸¤å¤´çš„å¤§å°ï¼ŒæŒ¨ä¸ªæŒ‰ç…§é€†åºå¡åˆ°ç»“æœæ•°ç»„ä¸­ã€‚</p>
<p>çŸ¥è¯†ï¼šåˆ›å»ºæ•°ç»„ int[] nums=new int[size];<br>Math.pow(n,m)å¹‚æ¬¡è¿ç®—ç»“æœä¸ºdoubleç±»å‹<br>å¼ºåˆ¶ç±»å‹è½¬æ¢(int)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] sortedSquares(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right=nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];  <span class="comment">//åˆ›å»ºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">int</span> index=nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">            <span class="keyword">if</span>(Math.pow(nums[left],<span class="number">2</span>)&gt;=Math.pow(nums[right],<span class="number">2</span>))&#123;</span><br><span class="line">                res[index--]=(<span class="keyword">int</span>)Math.pow(nums[left],<span class="number">2</span>);</span><br><span class="line">                <span class="comment">//powå¹‚æ¬¡è¿ç®—ç»“æœæ˜¯doubleç±»å‹ï¼Œ(int)æ¥å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">                left++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[index--]=(<span class="keyword">int</span>)Math.pow(nums[right],<span class="number">2</span>);</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="209é¢˜ã®é•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#209é¢˜ã®é•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="209é¢˜ã®é•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>209é¢˜ã®é•¿åº¦æœ€å°çš„å­æ•°ç»„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° s ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„ è¿ç»­ å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line">è¾“å…¥ï¼šs = 7, nums = [2,3,1,2,4,3] è¾“å‡ºï¼š2 è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæ»‘åŠ¨çª—å£ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼šå³è¾¹åŠ ä¸€ä¸ªæ•°ï¼Œå·¦è¾¹å¯ä»¥å°‘å‡ ä¸ªæ•°<br>çª—å£ï¼šè¿ç»­çš„æ•°ç»„<br>èµ·å§‹ä½ç½®ï¼šç»ˆæ­¢ä½ç½®ç§»åŠ¨åï¼Œæ ¹æ®çª—å£å†…çš„å’Œæ¥åˆ¤æ–­æ˜¯å¦ç§»åŠ¨èµ·å§‹æŒ‡é’ˆ<br>ç»ˆæ­¢ä½ç½®ï¼š<strong>å¾ªç¯å†…</strong>ä¸€ä¸ªä¸€ä¸ªç§»åŠ¨</p>
<p>çŸ¥è¯†ï¼šintçš„æœ€å¤§å€¼ï¼šInteger.MAX_VALUE<br>æœ€å°è¿ç®—ï¼šMath.min(a,b)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minSubArrayLen</span><span class="params">(<span class="keyword">int</span> target, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>; right&lt;nums.length; right++)&#123;</span><br><span class="line">            sum+=nums[right];</span><br><span class="line">            <span class="keyword">while</span>(sum&gt;=target)&#123;</span><br><span class="line">                <span class="comment">//è¿™é‡Œå¾—æ˜¯&gt;=ï¼Œå¹¶ä¸”minè¿ç®—å¾—åœ¨å‰é¢ï¼Œå› ä¸ºå¼€å§‹çª—å£ç§»åŠ¨åå¯èƒ½ä¸è¶³target</span></span><br><span class="line">                res=Math.min(right-left+<span class="number">1</span>, res); <span class="comment">//æ³¨æ„åˆ¤æ–­çš„ä½ç½®ï¼Œä¸€å®šå¾—æ˜¯whileé‡Œ</span></span><br><span class="line">                sum-=nums[left];</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res==Integer.MAX_VALUE? <span class="number">0</span>:res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="59é¢˜ã®èºæ—‹çŸ©é˜µâ…¡"><a href="#59é¢˜ã®èºæ—‹çŸ©é˜µâ…¡" class="headerlink" title="59é¢˜ã®èºæ—‹çŸ©é˜µâ…¡"></a>59é¢˜ã®èºæ—‹çŸ©é˜µâ…¡</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° n2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µã€‚</span><br><span class="line">ç¤ºä¾‹:</span><br><span class="line">è¾“å…¥: 3 è¾“å‡º: [ [ 1, 2, 3 ], [ 8, 9, 4 ], [ 7, 6, 5 ] ]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šåˆ¤æ–­æ˜¯å¦è¿›å…¥å››ä¸ªè§’ï¼Œéœ€è¦æ‹å¼¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] generateMatrix(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] res=<span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=n*n; k++)&#123;</span><br><span class="line">            res[i][j]=k;</span><br><span class="line">            <span class="keyword">if</span>((i==<span class="number">0</span>||res[i-<span class="number">1</span>][j]!=<span class="number">0</span>)&amp;&amp;j&lt;n-<span class="number">1</span>&amp;&amp;res[i][j+<span class="number">1</span>]==<span class="number">0</span>)  j++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((j==n-<span class="number">1</span>||res[i][j+<span class="number">1</span>]!=<span class="number">0</span>)&amp;&amp;i&lt;n-<span class="number">1</span>&amp;&amp;res[i+<span class="number">1</span>][j]==<span class="number">0</span>) i++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((i==n-<span class="number">1</span>||res[i+<span class="number">1</span>][j]!=<span class="number">0</span>)&amp;&amp;j&gt;=<span class="number">1</span>&amp;&amp;res[i][j-<span class="number">1</span>]==<span class="number">0</span>) j--;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((j==<span class="number">0</span>||res[i][j-<span class="number">1</span>]!=<span class="number">0</span>)&amp;&amp;i&gt;=<span class="number">1</span>&amp;&amp;res[i-<span class="number">1</span>][j]==<span class="number">0</span>) i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å…³äºæ•°ç»„ï¼Œæ€è€ƒä¸€äº›åŒæŒ‡é’ˆæ³•ã€å¿«æ…¢æŒ‡é’ˆæ³•ã€æ»‘åŠ¨çª—å£æ³•ã€‚</p>
<h2 id="åŠ¨æ€æ•°ç»„ArrayList"><a href="#åŠ¨æ€æ•°ç»„ArrayList" class="headerlink" title="åŠ¨æ€æ•°ç»„ArrayList"></a>åŠ¨æ€æ•°ç»„ArrayList</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList; <span class="comment">// å¼•å…¥ ArrayList ç±»</span></span><br><span class="line">ArrayList&lt;E&gt; objectName =<span class="keyword">new</span> ArrayList&lt;&gt;();ã€€ <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunoobTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; sites = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        sites.add(<span class="string">&quot;Google&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Taobao&quot;</span>);</span><br><span class="line">        sites.add(<span class="string">&quot;Weibo&quot;</span>);</span><br><span class="line">        System.out.println(sites);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è®¿é—® ArrayList ä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨ get() æ–¹æ³•ï¼š</span><br><span class="line">System.out.println(sites.get(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">å¦‚æœè¦ä¿®æ”¹ ArrayList ä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨ set() æ–¹æ³•ï¼š</span><br><span class="line">sites.set(<span class="number">2</span>, <span class="string">&quot;Wiki&quot;</span>); <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç´¢å¼•ä½ç½®ï¼Œç¬¬äºŒä¸ªä¸ºè¦ä¿®æ”¹çš„å€¼</span></span><br><span class="line"></span><br><span class="line">å¦‚æœè¦åˆ é™¤ ArrayList ä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨ remove() æ–¹æ³•ï¼š</span><br><span class="line">sites.remove(<span class="number">3</span>); <span class="comment">// åˆ é™¤ç¬¬å››ä¸ªå…ƒç´ </span></span><br><span class="line"></span><br><span class="line">å¦‚æœè¦è®¡ç®— ArrayList ä¸­çš„å…ƒç´ æ•°é‡å¯ä»¥ä½¿ç”¨ size() æ–¹æ³•ï¼š</span><br><span class="line">System.out.println(sites.size());</span><br><span class="line"></span><br><span class="line">Collections.sort(sites);  <span class="comment">// å­—æ¯æ’åº</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeæ ˆä¸é˜Ÿåˆ—ç¯‡</title>
    <url>/2021/11/07/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/java%E3%81%AEleecode%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<h2 id="æ ˆstack"><a href="#æ ˆstack" class="headerlink" title="æ ˆstack"></a>æ ˆstack</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();</span><br><span class="line">æˆ–</span><br><span class="line">Deque&lt;Character&gt; st = new LinkedList&lt;Character&gt;();</span><br><span class="line">st.isEmpty()</span><br><span class="line">st.peek()</span><br><span class="line">st.pop();</span><br><span class="line">st.push(ch);</span><br></pre></td></tr></table></figure>

<h2 id="20é¢˜-æœ‰æ•ˆçš„æ‹¬å·"><a href="#20é¢˜-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="20é¢˜.æœ‰æ•ˆçš„æ‹¬å·"></a>20é¢˜.æœ‰æ•ˆçš„æ‹¬å·</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ &#x27;(&#x27;ï¼Œ&#x27;)&#x27;ï¼Œ&#x27;&#123;&#x27;ï¼Œ&#x27;&#125;&#x27;ï¼Œ&#x27;[&#x27;ï¼Œ&#x27;]&#x27; çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</span><br><span class="line">è¾“å…¥: &quot;&#123;[]&#125;&quot;</span><br><span class="line">è¾“å‡º: true</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public boolean isValid(String s) &#123;</span><br><span class="line">        int n = s.length();</span><br><span class="line">        if (n % 2 == 1) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Map&lt;Character, Character&gt; pairs = new HashMap&lt;Character, Character&gt;() &#123;&#123;</span><br><span class="line">            put(&#x27;)&#x27;, &#x27;(&#x27;);</span><br><span class="line">            put(&#x27;]&#x27;, &#x27;[&#x27;);</span><br><span class="line">            put(&#x27;&#125;&#x27;, &#x27;&#123;&#x27;);</span><br><span class="line">        &#125;&#125;;</span><br><span class="line">        //Deque&lt;Character&gt; stack = new LinkedList&lt;Character&gt;();</span><br><span class="line">        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            char ch = s.charAt(i);</span><br><span class="line">            if (pairs.containsKey(ch)) &#123;</span><br><span class="line">                if (stack.isEmpty() || stack.peek() != pairs.get(ch)) &#123;</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                stack.push(ch);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Queue&lt;Integer&gt; queue1= new LinkedList&lt;&gt;();</span><br><span class="line">queue1.isEmpty()</span><br><span class="line">queue2.offer(x);   //æ·»åŠ ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›true   å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™è¿”å›false</span><br><span class="line">queue1.poll()   //ç§»é™¤å¹¶è¿”é—®é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´   å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null</span><br><span class="line">queue1.peek()  //è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´    å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null</span><br><span class="line">remove   ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´  å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸</span><br><span class="line">element  è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´   å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªNoSuchElementExceptionå¼‚å¸¸</span><br><span class="line">add       å¢åŠ ä¸€ä¸ªå…ƒç´¢   å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªIIIegaISlabEepeplianå¼‚å¸¸</span><br><span class="line">put       æ·»åŠ ä¸€ä¸ªå…ƒç´   å¦‚æœé˜Ÿåˆ—æ»¡ï¼Œåˆ™é˜»å¡</span><br><span class="line">take      ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´     å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™é˜»å¡</span><br><span class="line"></span><br><span class="line">1ã€add()å’Œoffer()åŒºåˆ«:</span><br><span class="line">add()å’Œoffer()éƒ½æ˜¯å‘é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚ä¸€äº›é˜Ÿåˆ—æœ‰å¤§å°é™åˆ¶ï¼Œå› æ­¤å¦‚æœæƒ³åœ¨ä¸€ä¸ªæ»¡çš„é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªæ–°é¡¹ï¼Œè°ƒç”¨ add() æ–¹æ³•å°±ä¼šæŠ›å‡ºä¸€ä¸ª unchecked å¼‚å¸¸ï¼Œè€Œè°ƒç”¨ offer() æ–¹æ³•ä¼šè¿”å› falseã€‚å› æ­¤å°±å¯ä»¥åœ¨ç¨‹åºä¸­è¿›è¡Œæœ‰æ•ˆçš„åˆ¤æ–­ï¼</span><br><span class="line"></span><br><span class="line"> 2ã€poll()å’Œremove()åŒºåˆ«ï¼š</span><br><span class="line">remove() å’Œ poll() æ–¹æ³•éƒ½æ˜¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—å…ƒç´ ä¸ºç©ºï¼Œè°ƒç”¨remove() çš„è¡Œä¸ºä¸ Collection æ¥å£çš„ç‰ˆæœ¬ç›¸ä¼¼ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯æ–°çš„ poll() æ–¹æ³•åœ¨ç”¨ç©ºé›†åˆè°ƒç”¨æ—¶åªæ˜¯è¿”å› nullã€‚å› æ­¤æ–°çš„æ–¹æ³•æ›´é€‚åˆå®¹æ˜“å‡ºç°å¼‚å¸¸æ¡ä»¶çš„æƒ…å†µã€‚</span><br><span class="line"></span><br><span class="line">3ã€element() å’Œ peek() åŒºåˆ«ï¼š</span><br><span class="line">element() å’Œ peek() ç”¨äºåœ¨é˜Ÿåˆ—çš„å¤´éƒ¨æŸ¥è¯¢å…ƒç´ ã€‚ä¸ remove() æ–¹æ³•ç±»ä¼¼ï¼Œåœ¨é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œ element() æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œ peek() è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>

<h2 id="dequeä¸queue"><a href="#dequeä¸queue" class="headerlink" title="dequeä¸queue"></a>dequeä¸queue</h2><p><strong>Queue</strong>æ˜¯ç®€å•çš„FIFOé˜Ÿåˆ—ï¼Œ<strong>Deque</strong>ç»§æ‰¿<strong>Queue</strong>å®ç°åŒç«¯é˜Ÿåˆ—ã€‚</p>
<p>é˜Ÿåˆ—(queue)æ˜¯ä¸€ç§å¸¸ç”¨çš„<strong>æ•°æ®ç»“æ„</strong>ï¼Œå¯ä»¥å°†é˜Ÿåˆ—çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œè¯¥ç»“æ„éµå¾ªçš„å…ˆè¿›å…ˆå‡ºåŸåˆ™ã€‚Javaä¸­ï¼Œ<strong>LinkedListå®ç°äº†Queueæ¥å£</strong>,å› ä¸ºLinkedListè¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œæ•ˆç‡è¾ƒé«˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      æŠ›å‡ºå¼‚å¸¸	è¿”å›ç‰¹æ®Šå€¼</span><br><span class="line">æ’å…¥	add(e)	offer(e)</span><br><span class="line">ç§»é™¤	remove()	poll()</span><br><span class="line">æ£€æŸ¥	element()	peek()</span><br><span class="line"></span><br><span class="line">boolean add(E e);å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥æ­¤é˜Ÿåˆ—ï¼ˆå¦‚æœç«‹å³å¯è¡Œä¸”ä¸ä¼šè¿åå®¹é‡é™åˆ¶ï¼‰ï¼Œåœ¨æˆåŠŸæ—¶è¿”å› trueï¼Œå¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨çš„ç©ºé—´ï¼Œåˆ™æŠ›å‡º IllegalStateExceptionã€‚</span><br><span class="line">boolean offer(E e);å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥æ­¤é˜Ÿåˆ—ï¼ˆå¦‚æœç«‹å³å¯è¡Œä¸”ä¸ä¼šè¿åå®¹é‡é™åˆ¶ï¼‰ï¼Œå½“ä½¿ç”¨æœ‰å®¹é‡é™åˆ¶çš„é˜Ÿåˆ—æ—¶ï¼Œæ­¤æ–¹æ³•é€šå¸¸è¦ä¼˜äº add(E)ï¼Œåè€…å¯èƒ½æ— æ³•æ’å…¥å…ƒç´ ï¼Œè€Œåªæ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</span><br><span class="line">E remove();è·å–å¹¶ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ã€‚</span><br><span class="line">E poll();è·å–å¹¶ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ï¼Œå¦‚æœæ­¤é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</span><br><span class="line">E element();è·å–ï¼Œä½†æ˜¯ä¸ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ã€‚</span><br><span class="line">E peek();è·å–ä½†ä¸ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ï¼›å¦‚æœæ­¤é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>

<p>åŒå‘é˜Ÿåˆ—<strong>Deque</strong>ç»§æ‰¿äº†<strong>Queue</strong>ï¼Œæ­¤é˜Ÿåˆ—ä¸¤ç«¯éƒ½èƒ½è¿›è¡Œå‡ºåˆ—å’Œå…¥åˆ—æ“ä½œã€‚é™¤äº†ç»§æ‰¿äº†<strong>Queue</strong>çš„æ¥å£ï¼Œåˆå¯¹æ¯ç§æ–¹æ³•é¢å¤–æ·»åŠ äº†<code>first</code>ä¸<code>last</code>æ–¹æ³•ç”¨ä»¥å®ç°æ“ä½œåŒç«¯é˜Ÿåˆ—ã€‚</p>
<h3 id="é˜Ÿåˆ—queueçš„ä½¿ç”¨ï¼š"><a href="#é˜Ÿåˆ—queueçš„ä½¿ç”¨ï¼š" class="headerlink" title="é˜Ÿåˆ—queueçš„ä½¿ç”¨ï¼š"></a>é˜Ÿåˆ—queueçš„ä½¿ç”¨ï¼š</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testQueue</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">        Queue&lt;String&gt;que = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        que.offer(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">        que.offer(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        que.offer(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å½•å…¥åçš„é˜Ÿåˆ—ï¼š&quot;</span>+que);</span><br><span class="line">        String str=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(que.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            str=que.poll();</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¾æ¬¡è¾“å‡ºï¼š&quot;</span>+str);</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºåçš„é˜Ÿåˆ—ï¼š&quot;</span>+que);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŒå‘é˜Ÿåˆ—dequeçš„ä½¿ç”¨ï¼š"><a href="#åŒå‘é˜Ÿåˆ—dequeçš„ä½¿ç”¨ï¼š" class="headerlink" title="åŒå‘é˜Ÿåˆ—dequeçš„ä½¿ç”¨ï¼š"></a>åŒå‘é˜Ÿåˆ—dequeçš„ä½¿ç”¨ï¼š</h3><p>ç¬¬ä¸€ç§ç”¨æ³•ï¼šåŒqueueä¸€æ ·ï¼Œä½œä¸ºå•å‘é˜Ÿåˆ—ä½¿ç”¨ï¼Œæ­¤æ—¶ä½¿ç”¨offerå…¥åˆ—ï¼Œpollå‡ºåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testDeque1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">        Deque&lt;String&gt; deq = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        deq.offer(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">        deq.offer(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        deq.offer(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å½•å…¥åçš„é˜Ÿåˆ—ï¼š&quot;</span>+deq);</span><br><span class="line">        String str=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(deq.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            str=deq.poll();</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¾æ¬¡è¾“å‡ºï¼š&quot;</span>+str);</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºåçš„é˜Ÿåˆ—ï¼š&quot;</span>+deq);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ç”¨æ³•ï¼šä½œä¸ºåŒå‘é˜Ÿåˆ—ä½¿ç”¨ï¼Œæ­¤æ—¶ä½¿ç”¨offerFirstã€pollFirstï¼ŒofferLastã€pollFirstï¼Œåˆ™å¯ä»¥å®ç°é˜Ÿé¦–é˜Ÿå°¾å…¥åˆ—æˆ–è€…å‡ºåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testDeque2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">        Deque&lt;String&gt; deq2 = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        deq2.offerLast(<span class="string">&quot;aa&quot;</span>);  <span class="comment">//ä»åé¢è¿›å…¥</span></span><br><span class="line">        deq2.offerLast(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        deq2.offerLast(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å½•å…¥åçš„é˜Ÿåˆ—ï¼š&quot;</span>+deq2);</span><br><span class="line">        String str=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(deq2.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            str= deq2.pollFirst();  <span class="comment">//ä»å‰é¢è¾“å‡º</span></span><br><span class="line">            System.out.println(<span class="string">&quot;ä¾æ¬¡è¾“å‡ºï¼š&quot;</span>+str);</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºåçš„é˜Ÿåˆ—ï¼š&quot;</span>+deq2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ç§ç”¨æ³•ï¼šä½œä¸ºæ ˆæ¥ä½¿ç”¨ï¼Œéµå¾ªå…ˆå…¥åå‡ºçš„åŸåˆ™ï¼Œä½¿ç”¨pushå’Œpopè¿›è¡Œå…¥æ ˆå’Œå‡ºæ ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testDeque3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">        Deque&lt;String&gt; st = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        st.push(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">        st.push(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        st.push(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å½•å…¥åçš„æ ˆï¼š&quot;</span>+st);</span><br><span class="line">        String str=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span>(st.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            str= st.pop(); </span><br><span class="line">            System.out.println(<span class="string">&quot;ä¾æ¬¡è¾“å‡ºï¼š&quot;</span>+str);</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºåçš„æ ˆï¼š&quot;</span>+st);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼š<br>queueæ˜¯å•å‘é˜Ÿåˆ—ï¼Œéµå¾ªå…ˆå…¥å…ˆå‡ºçš„åŸåˆ™ï¼Œè€Œdequeæ˜¯queueçš„å­æ¥å£ï¼Œä¸ä»…å¯ä»¥ä½œä¸ºå•å‘é˜Ÿåˆ—ä½¿ç”¨ï¼ŒåŒæ—¶å¯ä»¥ä½œä¸ºåŒå‘é˜Ÿåˆ—ä½¿ç”¨ï¼Œæ ¹æ®å…¥åˆ—å‡ºåˆ—åœ¨é˜Ÿå°¾æˆ–è€…é˜Ÿé¦–å†³å®šè¾“å‡ºå…ƒç´ é¡ºåºï¼Œåœ¨ä½¿ç”¨pushå’Œpollæ–¹æ³•æ—¶ï¼Œdequeè¢«ç§°ä¸ºæ ˆï¼Œå®ç°å…ˆå…¥åå‡ºçš„åŸåˆ™ã€‚</p>
<h2 id="239é¢˜-æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#239é¢˜-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="239é¢˜.æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a>239é¢˜.æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚</span><br><span class="line">è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</span><br><span class="line">è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3</span><br><span class="line">è¾“å‡ºï¼š[3,3,5,5,6,7]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šå•è°ƒé˜Ÿåˆ—ï¼Œæ”¾è¿›å»çª—å£é‡Œçš„å…ƒç´ ï¼Œç„¶åéšç€çª—å£çš„ç§»åŠ¨ï¼Œé˜Ÿåˆ—ä¹Ÿä¸€è¿›ä¸€å‡ºï¼Œæ¯æ¬¡ç§»åŠ¨ä¹‹åï¼Œé˜Ÿåˆ—å‘Šè¯‰æˆ‘ä»¬é‡Œé¢çš„æœ€å¤§å€¼æ˜¯ä»€ä¹ˆã€‚</p>
<p>æ¯æ¬¡çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œè°ƒç”¨que.pop(æ»‘åŠ¨çª—å£ä¸­ç§»é™¤å…ƒç´ çš„æ•°å€¼)ï¼Œque.push(æ»‘åŠ¨çª—å£æ·»åŠ å…ƒç´ çš„æ•°å€¼)ï¼Œç„¶åque.front()å°±è¿”å›æˆ‘ä»¬è¦çš„æœ€å¤§å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨åŒç«¯é˜Ÿåˆ—æ‰‹åŠ¨å®ç°å•è°ƒé˜Ÿåˆ—</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        ArrayDeque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n - k + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®é¢˜æ„ï¼Œiä¸ºnumsä¸‹æ ‡ï¼Œæ˜¯è¦åœ¨[i - k + 1, i] ä¸­é€‰åˆ°æœ€å¤§å€¼ï¼Œåªéœ€è¦ä¿è¯ä¸¤ç‚¹</span></span><br><span class="line">            <span class="comment">// 1.é˜Ÿåˆ—å¤´ç»“ç‚¹éœ€è¦åœ¨[i - k + 1, i]èŒƒå›´å†…ï¼Œä¸ç¬¦åˆåˆ™è¦å¼¹å‡º</span></span><br><span class="line">            <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peek() &lt; i - k + <span class="number">1</span>)&#123;</span><br><span class="line">                deque.poll();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 2.æ—¢ç„¶æ˜¯å•è°ƒï¼Œå°±è¦ä¿è¯æ¯æ¬¡æ”¾è¿›å»çš„æ•°å­—è¦æ¯”æœ«å°¾çš„éƒ½å¤§ï¼Œå¦åˆ™ä¹Ÿå¼¹å‡º</span></span><br><span class="line">            <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; nums[deque.peekLast()] &lt; nums[i]) &#123;</span><br><span class="line">                deque.pollLast();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            deque.offer(i);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å› ä¸ºå•è°ƒï¼Œå½“iå¢é•¿åˆ°ç¬¦åˆç¬¬ä¸€ä¸ªkèŒƒå›´çš„æ—¶å€™ï¼Œæ¯æ»‘åŠ¨ä¸€æ­¥éƒ½å°†é˜Ÿåˆ—å¤´èŠ‚ç‚¹æ”¾å…¥ç»“æœå°±è¡Œäº†</span></span><br><span class="line">            <span class="keyword">if</span>(i &gt;= k - <span class="number">1</span>)&#123;</span><br><span class="line">                res[idx++] = nums[deque.peek()];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="347é¢˜-å‰Kä¸ªé«˜é¢‘å…ƒç´ ï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰"><a href="#347é¢˜-å‰Kä¸ªé«˜é¢‘å…ƒç´ ï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰" class="headerlink" title="347é¢˜.å‰Kä¸ªé«˜é¢‘å…ƒç´ ï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰"></a>347é¢˜.å‰Kä¸ªé«˜é¢‘å…ƒç´ ï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚</span><br><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line">è¾“å…¥: nums = [1,1,1,2,2,3], k = 2</span><br><span class="line">è¾“å‡º: [1,2]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç»Ÿè®¡å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼Œå¯¹é¢‘ç‡è¿›è¡Œæ’åºï¼Œæ‰¾å‡ºå‰kä¸ªé«˜é¢‘å…ƒç´ ã€‚é¦–å…ˆç»Ÿè®¡å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼Œè¿™ä¸€ç±»çš„é—®é¢˜å¯ä»¥ä½¿ç”¨mapæ¥è¿›è¡Œç»Ÿè®¡ã€‚ç„¶åæ˜¯å¯¹é¢‘ç‡è¿›è¡Œæ’åºï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§ å®¹å™¨é€‚é…å™¨å°±æ˜¯<strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong>ã€‚</p>
<p>ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼šå…¶å®<strong>å°±æ˜¯ä¸€ä¸ªæŠ«ç€é˜Ÿåˆ—å¤–è¡£çš„å †</strong>ï¼Œå› ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—å¯¹å¤–æ¥å£åªæ˜¯ä»é˜Ÿå¤´å–å…ƒç´ ï¼Œä»é˜Ÿå°¾æ·»åŠ å…ƒç´ ï¼Œå†æ— å…¶ä»–å–å…ƒç´ çš„æ–¹å¼ï¼Œçœ‹èµ·æ¥å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ã€‚</p>
<p>è€Œä¸”ä¼˜å…ˆçº§é˜Ÿåˆ—å†…éƒ¨å…ƒç´ æ˜¯è‡ªåŠ¨ä¾ç…§å…ƒç´ çš„æƒå€¼æ’åˆ—ã€‚é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•æœ‰åºæ’åˆ—çš„å‘¢ï¼Ÿ</p>
<p>ç¼ºçœæƒ…å†µä¸‹priority_queueåˆ©ç”¨max-heapï¼ˆå¤§é¡¶å †ï¼‰å®Œæˆå¯¹å…ƒç´ çš„æ’åºï¼Œè¿™ä¸ªå¤§é¡¶å †æ˜¯ä»¥vectorä¸ºè¡¨ç°å½¢å¼çš„complete binary treeï¼ˆå®Œå…¨äºŒå‰æ ‘ï¼‰ã€‚</p>
<p><strong>å †æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œæ ‘ä¸­æ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½ä¸å°äºï¼ˆæˆ–ä¸å¤§äºï¼‰å…¶å·¦å³å­©å­çš„å€¼ã€‚</strong> å¦‚æœçˆ¶äº²ç»“ç‚¹æ˜¯å¤§äºç­‰äºå·¦å³å­©å­å°±æ˜¯å¤§é¡¶å †ï¼Œå°äºç­‰äºå·¦å³å­©å­å°±æ˜¯å°é¡¶å †ã€‚</p>
<p>å¤§é¡¶å †ï¼ˆå †å¤´æ˜¯æœ€å¤§å…ƒç´ ï¼‰ï¼Œå°é¡¶å †ï¼ˆå †å¤´æ˜¯æœ€å°å…ƒç´ ï¼‰ï¼Œå¦‚æœæ‡’å¾—è‡ªå·±å®ç°çš„è¯ï¼Œå°±ç›´æ¥ç”¨priority_queueï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰å°±å¯ä»¥äº†ï¼Œåº•å±‚å®ç°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»å°åˆ°å¤§æ’å°±æ˜¯å°é¡¶å †ï¼Œä»å¤§åˆ°å°æ’å°±æ˜¯å¤§é¡¶å †ã€‚</p>
<p>æœ¬é¢˜<strong>è¦ç”¨å°é¡¶å †ï¼Œå› ä¸ºè¦ç»Ÿè®¡æœ€å¤§å‰kä¸ªå…ƒç´ ï¼Œåªæœ‰å°é¡¶å †æ¯æ¬¡å°†æœ€å°çš„å…ƒç´ å¼¹å‡ºï¼Œæœ€åå°é¡¶å †é‡Œç§¯ç´¯çš„æ‰æ˜¯å‰kä¸ªæœ€å¤§å…ƒç´ ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] topKFrequent(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            map.put(num, map.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Set&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet();</span><br><span class="line">        <span class="comment">// æ ¹æ®mapçš„valueå€¼æ­£åºæ’ï¼Œç›¸å½“äºä¸€ä¸ªå°é¡¶å †</span></span><br><span class="line">        PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1, o2) -&gt; o1.getValue() - o2.getValue());</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : entries) &#123;</span><br><span class="line">            queue.offer(entry);</span><br><span class="line">            <span class="keyword">if</span> (queue.size() &gt; k) &#123;</span><br><span class="line">                queue.poll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            result[i] = queue.poll().getKey();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeåˆ·é¢˜é“¾è¡¨ç¯‡</title>
    <url>/2021/11/02/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/%E9%93%BE%E8%A1%A8%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/</url>
    <content><![CDATA[<h2 id="é“¾è¡¨çš„å®šä¹‰è¾“å…¥è¾“å‡º"><a href="#é“¾è¡¨çš„å®šä¹‰è¾“å…¥è¾“å‡º" class="headerlink" title="é“¾è¡¨çš„å®šä¹‰è¾“å…¥è¾“å‡º"></a>é“¾è¡¨çš„å®šä¹‰è¾“å…¥è¾“å‡º</h2><p>é¦–å…ˆä½¿ç”¨ç»“æ„ä½“å®šä¹‰ï¼Œä¸c++ä¸åŒï¼Œjavaä¸­æ²¡æœ‰æŒ‡é’ˆï¼Œéšè—æŒ‡é’ˆï¼Œè®©æŒ‡å‘æŸå¯¹è±¡çš„æŒ‡é’ˆçœ‹èµ·æ¥æ›´åƒé‚£ä¸ªå¯¹è±¡æœ¬èº«ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">ä¸ºä»€ä¹ˆjavaä¸­çš„mainå‡½æ•°ä¸èƒ½æ˜¯éstaticï¼Ÿ</span><br><span class="line"></span><br><span class="line">ä¸èƒ½åœ¨mainæ–¹æ³•ä¸­æ‰“å°thiså…³é”®å­—çš„ä¿¡æ¯ï¼Œå› ä¸ºä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­è°ƒç”¨thisã€‚ç†ç”±å¾ˆç®€å•ï¼Œthisè¡¨ç¤ºâ€œè¿™ä¸ªå¯¹è±¡â€ï¼Œä¹Ÿå°±æ˜¯å£°æ˜ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œç„¶è€Œé™æ€æ–¹æ³•æ˜¯ä¸å±äºæŸä¸€ä¸ªç‰¹å®šå¯¹è±¡è€Œæ˜¯å±äºè¿™ä¸ªç±»çš„ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆmainå‡½æ•°å¿…é¡»è®¾ç½®æˆé™æ€çš„å‘¢ï¼Ÿ</span><br><span class="line"></span><br><span class="line">é¦–å…ˆï¼Œmainå‡½æ•°ä½œä¸ºjavaç¨‹åºçš„å…¥å£ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£ä¸æ˜¯æä¾›ç»™ç¨‹åºå‘˜ä½¿ç”¨çš„ï¼Œè¿™æ—¶æä¾›ç»™ç”¨æˆ·ç­‰ä½¿ç”¨çš„ï¼Œç”¨æˆ·ç­‰ä¸éœ€è¦çŸ¥é“ç¨‹åºå†…éƒ¨çš„å®ç°ï¼Œåªéœ€è¦çŸ¥é“æ¥å£å°±å¯ä»¥äº†ï¼Œå¦‚æœæ˜¯éé™æ€çš„ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·å¼€å§‹ä½¿ç”¨æ—¶ï¼Œå°±å¿…é¡»å…ˆå»åˆ›å»ºå¯¹è±¡ï¼Œé‚£ä¹ˆåˆ›å»ºå¯¹è±¡çš„ä»£ç åˆå†™åœ¨å“ªé‡Œå‘¢ï¼Ÿå‘µå‘µï¼Œæ‰€ä»¥è¿™ä¸ªå¾ˆéš¾è®²æ¸…ã€‚</span><br><span class="line"></span><br><span class="line">Mainæ–¹æ³•æ˜¯æˆ‘ä»¬å­¦ä¹ Javaç¼–ç¨‹è¯­è¨€æ—¶çŸ¥é“çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œä½ æ˜¯å¦æ›¾ç»æƒ³è¿‡ä¸ºä»€ä¹ˆmainæ–¹æ³•æ˜¯publicã€staticã€voidçš„ã€‚å½“ç„¶ï¼Œå¾ˆå¤šäººé¦–å…ˆå­¦çš„æ˜¯Cå’ŒC++ï¼Œä½†æ˜¯åœ¨Javaä¸­mainæ–¹æ³•ä¸å‰è€…æœ‰äº›ç»†å¾®çš„ä¸åŒï¼Œå®ƒä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä¸ºä»€ä¹ˆmainæ–¹å¼æ˜¯publicã€staticã€voidï¼Œè¿™ç¯‡æ–‡ç« å°è¯•å»æ‰¾åˆ°ä¸€äº›ç­”æ¡ˆã€‚</span><br><span class="line"></span><br><span class="line">Mainæ–¹æ³•æ˜¯Javaç¨‹åºçš„å…¥å£ï¼Œè®°ä½ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ä¼šè®¨è®ºServletã€MIDletå’Œå…¶ä»–ä»»ä½•å®¹å™¨ç®¡ç†çš„javaç¨‹åºï¼Œåœ¨javaæ ¸å¿ƒç¼–ç¨‹ä¸­ï¼ŒJVMä¼šæŸ¥æ‰¾ç±»ä¸­çš„public static void main(String[] args)ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¯¥æ–¹æ³•å°±æŠ›å‡ºé”™è¯¯NoSuchMethodError:main ç¨‹åºç»ˆæ­¢ã€‚</span><br><span class="line">Mainæ–¹æ³•å¿…é¡»ä¸¥æ ¼éµå¾ªå®ƒçš„è¯­æ³•è§„åˆ™ï¼Œæ–¹æ³•ç­¾åå¿…é¡»æ˜¯public static voidï¼Œå‚æ•°æ˜¯å­—ç¬¦ä¸²æ•°ç»„ç±»å‹ï¼Œå¦‚æœæ˜¯Java1.5åŠä»¥åçš„ç‰ˆæœ¬è¿˜å¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°ï¼š</span><br><span class="line">public  static void main(String... args)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸ºä»€ä¹ˆmainæ–¹æ³•æ˜¯é™æ€çš„ï¼ˆstaticï¼‰</span><br><span class="line"></span><br><span class="line">æ­£å› ä¸ºmainæ–¹æ³•æ˜¯é™æ€çš„ï¼ŒJVMè°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±ä¸éœ€è¦åˆ›å»ºä»»ä½•åŒ…å«è¿™ä¸ªmainæ–¹æ³•çš„å®ä¾‹ã€‚</span><br><span class="line">å› ä¸ºCå’ŒC++åŒæ ·æœ‰ç±»ä¼¼çš„mainæ–¹æ³•ä½œä¸ºç¨‹åºæ‰§è¡Œçš„å…¥å£ã€‚</span><br><span class="line">å¦‚æœmainæ–¹æ³•ä¸å£°æ˜ä¸ºé™æ€çš„ï¼ŒJVMå°±å¿…é¡»åˆ›å»ºmainç±»çš„å®ä¾‹ï¼Œå› ä¸ºæ„é€ å™¨å¯ä»¥è¢«é‡è½½ï¼ŒJVMå°±æ²¡æ³•ç¡®å®šè°ƒç”¨å“ªä¸ªmainæ–¹æ³•ã€‚</span><br><span class="line">é™æ€æ–¹æ³•å’Œé™æ€æ•°æ®åŠ è½½åˆ°å†…å­˜å°±å¯ä»¥ç›´æ¥è°ƒç”¨è€Œä¸éœ€è¦åƒå®ä¾‹æ–¹æ³•ä¸€æ ·åˆ›å»ºå®ä¾‹åæ‰èƒ½è°ƒç”¨ï¼Œå¦‚æœmainæ–¹æ³•æ˜¯é™æ€çš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«åŠ è½½åˆ°JVMä¸Šä¸‹æ–‡ä¸­æˆä¸ºå¯æ‰§è¡Œçš„æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸ºä»€ä¹ˆmainæ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼ˆpublicï¼‰</span><br><span class="line">JavaæŒ‡å®šäº†ä¸€äº›å¯è®¿é—®çš„ä¿®é¥°ç¬¦å¦‚ï¼šprivateã€protectedã€publicï¼Œä»»ä½•æ–¹æ³•æˆ–å˜é‡éƒ½å¯ä»¥å£°æ˜ä¸ºpublicï¼ŒJavaå¯ä»¥ä»è¯¥ç±»ä¹‹å¤–çš„åœ°æ–¹è®¿é—®ã€‚å› ä¸ºmainæ–¹æ³•æ˜¯å…¬å…±çš„ï¼ŒJVMå°±å¯ä»¥è½»æ¾çš„è®¿é—®æ‰§è¡Œå®ƒã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸ºä»€ä¹ˆmainæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼ˆVoidï¼‰ </span><br><span class="line"></span><br><span class="line">å› ä¸ºmainè¿”å›ä»»ä½•å€¼å¯¹ç¨‹åºéƒ½æ²¡ä»»ä½•æ„ä¹‰ï¼Œæ‰€ä»¥è®¾è®¡æˆvoidï¼Œæ„å‘³ç€mainä¸ä¼šæœ‰ä»»ä½•å€¼è¿”å›</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ€»ç»“</span><br><span class="line"></span><br><span class="line">mainæ–¹æ³•å¿…é¡»å£°æ˜ä¸ºpublicã€staticã€voidï¼Œå¦åˆ™JVMæ²¡æ³•è¿è¡Œç¨‹åº</span><br><span class="line">å¦‚æœJVMæ‰¾ä¸åˆ°mainæ–¹æ³•å°±æŠ›å‡ºNoSuchMethodError:mainå¼‚å¸¸ï¼Œä¾‹å¦‚ï¼šå¦‚æœä½ è¿è¡Œå‘½ä»¤ï¼šjava HelloWroldï¼ŒJVMå°±ä¼šåœ¨HelloWorld.classæ–‡ä»¶ä¸­æœç´¢public static void main (String[] args) æ”¾æ³•</span><br><span class="line">mainæ–¹å¼æ˜¯ç¨‹åºçš„å…¥å£ï¼Œç¨‹åºæ‰§è¡Œçš„å¼€å§‹å¤„ã€‚</span><br><span class="line">mainæ–¹æ³•è¢«ä¸€ä¸ªç‰¹å®šçš„çº¿ç¨‹â€mainâ€è¿è¡Œï¼Œç¨‹åºä¼šä¸€ç›´è¿è¡Œç›´åˆ°mainçº¿ç¨‹ç»“æŸæˆ–è€…non-daemonçº¿ç¨‹ç»ˆæ­¢ã€‚</span><br><span class="line">å½“ä½ çœ‹åˆ°â€œException in Thread mainâ€å¦‚ï¼šExcpetion in Thread main:Java.lang.NullPointedException ,æ„å‘³ç€å¼‚å¸¸æ¥è‡ªäºmainçº¿ç¨‹</span><br><span class="line">ä½ å¯ä»¥å£°æ˜mainæ–¹æ³•ä½¿ç”¨java1.5çš„å¯å˜å‚æ•°çš„æ–¹å¼å¦‚ï¼š</span><br><span class="line">public  static void main(String... args)</span><br><span class="line">é™¤äº†staticã€voidã€å’Œpublicï¼Œä½ å¯ä»¥ä½¿ç”¨finalï¼Œsynchronizedã€å’Œstrictfpä¿®é¥°ç¬¦åœ¨mainæ–¹æ³•çš„ç­¾åä¸­ï¼Œå¦‚ï¼š</span><br><span class="line">public  strictfp final  synchronized static  void main(String[] args)</span><br><span class="line">mainæ–¹æ³•åœ¨Javaå¯ä»¥åƒå…¶ä»–æ–¹æ³•ä¸€æ ·è¢«é‡è½½ï¼Œä½†æ˜¯JVMåªä¼šè°ƒç”¨ä¸Šé¢è¿™ç§ç­¾åè§„èŒƒçš„mainæ–¹æ³•ã€‚</span><br><span class="line">ä½ å¯ä»¥ä½¿ç”¨throwså­å¥åœ¨æ–¹æ³•ç­¾åä¸­ï¼Œå¯ä»¥æŠ›å‡ºä»»ä½•checkedå’Œuncheckedå¼‚å¸¸</span><br><span class="line">é™æ€åˆå§‹åŒ–å—åœ¨JVMè°ƒç”¨mainæ–¹æ³•å‰è¢«æ‰§è¡Œï¼Œå®ƒä»¬åœ¨ç±»è¢«JVMåŠ è½½åˆ°å†…å­˜çš„æ—¶å€™å°±è¢«æ‰§è¡Œäº†ã€‚</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/peikunye/article/details/100513579">https://blog.csdn.net/peikunye/article/details/100513579</a></p>
<p><a href="https://blog.csdn.net/maxiao1204/article/details/75142811?yyue=a21bo.50862.201879">https://blog.csdn.net/maxiao1204/article/details/75142811?yyue=a21bo.50862.201879</a></p>
<p>å¯¹äºjavaçš„æ„é€ å‡½æ•°æœ‰ç‚¹æ‡µé€¼ï¼Œæœ‰å‚æ„é€ å’Œæ— å‚æ„é€ å¯ä»¥åŒæ—¶å­˜åœ¨å—ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">é“¾è¡¨èŠ‚ç‚¹å®šä¹‰ï¼š</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;  <span class="comment">//å¿…é¡»è¦åŠ publicå—ï¼Ÿ</span></span><br><span class="line">    <span class="keyword">public</span> ListNode next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ListNode</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val=val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">åè½¬é“¾è¡¨ï¼š</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reverseListNode</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è¾“å…¥è¾“å‡º+æµ‹è¯•ä»£ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//è¾“å…¥ä¸å®šé•¿çš„æ•°ç»„</span></span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥é“¾è¡¨ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        ListNode head = <span class="keyword">null</span>; <span class="comment">//ä»£è¡¨æ˜¯ä¸ªç©ºèŠ‚ç‚¹</span></span><br><span class="line">        ListNode pre = <span class="keyword">null</span>; <span class="comment">//preåœ¨è¿™é‡Œå®šä¹‰</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.length; j++) &#123;</span><br><span class="line">            b[j] = Integer.parseInt(arr[j]);</span><br><span class="line">            ListNode node = <span class="keyword">new</span> ListNode(b[j]); <span class="comment">//çœŸæ­£çš„æ„é€ èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(head==<span class="keyword">null</span>)&#123;  <span class="comment">//é¦–å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯å¤´èŠ‚ç‚¹</span></span><br><span class="line">                head = node;</span><br><span class="line">                pre = head; <span class="comment">//preåœ¨è¿™é‡Œç­‰äºheadï¼Œä¸èƒ½åœ¨ä¸Šé¢ç­‰äº</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre.next=node;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        printList(head);</span><br><span class="line">        ListNode res = reversal(head);</span><br><span class="line">        printList(res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¾“å‡ºé“¾è¡¨</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(head != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.print(head.val + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">            head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åè½¬å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title">reversal</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode front = <span class="keyword">null</span>;</span><br><span class="line">        ListNode cur = head;</span><br><span class="line">        ListNode next;</span><br><span class="line">        <span class="keyword">while</span>(cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            next = cur.next;</span><br><span class="line">            cur.next = front;</span><br><span class="line">            front = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> front;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="203é¢˜-ç§»é™¤é“¾è¡¨å…ƒç´ "><a href="#203é¢˜-ç§»é™¤é“¾è¡¨å…ƒç´ " class="headerlink" title="203é¢˜.ç§»é™¤é“¾è¡¨å…ƒç´ "></a>203é¢˜.ç§»é™¤é“¾è¡¨å…ƒç´ </h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¢˜æ„ï¼šåˆ é™¤é“¾è¡¨ä¸­ç­‰äºç»™å®šå€¼ val çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</span><br><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line">è¾“å…¥ï¼šhead = [1,2,6,3,4,5,6], val = 6</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,5]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæœ‰å¯èƒ½å¤´èŠ‚ç‚¹æ˜¯è¦åˆ é™¤çš„ï¼Œæ‰€ä»¥ç”¨preheadèŠ‚ç‚¹ã€‚c/c++éœ€è¦æ¸…ç†èŠ‚ç‚¹å†…å­˜ã€‚java/pythonåˆ™ä¸éœ€è¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">é“¾è¡¨èŠ‚ç‚¹å®šä¹‰ï¼š</span><br><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">     <span class="keyword">int</span> val;</span><br><span class="line">     ListNode next;</span><br><span class="line">     ListNode() &#123;&#125;</span><br><span class="line">     ListNode(<span class="keyword">int</span> val) &#123; <span class="keyword">this</span>.val = val; &#125;</span><br><span class="line">     ListNode(<span class="keyword">int</span> val, ListNode next) &#123; <span class="keyword">this</span>.val = val; <span class="keyword">this</span>.next = next; &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">removeElements</span><span class="params">(ListNode head, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        ListNode prehead = <span class="keyword">new</span> ListNode();</span><br><span class="line">        prehead.next = head;</span><br><span class="line">        <span class="comment">//ListNode prehead = new ListNode(-1, head);</span></span><br><span class="line">        ListNode pre = prehead;</span><br><span class="line">        <span class="keyword">while</span>(pre.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//æ‹¬å·å†…ä¸å¯ä»¥åªæ˜¯pre.next</span></span><br><span class="line">            <span class="keyword">if</span>(pre.next.val == val)&#123;</span><br><span class="line">                pre.next=pre.next.next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                pre = pre.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="24é¢˜-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­å¾—èŠ‚ç‚¹"><a href="#24é¢˜-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­å¾—èŠ‚ç‚¹" class="headerlink" title="24é¢˜.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­å¾—èŠ‚ç‚¹"></a>24é¢˜.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­å¾—èŠ‚ç‚¹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚</span><br><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4]</span><br><span class="line">è¾“å‡ºï¼š[2,1,4,3]</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç›¸å½“äºæ˜¯swapèŠ‚ç‚¹ï¼Œä¸èƒ½åªæ”¹å˜å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">swapPairs</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode prehead = <span class="keyword">new</span> ListNode();</span><br><span class="line">        prehead.next = head;</span><br><span class="line">        ListNode pre = prehead;</span><br><span class="line">        <span class="keyword">while</span>(pre.next!=<span class="keyword">null</span> &amp;&amp; pre.next.next!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            ListNode node1 = pre.next;</span><br><span class="line">            pre.next = node1.next;</span><br><span class="line">            ListNode node2 = pre.next.next;</span><br><span class="line">            pre.next.next = node1;</span><br><span class="line">            node1.next = node2;</span><br><span class="line">            pre = pre.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="19é¢˜-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"><a href="#19é¢˜-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹" class="headerlink" title="19é¢˜.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹"></a>19é¢˜.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</span><br><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2 è¾“å‡ºï¼š[1,2,3,5] </span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæ˜æ˜¾çš„åŒæŒ‡é’ˆæ³•ï¼Œä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå°½å¯èƒ½æ‰«æä¸€æ¬¡é“¾è¡¨æ¥è§£å†³ã€‚ä¸€ä¸ªæŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œå†ä¸€èµ·èµ°ï¼Œå½“å‰é¢çš„èµ°åˆ°å¤´ï¼Œé‚£å°±æ˜¯è¦åˆ é™¤çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">removeNthFromEnd</span><span class="params">(ListNode head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode prehead = <span class="keyword">new</span> ListNode();</span><br><span class="line">        prehead.next=head;</span><br><span class="line">        ListNode left = prehead;</span><br><span class="line">        ListNode right = prehead;</span><br><span class="line">        <span class="keyword">while</span>(n--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            right = right.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">            left=left.next;</span><br><span class="line">            right=right.next;</span><br><span class="line">        &#125;</span><br><span class="line">        left.next=left.next.next;</span><br><span class="line">        <span class="keyword">return</span> prehead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é¢è¯•é¢˜02-07-é“¾è¡¨ç›¸äº¤"><a href="#é¢è¯•é¢˜02-07-é“¾è¡¨ç›¸äº¤" class="headerlink" title="é¢è¯•é¢˜02.07.é“¾è¡¨ç›¸äº¤"></a>é¢è¯•é¢˜02.07.é“¾è¡¨ç›¸äº¤</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šä¸€çœ¼åŒæŒ‡é’ˆï¼Œé˜¿é‡ŒäºŒé¢é¢˜ç›®ï¼Œè¿™é“é¢˜é‡Œé“¾è¡¨ç›¸äº¤çš„è¯åé¢æ˜¯é‡å äº†ï¼Œåˆå¹¶ï¼Œè€Œä¸æ˜¯åªäº¤ä¸€ä¸ªç‚¹ï¼Œäº¤ä¸€ä¸ªç‚¹çš„è¯åªèƒ½åŒå±‚forå¾ªç¯äº†ã€‚ä¸¤ä¸ªæŒ‡é’ˆèµ°å®Œäº†éƒ½èµ°å¦ä¸€ä¸ªï¼Œä¼šåŒæ—¶åˆ°è¾¾åˆå¹¶çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœæ²¡æœ‰åˆå¹¶ï¼ŒåŒæ—¶éå†åˆ°ç©ºèŠ‚ç‚¹è¿”å›ç©ºèŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªåˆå¹¶çš„é•¿åº¦ä¸€æ ·ï¼Œåˆ™èµ°åˆ°ç¬¬ä¸€ä¸ªç‚¹å°±ä¼šè¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">        ListNode a = headA;</span><br><span class="line">        ListNode b = headB;</span><br><span class="line">        <span class="keyword">while</span>(a!=b)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a==<span class="keyword">null</span>)  a=headB;</span><br><span class="line">            <span class="keyword">else</span> a=a.next;</span><br><span class="line">            <span class="keyword">if</span>(b==<span class="keyword">null</span>)  b=headA;</span><br><span class="line">            <span class="keyword">else</span> b=b.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="142é¢˜-ç¯å½¢é“¾è¡¨â…¡"><a href="#142é¢˜-ç¯å½¢é“¾è¡¨â…¡" class="headerlink" title="142é¢˜.ç¯å½¢é“¾è¡¨â…¡"></a>142é¢˜.ç¯å½¢é“¾è¡¨â…¡</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¢˜æ„ï¼š ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚</span><br><span class="line">ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</span><br><span class="line">è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç»å…¸çš„å¿«æ…¢æŒ‡é’ˆã€‚ä¸€ä¸ªä¸€æ¬¡èµ°ä¸€æ ¼ï¼Œä¸€ä¸ªä¸€æ¬¡èµ°ä¸¤æ ¼ã€‚ä¸éœ€è¦è™šæ‹Ÿå¤´èŠ‚ç‚¹ã€‚è¿™æ˜¯åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰ç¯ï¼Œä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¼šä¸€ç›´èµ°ï¼Œä¸¤ä¸ªæŒ‡é’ˆä¸€å®šä¼šç›¸é‡ã€‚ä½†æ˜¯ç›¸é‡çš„ç‚¹ä¸ä¸€å®šæ˜¯ç¯çš„å…¥å£ã€‚</p>
<p>è¿™ä¸ªç¯è‚¯å®šæ˜¯åé¢ä¸€ä¸ªç¯å°±ä¸å†å‡ºæ¥äº†ã€‚</p>
<p>è€Œè¦æ‰¾åˆ°ç¯çš„å…¥å£ï¼Œç”»ä¸ªå›¾ï¼Œæœ€åå¾—å‡ºæ¥ï¼šx = (n - 1) (y + z) + zã€‚å†è·‘ä¸€éå°±å¯ä»¥å¾—åˆ°ç¯çš„å…¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode slow = head;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        <span class="keyword">while</span>(fast!=<span class="keyword">null</span> &amp;&amp; fast.next!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            slow=slow.next;</span><br><span class="line">            fast=fast.next.next;</span><br><span class="line">            <span class="keyword">if</span>(slow==fast)&#123;  <span class="comment">//æœ‰ç¯äº†ï¼Œä¸‹é¢å†æ‰¾å…¥å£</span></span><br><span class="line">                <span class="keyword">while</span>(head!=slow)&#123;</span><br><span class="line">                    head=head.next;</span><br><span class="line">                    slow=slow.next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> slow;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li>é“¾è¡¨çš„ç§ç±»ä¸»è¦ä¸ºï¼šå•é“¾è¡¨ï¼ŒåŒé“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨</li>
<li>é“¾è¡¨çš„å­˜å‚¨æ–¹å¼ï¼šé“¾è¡¨çš„èŠ‚ç‚¹åœ¨å†…å­˜ä¸­æ˜¯åˆ†æ•£å­˜å‚¨çš„ï¼Œé€šè¿‡æŒ‡é’ˆè¿åœ¨ä¸€èµ·ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxæ—¥å¸¸ä½¿ç”¨</title>
    <url>/2021/09/02/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/Linux%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="ç»™ç”¨æˆ·æ·»åŠ sudoæƒé™"><a href="#ç»™ç”¨æˆ·æ·»åŠ sudoæƒé™" class="headerlink" title="ç»™ç”¨æˆ·æ·»åŠ sudoæƒé™"></a>ç»™ç”¨æˆ·æ·»åŠ sudoæƒé™</h2><p>â€“åˆ‡æ¢åˆ°æ‹¥æœ‰sudoæƒé™çš„ç”¨æˆ·ä¸‹ï¼Œå¯ä»¥æ˜¯suã€‚ â€“è¾“å…¥å‘½ä»¤â€sudo vim /etc/sudoersâ€å¼€å§‹ç¼–è¾‘/etc/sudoersæ–‡ä»¶ã€‚ â€“æ‰¾åˆ°â€root ALL=(ALL:ALL) ALLâ€è¿™ä¸€ è¡Œï¼Œåœ¨å®ƒä¸‹é¢æ·»åŠ â€xxx ALL=(ALL:ALL) ALLâ€(è¿™é‡Œçš„xxxæ˜¯ä½ çš„ç”¨æˆ·å)ï¼Œç„¶åä¿å­˜é€€å‡ºã€‚å› ä¸ºæ˜¯åªè¯»æ¨¡å¼ï¼Œè¾“å…¥â€:wq!â€å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡ºã€‚</p>
<h2 id="è·å¾—æœ¬æœºip"><a href="#è·å¾—æœ¬æœºip" class="headerlink" title="è·å¾—æœ¬æœºip"></a>è·å¾—æœ¬æœºip</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ifconfig | grep &quot;inet&quot;</span><br><span class="line">ifconfig en0</span><br></pre></td></tr></table></figure>

<p>localhostï¼š127.0.0.1 ï¼Œåœ¨ Linux ä¸­ï¼Œå…¶å®šä¹‰ä½äº /etc/hostsã€‚ç”¨äºæœ¬æœºä¸­å„ä¸ªåº”ç”¨ä¹‹é—´çš„ç½‘ç»œäº¤äº’ã€‚ä¸éœ€è¦è”ç½‘ï¼Œæœ¬æœºè®¿é—®ã€‚</p>
<p>localhostç­‰äº127.0.0.1ï¼Œä¸è¿‡localhostæ˜¯åŸŸåï¼Œ127.0.0.1æ˜¯IPåœ°å€ã€‚</p>
<p>æœ¬æœº IP å°±æ˜¯æœ¬æœºå¯¹å¤–æ”¾å¼€è®¿é—®çš„IPåœ°å€ï¼Œè¿™ä¸ªç½‘å€å°±æ˜¯ä¸ç‰©ç†ç½‘å¡ç»‘å®šçš„IPåœ°å€ã€‚</p>
<p>è®¿é—®127.0.0.1ä¸è°ƒç”¨ç½‘å¡é©±åŠ¨ï¼Œè€Œæ˜¯ç«‹å³è½¬å‘åˆ°æœ¬æœºIPå±‚è¿›è¡Œå¤„ç†ï¼Œä¸æ¶‰åŠåº•å±‚æ“ä½œã€‚</p>
<p>æœ¬æœºIPï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæœ¬æœºæœ‰ä¸‰å—ç½‘å¡ï¼Œä¸€å—ç½‘å¡å«åšloopbackï¼ˆè™šæ‹Ÿç½‘å¡ï¼‰ï¼Œä¸€å—å«åšethernetï¼ˆæœ‰çº¿ç½‘å¡ï¼‰ï¼Œä¸€å—å«åšwlanï¼ˆä½ çš„æ— çº¿ç½‘å¡ï¼‰ã€‚127.0.0.1 è¿™ä¸ªåœ°å€é€šå¸¸åˆ†é…ç»™ loopback æ¥å£ã€‚</p>
<p>ping 127.0.0.1ä¸€èˆ¬ä½œä¸ºæµ‹è¯•æœ¬æœºTCP/IPåè®®æ ˆæ­£å¸¸ä¸å¦çš„åˆ¤æ–­ä¹‹ä¸€ã€‚</p>
<h3 id="å…±æœ‰ipï¼š"><a href="#å…±æœ‰ipï¼š" class="headerlink" title="å…±æœ‰ipï¼š"></a>å…±æœ‰ipï¼š</h3><p>ç»„å»ºä¸€ä¸ªä¼ä¸šçº§ç½‘ç»œï¼Œéœ€è¦å»å‘â€œç”µä¿¡è¿è¥å•†ISPâ€ç”³è¯·ä¸€ä¸ªæ¥å…¥Internetçš„å®½å¸¦ï¼ŒåŒæ—¶ISPè¿˜ä¼šç»™æˆ‘ä»¬åˆ†é…ä¸€ä¸ªæˆ–å¤šä¸ªIPåœ°å€ï¼Œè¿™äº›IPåœ°å€å¯ä»¥ä¾›æˆ‘ä»¬ä¼ä¸šå†…éƒ¨ä¸Šç½‘ï¼Œè¿™äº›ISPåˆ†é…ç»™æˆ‘ä»¬çš„IPï¼Œå°±æ˜¯å…¬æœ‰IPã€‚</p>
<p>å…¬æœ‰åœ°å€ï¼ˆPublic addressï¼Œä¹Ÿå¯ç§°ä¸ºå…¬ç½‘åœ°å€ï¼‰ç”±Internet NICï¼ˆInternet Network Information Centerå› ç‰¹ç½‘ä¿¡æ¯ä¸­å¿ƒï¼‰è´Ÿè´£ã€‚è¿™äº›IPåœ°å€åˆ†é…ç»™æ³¨å†Œå¹¶å‘Internet NICæå‡ºç”³è¯·çš„ç»„ç»‡æœºæ„ã€‚é€šè¿‡å®ƒç›´æ¥è®¿é—®å› ç‰¹ç½‘ï¼Œå®ƒæ˜¯å¹¿åŸŸç½‘èŒƒç•´å†…çš„ã€‚</p>
<h3 id="ç§æœ‰IPï¼š"><a href="#ç§æœ‰IPï¼š" class="headerlink" title="ç§æœ‰IPï¼š"></a>ç§æœ‰IPï¼š</h3><p>æˆ‘ä»¬ä¼ä¸šæˆ–å®¶åº­å†…éƒ¨ç»„å»ºå±€åŸŸç½‘ç”¨çš„IPï¼Œä¸€èˆ¬éƒ½ä¼šç”¨ç§æœ‰IPã€‚</p>
<p>ç§æœ‰åœ°å€ï¼ˆPrivate addressï¼Œä¹Ÿå¯ç§°ä¸ºä¸“ç½‘åœ°å€ï¼‰å±äºéæ³¨å†Œåœ°å€ï¼Œä¸“é—¨ä¸ºç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨ï¼Œå®ƒæ˜¯å±€åŸŸç½‘èŒƒç•´å†…çš„ï¼Œç§æœ‰IPç¦æ­¢å‡ºç°åœ¨Internetä¸­ï¼Œåœ¨ISPè¿æ¥ç”¨æˆ·çš„åœ°æ–¹ï¼Œå°†æ¥è‡ªäºç§æœ‰IPçš„æµé‡å…¨éƒ¨éƒ½ä¼šé˜»æ­¢å¹¶ä¸¢æ‰ã€‚ç§æœ‰ipåœ¨å…¬ç½‘ä¸Šä¸èƒ½è¢«è¯†åˆ«ã€‚å¿…é¡»é€šè¿‡NATå°†å†…éƒ¨IPåœ°å€è½¬æ¢æˆå…¬ç½‘ä¸Šå¯ç”¨çš„IPåœ°å€ï¼Œä»è€Œå®ç°å†…éƒ¨IPåœ°å€ä¸å¤–éƒ¨å…¬ç½‘çš„é€šä¿¡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">IPåœ°å€åˆ†å›ºå®šå’ŒåŠ¨æ€çš„ä¸¤ç§ï¼Œå›ºå®šIPåœ°å€ä¸ä¼šå˜ï¼Œä»·æ ¼æ¯”è¾ƒè´µï¼Œå¤šæ˜¯ä¼äº‹ä¸šå•ä½ä½¿ç”¨ã€‚</span><br><span class="line">å®¶åº­å®½å¸¦è¿æ¥å°±æ˜¯åŠ¨æ€IPï¼Œåœ¨ä¸ä¸Šç½‘çš„æ—¶å€™,å…ˆå‰æ‰€ç”¨IPèµ„æºå°±ä¼šè¢«é‡Šæ”¾å‡ºæ¥ä¾›ä»–äººä½¿ç”¨. å¦‚æœå†ä¸Šç½‘ï¼Œç³»ç»Ÿåˆåˆ†é…ä¸€ä¸ªIPç»™ä½ ï¼Œæ‰€ä»¥å®¶åº­ç”¨æˆ·çš„IPéƒ½æ˜¯è‡ªåŠ¨åˆ†é…çš„ï¼Œä¸Šç½‘äº†å°±æ‰¾ä¸€ä¸ªç»™ä½ ç”¨ï¼Œæ–­ç½‘äº†é©¬ä¸Šæ”¶å›ï¼Œå†ç»™å…¶å®ƒäººç”¨ï¼Œè¿™æ ·å¯ä»¥ç¼“è§£IPåœ°å€ç´§å¼ çš„é—®é¢˜ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="å­ç½‘æ©ç -netmaskï¼š"><a href="#å­ç½‘æ©ç -netmaskï¼š" class="headerlink" title="å­ç½‘æ©ç  netmaskï¼š"></a><strong>å­ç½‘æ©ç  netmaskï¼š</strong></h3><p>å°†æŸä¸ªIPåœ°å€åˆ’åˆ†æˆç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ä¸¤éƒ¨åˆ†ï¼Œå­ç½‘æ©ç å¿…é¡»æ˜¯å¤šä¸ª 1 ç›¸è¿ï¼Œå¤šä¸ª 0 ç›¸è¿çš„å½¢å¼ï¼Œæ€»å…± 8 * 4 = 32 ä½ã€‚1çš„éƒ¨åˆ†å°±æ˜¯ç½‘ç»œåœ°å€éƒ¨åˆ† 0çš„éƒ¨åˆ†å°±æ˜¯ä¸»æœºåœ°å€éƒ¨åˆ†ã€‚</p>
<p>255.255.255.0è¿™ä¸ªå­ç½‘æ©ç å¯ä»¥å®¹çº³2çš„8æ¬¡æ–¹ï¼ˆå°ï¼‰ç”µè„‘ï¼Œä¹Ÿå°±æ˜¯256å°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªIPæ˜¯ä¸èƒ½ç”¨çš„ï¼Œä½æ•°å…¨ä¸º0ä¸ºç½‘ç»œå· ä½æ•°å…¨ä¸º1ä½å¹¿æ’­å·ï¼Œå‡å»è¿™ä¸¤å°ï¼Œå°±æ˜¯254å°ã€‚</p>
<p>ä¸€ç§å­ç½‘æ©ç çš„ç®€ä¾¿å†™æ³•:<br>192.163.1.199/24<br>ipåé¢çš„/24å°±æ˜¯å­ç½‘æ©ç 255.255.255.0çš„ç®€å†™ æ„ä¸ºç½‘ç»œä½ä¸º24ä½ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶å·¦è¾¹24ä¸ª1</p>
<h3 id="å¹¿æ’­åœ°å€broadcastï¼š"><a href="#å¹¿æ’­åœ°å€broadcastï¼š" class="headerlink" title="å¹¿æ’­åœ°å€broadcastï¼š"></a>å¹¿æ’­åœ°å€broadcastï¼š</h3><p>å¹¿æ’­åœ°å€(Broadcast Address)æ˜¯ä¸“é—¨ç”¨äºåŒæ—¶å‘ç½‘ç»œä¸­æ‰€æœ‰å·¥ä½œç«™è¿›è¡Œå‘é€çš„ä¸€ä¸ªåœ°å€ã€‚åœ¨ä½¿ç”¨TCP/IP åè®®çš„ç½‘ç»œä¸­ï¼Œä¸»æœºæ ‡è¯†æ®µhost ID ä¸ºå…¨1 çš„IP åœ°å€ä¸ºå¹¿æ’­åœ°å€ï¼Œå¹¿æ’­çš„åˆ†ç»„ä¼ é€ç»™host IDæ®µæ‰€æ¶‰åŠçš„æ‰€æœ‰è®¡ç®—æœºã€‚ä¾‹å¦‚ï¼Œå¯¹äº10.1.1.0 ï¼ˆ255.0.0.0 ï¼‰ç½‘æ®µï¼Œå…¶ç›´æ’­å¹¿æ’­åœ°å€ä¸º10.255.255.255 ï¼ˆ255 å³ä¸º2 è¿›åˆ¶çš„11111111 ï¼‰ï¼Œå½“å‘å‡ºä¸€ä¸ªç›®çš„åœ°å€ä¸º10.255.255.255 çš„åˆ†ç»„ï¼ˆå°åŒ…ï¼‰æ—¶ï¼Œå®ƒå°†è¢«åˆ†å‘ç»™è¯¥ç½‘æ®µä¸Šçš„æ‰€æœ‰è®¡ç®—æœºã€‚</p>
<h3 id="my-Mac-åœ°å€ï¼š"><a href="#my-Mac-åœ°å€ï¼š" class="headerlink" title="my Mac åœ°å€ï¼š"></a>my Mac åœ°å€ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inet 172.22.150.82 netmask 0xfffffe00 broadcast 172.22.151.255</span><br><span class="line">inetæ˜¯æœ¬æœºip</span><br><span class="line">netmaskè¡¨ç¤ºäº†23ä½ç½‘ç»œä½ï¼Œ9ä½ä¸»æœºä½</span><br><span class="line">broadcastè¡¨ç¤º150äºŒè¿›åˆ¶ï¼š10010110ï¼Œå‰ä¸ƒä½ç½‘ç»œå·ï¼Œåé¢ä¸€ä½å˜1ï¼Œå³å¹¿æ’­å·ï¼š172.22.151.255</span><br></pre></td></tr></table></figure>

<h2 id="æ–‡ä»¶ç›¸å…³"><a href="#æ–‡ä»¶ç›¸å…³" class="headerlink" title="æ–‡ä»¶ç›¸å…³"></a>æ–‡ä»¶ç›¸å…³</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ls  æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶</span><br><span class="line">ls -a   æ˜¾ç¤ºåŒ…æ‹¬.å¼€å¤´çš„éšè—æ–‡ä»¶</span><br><span class="line">ls -l   åˆ—å‡ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯  = ll</span><br><span class="line">ll -a = ls -al</span><br><span class="line"></span><br><span class="line">tree  æ•°çŠ¶æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">treeéœ€è¦å…ˆå®‰è£…</span><br><span class="line">tree --version  å‚çœ‹æ˜¯å¦å®‰è£…</span><br><span class="line">sudo apt/brew install tree   å®‰è£…</span><br><span class="line">tree -L 2   æ˜¾ç¤ºäºŒçº§ç›®å½•</span><br></pre></td></tr></table></figure>

<h2 id="æ–‡æœ¬æŸ¥çœ‹ç›¸å…³"><a href="#æ–‡æœ¬æŸ¥çœ‹ç›¸å…³" class="headerlink" title="æ–‡æœ¬æŸ¥çœ‹ç›¸å…³"></a>æ–‡æœ¬æŸ¥çœ‹ç›¸å…³</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æŸ¥çœ‹å’Œè¿æ¥å·¥å…·ã€‚</span><br><span class="line">cat -n a.md   å¸¦è¡Œå·æ˜¾ç¤º</span><br><span class="line">cat -b a.md   ç©ºç™½è¡Œä¸ç¼–å·</span><br><span class="line">cat a.md &gt; b.md  aå†…å®¹å†™åˆ°bä¸­ï¼Œè¦†ç›–</span><br><span class="line">cat a.md b.md &gt; c.md  a.b.éƒ½å†™åˆ°cé‡Œ</span><br><span class="line">cat a.md|tail -n2   æ˜¾ç¤ºæœ€åä¸¤è¡Œ</span><br><span class="line">cat a.md|tail -n+2   æ˜¾ç¤ºä»ç¬¬äºŒè¡Œåˆ°å°¾</span><br><span class="line">cat a.md|head -n2   æ˜¾ç¤ºå‰ä¸¤è¡Œ</span><br><span class="line">cat a.md|head -n4 | tail -n+2   æ˜¾ç¤º2-4è¡Œ tailä»2å¼€å§‹ï¼Œheadå‰4è¡Œï¼Œä¸¤è€…äº¤é›†</span><br><span class="line">cat /dev/null &gt; a.md  æ¸…ç©ºæ–‡ä»¶</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tail å‘½ä»¤å¯ç”¨äºæŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œ-f å¸¸ç”¨äºæŸ¥é˜…æ­£åœ¨æ”¹å˜çš„æ—¥å¿—ã€‚</span><br><span class="line">tail -f -n10 a.md  ä¸æ–­å¾ªç¯è¯»å–å°¾éƒ¨10è¡Œ</span><br><span class="line">tail -n10 a.md  æ˜¾ç¤ºæœ€å10è¡Œ</span><br><span class="line">tail -n +20 notes.log   ä»ç¬¬20è¡Œæ˜¾ç¤ºè‡³æœ«å°¾</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sed -n &#x27;2,4p&#x27; a.md    æ˜¾ç¤º2-4è¡Œ</span><br></pre></td></tr></table></figure>

<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><p>åœºæ™¯ï¼šæ±‚æ—¥å¿—ä¸­æŸä¸€å€¼çš„ä¸ªæ•°åŠå¹³å‡å€¼<br>AWK æ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ã€‚<br>æ ·å¼æ‰«æå’Œå¤„ç†è¯­è¨€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;|awk -F &#x27;ns&#x27; &#x27;&#123;print $1&#125;&#x27;|awk &#x27;BEGIN&#123;sum=0&#125;&#123;sum=sum+$1&#125;END&#123;print sum/NR&#125;&#x27;</span><br><span class="line">//è¾“å‡ºå¹³å‡</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tail -f platform-idproducer.log.wf</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /dev/null &gt; platform-idproducer.log.wf</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;|awk -F &#x27;ns&#x27; &#x27;&#123;print $1&#125;&#x27;|awk &#x27;END&#123;print NR&#125;&#x27;</span><br><span class="line">//è¾“å‡ºè¡Œæ•°</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf</span><br><span class="line">//-FæŒ‡å®šåˆ†éš”ç¬¦ç”¨æ¥æŒ‡å®šåˆ†éš”ç¬¦ï¼ŒæŒ‡å®š&#x27;Cost time:&#x27;ä¸ºåˆ†éš”ç¬¦ã€‚</span><br><span class="line">//æ€»å…±åˆ†æˆä¸¤ä¸ªåŸŸï¼Œ&#x27;&#123;print $2&#125;&#x27;è¡¨ç¤ºè¾“å‡ºç¬¬äºŒä¸ªåŸŸï¼Œ&#x27;&#x27;å°‘ä¸äº†</span><br></pre></td></tr></table></figure>

<p>awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ã€‚</p>
<p>awkå·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼šè¯»å…¥æœ‰â€™\nâ€™æ¢è¡Œç¬¦åˆ†å‰²çš„ä¸€æ¡è®°å½•ï¼Œç„¶åå°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ$0åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ,$1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸ,$nè¡¨ç¤ºç¬¬nä¸ªåŸŸã€‚é»˜è®¤åŸŸåˆ†éš”ç¬¦æ˜¯â€ç©ºç™½é”®â€ æˆ– â€œ[tab]é”®â€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;</span><br><span class="line">//è¡¨ç¤ºä¸Šä¸€æ­¥è¾“å‡ºçš„æ–‡æœ¬ï¼Œé€è¡Œç­›é€‰ï¼Œæœ‰nsçš„è¾“å‡ºï¼Œä¸åŠ &#x27;&#x27;ä¹Ÿè¡Œ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;|awk -F &#x27;ns&#x27; &#x27;&#123;print $1&#125;&#x27;</span><br><span class="line">//ä¸Šä¸€æ­¥è¾“å‡ºé€è¡Œçš„***nsï¼Œè¿™ä¸€æ­¥è‡ªå®šä¹‰nsä¸ºåˆ†éš”ç¬¦ï¼Œè¾“å‡ºç¬¬ä¸€ä¸ªåŸŸï¼Œç›¸å½“äºå»æ‰äº†nsï¼Œåªå‰©ä¸‹æ•°å­—</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;|awk -F &#x27;ns&#x27; &#x27;&#123;print $1&#125;&#x27;|awk &#x27;&#123;print NR,$0&#125;&#x27;</span><br><span class="line">//NRè¡¨ç¤ºæ¯è¡Œçš„è®°å½•å·ï¼Œè¿™ä¸ªè¾“å‡ºè¡Œå·+æ‰€æœ‰åŸŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">awk -F &#x27;Cost time:&#x27; &#x27;&#123;print $2&#125;&#x27; platform-idproducer.log.wf|grep &#x27;ns&#x27;|awk -F &#x27;ns&#x27; &#x27;&#123;print $1&#125;&#x27;|awk &#x27;BEGIN&#123;sum=0&#125;&#123;sum=sum+$1&#125;END&#123;print sum/NR&#125;&#x27;</span><br><span class="line">//BEGIN åˆå§‹åŒ–ä»£ç å—ï¼Œä¸»è¦æ˜¯å¼•ç”¨å…¨å±€å˜é‡</span><br><span class="line">//END ç»“å°¾ä»£ç å—ï¼Œåœ¨å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ä¹‹åå†æ‰§è¡Œçš„ä»£ç å—ï¼Œä¸»è¦æ˜¯è¿›è¡Œæœ€ç»ˆè®¡ç®—æˆ–è¾“å‡ºç»“å°¾æ‘˜è¦ä¿¡æ¯</span><br><span class="line">//beginçš„ä½œç”¨åœ¨äºä¸ä¼šæ¯è¡Œéƒ½åˆ·æ–°sumï¼Œä¿è¯sumçš„å…¨å±€æ€§</span><br><span class="line">//endçš„æ„æ€æ˜¯æœ€åéå†å®Œæ‰æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå¦‚æœä¸ç”¨endï¼Œåˆ™æ¯è¡Œéƒ½è®¡ç®—ä¸€ä¸‹</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åº”ç”¨ï¼šæŸ¥çœ‹æ—¥å¿—ä¸­errorä¸º0çš„è¡Œæ•°ï¼š</span><br><span class="line">awk &#x27;&#123;print $0&#125;&#x27; old.log|grep &#x27;errno&quot;:0&#x27;|awk &#x27;END&#123;print NR&#125;&#x27;</span><br><span class="line">//è¾“å‡ºæœ‰errorï¼š0çš„è¡Œæ•°ï¼Œå³æ­£ç¡®è¯·æ±‚æ•°</span><br></pre></td></tr></table></figure>

<h2 id="ç®¡é“ç¬¦"><a href="#ç®¡é“ç¬¦" class="headerlink" title="ç®¡é“ç¬¦|"></a>ç®¡é“ç¬¦|</h2><p>åˆ©ç”¨Linuxæ‰€æä¾›çš„ç®¡é“ç¬¦â€œ|â€å°†ä¸¤ä¸ªå‘½ä»¤éš”å¼€ï¼Œç®¡é“ç¬¦å·¦è¾¹å‘½ä»¤çš„è¾“å‡ºå°±ä¼šä½œä¸ºç®¡é“ç¬¦å³è¾¹å‘½ä»¤çš„è¾“å…¥ã€‚è¿ç»­ä½¿ç”¨ç®¡é“æ„å‘³ç€ç¬¬ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä¼šä½œä¸º ç¬¬äºŒä¸ªå‘½ä»¤çš„è¾“å…¥ï¼Œç¬¬äºŒä¸ªå‘½ä»¤çš„è¾“å‡ºåˆä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‘½ä»¤çš„è¾“å…¥ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<h2 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h2><p>Linux ps ï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šprocess statusï¼‰å‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œç±»ä¼¼äº windows çš„ä»»åŠ¡ç®¡ç†å™¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps -A    æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯</span><br><span class="line">-eå’Œ-Açš„æ„æ€æ˜¯ä¸€æ ·çš„ï¼Œå³æ˜¾ç¤ºæœ‰å…³å…¶ä»–ç”¨æˆ·è¿›ç¨‹çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬é‚£äº›æ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ã€‚</span><br><span class="line">-fæ˜¾ç¤ºç”¨æˆ·idï¼Œè¿›ç¨‹idï¼Œçˆ¶è¿›ç¨‹idï¼Œæœ€è¿‘CPUä½¿ç”¨æƒ…å†µï¼Œè¿›ç¨‹å¼€å§‹æ—¶é—´ç­‰ç­‰ã€‚</span><br><span class="line">ps -ef|grep idpro</span><br></pre></td></tr></table></figure>

<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p>grepå‘½ä»¤æ˜¯æŸ¥æ‰¾ï¼Œæ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚</p>
<p>grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grep &#x27;UpdateItem&#x27; ./platform-idproducer.log  //å¿…é¡»å¾—æ˜¯å•å¼•å·</span><br></pre></td></tr></table></figure>

<h2 id="å‚çœ‹ç«¯å£ä½¿ç”¨"><a href="#å‚çœ‹ç«¯å£ä½¿ç”¨" class="headerlink" title="å‚çœ‹ç«¯å£ä½¿ç”¨"></a>å‚çœ‹ç«¯å£ä½¿ç”¨</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">lsof</span><br><span class="line">lsof(list open files)æ˜¯ä¸€ä¸ªåˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶çš„å·¥å…·ã€‚</span><br><span class="line">è€Œæœ‰ä¸€ç‚¹è¦åˆ‡è®°ï¼Œåœ¨Unixä¸­ä¸€åˆ‡ï¼ˆåŒ…æ‹¬ç½‘ç»œå¥—æ¥å£ï¼‰éƒ½æ˜¯æ–‡ä»¶ã€‚</span><br><span class="line">lsof æŸ¥çœ‹ç«¯å£å ç”¨è¯­æ³•æ ¼å¼ï¼š</span><br><span class="line">lsof -i:ç«¯å£å·</span><br><span class="line">ä½¿ç”¨-i:portæ¥æ˜¾ç¤ºä¸æŒ‡å®šç«¯å£ç›¸å…³çš„ç½‘ç»œä¿¡æ¯</span><br><span class="line"></span><br><span class="line">å‚è€ƒï¼šhttps://www.jianshu.com/p/a3aa6b01b2e1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat</span><br><span class="line">yum install -y net-tools</span><br><span class="line">netstat -tunlp | grep ç«¯å£å·</span><br><span class="line">-t (tcp) ä»…æ˜¾ç¤ºtcpç›¸å…³é€‰é¡¹</span><br><span class="line">-u (udp)ä»…æ˜¾ç¤ºudpç›¸å…³é€‰é¡¹</span><br><span class="line">-n æ‹’ç»æ˜¾ç¤ºåˆ«åï¼Œèƒ½æ˜¾ç¤ºæ•°å­—çš„å…¨éƒ¨è½¬åŒ–ä¸ºæ•°å­—</span><br><span class="line">-l ä»…åˆ—å‡ºåœ¨Listen(ç›‘å¬)çš„æœåŠ¡çŠ¶æ€</span><br><span class="line">-p æ˜¾ç¤ºå»ºç«‹ç›¸å…³é“¾æ¥çš„ç¨‹åºå</span><br><span class="line">netstat -ntlp   //æŸ¥çœ‹å½“å‰æ‰€æœ‰tcpç«¯å£</span><br><span class="line">netstat -ntulp | grep 80   //æŸ¥çœ‹æ‰€æœ‰80ç«¯å£ä½¿ç”¨æƒ…å†µ</span><br><span class="line">netstat -ntulp | grep 3306   //æŸ¥çœ‹æ‰€æœ‰3306ç«¯å£ä½¿ç”¨æƒ…å†µ</span><br></pre></td></tr></table></figure>

<h2 id="yum-apt-brew"><a href="#yum-apt-brew" class="headerlink" title="yum apt brew"></a>yum apt brew</h2><p>linuxç³»ç»ŸåŸºæœ¬ä¸Šåˆ†ä¸¤å¤§ç±»ï¼š<br>1.RedHatç³»åˆ—ï¼šRedhatã€Centosã€Fedoraç­‰ï¼Œä½¿ç”¨yum<br>2.Debianç³»åˆ—ï¼šDebianã€Ubuntuç­‰ï¼Œä½¿ç”¨apt-get</p>
<p>Macç³»ç»Ÿ:<br>Homebrewï¼ŒHomebrewç®€ç§°brew</p>
<h2 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h2><p>åœ¨ç½‘ç»œä¸­pingæ˜¯ä¸€ä¸ªååˆ†å¼ºå¤§çš„TCP/IPå·¥å…·ã€‚å®ƒçš„ä½œç”¨ä¸»è¦ä¸ºï¼š<br>ï¼ˆ1ï¼‰ç”¨æ¥æ£€æµ‹ç½‘ç»œçš„è¿é€šæƒ…å†µå’Œåˆ†æç½‘ç»œé€Ÿåº¦ï¼›<br>ï¼ˆ2ï¼‰æ ¹æ®åŸŸåå¾—åˆ°æœåŠ¡å™¨IPï¼›<br>ï¼ˆ3ï¼‰æ ¹æ®pingè¿”å›çš„TTLå€¼æ¥åˆ¤æ–­å¯¹æ–¹æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠæ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨æ•°é‡ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬é€šå¸¸ä¼šç”¨å®ƒæ¥ç›´æ¥ping IPåœ°å€ï¼Œæ¥æµ‹è¯•ç½‘ç»œçš„è¿é€šæƒ…å†µã€‚</p>
<p>byteså€¼ï¼šæ•°æ®åŒ…å¤§å°ï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚ã€‚</p>
<p>timeå€¼ï¼šå“åº”æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´è¶Šå°ï¼Œè¯´æ˜ä½ è¿æ¥è¿™ä¸ªåœ°å€é€Ÿåº¦è¶Šå¿«ã€‚</p>
<p>TTLå€¼ï¼šTime To Live,è¡¨ç¤ºDNSè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šå­˜åœ¨çš„æ—¶é—´ï¼Œå®ƒæ˜¯IPåè®®åŒ…çš„ä¸€ä¸ªå€¼ï¼Œå‘Šè¯‰è·¯ç”±å™¨è¯¥æ•°æ®åŒ…ä½•æ—¶éœ€è¦è¢«ä¸¢å¼ƒã€‚å¯ä»¥é€šè¿‡Pingè¿”å›çš„TTLå€¼å¤§å°ï¼Œç²—ç•¥åœ°åˆ¤æ–­ç›®æ ‡ç³»ç»Ÿç±»å‹æ˜¯Windowsç³»åˆ—è¿˜æ˜¯UNIX/Linuxç³»åˆ—ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinuxç³»ç»Ÿçš„TTLå€¼ä¸º64æˆ–255ï¼ŒWindowsNT/2000/XPç³»ç»Ÿçš„TTLå€¼ä¸º128ï¼ŒWindows98ç³»ç»Ÿçš„TTLå€¼ä¸º32ï¼ŒUNIXä¸»æœºçš„TTLå€¼ä¸º255ã€‚</p>
<p>100<del>130msä¹‹é—´ï¼ŒWindowsç³»ç»Ÿ ï¼›<br>240</del>255msä¹‹é—´ï¼ŒUNIX/Linuxç³»ç»Ÿã€‚</p>
</blockquote>
<h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><p>æµ‹è¯•æŒ‡å®šç«¯å£è¿é€šæ€§ï¼š</p>
<blockquote>
<p>telnet 102.106.228.173 8601å³å¯</p>
<p>1ã€æ£€æµ‹ä¸»æœºæ˜¯å¦å®‰è£…telnet<br>rpm -qa telnet-server<br>è‹¥æ— è¾“å…¥å†…å®¹ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å®‰è£…ã€‚å‡ºäºå®‰å…¨è€ƒè™‘telnet-server.rpmæ˜¯é»˜è®¤æ²¡æœ‰å®‰è£…çš„ï¼Œè€Œtelnetçš„å®¢æˆ·ç«¯æ˜¯æ ‡é…ã€‚å³ä¸‹é¢çš„è½¯ä»¶æ˜¯é»˜è®¤å®‰è£…çš„ã€‚</p>
<p>2ã€è‹¥æœªå®‰è£…ï¼Œåˆ™å®‰è£…telnet-serverï¼Œå¦åˆ™å¿½ç•¥æ­¤æ­¥éª¤<br>yum install telnet-server ã€€</p>
<p>3ã€æ£€æµ‹telnet-serverçš„rpmåŒ…æ˜¯å¦å®‰è£…<br>rpm -qa telnet<br>è¾“å‡ºï¼štelnet-0.17-47.el6_3.1.x86_64</p>
<p>4ã€è‹¥æœªå®‰è£…ï¼Œåˆ™å®‰è£…telnetï¼Œå¦åˆ™å¿½ç•¥æ­¤æ­¥éª¤<br>yum install telnet</p>
<p>5.æµ‹è¯•<br>Trying ::1â€¦<br>Connected to localhost.<br>Escape character is â€˜^]â€™.</p>
<p>è¡¨æ˜è¿æ¥æˆåŠŸã€‚ï¼ˆstatsæŸ¥çœ‹çŠ¶æ€ï¼Œflush_all:æ¸…æ¥šç¼“å­˜ï¼‰</p>
</blockquote>
<p>8080ç«¯å£ä¸€ä¸‹è®¿é—®ä¸äº†ï¼Ÿ</p>
<h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><p>åœ¨Linuxä¸­curlæ˜¯ä¸€ä¸ªåˆ©ç”¨URLè§„åˆ™åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥è¯´æ˜¯ä¸€æ¬¾å¾ˆå¼ºå¤§çš„httpå‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒæ”¯æŒæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ï¼Œæ˜¯ç»¼åˆä¼ è¾“å·¥å…·ï¼Œä½†æŒ‰ä¼ ç»Ÿï¼Œä¹ æƒ¯ç§°urlä¸ºä¸‹è½½å·¥å…·ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl http://www.linux.com  //è®¿é—®ç½‘å€</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¿å­˜ç½‘é¡µï¼š</span><br><span class="line">1.ä½¿ç”¨linuxçš„é‡å®šå‘åŠŸèƒ½ä¿å­˜</span><br><span class="line">curl http://www.linux.com &gt;&gt; linux.html</span><br><span class="line">2.å¯ä»¥ä½¿ç”¨curlçš„å†…ç½®option:-o(å°å†™)ä¿å­˜ç½‘é¡µ</span><br><span class="line">curl -o linux.html http://www.linux.com</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¿å­˜ç½‘é¡µä¸­çš„æ–‡ä»¶ï¼š</span><br><span class="line">curl -O http://www.linux.com/hello.sh</span><br><span class="line">è¦æ³¨æ„è¿™é‡Œåé¢çš„urlè¦å…·ä½“åˆ°æŸä¸ªæ–‡ä»¶ï¼Œä¸ç„¶æŠ“ä¸ä¸‹æ¥</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curlè¿›è¡Œpostè¯·æ±‚ï¼š</span><br><span class="line">-Håé¢ä¸ºè¯·æ±‚å¤´ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªï¼Œcurlé»˜è®¤çš„è¯·æ±‚æ–¹å¼æ˜¯GETï¼Œæˆ‘ä»¬è¦ä½¿ç”¨POSTçš„è¯ï¼Œå°±å¾—åŠ ä¸Šâ€œ-X POST</span><br><span class="line"></span><br><span class="line">è¯·æ±‚ä½“ï¼Œä¹Ÿå°±æ˜¯jsonæ ¼å¼ï¼Œæ­¤æ—¶åªéœ€è¦æ·»åŠ -dåï¼ŒåŠ ä¸Šå•å¼•å·ï¼Œå•å¼•å·é‡Œé¢æ·»åŠ èŠ±æ‹¬å·ï¼Œç„¶åjsonæ ¼å¼çš„key-valueæ·»åŠ è¿›å»å³å¯</span><br><span class="line"></span><br><span class="line">curl &#x27;http://10.12.205.134:8182/pt/idproducer/v2/createapp&#x27; -H &quot;Content-Type:application/json&quot; -X POST -d &#x27;&#123;&quot;appid&quot;:10001,&quot;machineid&quot;:250031,&quot;step&quot;:10000,&quot;autoincre&quot;:0&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>curlå‘½ä»¤ï¼Œåªèƒ½linuxä¸Šæ“ä½œï¼Œmacä¸Šè¿˜ä¸è¡Œã€‚</p>
<h2 id="Linux-çš„æ‰“å°å‘½ä»¤-echo"><a href="#Linux-çš„æ‰“å°å‘½ä»¤-echo" class="headerlink" title="Linux çš„æ‰“å°å‘½ä»¤ echo"></a>Linux çš„æ‰“å°å‘½ä»¤ echo</h2><p><code>echo &quot;c.biancheng.net&quot;</code> </p>
<p>å¦‚æœåŠ å…¥äº† <code>-n</code>é€‰é¡¹ï¼Œåˆ™åœ¨è¾“å‡ºå†…å®¹ç»“æŸåï¼Œä¸ä¼šæ¢è¡Œï¼Œç›´æ¥æ˜¾ç¤ºæ–°è¡Œçš„æç¤ºç¬¦</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å‡ºæ—¶é—´ï¼š</span><br><span class="line">echo &quot;è®¿é—®æ—¶é—´æ˜¯ï¼š`date &#x27;+%Y%m%d %H:%M:%S&#x27;`&quot;</span><br><span class="line">è¾“å‡ºï¼šè®¿é—®æ—¶é—´æ˜¯ï¼š20210902 17:14:27</span><br><span class="line"></span><br><span class="line">æƒ³è¦è¾“å‡ºæ¢è¡Œï¼š</span><br><span class="line">echo -e &quot;hello\nman&quot;</span><br></pre></td></tr></table></figure>

<p>shellè„šæœ¬ä¸­æ‰“å°å˜é‡ï¼š<br><code>a=1 echo $a a=$a+1 echo $a</code><br>è¿™æ ·æ‰“å°çš„æ˜¯å­—ç¬¦å‹<code>1+1</code><br>Bash æœ¬è´¨ä¸Šåªæœ‰å­—ç¬¦å‹å˜é‡<br>æ‰§è¡Œ<code>M=$((45+20)</code>ï¼Œæˆ–<code>let M=45+20 </code>æ‰èƒ½å¾—åˆ°65ã€‚å¦‚æœäº‹å…ˆå£°æ˜å˜é‡æ˜¯æ•´å‹æ•°ï¼Œå°±ä¸å¿…ä½¿ç”¨<code>$((â€¦))</code>æˆ–è€…<code>let</code>ã€‚</p>
<p>ç”¨å¸¦é€‰é¡¹-i çš„declare å‘½ä»¤ï¼Œå¯ä»¥ä½¿å˜é‡å…·æœ‰æ•´æ•°ï¼ˆintegerï¼‰å±æ€§ã€‚</p>
<p><code>declare -i a</code></p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ A=15 B=30</span><br><span class="line">$ declare -i C=$A+$B</span><br><span class="line">$ D=$A+$B</span><br><span class="line">$ echo C=$C, D=$D</span><br><span class="line">C=45, D=15+30</span><br></pre></td></tr></table></figure>

<h2 id="vimå¿«é€Ÿæ“ä½œ"><a href="#vimå¿«é€Ÿæ“ä½œ" class="headerlink" title="vimå¿«é€Ÿæ“ä½œ"></a>vimå¿«é€Ÿæ“ä½œ</h2><p>åœ¨vimçš„æ™®é€šæ¨¡å¼ä¸‹.</p>
<p><code>gg</code>å…‰æ ‡è·³è½¬åˆ°è¯¥æ–‡ä»¶çš„è¡Œé¦–</p>
<p>åº”ç”¨é¼ æ ‡ï¼š æŒ‰ä¸‹<code>:</code>ä¹‹åï¼Œ<code>set mouse=a</code></p>
<p>å…³é—­é¼ æ ‡åŠŸèƒ½ï¼š<code>:set mouse-=a</code></p>
<h2 id="linuxæ‰§è¡Œå¤šè¡Œå‘½ä»¤"><a href="#linuxæ‰§è¡Œå¤šè¡Œå‘½ä»¤" class="headerlink" title="linuxæ‰§è¡Œå¤šè¡Œå‘½ä»¤"></a>linuxæ‰§è¡Œå¤šè¡Œå‘½ä»¤</h2><p><code>;</code>éš”å¼€å³å¯</p>
<h2 id="shellè„šæœ¬åå°ä¸€ç›´è¿è¡Œ"><a href="#shellè„šæœ¬åå°ä¸€ç›´è¿è¡Œ" class="headerlink" title="shellè„šæœ¬åå°ä¸€ç›´è¿è¡Œ"></a>shellè„šæœ¬åå°ä¸€ç›´è¿è¡Œ</h2><p>ä½¿ç”¨shï¼Œå…¶ä¸­test.shä¸ºæ‰€æ‰§è¡Œçš„è„šæœ¬ï¼Œout.txtä¸ºè¾“å‡ºä¿¡æ¯çš„åœ°æ–¹ã€‚<br>sh test.sh&gt;&amp;out.txt &amp;</p>
<h2 id="rm-mv-cp"><a href="#rm-mv-cp" class="headerlink" title="rm mv cp"></a>rm mv cp</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨æŒ‡ä»¤ cp å°†å½“å‰ç›®å½• test/ ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç›®å½• newtest ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</span><br><span class="line">cp â€“r test/ newtest</span><br><span class="line"></span><br><span class="line">åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠç›®å½•ï¼Œå‘½ä»¤è¡Œä¸ºï¼š</span><br><span class="line">rm  -r  *</span><br><span class="line">-f å³ä½¿åŸæ¡£æ¡ˆå±æ€§è®¾ä¸ºå”¯è¯»ï¼Œäº¦ç›´æ¥åˆ é™¤ï¼Œæ— éœ€é€ä¸€ç¡®è®¤ã€‚</span><br><span class="line">-r å°†ç›®å½•åŠä»¥ä¸‹ä¹‹æ¡£æ¡ˆäº¦é€ä¸€åˆ é™¤ã€‚</span><br><span class="line"></span><br><span class="line">å°† /usr/runoob ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ç§»åˆ°å½“å‰ç›®å½•ä¸‹</span><br><span class="line">mv /usr/runoob/*  . </span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MACå®‰è£…MySQL</title>
    <url>/2021/11/27/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/MAC%E5%AE%89%E8%A3%85mysql/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å®‰è£…ï¼š<code>brew install mysql</code></p>
<p>æŸ¥çœ‹ï¼š<code>brew info mysql</code></p>
<p>å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼š<code>mysql.server start</code></p>
<p>ç™»å½•ï¼š<code>mysql -u root -p </code></p>
<blockquote>
<p>é‡åˆ°é—®é¢˜ï¼Œå‘ç°æ˜¯brewæ²¡æ›´æ–°ï¼Œbrew updateæ›´æ–°åå†è¯•å°±å¯ä»¥</p>
</blockquote>
<p>MySQLæ•°æ®åº“ç¬¬ä¸€æ¬¡å®‰è£…å®Œæˆå,rootç”¨æˆ·åˆå§‹çš„ç™»å½•å¯†ç ä¸ºç©ºã€‚ç›´æ¥å›è½¦è¿›è¡Œç™»å½•ã€‚</p>
<h2 id="æ˜¾ç¤º"><a href="#æ˜¾ç¤º" class="headerlink" title="æ˜¾ç¤º"></a>æ˜¾ç¤º</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from t_goods \G</span><br></pre></td></tr></table></figure>

<p>ä¸€è¡Œä¸€è¡Œåœ°æ˜¾ç¤ºï¼Œæ³¨æ„ï¼š\Gä¸ºå¤§å†™å­—æ¯ï¼Œä¸å¯ä½¿ç”¨å°å†™ï¼›ä½¿ç”¨\Gå‚æ•°åï¼ŒSQLè¯­å¥åå¯ä»¥ä¸åŠ åˆ†éš”ç¬¦ï¼Œå¦‚æœåŠ åˆ†éš”ç¬¦ï¼Œåˆ™ä¼šæŠ¥â€œerror:no query specifiedâ€çš„é”™è¯¯ã€‚</p>
<h2 id="æ·»åŠ ç”¨æˆ·æ”¹å¯†ç "><a href="#æ·»åŠ ç”¨æˆ·æ”¹å¯†ç " class="headerlink" title="æ·»åŠ ç”¨æˆ·æ”¹å¯†ç "></a>æ·»åŠ ç”¨æˆ·æ”¹å¯†ç </h2><p><code>select User, Host, password_expired from mysql.user;</code>  æ˜¾ç¤ºç”¨æˆ·</p>
<p><strong>åˆ›å»ºç”¨æˆ·</strong>ï¼š<code>create user &#39;name&#39;@&#39;localhost&#39; identified by &#39;password&#39;;</code></p>
<p>usernameï¼šä½ å°†åˆ›å»ºçš„ç”¨æˆ·å<br>hostï¼šæŒ‡å®šè¯¥ç”¨æˆ·åœ¨å“ªä¸ªä¸»æœºä¸Šå¯ä»¥ç™»é™†ï¼Œå¦‚æœæ˜¯æœ¬åœ°ç”¨æˆ·å¯ç”¨localhostï¼Œå¦‚æœæƒ³è®©è¯¥ç”¨æˆ·å¯ä»¥ä»ä»»æ„è¿œç¨‹ä¸»æœºç™»é™†ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦%<br>passwordï¼šè¯¥ç”¨æˆ·çš„ç™»é™†å¯†ç ï¼Œå¯†ç å¯ä»¥ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯¥ç”¨æˆ·å¯ä»¥ä¸éœ€è¦å¯†ç ç™»é™†æœåŠ¡å™¨</p>
<p><code>CREATE USER &#39;dog&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;</code><br><code>CREATE USER &#39;pig&#39;@&#39;192.168.1.101_&#39; IDENDIFIED BY &#39;123456&#39;;</code><br><code>CREATE USER &#39;pig&#39;@&#39;%&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p><strong>æˆæƒ</strong>ï¼š<code>grant privileges on databasename.tablename to &#39;username&#39;@&#39;host&#39;</code></p>
<p>privilegesï¼šç”¨æˆ·çš„æ“ä½œæƒé™ï¼Œå¦‚SELECTï¼ŒINSERTï¼ŒUPDATEç­‰ï¼Œå¦‚æœè¦æˆäºˆæ‰€çš„æƒé™åˆ™ä½¿ç”¨ALL<br>databasenameï¼šæ•°æ®åº“å<br>tablenameï¼šè¡¨åï¼Œå¦‚æœè¦æˆäºˆè¯¥ç”¨æˆ·å¯¹æ‰€æœ‰æ•°æ®åº“å’Œè¡¨çš„ç›¸åº”æ“ä½œæƒé™åˆ™å¯ç”¨<em>è¡¨ç¤ºï¼Œå¦‚</em>.*</p>
<p>ä¾‹å­:<br><code>GRANT SELECT, INSERT ON test.user TO &#39;pig&#39;@&#39;%&#39;;</code><br><code>GRANT ALL ON *.* TO &#39;pig&#39;@&#39;%&#39;;</code><br><code>GRANT ALL ON maindataplus.* TO &#39;pig&#39;@&#39;%&#39;;</code></p>
<p><strong>ä¿®æ”¹å¯†ç </strong>ï¼š<code>set password for &#39;name&#39;@&#39;localhost&#39;=password(&#39;newpass&#39;);</code></p>
<p>å¦‚æœæ˜¯å½“å‰ç™»é™†ç”¨æˆ·ç”¨:<br><code>SET PASSWORD = PASSWORD(&quot;newpassword&quot;);</code><br>ä¾‹å­:<br><code>SET PASSWORD FOR &#39;pig&#39;@&#39;%&#39; = PASSWORD(&quot;123456&quot;);</code></p>
<p><strong>æ’¤é”€æˆæƒ</strong>ï¼š<code>REVOKE privilege ON databasename.tablename FROM &#39;username&#39;@&#39;host&#39;;</code></p>
<p>ä¾‹å­:<br><code>REVOKE SELECT ON *.* FROM &#39;pig&#39;@&#39;%&#39;;</code></p>
<p><strong>æŸ¥çœ‹æˆæƒ</strong>ï¼š<code>SHOW GRANTS FOR &#39;pig&#39;@&#39;%&#39;; </code></p>
<p><strong>åˆ é™¤ç”¨æˆ·</strong>ï¼š<code>DROP USER &#39;username&#39;@&#39;host&#39;;</code></p>
<p><strong>åˆ·æ–°æƒé™</strong>ï¼š<code>flush privileges;</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select User, Host, password_expired from mysql.user;</span><br><span class="line">grant all on *.* to &#x27;liuxuan&#x27;@&#x27;localhost&#x27;;</span><br><span class="line">mysql -u liuxuan -p</span><br><span class="line">ç™»å½•</span><br></pre></td></tr></table></figure>

<h2 id="2022-1-31-ç™»å½•å‡ºé”™"><a href="#2022-1-31-ç™»å½•å‡ºé”™" class="headerlink" title="2022.1.31.ç™»å½•å‡ºé”™"></a>2022.1.31.ç™»å½•å‡ºé”™</h2><p><code>ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</code></p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/u012373815/article/details/82188361">https://blog.csdn.net/u012373815/article/details/82188361</a></p>
<p>æ— æ³•è¿æ¥æœ¬åœ°sqlæœåŠ¡ï¼Œæ˜¯mysql.sockæ–‡ä»¶æ‰¾ä¸åˆ°äº†ï¼Œè¿™ä¸ªæ–‡ä»¶ä»¥å‰åœ¨/tmp ä¸‹ç°åœ¨æ²¡æœ‰äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°mysqlçš„å®‰è£…ç›®å½•ï¼Œæˆ‘çš„æ˜¯ï¼šcd /usr/local/Cellar/mysql/8.0.27</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œ sudo ./support-files/mysql.server start  å¯åŠ¨mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŠ¥é”™ï¼š ERROR! The server quit without updating PID file (/usr/local/var/mysql/liuxuan.pid).</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯èƒ½æ˜¯æ²¡æœ‰bogon/æ²¡æœ‰æƒé™ï¼Œæˆ‘ä»¬ç»™äºˆæƒé™å³å¯ï¼šsudo chmod -R 777 /usr/local/var/mysql/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡æ–°æ‰§è¡Œç¬¬äºŒæ­¥ï¼Œsuccess</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æŸ¥çœ‹mysql çš„error æ–‡ä»¶ /usr/local/var/mysql/abel-MacBook-Pro.local.errã€‚</p>
<h2 id="2022-2-1-MACå¯è§†åŒ–sqlè½¯ä»¶Navicat"><a href="#2022-2-1-MACå¯è§†åŒ–sqlè½¯ä»¶Navicat" class="headerlink" title="2022.2.1.MACå¯è§†åŒ–sqlè½¯ä»¶Navicat"></a>2022.2.1.MACå¯è§†åŒ–sqlè½¯ä»¶Navicat</h2><p>Navicat Premium for Mac æ˜¯Macå¹³å°ä¸Šä¼˜ç§€çš„æ•°æ®åº“å¼€å‘å·¥å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨Navicat Premium åŒæ—¶è¿æ¥MySQLã€SQL Serverã€Oracleã€SQLiteç­‰æ•°æ®åº“ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œnavicat premium è®©ä½ è½»æ¾åˆ›å»ºã€ç®¡ç†å’Œç»´æŠ¤æ•°æ®åº“ï¼Œéå¸¸å®ç”¨ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>Macå®‰è£…å’Œç ´è§£å‚è€ƒï¼š<a href="https://www.jianshu.com/p/527c59277406">https://www.jianshu.com/p/527c59277406</a>  ï¼ˆå…¬é’¥ç•Œé¢æ‰“ä¸å¼€ï¼‰</p>
<p>æ¢ä¸€ä¸ªï¼š<a href="https://www.jianshu.com/p/8011db219dd9?from=groupmessage@">https://www.jianshu.com/p/8011db219dd9?from=groupmessage@</a></p>
<p>ä½¿ç”¨ï¼š<a href="https://blog.csdn.net/weixin_45877226/article/details/105667708">https://blog.csdn.net/weixin_45877226/article/details/105667708</a></p>
<p>ç›´æ¥ä¸‹è½½çš„ä¸€ä¸ªï¼š<a href="http://www.xue51.com/mac/3343.html">http://www.xue51.com/mac/3343.html</a></p>
<p>éƒ½æ²¡æˆ</p>
<h2 id="2022-2-2-æ¢ä¸€ä¸ªDataGrip"><a href="#2022-2-2-æ¢ä¸€ä¸ªDataGrip" class="headerlink" title="2022.2.2.æ¢ä¸€ä¸ªDataGrip"></a>2022.2.2.æ¢ä¸€ä¸ªDataGrip</h2><p>DataGrip Macç‰ˆæ˜¯ç”±JetBrainså…¬å¸æ¨å‡ºçš„<a href="http://www.pc6.com/mach/macsql/">æ•°æ®åº“</a>ç®¡ç†è½¯ä»¶ï¼ŒDataGripæ”¯æŒå‡ ä¹æ‰€æœ‰ä¸»æµçš„å…³ç³»æ•°æ®åº“äº§å“ï¼Œå¦‚DB2ã€Derbyã€H2ã€MySQLã€Oracleã€PostgreSQLã€SQL Serverã€SqlliteåŠSybaseç­‰ï¼Œå¹¶ä¸”æä¾›äº†ç®€å•æ˜“ç”¨çš„ç•Œé¢ï¼Œ<a href="http://www.pc6.com/mach/rjkfgj/">å¼€å‘</a>è€…ä¸Šæ‰‹å‡ ä¹ä¸ä¼šé‡åˆ°ä»»ä½•å›°éš¾ã€‚ç›®å‰å¸‚åœºä¸Šå·²ç»å­˜åœ¨å¾ˆå¤šæ•°æ®åº“å®¢æˆ·ç«¯ï¼Œå¦‚MySQL WorkBenchã€Toadã€NaviCatã€phpMyAdminã€Sequel Proã€SQLWaveç­‰ç­‰ï¼Œè¿™äº›æ—¢æœ‰çš„äº§å“ä¸­ï¼Œæœ‰äº›æ˜¯å…è´¹çš„ï¼Œæœ‰äº›åˆ™æ˜¯æ”¶è´¹çš„ã€‚</p>
<p>å®‰è£…ä¸æ¿€æ´»æ•™ç¨‹ï¼š<a href="https://www.jianshu.com/p/c914447618e7">https://www.jianshu.com/p/c914447618e7</a> ï¼ˆä¸èƒ½ç”¨ï¼‰</p>
<p>æ¢ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="https://www.yuque.com/docs/share/35877f5f-dd13-484b-a660-1a34f03d1f38">https://www.yuque.com/docs/share/35877f5f-dd13-484b-a660-1a34f03d1f38</a>  windowsï¼š<a href="https://www.jb51.net/article/200560.htm">https://www.jb51.net/article/200560.htm</a>  ï¼ˆåªæœ‰ä¸€ä¸ªæœˆï¼Œwindowsæ²¡å‡†è¡Œï¼‰</p>
<p>ä¸€ä¸ªæœˆçš„æ¿€æ´»ç ï¼š<a href="https://tieba.baidu.com/p/7389553127">https://tieba.baidu.com/p/7389553127</a>  ï¼ˆæ¯æœˆæ›´æ–° <a href="https://33tool.com/idea/%EF%BC%89">https://33tool.com/idea/ï¼‰</a></p>
<p>æ¢ä¸€ä¸ªæ¿€æ´»ï¼š<a href="https://www.hicxy.com/3487.html">https://www.hicxy.com/3487.html</a>  ï¼ˆæ²¡æœ‰è¯•ï¼‰</p>
<p>è¿æ¥æ•°æ®åº“ï¼š<a href="https://jingyan.baidu.com/article/358570f684f305ce4724fc31.html">https://jingyan.baidu.com/article/358570f684f305ce4724fc31.html</a></p>
<p><strong>æœ‰ç‚¹é—®é¢˜ï¼Œæ¯æœˆçš„æ¿€æ´»ç åæ¥åˆä¸èƒ½ç”¨äº†ï¼Œä¹‹åæƒ³åŠæ³•ç ´è§£å§</strong></p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>javaã®leecodeäºŒå‰æ ‘ç¯‡</title>
    <url>/2021/11/07/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/java%E3%81%AEleecode%E4%BA%8C%E5%8F%89%E6%A0%91%E7%AF%87/</url>
    <content><![CDATA[<h2 id="äºŒå‰æ ‘çš„è¾“å…¥å’Œéå†"><a href="#äºŒå‰æ ‘çš„è¾“å…¥å’Œéå†" class="headerlink" title="äºŒå‰æ ‘çš„è¾“å…¥å’Œéå†"></a>äºŒå‰æ ‘çš„è¾“å…¥å’Œéå†</h2><p>äºŒå‰æ ‘å®šä¹‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line">    TreeNode() &#123;&#125;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> val) &#123; <span class="keyword">this</span>.val = val; &#125;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.left = left;</span><br><span class="line">        <span class="keyword">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰åºåˆ›å»ºäºŒå‰æ ‘ï¼šè¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹å›è½¦ä¸€æ¬¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testTreeNode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·è¾“å…¥äºŒå‰æ ‘ï¼&quot;</span>);</span><br><span class="line">        TreeNode root = creatTree();</span><br><span class="line">        ArrayList&lt;Integer&gt; qianxu = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        qianxu=preOrderReverse(root);</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰åºéå†ï¼š&quot;</span>+qianxu);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‰ç…§å‰åºéå†æ–¹å¼åˆ›å»ºäºŒå‰æ ‘ï¼Œ0ä»£è¡¨ç©ºï¼Œä¾‹å¦‚1å·¦2å³3ï¼š1200300</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">creatTree</span><span class="params">()</span></span>&#123;</span><br><span class="line">        TreeNode root;</span><br><span class="line">        <span class="keyword">int</span> num;</span><br><span class="line">        <span class="comment">//å›è½¦ç»“æŸè¾“å…¥</span></span><br><span class="line">        <span class="comment">//Scanner in=new Scanner(System.in);</span></span><br><span class="line">        <span class="comment">//num=in.nextInt();</span></span><br><span class="line">        <span class="comment">//è¿˜æ˜¯å›è½¦ç»“æŸ</span></span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.next();</span><br><span class="line">        num=Integer.parseInt(str);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>)&#123;</span><br><span class="line">            root=<span class="keyword">null</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            root=<span class="keyword">new</span> TreeNode(num);</span><br><span class="line">            root.left=creatTree();</span><br><span class="line">            root.right=creatTree();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’æ³•è¿›è¡Œéå†</span></span><br><span class="line">    <span class="comment">//å‰åº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; <span class="title">preOrderReverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        preOrder(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(root.val);           <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">        preOrder(root.left, result);</span><br><span class="line">        preOrder(root.right, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰åºåˆ›å»ºäºŒå‰æ ‘ï¼šè¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹ç©ºæ ¼ä¸€æ¬¡ï¼Œä¸€è¡Œè¾“å…¥ã€‚</p>
<h2 id="å‰ä¸­ååºéå†ï¼Œç”¨é€’å½’ï¼Œå¸¦è¾“å…¥è¾“å‡º"><a href="#å‰ä¸­ååºéå†ï¼Œç”¨é€’å½’ï¼Œå¸¦è¾“å…¥è¾“å‡º" class="headerlink" title="å‰ä¸­ååºéå†ï¼Œç”¨é€’å½’ï¼Œå¸¦è¾“å…¥è¾“å‡º"></a>å‰ä¸­ååºéå†ï¼Œç”¨é€’å½’ï¼Œå¸¦è¾“å…¥è¾“å‡º</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> inoutput;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">testTreeNode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·è¾“å…¥äºŒå‰æ ‘ï¼&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b.length; j++) &#123;</span><br><span class="line">            b[j] = Integer.parseInt(arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode root = creatTree(b);</span><br><span class="line">        <span class="comment">//å‰åºéå†</span></span><br><span class="line">        ArrayList&lt;Integer&gt; qianxu = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        qianxu=preOrderReverse(root);</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰åºéå†ï¼š&quot;</span>+qianxu);</span><br><span class="line">        <span class="comment">//ä¸­åºéå†</span></span><br><span class="line">        List&lt;Integer&gt; zhongxu = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        zhongxu=inorderTraversal(root);</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸­åºéå†ï¼š&quot;</span>+zhongxu);</span><br><span class="line">        <span class="comment">//ååºéå†</span></span><br><span class="line">        List&lt;Integer&gt; houxu = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        houxu=postorderTraversal(root);</span><br><span class="line">        System.out.println(<span class="string">&quot;ååºéå†ï¼š&quot;</span>+houxu);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‰ç…§å‰åºéå†æ–¹å¼åˆ›å»ºäºŒå‰æ ‘ï¼Œ0ä»£è¡¨ç©ºï¼Œä¾‹å¦‚1å·¦2å³3ï¼š1200300</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">creatTree</span><span class="params">(<span class="keyword">int</span>[] b)</span></span>&#123;</span><br><span class="line">        TreeNode root;</span><br><span class="line">        <span class="keyword">int</span> num=b[t++];</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        root=<span class="keyword">new</span> TreeNode(num);</span><br><span class="line">        root.left=creatTree(b);</span><br><span class="line">        root.right=creatTree(b);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’æ³•è¿›è¡Œéå†</span></span><br><span class="line">    <span class="comment">//å‰åº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; <span class="title">preOrderReverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        preOrder(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(root.val);           <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">        preOrder(root.left, result);</span><br><span class="line">        preOrder(root.right, result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸­åº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        inorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inorder(root.left, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">        inorder(root.right, list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ååº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">postorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        postorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">postorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(root.left, list);</span><br><span class="line">        postorder(root.right, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‰ä¸­ååºéå†ï¼Œç”¨è¿­ä»£"><a href="#å‰ä¸­ååºéå†ï¼Œç”¨è¿­ä»£" class="headerlink" title="å‰ä¸­ååºéå†ï¼Œç”¨è¿­ä»£"></a>å‰ä¸­ååºéå†ï¼Œç”¨è¿­ä»£</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‰åºéå†é¡ºåºï¼šä¸­-å·¦-å³ï¼Œå…¥æ ˆé¡ºåºï¼šä¸­-å³-å·¦</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">            TreeNode node = stack.pop();</span><br><span class="line">            result.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­åºéå†é¡ºåº: å·¦-ä¸­-å³ å…¥æ ˆé¡ºåºï¼š å·¦-å³</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        TreeNode cur = root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">           <span class="keyword">if</span> (cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">               stack.push(cur);</span><br><span class="line">               cur = cur.left;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               cur = stack.pop();</span><br><span class="line">               result.add(cur.val);</span><br><span class="line">               cur = cur.right;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ååºéå†é¡ºåº å·¦-å³-ä¸­ å…¥æ ˆé¡ºåºï¼šä¸­-å·¦-å³ å‡ºæ ˆé¡ºåºï¼šä¸­-å³-å·¦ï¼Œ æœ€åç¿»è½¬ç»“æœ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">            TreeNode node = stack.pop();</span><br><span class="line">            result.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒå‰æ ‘å±‚åºéå†"><a href="#äºŒå‰æ ‘å±‚åºéå†" class="headerlink" title="äºŒå‰æ ‘å±‚åºéå†"></a>äºŒå‰æ ‘å±‚åºéå†</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; resList = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">        <span class="comment">//checkFun01(root,0);</span></span><br><span class="line">        checkFun02(root);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//DFS--é€’å½’æ–¹å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkFun01</span><span class="params">(TreeNode node, Integer deep)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        deep++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (resList.size() &lt; deep) &#123;</span><br><span class="line">            <span class="comment">//å½“å±‚çº§å¢åŠ æ—¶ï¼Œlistçš„Itemä¹Ÿå¢åŠ ï¼Œåˆ©ç”¨listçš„ç´¢å¼•å€¼è¿›è¡Œå±‚çº§ç•Œå®š</span></span><br><span class="line">            List&lt;Integer&gt; item = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">            resList.add(item);</span><br><span class="line">        &#125;</span><br><span class="line">        resList.get(deep - <span class="number">1</span>).add(node.val);</span><br><span class="line"></span><br><span class="line">        checkFun01(node.left, deep);</span><br><span class="line">        checkFun01(node.right, deep);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//BFS--è¿­ä»£æ–¹å¼--å€ŸåŠ©é˜Ÿåˆ—</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">checkFun02</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        que.offer(node);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!que.isEmpty()) &#123;</span><br><span class="line">            List&lt;Integer&gt; itemList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">            <span class="keyword">int</span> len = que.size();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                TreeNode tmpNode = que.poll();</span><br><span class="line">                itemList.add(tmpNode.val);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (tmpNode.left != <span class="keyword">null</span>) que.offer(tmpNode.left);</span><br><span class="line">                <span class="keyword">if</span> (tmpNode.right != <span class="keyword">null</span>) que.offer(tmpNode.right);</span><br><span class="line">                len--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            resList.add(itemList);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="226é¢˜-ç¿»è½¬äºŒå‰æ ‘"><a href="#226é¢˜-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="226é¢˜.ç¿»è½¬äºŒå‰æ ‘"></a>226é¢˜.ç¿»è½¬äºŒå‰æ ‘</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFSé€’å½’</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰ååºéå†éƒ½å¯ä»¥</span></span><br><span class="line"><span class="comment">     * ä¸­åºä¸è¡Œï¼Œå› ä¸ºå…ˆå·¦å­©å­äº¤æ¢å­©å­ï¼Œå†æ ¹äº¤æ¢å­©å­ï¼ˆåšå®Œåï¼Œå³å­©å­å·²ç»å˜æˆäº†åŸæ¥çš„å·¦å­©å­ï¼‰ï¼Œå†å³å­©å­äº¤æ¢å­©å­ï¼ˆæ­¤æ—¶å…¶å®æ˜¯å¯¹åŸæ¥çš„å·¦å­©å­åšäº¤æ¢ï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        invertTree(root.left);</span><br><span class="line">        invertTree(root.right);</span><br><span class="line">        swapChildren(root);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swapChildren</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        TreeNode tmp = root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//BFS</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;<span class="keyword">return</span> <span class="keyword">null</span>;&#125;</span><br><span class="line">        ArrayDeque&lt;TreeNode&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        deque.offer(root);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = deque.size();</span><br><span class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                TreeNode node = deque.poll();</span><br><span class="line">                swap(node);</span><br><span class="line">                <span class="keyword">if</span> (node.left != <span class="keyword">null</span>) &#123;deque.offer(node.left);&#125;</span><br><span class="line">                <span class="keyword">if</span> (node.right != <span class="keyword">null</span>) &#123;deque.offer(node.right);&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        TreeNode temp = root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="101é¢˜-å¯¹ç§°äºŒå‰æ ‘"><a href="#101é¢˜-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="101é¢˜.å¯¹ç§°äºŒå‰æ ‘"></a>101é¢˜.å¯¹ç§°äºŒå‰æ ‘</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric1</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> compare(root.left, root.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">compare</span><span class="params">(TreeNode left, TreeNode right)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left != <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left.val != right.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒå¤–ä¾§</span></span><br><span class="line">        <span class="keyword">boolean</span> compareOutside = compare(left.left, right.right);</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒå†…ä¾§</span></span><br><span class="line">        <span class="keyword">boolean</span> compareInside = compare(left.right, right.left);</span><br><span class="line">        <span class="keyword">return</span> compareOutside &amp;&amp; compareInside;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œç›¸å½“äºä¸¤ä¸ªæ ˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric2</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        deque.offerFirst(root.left);</span><br><span class="line">        deque.offerLast(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            TreeNode leftNode = deque.pollFirst();</span><br><span class="line">            TreeNode rightNode = deque.pollLast();</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="keyword">null</span> &amp;&amp; rightNode == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="keyword">null</span> || rightNode == <span class="keyword">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            deque.offerFirst(leftNode.left);</span><br><span class="line">            deque.offerFirst(leftNode.right);</span><br><span class="line">            deque.offerLast(rightNode.right);</span><br><span class="line">            deque.offerLast(rightNode.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨æ™®é€šé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric3</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; deque = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        deque.offer(root.left);</span><br><span class="line">        deque.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            TreeNode leftNode = deque.poll();</span><br><span class="line">            TreeNode rightNode = deque.poll();</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="keyword">null</span> &amp;&amp; rightNode == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="keyword">null</span> || rightNode == <span class="keyword">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿™é‡Œé¡ºåºä¸ä½¿ç”¨Dequeä¸åŒ</span></span><br><span class="line">            deque.offer(leftNode.left);</span><br><span class="line">            deque.offer(rightNode.right);</span><br><span class="line">            deque.offer(leftNode.right);</span><br><span class="line">            deque.offer(rightNode.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="257é¢˜-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"><a href="#257é¢˜-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„" class="headerlink" title="257é¢˜.äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"></a>257é¢˜.äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">binaryTreePaths</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; paths = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        traversal(root, paths, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">traversal</span><span class="params">(TreeNode root, List&lt;Integer&gt; paths, List&lt;String&gt; res)</span> </span>&#123;</span><br><span class="line">        paths.add(root.val);</span><br><span class="line">        <span class="comment">// å¶å­ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// è¾“å‡º</span></span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; paths.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                sb.append(paths.get(i)).append(<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(paths.get(paths.size() - <span class="number">1</span>));</span><br><span class="line">            res.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            traversal(root.left, paths, res);</span><br><span class="line">            paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            traversal(root.right, paths, res);</span><br><span class="line">            paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å›æº¯ç®—æ³•"><a href="#å›æº¯ç®—æ³•" class="headerlink" title="å›æº¯ç®—æ³•"></a>å›æº¯ç®—æ³•</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void backtracking(å‚æ•°) &#123;</span><br><span class="line">    if (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">        å­˜æ”¾ç»“æœ;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;</span><br><span class="line">        å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’</span><br><span class="line">        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="39é¢˜-ç»„åˆæ€»å’Œ"><a href="#39é¢˜-ç»„åˆæ€»å’Œ" class="headerlink" title="39é¢˜.ç»„åˆæ€»å’Œ"></a>39é¢˜.ç»„åˆæ€»å’Œ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚</span><br><span class="line">candidates ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚</span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ targetï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚</span><br><span class="line">è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚</span><br><span class="line">ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7, æ‰€æ±‚è§£é›†ä¸ºï¼š [ [7], [2,2,3] ]</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‰ªæä¼˜åŒ–</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Arrays.sort(candidates); <span class="comment">// å…ˆè¿›è¡Œæ’åº</span></span><br><span class="line">        backtracking(res, <span class="keyword">new</span> ArrayList&lt;&gt;(), candidates, target, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; path, <span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target, <span class="keyword">int</span> sum, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°äº†æ•°å­—å’Œä¸º target çš„ç»„åˆ</span></span><br><span class="line">        <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt; candidates.length; i++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ sum + candidates[i] &gt; target å°±ç»ˆæ­¢éå†</span></span><br><span class="line">            <span class="keyword">if</span> (sum + candidates[i] &gt; target) <span class="keyword">break</span>;</span><br><span class="line">            path.add(candidates[i]);</span><br><span class="line">            backtracking(res, path, candidates, target, sum + candidates[i], i);</span><br><span class="line">            path.remove(path.size() - <span class="number">1</span>); <span class="comment">// å›æº¯ï¼Œç§»é™¤è·¯å¾„ path æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>Macæ—¥å¸¸ä½¿ç”¨</title>
    <url>/2021/08/27/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/MAC%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="æŸ¥çœ‹ssdå¯¿å‘½"><a href="#æŸ¥çœ‹ssdå¯¿å‘½" class="headerlink" title="æŸ¥çœ‹ssdå¯¿å‘½"></a>æŸ¥çœ‹ssdå¯¿å‘½</h3><p>brewå®‰è£…æŸ¥è¯¢å·¥å…·ï¼š<code>brew install smartmontools</code></p>
<p>å‚çœ‹ç£ç›˜ï¼š<code>diskutil list</code></p>
<p>å‚çœ‹ä½¿ç”¨æƒ…å†µï¼š<code>smartctl -a disk0</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SMART/Health Information (NVMe Log 0x02)</span><br><span class="line">Critical Warning:                   0x00</span><br><span class="line">Temperature:                        47 Celsius</span><br><span class="line">Available Spare:                    83%</span><br><span class="line">Available Spare Threshold:          2%</span><br><span class="line">Percentage Used:                    5%</span><br><span class="line">Data Units Read:                    97,383,945 [49.8 TB]</span><br><span class="line">Data Units Written:                 85,617,562 [43.8 TB]</span><br><span class="line">Host Read Commands:                 1,110,595,079</span><br><span class="line">Host Write Commands:                574,485,961</span><br><span class="line">Controller Busy Time:               0</span><br><span class="line">Power Cycles:                       11,730</span><br><span class="line">Power On Hours:                     389</span><br><span class="line">Unsafe Shutdowns:                   34</span><br><span class="line">Media and Data Integrity Errors:    0</span><br><span class="line">Error Information Log Entries:      0</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="https://www.xiaoyuanjiu.com/18812.html">https://www.xiaoyuanjiu.com/18812.html</a></p>
<h3 id="æ‰“å¼€ç»ˆç«¯"><a href="#æ‰“å¼€ç»ˆç«¯" class="headerlink" title="æ‰“å¼€ç»ˆç«¯"></a>æ‰“å¼€ç»ˆç«¯</h3><p>command + ç©ºæ ¼ï¼Œæœç´¢ç»ˆç«¯ï¼Œå³å‡ºæ¥äº†ã€‚</p>
<h3 id="æ‰“å¼€åå°"><a href="#æ‰“å¼€åå°" class="headerlink" title="æ‰“å¼€åå°"></a>æ‰“å¼€åå°</h3><p>command+option+escï¼šæ‰“å¼€åå°</p>
<h3 id="æ–‡ä»¶å¤¹æ·»åŠ ä¸ºæ”¶è—"><a href="#æ–‡ä»¶å¤¹æ·»åŠ ä¸ºæ”¶è—" class="headerlink" title="æ–‡ä»¶å¤¹æ·»åŠ ä¸ºæ”¶è—"></a>æ–‡ä»¶å¤¹æ·»åŠ ä¸ºæ”¶è—</h3><p>æ–‡ä»¶å¤¹å¾€è¿‡æ‹–å°±è¡Œ</p>
<h3 id="å®‰è£…brew"><a href="#å®‰è£…brew" class="headerlink" title="å®‰è£…brew"></a>å®‰è£…brew</h3><p><code>/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;</code></p>
<p>brew helpæ£€æŸ¥</p>
<h3 id="iterm2ç»ˆç«¯"><a href="#iterm2ç»ˆç«¯" class="headerlink" title="iterm2ç»ˆç«¯"></a>iterm2ç»ˆç«¯</h3><p>1.iTerm2 æ˜¯é»˜è®¤ç»ˆç«¯çš„æ›¿ä»£å“ï¼Œä¹Ÿæ˜¯ç›®å‰ macOS ä¸‹æœ€å¥½ç”¨çš„ç»ˆç«¯å·¥å…·ï¼Œé›†é¢œå€¼å’Œæ•ˆç‡äºä¸€èº«ã€‚</p>
<p>å®˜ç½‘å®‰è£…å³å¯ï¼Œé…ç½®é¢œè‰²ï¼Œçª—å£ï¼Œå…‰æ ‡ç­‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‚è€ƒï¼šhttps://cloud.tencent.com/developer/article/1772592</span><br><span class="line">https://www.jianshu.com/p/5ba0a559416e</span><br></pre></td></tr></table></figure>

<p>2.å®‰è£…on my zsh </p>
<p><code>$ sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;&quot;</code></p>
<p>å¦‚æœä¸è¡Œï¼Œå°±è‡ªå»ºè„šæœ¬å¤åˆ¶ç²˜è´´ï¼Œç„¶åå…è®¸ï¼Œä¸€æ ·çš„æ„æ€ã€‚</p>
<p>3.å®‰è£…<strong>powerlevel10k</strong></p>
<p>powerlevel10kæ˜¯ä¸€æ¬¾ zsh ä¸»é¢˜ï¼Œæ˜¯ powerlevel9kçš„å‡çº§ç‰ˆï¼Œå¼ºè°ƒå¿«é€Ÿã€é«˜æ•ˆå’Œå¼€ç®±å³ç”¨ã€‚powerlevel10k å…å»äº†ä¹‹å‰ powerlevel9k æ¯”è¾ƒç¹ççš„å®‰è£…æ–¹å¼ï¼Œå¦‚å®‰è£…å­—ä½“ï¼Œé…ç½®æ ·å¼ã€ä¿®æ”¹ä¸»é¢˜ç­‰ä¸€ç³»åˆ—ç¹ççš„æ“ä½œï¼Œå¼€ç®±å³ç”¨ï¼Œéå¸¸ç®€å•ã€‚</p>
<p><code>brew install romkatv/powerlevel10k/powerlevel10k</code>ï¼Œå¹¶æ ¹æ®brewæç¤ºï¼Œåœ¨.zshrcä¸­æ·»åŠ <code>source /usr/local/opt/powerlevel10k/powerlevel10k.zsh-theme</code></p>
<p><code>source ~/.zshrc</code></p>
<p><code>p10k configure</code> //å¼€å§‹é…ç½®</p>
<p>4.å®‰è£…æ’ä»¶</p>
<p>å®‰è£…zshå‘½ä»¤è¡Œé«˜äº®æ’ä»¶<code>brew install zsh-syntax-highlighting</code>ï¼Œå¹¶æ ¹æ®brewæç¤ºåœ¨.zshrcä¸­æ·»åŠ <code>source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</code></p>
<p>å®‰è£…zshè‡ªåŠ¨æç¤ºæ’ä»¶<code>brew install zsh-autosuggestions</code>ï¼Œå¹¶æ ¹æ®brewæç¤ºåœ¨.zshrcä¸­æ·»åŠ <code>source /usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh</code></p>
<p><code>source ~/.zshrc</code></p>
<h3 id="åˆ‡æ¢è¾“å…¥æ³•"><a href="#åˆ‡æ¢è¾“å…¥æ³•" class="headerlink" title="åˆ‡æ¢è¾“å…¥æ³•"></a>åˆ‡æ¢è¾“å…¥æ³•</h3><p>control+ç©ºæ ¼</p>
<h3 id="æ–‡ä»¶å¤¹æ•´ç†"><a href="#æ–‡ä»¶å¤¹æ•´ç†" class="headerlink" title="æ–‡ä»¶å¤¹æ•´ç†"></a>æ–‡ä»¶å¤¹æ•´ç†</h3><p>command+control+1</p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>gitä¸githubåº”ç”¨</title>
    <url>/2021/09/02/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/git%E5%BA%94%E7%94%A8%E4%B8%8Egithub/</url>
    <content><![CDATA[<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚</p>
<p>æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚ä¹Ÿæ˜¯[Linus Torvalds]ä¸ºäº†å¸®åŠ©ç®¡ç†Linuxå†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚</p>
<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p>SSH ä¸º [Secure Shell](<a href="https://baike.baidu.com/item/Secure">https://baike.baidu.com/item/Secure</a> Shell) çš„ç¼©å†™ï¼Œæ˜¯å»ºç«‹åœ¨åº”ç”¨å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ã€‚SSH æ˜¯è¾ƒå¯é ï¼Œä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ã€‚åˆ©ç”¨ SSH åè®®å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚SSHæœ€åˆæ˜¯UNIXç³»ç»Ÿä¸Šçš„ä¸€ä¸ªç¨‹åºï¼Œåæ¥åˆè¿…é€Ÿæ‰©å±•åˆ°å…¶ä»–æ“ä½œå¹³å°ã€‚SSHåœ¨æ­£ç¡®ä½¿ç”¨æ—¶å¯å¼¥è¡¥ç½‘ç»œä¸­çš„æ¼æ´ã€‚</p>
<p>ä¼ ç»Ÿçš„ç½‘ç»œæœåŠ¡ç¨‹åºï¼Œå¦‚ï¼šftpã€popå’Œtelnetåœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨ç½‘ç»œä¸Šç”¨æ˜æ–‡ä¼ é€å£ä»¤å’Œæ•°æ®ï¼Œåˆ«æœ‰ç”¨å¿ƒçš„äººéå¸¸å®¹æ˜“å°±å¯ä»¥æˆªè·è¿™äº›å£ä»¤å’Œæ•°æ®ã€‚è€Œä¸”ï¼Œè¿™äº›æœåŠ¡ç¨‹åºçš„å®‰å…¨éªŒè¯æ–¹å¼ä¹Ÿæ˜¯æœ‰å…¶å¼±ç‚¹çš„ï¼Œ å°±æ˜¯å¾ˆå®¹æ˜“å—åˆ°â€œä¸­é—´äººâ€ï¼ˆman-in-the-middleï¼‰è¿™ç§æ–¹å¼çš„æ”»å‡»ã€‚æ‰€è°“â€œä¸­é—´äººâ€çš„æ”»å‡»æ–¹å¼ï¼Œ å°±æ˜¯â€œä¸­é—´äººâ€å†’å……çœŸæ­£çš„æœåŠ¡å™¨æ¥æ”¶ä½ ä¼ ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼Œç„¶åå†å†’å……ä½ æŠŠæ•°æ®ä¼ ç»™çœŸæ­£çš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨å’Œä½ ä¹‹é—´çš„æ•°æ®ä¼ é€è¢«â€œä¸­é—´äººâ€ä¸€è½¬æ‰‹åšäº†æ‰‹è„šä¹‹åï¼Œå°±ä¼šå‡ºç°å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚<strong>é€šè¿‡ä½¿ç”¨SSHï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œè¿™æ ·â€ä¸­é—´äººâ€è¿™ç§æ”»å‡»æ–¹å¼å°±ä¸å¯èƒ½å®ç°äº†ï¼Œè€Œä¸”ä¹Ÿèƒ½å¤Ÿé˜²æ­¢DNSæ¬ºéª—å’ŒIPæ¬ºéª—</strong>ã€‚ä½¿ç”¨SSHï¼Œè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„å°±æ˜¯ä¼ è¾“çš„æ•°æ®æ˜¯ç»è¿‡å‹ç¼©çš„ï¼Œæ‰€ä»¥<strong>å¯ä»¥åŠ å¿«ä¼ è¾“çš„é€Ÿåº¦</strong>ã€‚SSHæœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œå®ƒæ—¢å¯ä»¥ä»£æ›¿Telnetï¼Œåˆå¯ä»¥ä¸ºFTPã€PoPã€ç”šè‡³ä¸ºPPPæä¾›ä¸€ä¸ªå®‰å…¨çš„â€é€šé“â€   ã€‚</p>
<p>git ä½¿ç”¨ rsaï¼Œrsa è¦è§£å†³çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜æ˜¯ï¼Œå¦‚ä½•ä½¿ç”¨ä¸€å¯¹ç‰¹å®šçš„æ•°å­—ï¼Œä½¿å…¶ä¸­ä¸€ä¸ªæ•°å­—å¯ä»¥ç”¨æ¥åŠ å¯†ï¼Œè€Œå¦å¤–ä¸€ä¸ªæ•°å­—å¯ä»¥ç”¨æ¥è§£å¯†ã€‚è¿™ä¸¤ä¸ªæ•°å­—å°±æ˜¯ä½ åœ¨ä½¿ç”¨ git å’Œ github çš„æ—¶å€™æ‰€é‡åˆ°çš„ public key ä¹Ÿå°±æ˜¯å…¬é’¥ä»¥åŠ private key ç§é’¥ã€‚æœ¬åœ°ç”¨ç§é’¥ï¼Œä¸Šä¼ å…¬é’¥ã€‚</p>
<h4 id="æœ¬åœ°åˆ›å»ºssh-key"><a href="#æœ¬åœ°åˆ›å»ºssh-key" class="headerlink" title="æœ¬åœ°åˆ›å»ºssh key"></a>æœ¬åœ°åˆ›å»ºssh key</h4><p><code>$ ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</code></p>
<p><code>~/ä¸‹ç”Ÿæˆ.sshæ–‡ä»¶å¤¹ï¼Œè¿›å»ï¼Œæ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„keyã€‚æ ‡é¢˜å»ºè®®å’Œä»“åº“åä¸€è‡´, ä¾¿äºåŒºåˆ†. </code></p>
<p>éªŒè¯ï¼š<code>$ ssh -T git@github.com</code></p>
<p>æœ¬åœ°è®¾ç½®gitï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;jadeliuliu&quot;</span><br><span class="line">git config --global user.email &quot;xxxxx@163.com&quot;</span><br><span class="line">git config --list</span><br></pre></td></tr></table></figure>

<h3 id="ä¸githubå»ºç«‹è¿æ¥"><a href="#ä¸githubå»ºç«‹è¿æ¥" class="headerlink" title="ä¸githubå»ºç«‹è¿æ¥"></a>ä¸githubå»ºç«‹è¿æ¥</h3><p>1.githubä¸Šå»ºç«‹ä»“åº“</p>
<p>2.æœ¬åœ°å»ºç«‹ä»“åº“ <code>git init // æŠŠè¿™ä¸ªç›®å½•å˜æˆGitå¯ä»¥ç®¡ç†çš„ä»“åº“ï¼Œæœ¬åœ°å¤šä¸€ä¸ª.gitæ–‡ä»¶å¤¹ï¼Œç”¨æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“</code></p>
<p><code>macç¬¬ä¸€æ¬¡å»ºä»“åº“å‡ºç°é—®é¢˜ï¼šxcode-select --install</code></p>
<p><code>git clone git@github.com:jadeliuliu/HelloWorld.gitï¼ˆå¤åˆ¶è‡ªé¡¹ç›®çš„é“¾æ¥ï¼‰    ç›¸å½“äºåˆ›å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“çš„å…‹éš†ç‰ˆæœ¬</code></p>
<p>3.å…³è”githubä»“åº“ <code>git remote add origin git@github.com:Hexagon-Man/HelloWorld.git</code></p>
<p>4.æäº¤ä»£ç </p>
<p><code>git add æ·»åŠ æ–‡ä»¶</code></p>
<p><code>git add . // å°†å½“å‰ç›®å½•ä¸‹ä¿®æ”¹çš„æ‰€æœ‰ä»£ç ä»å·¥ä½œåŒºæ·»åŠ åˆ°æš‚å­˜åŒº . ä»£è¡¨å½“å‰ç›®å½•</code></p>
<p><code>git remote add origin git@github.com:xxx/xxx.git // å…³è”è¿œç¨‹ä»“åº“</code></p>
<p><code>git commit -m &quot;&quot;  // æäº¤åˆ°äº† HEADï¼Œä½†æ˜¯è¿˜æ²¡åˆ°ä½ çš„è¿œç«¯ä»“åº“ </code></p>
<p><code>git push &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;  &lt;è¿œç¨‹åˆ†æ”¯å&gt; ï¼Œä¾‹å¦‚ git push origin HEADï¼šrefs/for/master  // refs/for çš„æ„ä¹‰åœ¨äºæˆ‘ä»¬æäº¤ä»£ç åˆ°æœåŠ¡å™¨ä¹‹åæ˜¯éœ€è¦ç»è¿‡code review ä¹‹åæ‰èƒ½è¿›è¡Œmergeçš„ </code> </p>
<p><code>git push -u origin master // æŠŠæœ¬åœ°åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Š</code></p>
<h3 id="gitä»“åº“ç»“æ„"><a href="#gitä»“åº“ç»“æ„" class="headerlink" title="gitä»“åº“ç»“æ„"></a>gitä»“åº“ç»“æ„</h3><p>æœ¬åœ°ä»“åº“ç”± git ç»´æŠ¤çš„ä¸‰éƒ¨åˆ†ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ˜¯ <code>å·¥ä½œç›®å½•</code>ï¼Œå®ƒæŒæœ‰å®é™…æ–‡ä»¶ï¼›ç¬¬äºŒä¸ªæ˜¯ <code>æš‚å­˜åŒºï¼ˆIndexï¼‰</code>ï¼Œå®ƒåƒä¸ªç¼“å­˜åŒºåŸŸï¼Œä¸´æ—¶ä¿å­˜æ”¹åŠ¨ï¼›æœ€åæ˜¯ <code>HEAD</code>ï¼Œå®ƒæŒ‡å‘ä½ æœ€åä¸€æ¬¡æäº¤çš„ç»“æœã€‚</p>
<h3 id="gitå‘½ä»¤"><a href="#gitå‘½ä»¤" class="headerlink" title="gitå‘½ä»¤"></a>gitå‘½ä»¤</h3><p><code>git checkout -b f  //åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</code></p>
<p><code>git branch -d f    //åˆ é™¤åˆ†æ”¯</code></p>
<p><code>git branch -a     # æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹çš„æ‰€æœ‰åˆ†æ”¯</code></p>
<p><code>git push origin &lt;branch&gt;    //åˆ†æ”¯æ¨é€åˆ°è¿œç«¯</code></p>
<p><code>git pull   //è·å–fetchå¹¶åˆå¹¶åˆ°æœ¬åœ°</code></p>
<p><code>git rm æ–‡ä»¶  //å°†æ–‡ä»¶ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤ï¼ŒåŠ -få¼ºåˆ¶åˆ é™¤</code></p>
<p><code>git rm --cached æ–‡ä»¶  //å°†æ–‡ä»¶ä»æš‚å­˜åŒºä¸­åˆ é™¤</code></p>
<p><code>åˆ é™¤ç¼“å­˜åŒºæ‰€æœ‰æ–‡ä»¶å‘½ä»¤:  git rm -r --cached .   #ä¸»è¦è¿™ä¸ªç‚¹ä¸€å®šè¦å†™</code></p>
<p><code>git log --oneline</code></p>
<h3 id="gitç©ºé—´ä¸å‘½ä»¤"><a href="#gitç©ºé—´ä¸å‘½ä»¤" class="headerlink" title="gitç©ºé—´ä¸å‘½ä»¤"></a>gitç©ºé—´ä¸å‘½ä»¤</h3><p>Working Directoryï¼šå³å·¥ä½œåŒºã€‚æ“ä½œç³»ç»Ÿå±‚é¢çš„ç›®å½•æ ‘ç»“æ„ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªtreeç›®å½•å¯¹è±¡</p>
<p>Stage(Index)ï¼šå³æš‚å­˜åŒºï¼Œä¸ºç­‰å¾…Commitçš„æ–‡ä»¶åˆ—è¡¨ã€‚æ˜¯ä»¥æ‰å¹³çš„æ–‡ä»¶æ¸…å•å®ç°çš„ï¼Œä¸è¿‡ä»ç†è§£å±‚é¢ä¸Šä¹Ÿå¯ä»¥ç†è§£ä¸ºtreeç›®å½•å¯¹è±¡</p>
<p>Local Repository(History)ï¼šæœ¬åœ°ç‰ˆæœ¬åº“ã€‚æœ‰å‘æ— ç¯å›¾ï¼Œå…¶æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªtreeç›®å½•å¯¹è±¡</p>
<p>Remote Repositoryï¼šè¿œç¨‹ç‰ˆæœ¬åº“ã€‚æœ‰å‘æ— ç¯å›¾ï¼Œå…¶æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªtreeç›®å½•å¯¹è±¡<br><img src="https://img-blog.csdnimg.cn/e1d1bb1fa97743cfb9074e383841a1eb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="image"><br>è½¬è‡ªï¼š<a href="https://www.cnblogs.com/kekec/p/9248487.html">https://www.cnblogs.com/kekec/p/9248487.html</a></p>
<p>git status æ˜¯çœ‹æš‚å­˜åŒºçš„æ”¹åŠ¨ï¼Œå¦‚æœcommitäº†ï¼Œæš‚å­˜åŒºå°±ç©ºäº†ã€‚</p>
<h3 id="åº”ç”¨ï¼šåœ¨æœ¬åœ°è¿›è¡Œäº†add-commitè¿˜æœªpushï¼Œæƒ³è¦æ’¤é”€æœ¬åœ°çš„æœ¬æ¬¡commit"><a href="#åº”ç”¨ï¼šåœ¨æœ¬åœ°è¿›è¡Œäº†add-commitè¿˜æœªpushï¼Œæƒ³è¦æ’¤é”€æœ¬åœ°çš„æœ¬æ¬¡commit" class="headerlink" title="åº”ç”¨ï¼šåœ¨æœ¬åœ°è¿›è¡Œäº†add-commitè¿˜æœªpushï¼Œæƒ³è¦æ’¤é”€æœ¬åœ°çš„æœ¬æ¬¡commit"></a>åº”ç”¨ï¼šåœ¨æœ¬åœ°è¿›è¡Œäº†add-commitè¿˜æœªpushï¼Œæƒ³è¦æ’¤é”€æœ¬åœ°çš„æœ¬æ¬¡commit</h3><p>git log æŸ¥çœ‹commit idï¼Œæ‹¿ä¸Šä¸€ä¸ªcommit idï¼Œè€Œä¸æ˜¯æœ€æ–°çš„commit idï¼ˆè¿™æ˜¯è¦å›é€€çš„idï¼‰<br>git reset ï¼šå›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œä¸æ¸…ç©ºæš‚å­˜åŒºï¼Œå·¥ä½œåŒºä¹Ÿä¸å˜ï¼Œéœ€è¦å†æäº¤çš„è¯éœ€è¦addåcommit<br>git reset â€“softï¼šå›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œä¸æ¸…ç©ºæš‚å­˜åŒºï¼Œå·¥ä½œåŒºä¹Ÿä¸å˜ï¼Œéœ€è¦å†æäº¤çš„è¯ç›´æ¥commit<br>git reset â€“hardï¼šå½»åº•å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œæ’¤é”€çš„commitä¸­çš„æ‰€æœ‰æ›´æ”¹éƒ½è¢«å†²æ‰ï¼Œæš‚å­˜åŒºä¸ºç©ºäº†ï¼Œå·¥ä½œåŒºä¹Ÿæ¢å¤ä¸ºç‰ˆæœ¬åº“ç‰ˆæœ¬ã€‚</p>
<h3 id="åº”ç”¨ï¼šæœ¬åœ°ä¿®æ”¹äº†ï¼Œæ²¡æœ‰addï¼Œæƒ³æ’¤é”€ä¿®æ”¹å˜ä¸ºç‰ˆæœ¬åº“é‡Œçš„"><a href="#åº”ç”¨ï¼šæœ¬åœ°ä¿®æ”¹äº†ï¼Œæ²¡æœ‰addï¼Œæƒ³æ’¤é”€ä¿®æ”¹å˜ä¸ºç‰ˆæœ¬åº“é‡Œçš„" class="headerlink" title="åº”ç”¨ï¼šæœ¬åœ°ä¿®æ”¹äº†ï¼Œæ²¡æœ‰addï¼Œæƒ³æ’¤é”€ä¿®æ”¹å˜ä¸ºç‰ˆæœ¬åº“é‡Œçš„"></a>åº”ç”¨ï¼šæœ¬åœ°ä¿®æ”¹äº†ï¼Œæ²¡æœ‰addï¼Œæƒ³æ’¤é”€ä¿®æ”¹å˜ä¸ºç‰ˆæœ¬åº“é‡Œçš„</h3><p>ç”¨git reset â€“hard è§£å†³  //æ¢å¤ä¸ºæœ¬åœ°åº“é‡Œçš„å†…å®¹</p>
<p>ç”¨  git checkout â€“ hello.go  æ¯”è¾ƒå¥½ï¼Œç›¸å½“äºæ¸…ç©ºäº†æš‚å­˜åŒºå†…å®¹ï¼Œå·¥ä½œåŒºå†…å®¹ä¹Ÿå˜ä¸ºä¿®æ”¹å‰çš„ã€‚</p>
<p>ç”¨  git rm â€“cached hello.go  ä¸è¡Œï¼Œä»æš‚å­˜åŒºä¸­åˆ é™¤æ–‡ä»¶ï¼Œä¼šæ˜¾ç¤ºdeleteï¼Œä¿®æ”¹çš„ä¹Ÿä¼šè®°å½•ï¼Œåªä¸è¿‡è¿˜éœ€è¦addï¼Œä¸æ”¹å˜å·¥ä½œåŒºã€‚<br>ä¸æ‡‚äº†ï¼Œä¸ç®¡æ˜¯æœ‰æ²¡æœ‰addï¼Œéƒ½ä¼šåŠ ä¸€æ¡deleteï¼Œè€Œä¸æ˜¯æŠŠåŸæœ¬çš„åˆ æ‰ã€‚</p>
<h3 id="åº”ç”¨ï¼šgit-commitä¹‹åï¼Œæƒ³å†åœ¨è¿™ä¸ªcommité‡ŒåŠ add"><a href="#åº”ç”¨ï¼šgit-commitä¹‹åï¼Œæƒ³å†åœ¨è¿™ä¸ªcommité‡ŒåŠ add" class="headerlink" title="åº”ç”¨ï¼šgit commitä¹‹åï¼Œæƒ³å†åœ¨è¿™ä¸ªcommité‡ŒåŠ add"></a>åº”ç”¨ï¼šgit commitä¹‹åï¼Œæƒ³å†åœ¨è¿™ä¸ªcommité‡ŒåŠ add</h3><p>$ git commit -m â€˜initial commitâ€™<br>$ git add forgotten_file<br>$ git commit â€“amend<br>æœ€ç»ˆä½ åªä¼šæœ‰ä¸€ä¸ªæäº¤â€”â€”ç¬¬äºŒæ¬¡æäº¤å°†ä»£æ›¿ç¬¬ä¸€æ¬¡æäº¤çš„ç»“æœã€‚</p>
<h3 id="åº”ç”¨ï¼šæœ¬åœ°ç‰ˆæœ¬æ¢å¤ä¸ºè¿œç¨‹ç‰ˆæœ¬"><a href="#åº”ç”¨ï¼šæœ¬åœ°ç‰ˆæœ¬æ¢å¤ä¸ºè¿œç¨‹ç‰ˆæœ¬" class="headerlink" title="åº”ç”¨ï¼šæœ¬åœ°ç‰ˆæœ¬æ¢å¤ä¸ºè¿œç¨‹ç‰ˆæœ¬"></a>åº”ç”¨ï¼šæœ¬åœ°ç‰ˆæœ¬æ¢å¤ä¸ºè¿œç¨‹ç‰ˆæœ¬</h3><p>git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;  </p>
<p>git pull origin master</p>
<h3 id="åº”ç”¨ï¼šæœ¬åœ°åªæœ‰masteråˆ†æ”¯ï¼Œæœ¬åœ°æ‹‰å–çº¿ä¸Šå…¶ä»–åˆ†æ”¯"><a href="#åº”ç”¨ï¼šæœ¬åœ°åªæœ‰masteråˆ†æ”¯ï¼Œæœ¬åœ°æ‹‰å–çº¿ä¸Šå…¶ä»–åˆ†æ”¯" class="headerlink" title="åº”ç”¨ï¼šæœ¬åœ°åªæœ‰masteråˆ†æ”¯ï¼Œæœ¬åœ°æ‹‰å–çº¿ä¸Šå…¶ä»–åˆ†æ”¯"></a>åº”ç”¨ï¼šæœ¬åœ°åªæœ‰masteråˆ†æ”¯ï¼Œæœ¬åœ°æ‹‰å–çº¿ä¸Šå…¶ä»–åˆ†æ”¯</h3><p>git branch -a  //æŸ¥çœ‹è¦æ‹‰å–çº¿ä¸Šçš„ä»€ä¹ˆåˆ†æ”¯</p>
<p>git pull origin åˆ†æ”¯åï¼šæœ¬åœ°åˆ†æ”¯å  //ç›´æ¥git pull origin åˆ†æ”¯åï¼Œæœ¬åœ°æ–°å»ºè¯¥åˆ†æ”¯</p>
<p>git checkout åˆ†æ”¯å  //åˆ‡æ¢</p>
<h3 id="åº”ç”¨ï¼šæƒ³æ–°å¼€å‘ä¸€ç‰ˆï¼Œä½†åˆä¸æƒ³ä¿ç•™ç›®å‰"><a href="#åº”ç”¨ï¼šæƒ³æ–°å¼€å‘ä¸€ç‰ˆï¼Œä½†åˆä¸æƒ³ä¿ç•™ç›®å‰" class="headerlink" title="åº”ç”¨ï¼šæƒ³æ–°å¼€å‘ä¸€ç‰ˆï¼Œä½†åˆä¸æƒ³ä¿ç•™ç›®å‰"></a>åº”ç”¨ï¼šæƒ³æ–°å¼€å‘ä¸€ç‰ˆï¼Œä½†åˆä¸æƒ³ä¿ç•™ç›®å‰</h3><p>æƒ³çš„å†å»ºä¸€ä¸ªä»“åº“æ¥çš„ï¼Œæ²¡å¿…è¦ã€‚</p>
<p>åœ¨ä¸åŒåˆ†æ”¯ä¸Šå¼€å‘å°±è¡Œï¼Ÿ</p>
<p>1.è¿œç¨‹åˆ›å»ºåˆ†æ”¯</p>
<p>2.åˆ›å»ºå®Œæˆå<code>git branch -a </code>å¹¶æ²¡æœ‰çœ‹åˆ°æ–°åˆ†æ”¯</p>
<p>3.æœ¬åœ°åˆ›å»ºå¹¶åˆ‡æ¢æ–°åˆ†æ”¯<code>git checkout -b mbox-7354 </code>ï¼Œä»£ç ä¹‹å‰åˆ†æ”¯ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯masterä»£ç ã€‚</p>
<p>4.åˆ‡æ¢åˆ†æ”¯å¹¶ä¸ä¼šæ›´æ”¹ä»£ç ã€‚æ˜¯å› ä¸ºæ²¡æœ‰<code>git add + git commit</code>ï¼Œä¿®æ”¹çš„ä»£ç åœ¨æœ¬åœ°å·¥ä½œåŒºï¼Œæ‰§è¡Œcommitæ“ä½œåä»£ç ä¿®æ”¹åˆ°äº†æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œè¿™æ—¶å†åˆ‡æ¢åˆ†æ”¯ï¼Œä»£ç æ²¡æœ‰æç°å¦ä¸€ä¸ªåˆ†æ”¯çš„ä¿®æ”¹äº†ã€‚</p>
<p>5.åˆ‡æ¢åˆ°mbox-7354åˆ†æ”¯ï¼Œpull ä»£ç </p>
<p><code>git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;  </code></p>
<p><code>git pull origin mbox-7354 : mbox-7354</code> è¢«æ‹’ç»</p>
<p>å‡ºç°<code>non-fast-forward</code>çš„é”™è¯¯ï¼Œè¯æ˜æœ¬åœ°åº“è·Ÿè¿œç¨‹åº“çš„æäº¤è®°å½•ä¸ä¸€è‡´ï¼Œå³æœ¬åœ°åº“ç‰ˆæœ¬éœ€è¦æ›´æ–°</p>
<p>6.pullä¸è¡Œï¼Œæ¢ä»è¿œç¨‹æ‹‰å–åˆ†æ”¯</p>
<p>åˆ é™¤åˆ†æ”¯ï¼Œå…ˆåˆ‡æ¢åˆ°åˆ«çš„åˆ†æ”¯ï¼Œå†<code>git brqanch -d name</code> -Då¼ºåˆ¶åˆ é™¤</p>
<p><code>git checkout -b mbox-7354 origin/master</code> åˆ›å»º</p>
<p><code>git pull origin master</code>  æŠŠè¿œç¨‹åˆ†æ”¯ä¸Šçš„å†…å®¹éƒ½æ‹‰å–åˆ°æœ¬åœ°</p>
<p>7.æ‹‰å–äº†å’Œçº¿ä¸Šmasterä¸€æ ·çš„ä»£ç ï¼Œæ¥ä¸‹æ¥å¯ä»¥ä¿®æ”¹ä»£ç </p>
<h3 id="åº”ç”¨ï¼šcommitä¹‹åæƒ³æ”¹commitçš„åå­—"><a href="#åº”ç”¨ï¼šcommitä¹‹åæƒ³æ”¹commitçš„åå­—" class="headerlink" title="åº”ç”¨ï¼šcommitä¹‹åæƒ³æ”¹commitçš„åå­—"></a>åº”ç”¨ï¼šcommitä¹‹åæƒ³æ”¹commitçš„åå­—</h3><p><code>git commit -m &quot;v2&quot;</code></p>
<p><code>git commit --amend -m &quot;v2 add two interfaces&quot;</code></p>
<h3 id="åº”ç”¨ï¼šæœ¬åœ°åˆ›å»ºå¤šä¸ªåˆ†æ”¯äº’ä¸å¹²æ‰°"><a href="#åº”ç”¨ï¼šæœ¬åœ°åˆ›å»ºå¤šä¸ªåˆ†æ”¯äº’ä¸å¹²æ‰°" class="headerlink" title="åº”ç”¨ï¼šæœ¬åœ°åˆ›å»ºå¤šä¸ªåˆ†æ”¯äº’ä¸å¹²æ‰°"></a>åº”ç”¨ï¼šæœ¬åœ°åˆ›å»ºå¤šä¸ªåˆ†æ”¯äº’ä¸å¹²æ‰°</h3><p>ï¼ˆ1ï¼‰æœ¬åœ°å·²æœ‰åˆ†æ”¯devï¼Œå†™äº†éœ€æ±‚aï¼Œä½†æ˜¯ä¸è¦æäº¤ã€‚</p>
<p>ï¼ˆ2ï¼‰æ‰§è¡Œgit stashå‘½ä»¤ï¼Œå°†å·¥ä½œåŒºçš„å†…å®¹â€œå‚¨å­˜èµ·æ¥â€</p>
<p>ï¼ˆ3ï¼‰æ¥ç€åœ¨devåˆ†æ”¯ä¸Šä¿®æ”¹bugï¼Œå¹¶æäº¤ï¼Œpush</p>
<p>ï¼ˆ4ï¼‰æ‰§è¡Œgit stash popï¼Œæ¢å¤å·¥ä½œåŒºåŸæ¥çš„å†…å®¹ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>javaäºŒåˆ†æŸ¥æ‰¾</title>
    <url>/2021/10/13/myblog/leecode%E5%88%B7%E9%A2%98%E4%B9%8Bjava/1.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</url>
    <content><![CDATA[<p>æœ‰åºçš„åºåˆ—ï¼Œæ¯æ¬¡éƒ½æ˜¯ä»¥åºåˆ—çš„ä¸­é—´ä½ç½®çš„æ•°æ¥ä¸å¾…æŸ¥æ‰¾çš„å…³é”®å­—è¿›è¡Œæ¯”è¾ƒï¼Œæ¯æ¬¡ç¼©å°ä¸€åŠçš„æŸ¥æ‰¾èŒƒå›´ï¼Œç›´åˆ°åŒ¹é…æˆåŠŸã€‚</p>
<p>ä¸€ä¸ªæƒ…æ™¯ï¼šå°†è¡¨ä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—ä¸æŸ¥æ‰¾å…³é”®å­—æ¯”è¾ƒï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼›å¦åˆ™åˆ©ç”¨ä¸­é—´ä½ç½®è®°å½•å°†è¡¨åˆ†æˆå‰ã€åä¸¤ä¸ªå­è¡¨ï¼Œå¦‚æœä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—å¤§äºæŸ¥æ‰¾å…³é”®å­—ï¼Œåˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾å‰ä¸€å­è¡¨ï¼Œå¦åˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾åä¸€å­è¡¨ã€‚é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è®°å½•ï¼Œä½¿æŸ¥æ‰¾æˆåŠŸï¼Œæˆ–ç›´åˆ°å­è¡¨ä¸å­˜åœ¨ä¸ºæ­¢ï¼Œæ­¤æ—¶æŸ¥æ‰¾ä¸æˆåŠŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">twosplit</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç±»å†…äºŒåˆ†æŸ¥æ‰¾å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">commonBinarySearch</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> high = arr.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> middle = <span class="number">0</span>;            <span class="comment">//å®šä¹‰middle</span></span><br><span class="line">        <span class="keyword">if</span> (key &lt; arr[low] || key &gt; arr[high]) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            middle = low + (high - low) / <span class="number">2</span>;  <span class="comment">//é˜²æ­¢æº¢å‡º</span></span><br><span class="line">            <span class="comment">//å¦‚æœ left å’Œ right è¶³å¤Ÿå¤§ï¼Œmid = (left + right)/2ï¼Œå¯èƒ½ä¼šç”±äº left+right å¯¼è‡´ int æ•°æ®ç±»å‹è¶Šç•Œã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (arr[middle] &gt; key) &#123;</span><br><span class="line">                high = middle - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[middle] &lt; key) &#123;</span><br><span class="line">                low = middle + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> middle;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;        <span class="comment">//æœ€åä»ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¾“å…¥è¾“å‡º+æµ‹è¯•ä»£ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥æœ‰åºæ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line">        String[] arr = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">            nums[j] = Integer.parseInt(arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ç›®æ ‡å€¼ï¼š&quot;</span>);</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> target = in.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> res=commonBinarySearch(nums, target);</span><br><span class="line">        System.out.printf(<span class="string">&quot;ç»“æœï¼š%d&quot;</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>leecodeåˆ·é¢˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>é¡¹ç›®ç›¸å…³</title>
    <url>/2021/09/02/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/project%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<h2 id="ä¿®æ”¹è·¯ç”±"><a href="#ä¿®æ”¹è·¯ç”±" class="headerlink" title="ä¿®æ”¹è·¯ç”±"></a>ä¿®æ”¹è·¯ç”±</h2><p>![image-20210901112055198](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210901112055198.png)</p>
<p>è·¯ç”±å­—ç¬¦ä¸²å¯éšæ„ä¿®æ”¹ï¼Œåé¢è·Ÿactionä¸‹çš„æ–‡ä»¶é‡Œçš„å‡½æ•°åå°±å¥½ã€‚</p>
<p>æ³¨æ„åé¢è·Ÿçš„createå’Œæ–‡ä»¶åæ²¡å…³ç³»ï¼Œæ–‡ä»¶åå¯ä»¥æ”¹æˆåˆ«çš„ã€‚</p>
<p>æ–‡ä»¶é‡Œçš„å‡½æ•°åå¿…é¡»æ˜¯æ˜¯Createï¼Œéœ€è¦å¤§å†™ã€‚</p>
<p>è®¿é—®çš„æ¥å£çš„createå¯å¤§å†™å¯å°å†™ã€‚</p>
<h2 id="ä¿®æ”¹ç«¯å£"><a href="#ä¿®æ”¹ç«¯å£" class="headerlink" title="ä¿®æ”¹ç«¯å£"></a>ä¿®æ”¹ç«¯å£</h2><p>é¦–å…ˆæŸ¥çœ‹ç«¯å£å ç”¨ï¼Œå†æ›´æ”¹é…ç½®</p>
<p>![image-20210901112159550](/Users/liuxuan14/Library/Application Support/typora-user-images/image-20210901112159550.png)</p>
<h2 id="postè¯·æ±‚æ€ä¹ˆé€šè¿‡urlè®¿é—®"><a href="#postè¯·æ±‚æ€ä¹ˆé€šè¿‡urlè®¿é—®" class="headerlink" title="postè¯·æ±‚æ€ä¹ˆé€šè¿‡urlè®¿é—®"></a>postè¯·æ±‚æ€ä¹ˆé€šè¿‡urlè®¿é—®</h2><p>postè¯·æ±‚å½“ç„¶æ— æ³•é€šè¿‡urlè®¿é—®ï¼Œå†…å®¹ä¸åœ¨urlé‡Œï¼Œè€Œåœ¨bodyé‡Œã€‚</p>
<p>ç”¨curl</p>
<h2 id="è®¿é—®ç½‘å€çš„è„šæœ¬"><a href="#è®¿é—®ç½‘å€çš„è„šæœ¬" class="headerlink" title="è®¿é—®ç½‘å€çš„è„šæœ¬"></a>è®¿é—®ç½‘å€çš„è„šæœ¬</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;è®¿é—®æ—¶é—´æ˜¯ï¼š`date &#x27;+%Y%m%d %H:%M:%S&#x27;`--$code---&gt;$url&quot; &gt;&gt; result.log</span><br><span class="line">n=0</span><br><span class="line">max=11</span><br><span class="line">while(($n&lt;max))</span><br><span class="line">do</span><br><span class="line">    curl &#x27;https://www.baidu.com/&#x27; //è®¿é—®url</span><br><span class="line">    n=($n+1)</span><br><span class="line">    sleep 1s</span><br><span class="line">done</span><br><span class="line">#whileå¾ªç¯è®¿é—®url,ç›´åˆ°çŠ¶æ€ç ä¸º200è·³å‡ºå¾ªç¯</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">result.log</span><br><span class="line">n=0</span><br><span class="line">max=20</span><br><span class="line"><span class="meta">while(($</span><span class="bash">n&lt;max))</span></span><br><span class="line">do</span><br><span class="line">    echo -e &quot;times:$n, time:`date &#x27;+%Y%m%d %H:%M:%S&#x27;`&quot; &gt;&gt; new.log</span><br><span class="line">    curl &#x27;http://10.12.205.134:8182/pt/idproducer/v2/create?appid=10001&#x27;&gt;&gt;new.log</span><br><span class="line">    echo -e &quot;\n&quot;&gt;&gt;new.log</span><br><span class="line">    </span><br><span class="line">    echo -e &quot;times:$n, time:`date &#x27;+%Y%m%d %H:%M:%S&#x27;`&quot; &gt;&gt; old.log</span><br><span class="line">    curl &#x27;http://10.12.205.134:8182/pt/idproducer/create?appid=3&#x27;&gt;&gt;old.log</span><br><span class="line">    echo -e &quot;\n&quot;&gt;&gt;old.log</span><br><span class="line">    n=($n+1)</span><br><span class="line">    sleep 1s</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>ä¸åŠ æ¬¡æ•°æ—¶é—´ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">max=3600</span><br><span class="line"><span class="meta">while(($</span><span class="bash">n&lt;max))</span></span><br><span class="line">do</span><br><span class="line">    curl &#x27;http://10.229.66.155:2010/pt/idproducer/v2/create?appid=10001&#x27;&gt;&gt;new.log</span><br><span class="line">    echo -e &quot;\n&quot; &gt;&gt; new.log</span><br><span class="line">    curl &#x27;http://10.229.66.155:2010/pt/idproducer/create?appid=13&#x27;&gt;&gt;old.log</span><br><span class="line">    echo -e &quot;\n&quot; &gt;&gt; old.log</span><br><span class="line">    n=$n+1</span><br><span class="line">    sleep 1s</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h2 id="å¿«é€Ÿè®¡ç®—çš„è„šæœ¬"><a href="#å¿«é€Ÿè®¡ç®—çš„è„šæœ¬" class="headerlink" title="å¿«é€Ÿè®¡ç®—çš„è„šæœ¬"></a>å¿«é€Ÿè®¡ç®—çš„è„šæœ¬</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo -n &quot;please input your name and age:&quot;</span><br><span class="line">read name age</span><br><span class="line">echo &quot;welcome $name, your age is $age&quot;</span><br><span class="line"></span><br><span class="line">read -p &quot;please input your name and age:&quot; name age</span><br><span class="line">echo &quot;welcome $name, your age is $age&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo -n &quot;please input your maxid and oldstep and newstep:&quot;</span><br><span class="line">read maxid oldstep newstep</span><br><span class="line">declare -i a=$maxid+$oldstep*5000000</span><br><span class="line">declare -i b=$a/$newstep</span><br><span class="line">echo &quot;after calcu is: $b&quot;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
  </entry>
  <entry>
    <title>Mysqlå®æˆ˜</title>
    <url>/2021/09/02/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/mysql%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<h2 id="1-mysqlå¢åˆ æ”¹æŸ¥"><a href="#1-mysqlå¢åˆ æ”¹æŸ¥" class="headerlink" title="1.mysqlå¢åˆ æ”¹æŸ¥"></a>1.mysqlå¢åˆ æ”¹æŸ¥</h2><h3 id="a-ç™»å½•"><a href="#a-ç™»å½•" class="headerlink" title="a.ç™»å½•"></a>a.ç™»å½•</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ç™»å½•ï¼š</span><br><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>på¯†ç   <span class="operator">/</span><span class="operator">/</span>è¿æœ¬æœºçš„</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">User</span>, Host, Password <span class="keyword">FROM</span> mysql.user;  <span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹ç”¨æˆ·</span><br><span class="line"></span><br><span class="line">æ·»åŠ æ–°ç”¨æˆ·ï¼š</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;liuxuan14&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line">ä¿®æ”¹å¯†ç ï¼š</span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> <span class="string">&#x27;liuxuan14&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span><span class="operator">=</span>password(<span class="string">&#x27;1998&#x27;</span>);</span><br><span class="line">ä¸ºç”¨æˆ·æˆæƒï¼š</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>å…è®¸è®¿é—®æ‰€æœ‰æ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> ;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>æŒ‡å®šæ•°æ®åº“ä¸‹çš„æŒ‡å®šè¡¨</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> test.test <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> ;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>åªæ‹¥æœ‰æŸ¥è¯¢æƒé™</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;æ–°ç”¨æˆ·å&#x27;</span>@<span class="string">&#x27;æŒ‡å®šip&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;æ–°ç”¨æˆ·å¯†ç &#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line">FLUSH PRIVILEGES;  <span class="operator">/</span><span class="operator">/</span>åˆ·æ–°æƒé™</span><br><span class="line"></span><br><span class="line">åˆ é™¤ç”¨æˆ·ï¼š</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> liuxuan<span class="variable">@localhost</span>ï¼›</span><br><span class="line"></span><br><span class="line">è¿æ¥è¿œç¨‹æ•°æ®åº“ï¼š</span><br><span class="line">MySQL è¿æ¥è¿œç¨‹æ•°æ®åº“ï¼ˆ<span class="number">192.168</span><span class="number">.5</span><span class="number">.116</span>ï¼‰ï¼Œç«¯å£â€œ<span class="number">3306</span>â€ï¼Œç”¨æˆ·åä¸ºâ€œrootâ€ï¼Œå¯†ç â€œ<span class="number">123456</span>â€</span><br><span class="line">mysql <span class="operator">-</span>h <span class="number">192.168</span><span class="number">.5</span><span class="number">.116</span> <span class="operator">-</span>P <span class="number">3306</span> <span class="operator">-</span>u root <span class="operator">-</span>p123456</span><br><span class="line">mysql <span class="operator">-</span>h ip <span class="operator">-</span>P ç«¯å£ <span class="operator">-</span>A <span class="operator">-</span>u name  <span class="operator">-</span>p å¯†ç </span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> database name</span><br></pre></td></tr></table></figure>

<h3 id="b-å»ºè¡¨"><a href="#b-å»ºè¡¨" class="headerlink" title="b.å»ºè¡¨"></a>b.å»ºè¡¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `mytable`(</span><br><span class="line">   `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#x27;è‡ªå¢&#x27;,</span><br><span class="line">   `app_id` bigint NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;åº”ç”¨id&#x27;,</span><br><span class="line">   `time` int NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;æ—¶é—´&#x27;,</span><br><span class="line">   `date` DATE,</span><br><span class="line">   PRIMARY KEY ( `id` )</span><br><span class="line">   UNIQUE KEY `idx_app` (`app_id`) USING BTREE</span><br><span class="line">   KEY `idx_ip` (`machine_ip`) USING BTREE,</span><br><span class="line">   KEY `idx_app_machineid` (`app_id`,`machine_id`) USING BTREE</span><br><span class="line">)ENGINE=InnoDB DEFAULT COMMENT=&#x27;è¡¨å&#x27;;</span><br><span class="line"></span><br><span class="line">AUTO_INCREMENTå®šä¹‰åˆ—ä¸ºè‡ªå¢çš„å±æ€§ï¼Œä¸€èˆ¬ç”¨äºä¸»é”®ï¼Œæ•°å€¼ä¼šè‡ªåŠ¨åŠ 1ã€‚</span><br><span class="line">PRIMARY KEYå…³é”®å­—ç”¨äºå®šä¹‰åˆ—ä¸ºä¸»é”®ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤šåˆ—æ¥å®šä¹‰ä¸»é”®ï¼Œåˆ—é—´ä»¥é€—å·åˆ†éš”ã€‚</span><br><span class="line">ENGINE è®¾ç½®å­˜å‚¨å¼•æ“ï¼ŒCHARSET è®¾ç½®ç¼–ç ã€‚</span><br><span class="line"></span><br><span class="line">è¡¨ç»“æ„ï¼šdesc nameï¼›</span><br><span class="line">å»ºè¡¨è¯­å¥ï¼šshow create tablenameï¼›</span><br></pre></td></tr></table></figure>

<p>æ³¨é‡Š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³¨é‡Šï¼šcomment</span><br><span class="line">create table test1 ( </span><br><span class="line">    field_name int comment &#x27;å­—æ®µçš„æ³¨é‡Š&#x27; </span><br><span class="line">)comment=&#x27;è¡¨çš„æ³¨é‡Š&#x27;;</span><br><span class="line">ä¿®æ”¹è¡¨çš„æ³¨é‡Šï¼š</span><br><span class="line">alter table test1 comment &#x27;ä¿®æ”¹åçš„è¡¨çš„æ³¨é‡Š&#x27;;</span><br><span class="line">ä¿®æ”¹å­—æ®µçš„æ³¨é‡Šï¼š</span><br><span class="line">alter table test1 modify column field_name int comment &#x27;ä¿®æ”¹åçš„å­—æ®µæ³¨é‡Š&#x27;; </span><br><span class="line">æŸ¥çœ‹è¡¨æ³¨é‡Šï¼š</span><br><span class="line">show  create  table  test1; </span><br><span class="line">æŸ¥çœ‹å­—æ®µæ³¨é‡Šï¼š</span><br><span class="line">show  full  columns  from  test1; </span><br></pre></td></tr></table></figure>

<p>ç´¢å¼•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å”¯ä¸€ç´¢å¼•ï¼š</span><br><span class="line">UNIQUE KEY</span><br><span class="line">1  ä¸»é”®æ˜¯ä¸€ç§çº¦æŸï¼Œå”¯ä¸€ç´¢å¼•æ˜¯ä¸€ç§ç´¢å¼•ï¼Œä¸¤è€…åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒçš„ã€‚</span><br><span class="line">2  ä¸»é”®åˆ›å»ºåä¸€å®šåŒ…å«ä¸€ä¸ªå”¯ä¸€æ€§ç´¢å¼•ï¼Œå”¯ä¸€æ€§ç´¢å¼•ä¸ä¸€å®šå°±æ˜¯ä¸»é”®ã€‚</span><br><span class="line">3   å”¯ä¸€æ€§ç´¢å¼•åˆ—å…è®¸ç©ºå€¼ï¼Œ è€Œä¸»é”®åˆ—ä¸å…è®¸ä¸ºç©ºå€¼ã€‚</span><br><span class="line">4   ä¸»é”®å¯ä»¥è¢«å…¶ä»–è¡¨å¼•ç”¨ä¸ºå¤–é”®ï¼Œè€Œå”¯ä¸€ç´¢å¼•ä¸èƒ½ã€‚</span><br><span class="line">5   ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½åˆ›å»ºä¸€ä¸ªä¸»é”®ï¼Œä½†æ˜¯å¯ä»¥åˆ›å»ºå¤šä¸ªå”¯ä¸€ç´¢å¼•ã€‚</span><br><span class="line">6   ä¸»é”®æ›´é€‚åˆé‚£äº›ä¸å®¹æ˜“æ”¹å˜çš„å”¯ä¸€æ ‡è¯†ï¼Œå¦‚è‡ªåŠ¨é€’å¢åˆ—ï¼Œèº«ä»½è¯å·ç­‰ã€‚</span><br><span class="line">7   åœ¨RBO æ¨¡å¼ä¸‹ï¼Œä¸»é”®çš„æ‰§è¡Œè®¡åˆ’ä¼˜å…ˆçº§é«˜äºå”¯ä¸€ç´¢å¼•ã€‚ä¸¤è€…å¯ä»¥æé«˜æŸ¥è¯¢çš„é€Ÿåº¦ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="c-æ·»åŠ ä¸€ä¸ªå­—æ®µ"><a href="#c-æ·»åŠ ä¸€ä¸ªå­—æ®µ" class="headerlink" title="c.æ·»åŠ ä¸€ä¸ªå­—æ®µ"></a>c.æ·»åŠ ä¸€ä¸ªå­—æ®µ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table tablename add `app_name` varchar(16) NOT NULL DEFAULT &#x27;&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="d-ä¿®æ”¹æ•°æ®"><a href="#d-ä¿®æ”¹æ•°æ®" class="headerlink" title="d.ä¿®æ”¹æ•°æ®"></a>d.ä¿®æ”¹æ•°æ®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update tablename set å­—æ®µ=&#x27;ä¿®æ”¹çš„å€¼&#x27; where æ¡ä»¶ï¼›</span><br><span class="line">å¤šä¸ªå­—æ®µä¸­é—´åŠ ,</span><br></pre></td></tr></table></figure>

<h3 id="e-åˆ é™¤"><a href="#e-åˆ é™¤" class="headerlink" title="e.åˆ é™¤"></a>e.åˆ é™¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åˆ åº“ï¼šdrop database name;</span><br><span class="line">åˆ è¡¨ï¼šdrop table nameï¼›</span><br><span class="line"></span><br><span class="line">mysqlåˆ é™¤ä¸€è¡Œï¼š</span><br><span class="line">delete from è¡¨ where æ¡ä»¶ï¼›</span><br></pre></td></tr></table></figure>

<h3 id="f-æ·»åŠ ä¸€è¡Œ"><a href="#f-æ·»åŠ ä¸€è¡Œ" class="headerlink" title="f.æ·»åŠ ä¸€è¡Œ"></a>f.æ·»åŠ ä¸€è¡Œ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into tablename (app_id,machine_id,machine_ip,ctime,use_perc) values(?,?,?,?,?);   //å¯¹åº”å­—æ®µåŠ </span><br><span class="line"></span><br><span class="line">insert into è¡¨å values(int,&#x27;string&#x27;)(..);  //å¯ä¸€æ¬¡æ€§åŠ å¤šè¡Œï¼Œä¸€è¡Œå…¨éƒ¨æ•°éƒ½æœ‰</span><br><span class="line"></span><br><span class="line">insert into è¡¨å set åˆ—å=&#x27;&#x27;, ...;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ¸¤æµ·"><a href="#2-æ¸¤æµ·" class="headerlink" title="2.æ¸¤æµ·"></a>2.æ¸¤æµ·</h2><p>ä¸¤å¼ è¡¨ï¼Œä¸€å¼ Customerï¼Œæœ‰IDã€NAMEã€CITYï¼ˆç”¨æˆ·åŸå¸‚ï¼‰ã€‚ä¸€å¼ Cardï¼Œæœ‰IDã€CIDï¼ˆå¡ç¼–å·ï¼‰ã€BALï¼ˆå¡å†…ä½™é¢ï¼‰ã€‚</p>
<p>åŒä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šå¼ å¡ç‰‡ï¼Œç°åœ¨éœ€è¦è¿æ¥ä¸¤å¼ è¡¨ï¼ŒæŸ¥æ‰¾å¹¶æ‰“å°å‡ºåŒ—äº¬åœ°åŒºä¸ªäººæŒæœ‰è´¦æˆ·æ€»é¢æœ€é«˜çš„å®¢æˆ·ï¼Œè‹¥å­˜åœ¨å¤šä¸ªï¼Œåˆ™æŒ‰ç…§ç”¨æˆ·å§“åçš„å­—æ¯é¡ºåºè¿›è¡Œæ’åºã€‚</p>
<p>é¡ºåºï¼šselect from where group by having order by</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select re.`Customer Name`,re.sum_val from</span><br><span class="line">( SELECT c2.NAME as &quot;Customer Name&quot;,sum(c.bal) as sum_val FROM Card as c left join Customer as c2 on c.ID = c2.ID where c2.CITY = &quot;beijing&quot; GROUP BY c.ID ) as re </span><br><span class="line">where re.sum_val = ( SELECT max(sum_value) from</span><br><span class="line">( SELECT sum(c3.bal) as sum_value FROM Card as c3 left join Customer as c4 on c3.ID = c4.ID where c4.CITY = &quot;beijing&quot; GROUP BY c3.ID ) as t1 )</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select Customer.name as &#x27;Customer Name&#x27; from Customer join Card on Customer.id = Card.id where Customer.city = &#x27;beijing&#x27; group by Customer.id having sum(Card.bal) = (select max(sum_bal) from (     select sum(bal) as sum_bal from Customer join Card     on Customer.id = Card.id  where Customer.city = &#x27;beijing&#x27;  group by Customer.id) as t);</span><br><span class="line"></span><br><span class="line">(as åé¢çš„åˆ«åçš„&#x27;&#x27;ä¸æ˜¯å¿…é¡»çš„,asä¹Ÿä¸æ˜¯å¿…é¡»çš„)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">éªŒè¯ï¼š</span><br><span class="line">drop table if exists Customer;</span><br><span class="line">CREATE TABLE `Customer` (</span><br><span class="line">`id` int NOT NULL,</span><br><span class="line">`name` varchar(14) NOT NULL,</span><br><span class="line">`city` varchar(32) NOT NULL);</span><br><span class="line"></span><br><span class="line">INSERT INTO Customer VALUES(1,&#x27;åˆ˜ä¸€&#x27;,&#x27;beijing&#x27;);</span><br><span class="line">INSERT INTO Customer VALUES(2,&#x27;åˆ˜äºŒ&#x27;,&#x27;beijing&#x27;);</span><br><span class="line">INSERT INTO Customer VALUES(3,&#x27;åˆ˜ä¸‰&#x27;,&#x27;tianjin&#x27;);</span><br><span class="line"></span><br><span class="line">drop table if exists Card;</span><br><span class="line">CREATE TABLE `Card` (</span><br><span class="line">`id` int NOT NULL,</span><br><span class="line">`cid` int NOT NULL,</span><br><span class="line">`bal` int NOT NULL);</span><br><span class="line"></span><br><span class="line">INSERT INTO Card VALUES(1,11,100);</span><br><span class="line">INSERT INTO Card VALUES(1,12,100);</span><br><span class="line">INSERT INTO Card VALUES(2,13,200);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨ç”¨è¿›è¡ŒåµŒå¥—æŸ¥è¯¢çš„æ—¶å€™ï¼Œå­æŸ¥è¯¢æ‰§è¡Œå‡ºæ¥çš„çš„ç»“æœæ˜¯éœ€è¦ä½œä¸ºä¸€ä¸ªæ´¾ç”Ÿè¡¨æ¥ç»™ä¸Šä¸€çº§è¿›è¡ŒæŸ¥è¯¢ä½¿ç”¨çš„ï¼Œæ‰€ä»¥å­æŸ¥è¯¢çš„ç»“æœå¿…é¡»è¦æœ‰ä¸€ä¸ªåˆ«åï¼Œè¿™é‡Œâ€œåˆ«åâ€çš„ä½¿ç”¨å¯ä»¥ç†è§£ä¸ºæ˜¯ç”¨ä½œä¸´æ—¶å˜é‡è®°å½•å­æŸ¥è¯¢çš„ç»“æœ</span><br></pre></td></tr></table></figure>

<h2 id="é¡ºåº"><a href="#é¡ºåº" class="headerlink" title="é¡ºåº"></a>é¡ºåº</h2><p>select from where group by having order by</p>
<p>fromåå¯ä»¥æ˜¯å•è¡¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡ å¼ è¡¨joinè¿æ¥åçš„è¡¨</p>
<p>whereæ˜¯å•è¡¨ï¼Œgroup by havingæ ¹æ®å­—æ®µè¿›è¡Œåˆ†ç»„ã€‚ä¸¤ä¸ªå¯ä»¥ä¸€èµ·ç”¨ã€‚å…ˆwhere å†group byã€‚<br>havingå¯é€‰ï¼Œé™åˆ¶æ˜¾ç¤ºè¡Œ</p>
<p>æ³¨æ„having å’Œwhereçš„åŒºåˆ«ï¼Œ</p>
<p>order by æ˜¯æœ€åå¯¹æ˜¾ç¤ºçš„è¡Œæ ¹æ®æŸä¸€å­—æ®µè¿›è¡Œæ’åºï¼Œå› æ­¤åœ¨æœ€åã€‚</p>
<h2 id="å»é‡æŸ¥è¯¢"><a href="#å»é‡æŸ¥è¯¢" class="headerlink" title="å»é‡æŸ¥è¯¢"></a>å»é‡æŸ¥è¯¢</h2><p><code>select distinct å­—æ®µ from table</code></p>
<p><code>distinct</code>æ˜¯åŠ åœ¨<code>select</code>åé¢çš„ï¼Œåé¢å¦‚æœæœ‰å¤šä¸ªå­—æ®µï¼Œæ„æ€å°±æ˜¯åªæœ‰å¤šä¸ªå­—æ®µä¸æ˜¯å®Œå…¨ä¸€æ ·å°±ok</p>
<h2 id="limité™åˆ¶ä¸ªæ•°"><a href="#limité™åˆ¶ä¸ªæ•°" class="headerlink" title="limité™åˆ¶ä¸ªæ•°"></a>limité™åˆ¶ä¸ªæ•°</h2><p>ä¸ä¸€å®šéå¾—æ­é…order by</p>
<p><code>select å­—æ®µ from table limit n;</code>    //è¡¨ç¤ºè¾“å‡ºå‰nä¸ª</p>
<p><code>select å­—æ®µ from table limit start,n;</code>  // è¡¨ç¤ºè¾“å‡ºä»startå¼€å§‹nä¸ªï¼Œ0æ˜¯ç¬¬ä¸€ä¸ªï¼Œlimit0,1 è¡¨ç¤ºç¬¬ä¸€ä¸ª</p>
<h2 id="èŒƒå›´æŸ¥è¯¢"><a href="#èŒƒå›´æŸ¥è¯¢" class="headerlink" title="èŒƒå›´æŸ¥è¯¢"></a>èŒƒå›´æŸ¥è¯¢</h2><p><code>where id&gt;3;</code>        <code>where id between 2 and 3</code></p>
<p><code>where id!=3</code></p>
<p><code>where age!=&#39;&#39;;     //ä¸ä¸ºç©º</code></p>
<p><code>and ä¸” or æˆ–</code></p>
<p><code>where university in (&#39;åŒ—äº¬å¤§å­¦&#39;,&#39;å¤æ—¦å¤§å­¦&#39;,&#39;å±±ä¸œå¤§å­¦&#39;);</code></p>
<h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h2><p><code>where university like &#39;%åŒ—äº¬%&#39;;    //é‡Œé¢åŒ…å«åŒ—äº¬</code></p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p><code>select count(gender),round(avg(gpa),1) from user_profile where gender=&#39;male&#39;;</code></p>
<p>roundå‡½æ•°ï¼Œround(a,b)è¿”å›aå€¼ä¿ç•™åˆ°å°æ•°ç‚¹bä½</p>
<p><code>(count(q.question_id)/count(distinct(q.device_id)))</code><br>å¹³å‡æ¯ä¸ªdevice_idæœ‰å¤šå°‘questionè¡Œï¼Œæ³¨æ„å»é‡ã€‚å…³äºè¡Œçš„å¹³å‡ã€‚</p>
<h2 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h2><p><code>from table group by a,b   //ä¸¤ä¸ªå­—æ®µ</code></p>
<p>å¦‚æœå¯¹æ˜¾ç¤ºå­—æ®µæœ‰æ¡ä»¶ <code>group by a having æ¡ä»¶ </code></p>
<p>åˆ†ç»„åº”ç”¨åœºæ™¯ä¸€èˆ¬æ±‚åˆ†ç»„åå¯¹å¤šè¡Œçš„ä¸ªæ•°ã€å¹³å‡ä¹‹ç±»çš„ã€‚</p>
<p>ç”¨<code>group by having</code> å‡ºç°<code>Unknown column xxx in having clause</code>é”™è¯¯ï¼ŒåŸå› ï¼š<code>having</code>ä¹‹åçš„ç­›é€‰å­—æ®µä¸æ˜¯<code>select</code>åé¢çš„äº†ï¼Œå› æ­¤æ‰¾ä¸åˆ°ã€‚</p>
<p><code>having</code>ç­›é€‰å’Œ<code>where</code>ç­›é€‰ä¸ä¸€æ ·ï¼Œ<code>having</code>åªèƒ½ç”¨selectåçš„å­—æ®µï¼Œwhereå¯ä»¥ç”¨è¡¨é‡Œçš„æ‰€æœ‰å­—æ®µã€‚</p>
<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>åœ¨group by having ä¹‹åï¼Œ<code>order by a asc/desc</code></p>
<h2 id="ä¸¤è¡¨è¿æ¥ï¼ˆè¿æ¥æŸ¥è¯¢ï¼‰"><a href="#ä¸¤è¡¨è¿æ¥ï¼ˆè¿æ¥æŸ¥è¯¢ï¼‰" class="headerlink" title="ä¸¤è¡¨è¿æ¥ï¼ˆè¿æ¥æŸ¥è¯¢ï¼‰"></a>ä¸¤è¡¨è¿æ¥ï¼ˆè¿æ¥æŸ¥è¯¢ï¼‰</h2><p>è¿æ¥çš„å‰æï¼šä¸¤å¼ è¡¨ä¸­æœ‰ä¸€ä¸ªå­—æ®µä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯onåé¢è¦åŠ çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inner joinï¼šç†è§£ä¸ºâ€œæœ‰æ•ˆè¿æ¥â€ï¼Œä¸¤å¼ è¡¨ä¸­éƒ½æœ‰çš„æ•°æ®æ‰ä¼šæ˜¾ç¤º</span><br><span class="line">left joinï¼šç†è§£ä¸ºâ€œæœ‰å·¦æ˜¾ç¤ºâ€ï¼Œæ¯”å¦‚on a.field=b.fieldï¼Œåˆ™æ˜¾ç¤ºaè¡¨ä¸­å­˜åœ¨çš„å…¨éƒ¨æ•°æ®åŠaã€bä¸­éƒ½æœ‰çš„æ•°æ®ï¼Œaä¸­æœ‰ã€bä¸­æ²¡æœ‰çš„æ•°æ®ä»¥nullæ˜¾ç¤º</span><br><span class="line">right joinï¼šç†è§£ä¸ºâ€œæœ‰å³æ˜¾ç¤ºâ€ï¼Œæ¯”å¦‚on a.field=b.fieldï¼Œåˆ™æ˜¾ç¤ºbè¡¨ä¸­å­˜åœ¨çš„å…¨éƒ¨æ•°æ®åŠaã€bä¸­éƒ½æœ‰çš„æ•°æ®ï¼Œbä¸­æœ‰ã€aä¸­æ²¡æœ‰çš„æ•°æ®ä»¥nullæ˜¾ç¤º</span><br><span class="line">full joinï¼šç†è§£ä¸ºâ€œå…¨è¿æ¥â€ï¼Œä¸¤å¼ è¡¨ä¸­æ‰€æœ‰æ•°æ®éƒ½æ˜¾ç¤ºï¼Œå®é™…å°±æ˜¯inner +(left-inner)+(right-inner)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè¿æ¥åï¼Œè¿˜å¯ä»¥ç”¨whereé™åˆ¶æ˜¾ç¤ºçš„çš„è¡Œ<br><code>SELECT    * FROM A a, B b WHERE a.id = b.pid</code>  ç›¸å½“äºæ˜¯<br><code>SELECT    * FROM A a INNER JOIN B b ON a.id = b.pid</code><br>whereéšæ€§è¿æ¥ï¼Œ joinæ˜¾æ€§è¿æ¥<br>join = inner join</p>
<p>æ³¨æ„ï¼šå¯¹äºä¸¤å¼ è¡¨ä¸­åŒä¸€å­—æ®µï¼Œselectåè¦è¡¨æ˜ç”¨è°çš„ã€‚</p>
<p>joinè°å‰è°åæ— æ‰€è°“ï¼Œ</p>
<p>è¿æ¥å°±æ˜¯è¦è¿›è¡Œçš„æŸ¥è¯¢éœ€è¦æ ¹æ®å¦ä¸€å¼ è¡¨åˆ†ç»„ä¹Ÿå¥½æ˜¾ç¤ºä¹Ÿå¥½ï¼Œè¿æ¥ä¹‹åå°±å¯ä»¥ç›¸å½“äºä¸€å¼ è¡¨æ“ä½œï¼Œå†whereï¼Œæˆ–è€…group by having åˆ†ç»„ä¹‹ç±»çš„ã€‚</p>
<p>æ³¨æ„ï¼šå¯ä»¥å¤šå¼ è¡¨è¿æ¥ï¼Œinner join.. on.. ä¹‹åï¼Œç›¸å½“äºä¸€å¼ è¡¨ï¼Œå†inner join.. on.. å°±æ˜¯å†è¿æ¥ä¸€å¼ è¡¨</p>
<p><a href="https://www.nowcoder.com/practice/5400df085a034f88b2e17941ab338ee8?tpId=199&tags=&title=&difficulty=0&judgeStatus=0&rp=0">ä¸€ä¸ªä¸‰è¡¨è¿æ¥ä¾‹å­</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select universit, difficult_level, </span><br><span class="line">(count(qp.question_id)/count(distinct(qp.device_id)))</span><br><span class="line">//æ±‚ç”¨æˆ·åšé¢˜æ•°çš„å¹³å‡</span><br><span class="line">as avg_answer_cnt</span><br><span class="line">from user_profile as u inner join </span><br><span class="line">question_practice_detail as qp</span><br><span class="line">on u.device_id=qp.device_id</span><br><span class="line">inner join question_detail as qd</span><br><span class="line">on qp.question_id=qd.question_id</span><br><span class="line">//è¿æ¥å®Œï¼Œä¸‰å¼ è¡¨ç›¸å½“äºä¸€å¼ è¡¨ï¼Œå¯è¿›è¡Œæ“ä½œ</span><br><span class="line">group by university, difficult_level</span><br><span class="line">having å¯åŠ æ¡ä»¶</span><br><span class="line">order by university asc;</span><br></pre></td></tr></table></figure>

<h2 id="union-å’Œ-union-allå’Œorï¼ˆç»„åˆæŸ¥è¯¢ï¼‰"><a href="#union-å’Œ-union-allå’Œorï¼ˆç»„åˆæŸ¥è¯¢ï¼‰" class="headerlink" title="union å’Œ union allå’Œorï¼ˆç»„åˆæŸ¥è¯¢ï¼‰"></a>union å’Œ union allå’Œorï¼ˆç»„åˆæŸ¥è¯¢ï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">UNIONå’ŒUNION ALLå…³é”®å­—éƒ½æ˜¯å°†ä¸¤ä¸ªç»“æœé›†åˆå¹¶ä¸ºä¸€ä¸ªï¼Œä½†è¿™ä¸¤è€…ä»ä½¿ç”¨å’Œæ•ˆç‡ä¸Šæ¥è¯´éƒ½æœ‰æ‰€ä¸åŒã€‚</span><br><span class="line">1ã€å¯¹é‡å¤ç»“æœçš„å¤„ç†ï¼šUNIONåœ¨è¿›è¡Œè¡¨é“¾æ¥åä¼šç­›é€‰æ‰é‡å¤çš„è®°å½•ï¼ŒUnion Allä¸ä¼šå»é™¤é‡å¤è®°å½•ã€‚</span><br><span class="line">2ã€å¯¹æ’åºçš„å¤„ç†ï¼šUnionå°†ä¼šæŒ‰ç…§å­—æ®µçš„é¡ºåºè¿›è¡Œæ’åºï¼›UNION ALLåªæ˜¯ç®€å•çš„å°†ä¸¤ä¸ªç»“æœåˆå¹¶åå°±è¿”å›ã€‚</span><br></pre></td></tr></table></figure>

<p>unionæ˜¯è¿æ¥ä¸¤ä¸ªselect whereè¯­å¥ï¼Œå»é‡ï¼Œunion allä¸å»é‡</p>
<p>oræ˜¯whereé‡Œï¼Œç»“æœå’Œunionä¸€æ ·ï¼Œä¹Ÿæ˜¯å»é‡çš„ã€‚</p>
<h2 id="è®¡ç®—20å²ä»¥ä¸‹å’Œ25å²ä»¥ä¸Šçš„ç”¨æˆ·æ•°é‡ï¼ˆæ¡ä»¶å‡½æ•°ï¼‰"><a href="#è®¡ç®—20å²ä»¥ä¸‹å’Œ25å²ä»¥ä¸Šçš„ç”¨æˆ·æ•°é‡ï¼ˆæ¡ä»¶å‡½æ•°ï¼‰" class="headerlink" title="è®¡ç®—20å²ä»¥ä¸‹å’Œ25å²ä»¥ä¸Šçš„ç”¨æˆ·æ•°é‡ï¼ˆæ¡ä»¶å‡½æ•°ï¼‰"></a>è®¡ç®—20å²ä»¥ä¸‹å’Œ25å²ä»¥ä¸Šçš„ç”¨æˆ·æ•°é‡ï¼ˆæ¡ä»¶å‡½æ•°ï¼‰</h2><p>è‡ªåˆ¶å¯åˆ†ç»„å­—æ®µ</p>
<p>æƒ³æˆä¸€ä¸ªåˆ†ç»„é—®é¢˜ï¼Œå°±åƒæ ¹æ®genderç”·å¥³åˆ†ç»„ï¼Œåªä¸è¿‡è¿™ä¸ªéœ€è¦è‡ªå·±æ¥æ„å»ºä¸€ä¸ªå­—æ®µæ¥è¿›è¡Œåˆ†ç»„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select</span><br><span class="line">case when age&gt;=25 then &#x27;25å²ä»¥åŠä¸Š&#x27;</span><br><span class="line">else &#x27;25å²ä»¥ä¸‹&#x27; end      //æ„å»ºä¸€ä¸ªç”¨äºåˆ†ç»„çš„å­—æ®µ</span><br><span class="line">as age_cut,</span><br><span class="line">count(device_id) as number</span><br><span class="line">from user_profile</span><br><span class="line">group by age_cut;</span><br></pre></td></tr></table></figure>

<p>case when then else end è¯­å¥</p>
<p>ç”¨æ¥å°†ä¸€ä¸ªå­—æ®µæŒ‰èŒƒå›´å˜æˆå¦ä¸€ä¸ªå­—æ®µï¼Œå¯ç”¨æ¥åˆ†ç»„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select device_id, gender,</span><br><span class="line">case when age&gt;=20 and age&lt;=24 then &#x27;20-24å²&#x27;</span><br><span class="line">when age&gt;=25 then &#x27;25å²ä»¥ä¸Š&#x27;</span><br><span class="line">when age&lt;20 then &#x27;20å²ä»¥ä¸‹&#x27;</span><br><span class="line">else &#x27;å…¶ä»–&#x27; end</span><br><span class="line">from user_profile;</span><br></pre></td></tr></table></figure>

<h2 id="æ—¥æœŸå‡½æ•°"><a href="#æ—¥æœŸå‡½æ•°" class="headerlink" title="æ—¥æœŸå‡½æ•°"></a>æ—¥æœŸå‡½æ•°</h2><p>day(2021-09-01)  month(  )   year(  )</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#dateæ˜¯2021-08-01 æ ¼å¼</span><br><span class="line">Select day(date) as day, count(question_id) as question_cnt</span><br><span class="line">From question_practice_detail</span><br><span class="line">where year(date)=2021 and month(date)=08</span><br><span class="line">#ç›¸å½“äºï¼šwhere substr(date,1,7)=&#x27;2021-08&#x27;</span><br><span class="line">#ç›¸å½“äºï¼šwhere date like&#x27;2021-08%&#x27;</span><br><span class="line">Group by day</span><br></pre></td></tr></table></figure>

<h2 id="ç”¨æˆ·çš„å¹³å‡æ¬¡æ—¥ç•™å­˜ç‡"><a href="#ç”¨æˆ·çš„å¹³å‡æ¬¡æ—¥ç•™å­˜ç‡" class="headerlink" title="ç”¨æˆ·çš„å¹³å‡æ¬¡æ—¥ç•™å­˜ç‡"></a>ç”¨æˆ·çš„å¹³å‡æ¬¡æ—¥ç•™å­˜ç‡</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select </span><br><span class="line">    count(id) / </span><br><span class="line">    (select count(distinct device_id, date) from question_practice_detail)</span><br><span class="line">    as avg_ret</span><br><span class="line">from</span><br><span class="line">    (select</span><br><span class="line">        a.device_id as id</span><br><span class="line">        ,a.date as date1 </span><br><span class="line">        ,lead(a.date,1) over(partition by device_id order by a.date) as date2</span><br><span class="line">    from </span><br><span class="line">        (select distinct device_id, date from question_practice_detail) a</span><br><span class="line">    ) b </span><br><span class="line">    #åµŒå¥—æŸ¥è¯¢ï¼Œä¸€å®šè¦å–åˆ«å</span><br><span class="line">where DATEDIFF(date2,date1) =1</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>shellã®leecode193.æœ‰æ•ˆçš„ç”µè¯å·ç </title>
    <url>/2022/02/15/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/shell%E5%88%B7%E9%A2%981/</url>
    <content><![CDATA[<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªåŒ…å«ç”µè¯å·ç åˆ—è¡¨ï¼ˆä¸€è¡Œä¸€ä¸ªç”µè¯å·ç ï¼‰çš„æ–‡æœ¬æ–‡ä»¶ file.txtï¼Œå†™ä¸€ä¸ªå•è¡Œ bash è„šæœ¬è¾“å‡ºæ‰€æœ‰æœ‰æ•ˆçš„ç”µè¯å·ç ã€‚</span><br><span class="line"></span><br><span class="line">ä½ å¯ä»¥å‡è®¾ä¸€ä¸ªæœ‰æ•ˆçš„ç”µè¯å·ç å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤ç§æ ¼å¼ï¼š (xxx) xxx-xxxx æˆ–Â xxx-xxx-xxxxã€‚ï¼ˆx è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼‰</span><br><span class="line"></span><br><span class="line">ä½ ä¹Ÿå¯ä»¥å‡è®¾æ¯è¡Œå‰åæ²¡æœ‰å¤šä½™çš„ç©ºæ ¼å­—ç¬¦ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line">å‡è®¾Â file.txtÂ å†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line">987-123-4567</span><br><span class="line">123 456 7890</span><br><span class="line">(123) 456-7890</span><br><span class="line">ä½ çš„è„šæœ¬åº”å½“è¾“å‡ºä¸‹åˆ—æœ‰æ•ˆçš„ç”µè¯å·ç ï¼š</span><br><span class="line">987-123-4567</span><br><span class="line">(123) 456-7890</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>leecode</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>proto bufferçš„javaä½¿ç”¨</title>
    <url>/2022/03/19/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/protocolbuffer/</url>
    <content><![CDATA[<h3 id="pbä»‹ç»"><a href="#pbä»‹ç»" class="headerlink" title="pbä»‹ç»"></a>pbä»‹ç»</h3><p>Protocol Buffers æ˜¯ä¸€ç§è½»ä¾¿é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¯ä»¥ç”¨äºç»“æ„åŒ–æ•°æ®ä¸²è¡ŒåŒ–ï¼Œæˆ–è€…è¯´åºåˆ—åŒ–ã€‚å®ƒå¾ˆé€‚åˆåšæ•°æ®å­˜å‚¨æˆ– RPC æ•°æ®äº¤æ¢æ ¼å¼ã€‚å¯ç”¨äºé€šè®¯åè®®ã€æ•°æ®å­˜å‚¨ç­‰é¢†åŸŸçš„è¯­è¨€æ— å…³ã€å¹³å°æ— å…³ã€å¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„æ•°æ®æ ¼å¼ã€‚ç›®å‰æä¾›äº† C++ã€Javaã€Python ä¸‰ç§è¯­è¨€çš„ APIã€‚<br>protocol bufferå’Œxmlã€jsonç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¼€å‘ä¸­çš„ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ï¼Œåªä¸è¿‡ç›¸è¾ƒxmlå’Œjsonï¼Œprotocol bufferçš„ä¼˜ç‚¹æ›´æ˜æ˜¾ï¼Œå®ƒæ›´å°ã€æ›´å¿«ã€æ›´ç®€å•ã€‚<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/yubo_725/article/details/52219489">https://blog.csdn.net/yubo_725/article/details/52219489</a></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><h4 id="æ–‡ä»¶æœ¬åœ°è½¬æ¢"><a href="#æ–‡ä»¶æœ¬åœ°è½¬æ¢" class="headerlink" title="æ–‡ä»¶æœ¬åœ°è½¬æ¢"></a>æ–‡ä»¶æœ¬åœ°è½¬æ¢</h4><p>å¯ä»¥ä½¿ç”¨ç”¨ProtocolBufferçš„ç¼–è¯‘å™¨å®ç°.protocaolæ–‡ä»¶åˆ°,javaæ–‡ä»¶çš„è½¬æ¢ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å»Googleçš„ç½‘ç«™ä¸Šä¸‹è½½Protocol Bufferçš„ç¼–è¯‘å™¨ï¼š<a href="https://developers.google.com/protocol-buffers/docs/downloads">https://developers.google.com/protocol-buffers/docs/downloads</a></p>
<p>åœ¨Javaä¸­ä½¿ç”¨ProtocolBufferçš„æ­¥éª¤å¤§è‡´åˆ†ä¸ºä¸‹é¢è¿™å‡ ç‚¹ï¼š</p>
<p>ï¼ˆ1ï¼‰ç¼–å†™.protoæ–‡ä»¶ï¼Œå®šä¹‰æ¶ˆæ¯ç±»å‹</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨ProtocolBufferçš„ç¼–è¯‘å™¨ï¼Œå°†.protoæ–‡ä»¶ç¼–è¯‘æˆå¯¹åº”çš„javaæ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.msg;</span><br><span class="line"> </span><br><span class="line">option java_outer_classname = <span class="string">&quot;PersonBean&quot;</span>;</span><br><span class="line"> </span><br><span class="line">message Person &#123;</span><br><span class="line">    required string name = <span class="number">1</span>;</span><br><span class="line">    required int32 age = <span class="number">2</span>;</span><br><span class="line">    optional string gender = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åˆ°ä¸€ä¸ªPerson.protoæ–‡ä»¶ä¸­ï¼Œå…¶ä¸­packageæŒ‡å®šäº†åŒ…åï¼Œå’Œjavaä¸­çš„åŒ…åç±»ä¼¼ï¼Œoption java_outer_classname = â€œPersonBeanâ€;è¿™å¥æŒ‡å®šäº†ç¼–è¯‘å™¨åœ¨ç¼–è¯‘.protoæ–‡ä»¶æ—¶ï¼Œè¾“å‡ºçš„javaç±»çš„ç±»åï¼Œæ¥ç€ä½¿ç”¨messageå®šä¹‰äº†ä¸€ä¸ªåä¸ºPersonçš„æ¶ˆæ¯ï¼Œé‡Œé¢åŒ…å«3ä¸ªæˆå‘˜å˜é‡ï¼Œå…¶ä¸­ç”¨requiredä¿®é¥°çš„å˜é‡ä»£è¡¨å¿…é¡»çš„ï¼Œoptionalä¿®é¥°çš„å˜é‡ä»£è¡¨æ˜¯å¯é€‰çš„ï¼Œè¿™é‡Œå®šä¹‰æ¶ˆæ¯çš„å½¢å¼è·Ÿjavaä¸­å®šä¹‰ç±»éå¸¸ç›¸ä¼¼ã€‚</p>
<p>ä¸‹é¢éœ€è¦ç”¨ProtocolBufferçš„ç¼–è¯‘å™¨æ¥ç¼–è¯‘ä¸Šé¢çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬ä»googleçš„ç½‘ç«™ä¸Šä¸‹è½½ä¸‹æ¥çš„æ˜¯ä¸€ä¸ªprotoc.exeæ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶è·Ÿä¸Šé¢å®šä¹‰çš„æ¶ˆæ¯æ–‡ä»¶Person.protoæ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­è¿›å…¥è¯¥ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<p><code>protoc.exe --java_out=./ Person.proto</code><br>å°±åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆäº†å¯¹åº”çš„javaæ–‡ä»¶PersonProto.java</p>
<h4 id="socketçº¿ä¸Šä¼ è¾“"><a href="#socketçº¿ä¸Šä¼ è¾“" class="headerlink" title="socketçº¿ä¸Šä¼ è¾“"></a>socketçº¿ä¸Šä¼ è¾“</h4><p>åœ¨libç›®å½•ä¸‹å¼•å…¥äº†protobuf-java-2.5.0.jaråŒ…ï¼Œè¿™ä¸ªåŒ…å°±æ˜¯ç”¨æ¥å¯¹ProtocolBufferæ¶ˆæ¯è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„.</p>
<p>æœåŠ¡ç«¯ï¼Œå®šä¹‰ä¸€ä¸ªServerç±»ï¼Œç”¨äºå¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.server;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.demo.constant.Constants;</span><br><span class="line"><span class="keyword">import</span> com.demo.msg.PersonBean;</span><br><span class="line"><span class="keyword">import</span> com.google.protobuf.ByteString;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        ServerSocket ss = <span class="keyword">new</span> ServerSocket(Constants.PORT);</span><br><span class="line">        System.out.println(<span class="string">&quot;server started...&quot;</span>);</span><br><span class="line">        Socket socket = ss.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;a client connected!&quot;</span>);</span><br><span class="line">        <span class="comment">//ä»è¾“å…¥æµä¸­è§£æå‡ºPersonå¯¹è±¡ï¼Œååºåˆ—åŒ–ï¼Œbyteæµ-&gt;javaå¯¹è±¡</span></span><br><span class="line">        PersonBean.Person person = PersonBean.Person.parseFrom(ByteString.readFrom(socket.getInputStream()));</span><br><span class="line">        <span class="keyword">if</span>(person != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;server received data:\n&quot;</span> + person.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®¢æˆ·ç«¯ï¼Œå®šä¹‰ä¸€ä¸ªClientç±»ï¼Œç”¨äºç”Ÿæˆä¸€ä¸ªPersonç±»å¯¹è±¡å¹¶å‘é€ç»™Server</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.client;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.demo.constant.Constants;</span><br><span class="line"><span class="keyword">import</span> com.demo.msg.PersonBean;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, Constants.PORT);</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªPersonå¯¹è±¡</span></span><br><span class="line">        PersonBean.Person person = PersonBean.Person.newBuilder().setName(<span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line">                .setAge(<span class="number">20</span>).setGender(<span class="string">&quot;male&quot;</span>).build();</span><br><span class="line">        OutputStream os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//å°†Personå¯¹è±¡å†™åˆ°è¾“å‡ºæµä¸­ã€‚åºåˆ—åŒ–ä¸ºå­—èŠ‚æµ</span></span><br><span class="line">        os.write(person.toByteArray());</span><br><span class="line">        os.flush();</span><br><span class="line">        <span class="comment">//è¿™é‡Œæ³¨æ„ä¸€å®šè¦å…³é—­æµï¼Œå¦åˆ™æœåŠ¡ç«¯ä¼šæŠ¥é”™</span></span><br><span class="line">        os.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;client send person&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„PORTä¸ºå¸¸é‡ï¼Œå®šä¹‰åœ¨Constantsç±»ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.constant;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Constants</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PORT = <span class="number">9988</span>;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œä¸€ä¸ªä½¿ç”¨ProtocolBufferæ¥è¿›è¡Œæ•°æ®å‘é€å’Œæ¥æ”¶çš„javaç¨‹åºå°±å®Œæˆäº†ã€‚</p>
<h3 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h3><p>å‰é¢çš„ä¾‹å­ä¸­ï¼Œåºåˆ—åŒ–åªæ˜¯åºåˆ—åŒ–ä¸ºäº†å­—èŠ‚æµï¼Œååºåˆ—åŒ–ä¹Ÿæ˜¯å­—èŠ‚æµåˆ°javaå¯¹è±¡ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Student.Builder buidler = Student.newBuilder();</span><br><span class="line">buidler.setName(<span class="string">&quot;Frank&quot;</span>);</span><br><span class="line">buidler.setNumber(<span class="number">123456</span>);</span><br><span class="line">buidler.setHobby(<span class="string">&quot;music&quot;</span>);</span><br><span class="line">Student student = buidler.build();</span><br><span class="line">System.out.println(student.toString());</span><br></pre></td></tr></table></figure>

<p><code>student.toByteArray();</code>  Studentæ˜¯pbæ–‡ä»¶åï¼Œè€Œä¸æ˜¯javaæ–‡ä»¶åã€‚builderæ˜¯å•¥ï¼Ÿ</p>
<p>è¿™ä¸ªæ–¹æ³•ä¼šå¾—åˆ°byte[]ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒé€åˆ°æ–‡ä»¶æµä¸­è¿›è¡Œä¼ è¾“ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ç»ˆæç›®çš„ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å°†protocå¯¹è±¡åºåˆ—åŒ–æˆäº†å­—èŠ‚æµæ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">byte</span>[] array = student.toByteArray();</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Student student1 = Student.parseFrom(array);</span><br><span class="line">    System.out.println(student1.toString());</span><br><span class="line">&#125; <span class="keyword">catch</span> (InvalidProtocolBufferException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure>

<p>arrayæ˜¯ä¹‹å‰åºåˆ—åŒ–åäº§ç”Ÿçš„byteæ•°æ®ï¼Œç°åœ¨é€šè¿‡Studentçš„é™æ€æ–¹æ³•parseFrom()å¯ä»¥æ•°æ®ååºåˆ—æˆStudentå¯¹è±¡ã€‚</p>
<p>é™¤äº†å¼€å§‹çš„é˜¶æ®µç¼–å†™.protoæ–‡ä»¶ï¼Œç„¶åå†æŠŠ.protoæ–‡ä»¶ç¼–è¯‘æˆjavaæ–‡ä»¶éº»çƒ¦ç‚¹ï¼Œå…¶ä½™çš„æ­¥éª¤ç”šè‡³æ¯”jsonè½¬æ¢çš„æ›´ä¾¿åˆ©ã€‚</p>
<h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>æ˜ç™½äº†ï¼Œä½¿ç”¨pbä¹‹å‰ï¼Œæ˜¯ä¸€å®šè¦ä½¿ç”¨æœ¬åœ°è½¬æ¢çš„ï¼Œåœ¨socketä¸­ä¼ è¾“çš„ä¸€å®šæ˜¯å­—èŠ‚æµã€‚åœ¨å­—èŠ‚æµä¸javaå¯¹è±¡ä¸­é—´åº”è¯¥æ˜¯æœ‰pbæ–‡ä»¶çš„ã€‚  PersonBean.Personã€‚ç”¨çš„éƒ½æ˜¯pbçš„æ–‡ä»¶åã€‚</p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://blog.csdn.net/briblue/article/details/53187780">https://blog.csdn.net/briblue/article/details/53187780</a></p>
<p><a href="https://blog.csdn.net/yubo_725/article/details/52219489">https://blog.csdn.net/yubo_725/article/details/52219489</a></p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
  </entry>
  <entry>
    <title>demoä¸Šä¼ åˆ°github</title>
    <url>/2022/04/05/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0%E5%88%B0github/</url>
    <content><![CDATA[<h4 id="1-çœ‹ä¸€ä¸‹ä¸githubçš„è¿æ¥"><a href="#1-çœ‹ä¸€ä¸‹ä¸githubçš„è¿æ¥" class="headerlink" title="1.çœ‹ä¸€ä¸‹ä¸githubçš„è¿æ¥"></a>1.çœ‹ä¸€ä¸‹ä¸githubçš„è¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ²¡å®‰è£…gitçš„è¯ï¼Œbrew install git å®‰è£…ä¸€ä¸‹</span><br><span class="line"></span><br><span class="line">è®¾ç½®sshï¼š</span><br><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br><span class="line">~/ä¸‹ç”Ÿæˆ.sshæ–‡ä»¶å¤¹ï¼Œè¿›å»ï¼Œæ‰“å¼€id_rsa.pubï¼Œå¤åˆ¶é‡Œé¢çš„keyï¼Œæ·»åŠ åˆ°github</span><br><span class="line"></span><br><span class="line">éªŒè¯è¿æ¥ï¼šssh -T git@github.com</span><br><span class="line"></span><br><span class="line">è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼š</span><br><span class="line">git config --global user.name &quot;jadeliuliu&quot;</span><br><span class="line">git config --global user.email &quot;xxxxx@163.com&quot;</span><br><span class="line">git config --list</span><br><span class="line"></span><br><span class="line">You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<h4 id="2-ä»£ç pushåˆ°github"><a href="#2-ä»£ç pushåˆ°github" class="headerlink" title="2.ä»£ç pushåˆ°github"></a>2.ä»£ç pushåˆ°github</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init  åˆå§‹åŒ–è¯¥æ–‡ä»¶å¤¹</span><br><span class="line">git add</span><br><span class="line">git commit è¿™æ ·å·²ç»å°†è¦æ›´æ”¹çš„æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œä½†æ˜¯å‘¢è¿˜æ²¡æœ‰çœŸæ­£æäº¤åˆ°ç½‘ç«™ä¸Šå»</span><br><span class="line">githubå»ºç«‹ä»“åº“</span><br><span class="line">å…³è”githubä»“åº“ï¼š</span><br><span class="line">git remote add origin git@github.com:ç”¨æˆ·å/ä»“åº“å.git</span><br><span class="line">git remote add origin https://github.com/ç”¨æˆ·å/ä»“åº“å.git</span><br><span class="line">ä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤ç»“æœä¸€æ ·ï¼Œåªæ˜¯åè®®ä¸ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªé€Ÿåº¦ä¼šæ¯”è¾ƒå¿«ã€‚åªæ˜¯ç¬¬ä¸€æ¬¡æäº¤é¡¹ç›®æ—¶éœ€è¦</span><br><span class="line">git push -u origin master æäº¤åˆ°github</span><br></pre></td></tr></table></figure>

<h4 id="3-gitä¸­ä½¿ç”¨sshå’Œhttpåè®®çš„åŒºåˆ«"><a href="#3-gitä¸­ä½¿ç”¨sshå’Œhttpåè®®çš„åŒºåˆ«" class="headerlink" title="3.gitä¸­ä½¿ç”¨sshå’Œhttpåè®®çš„åŒºåˆ«"></a>3.gitä¸­ä½¿ç”¨sshå’Œhttpåè®®çš„åŒºåˆ«</h4><p>gitå¯ä»¥ä½¿ç”¨å››ç§ä¸»è¦çš„åè®®æ¥ä¼ è¾“èµ„æ–™: æœ¬åœ°åè®®ï¼ˆLocalï¼‰ï¼ŒHTTP åè®®ï¼ŒSSHï¼ˆSecure Shellï¼‰åè®®åŠ git åè®®ã€‚å…¶ä¸­ï¼Œæœ¬åœ°åè®®ç”±äºç›®å‰å¤§éƒ½æ˜¯è¿›è¡Œè¿œç¨‹å¼€å‘å’Œå…±äº«ä»£ç æ‰€ä»¥ä¸€èˆ¬ä¸å¸¸ç”¨ï¼Œè€Œgitåè®®ç”±äºç¼ºä¹æˆæƒæœºåˆ¶ä¸”è¾ƒéš¾æ¶è®¾æ‰€ä»¥ä¹Ÿä¸å¸¸ç”¨ã€‚</p>
<p>æœ€å¸¸ç”¨çš„ä¾¿æ˜¯SSHå’ŒHTTP(S)åè®®ã€‚gitå…³è”è¿œç¨‹ä»“åº“å¯ä»¥ä½¿ç”¨httpåè®®æˆ–è€…sshåè®®ã€‚</p>
<p><strong>ã€ä¼˜ç¼ºç‚¹ã€‘</strong></p>
<p><strong>sshï¼š</strong></p>
<ul>
<li>ä¸€èˆ¬ä½¿ç”¨22ç«¯å£ï¼›</li>
<li>é€šè¿‡å…ˆåœ¨æœ¬åœ°ç”ŸæˆSSHå¯†é’¥å¯¹å†æŠŠå…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼›</li>
<li>é€Ÿåº¦ç›¸è¾ƒæ…¢ç‚¹</li>
</ul>
<p><strong>httpsï¼š</strong></p>
<ul>
<li>ä¸€èˆ¬ä½¿ç”¨443ç«¯å£ï¼›</li>
<li>é€šè¿‡ç”¨æˆ·å/å¯†ç æˆæƒï¼Œå¯ç”¨æ€§æ¯”è¾ƒé«˜ï¼›</li>
<li>é€Ÿåº¦ç›¸è¾ƒå¿«ç‚¹</li>
</ul>
<p>ä¸€èˆ¬ä¼ä¸šé˜²ç«å¢™ä¼šæ‰“å¼€80å’Œ443è¿™ä¸¤ä¸ªhttp/httpsåè®®çš„ç«¯å£ï¼Œå› æ­¤åœ¨æ¶è®¾äº†ä¼ä¸šé˜²ç«å¢™çš„æ—¶å€™ä½¿ç”¨httpå°±å¯ä»¥å¾ˆå¥½çš„ç»•å¼€å®‰å…¨é™åˆ¶ä½¿ç”¨gitäº†ï¼Œå¾ˆæ–¹ä¾¿ï¼›è€Œå¯¹äºsshæ¥è¯´ï¼Œä¼ä¸šé˜²ç«å¢™å¾ˆå¯èƒ½æ²¡æ‰“å¼€22ç«¯å£ã€‚</p>
<p><strong>ã€ä½¿ç”¨åŒºåˆ«ã€‘</strong></p>
<p><strong>cloneé¡¹ç›®ï¼š</strong></p>
<p>ã€€ã€€**ä½¿ç”¨sshæ–¹å¼æ—¶ï¼Œéœ€è¦é…ç½®ssh keyï¼Œå³è¦å°†ç”Ÿæˆçš„SSHå¯†é’¥å¯¹çš„å…¬é’¥ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼›<br>**</p>
<p>ã€€ã€€<strong>ä½¿ç”¨httpæ–¹å¼æ—¶ï¼Œæ²¡æœ‰è¦æ±‚ï¼Œå¯ä»¥ç›´æ¥å…‹éš†ä¸‹æ¥ã€‚</strong></p>
<p><strong>pushé¡¹ç›®ï¼š</strong></p>
<p>ã€€ã€€<strong>ä½¿ç”¨sshæ–¹å¼æ—¶ï¼Œä¸éœ€è¦éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œ*<em>**ä¹‹å‰é…ç½®è¿‡ssh keyï¼Œ(å¦‚æœä½ æ²¡è®¾ç½®å¯†ç )**</em>*ç›´æ¥pushå³å¯ï¼›</strong></p>
<p>ã€€ã€€<strong>ä½¿ç”¨httpæ–¹å¼æ—¶ï¼Œéœ€è¦éªŒè¯ç”¨æˆ·åå’Œå¯†ç ã€‚</strong></p>
<p> <strong>æ€»ç»“ï¼š</strong></p>
<p>HTTPSåˆ©äºåŒ¿åè®¿é—®ï¼Œé€‚åˆå¼€æºé¡¹ç›®ï¼Œå¯ä»¥æ–¹ä¾¿è¢«åˆ«äººå…‹éš†å’Œè¯»å–(ä½†æ²¡æœ‰pushæƒé™)ï¼›</p>
<p>SSHä¸åˆ©äºåŒ¿åè®¿é—®ï¼Œæ¯”è¾ƒé€‚åˆå†…éƒ¨é¡¹ç›®ï¼Œåªè¦é…ç½®äº†SSHå…¬é’¥æå¯è‡ªç”±å®ç°cloneå’Œpushæ“ä½œã€‚</p>
<h4 id="4-githubä¸­çš„repositoryå’Œproject"><a href="#4-githubä¸­çš„repositoryå’Œproject" class="headerlink" title="4.githubä¸­çš„repositoryå’Œproject"></a>4.githubä¸­çš„repositoryå’Œproject</h4><pre><code>Githubä¸Šè¾¹çš„repositoriesç¿»è¯‘ä¸ºä»£ç ä»“åº“ï¼Œå¯ä»¥ä¿å­˜å¤šä¸ªä»£ç å·¥ç¨‹å’Œé¡¹ç›®çš„ä»£ç ï¼Œèµ„æºï¼Œæ–‡æœ¬ã€å›¾ç‰‡......ç­‰;

è€Œprojectså¯ä»¥ç¿»è¯‘ä¸ºé¡¹ç›®æ¿ï¼Œæ˜¯project-boardsçš„ç®€å†™ã€‚ç®€å•è¯´ï¼Œå¯ä»¥ç†è§£ä¸ºå·¥ä½œè®¡åˆ’è¡¨ä¹‹ç±»çš„ä¹¦ç­¾ï¼Œåˆ¶å®šä¸€ä¸‹å·¥ä½œè®¡åˆ’ï¼ŒBugï¼Œæµç¨‹ä»€ä¹ˆçš„ã€‚
</code></pre>
<h4 id="5-git-add-ä¹‹åå–æ¶ˆåŠ å…¥"><a href="#5-git-add-ä¹‹åå–æ¶ˆåŠ å…¥" class="headerlink" title="5.git add ä¹‹åå–æ¶ˆåŠ å…¥"></a>5.git add ä¹‹åå–æ¶ˆåŠ å…¥</h4><p>å¦‚æœå·²ç»æ‰§è¡Œäº†git add dir_name</p>
<p>æ­¤æ—¶éœ€è¦æ’¤é”€ addæ“ä½œï¼Œåˆ™éœ€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<p>git rm -r dir_name â€“cached</p>
<p>ç”±äºç›®å½•å·²ç»æ·»åŠ åˆ°git æš‚å­˜ï¼ˆstageï¼‰ä¸­äº†ï¼Œæ‰€ä»¥éœ€è¦åŠ â€“cachedå‚æ•°</p>
<p>git reset .   æ’¤é”€å…¨éƒ¨git add</p>
<p>git rm ä¸ git resetçš„åŒºåˆ«<br>git rmï¼šç”¨äºä»å·¥ä½œåŒºå’Œç´¢å¼•ä¸­åˆ é™¤æ–‡ä»¶<br>git resetï¼šç”¨äºå°†å½“å‰HEADå¤ä½åˆ°æŒ‡å®šçŠ¶æ€ã€‚ä¸€èˆ¬ç”¨äºæ’¤æ¶ˆä¹‹å‰çš„ä¸€äº›æ“ä½œ(å¦‚ï¼šgit add,git commitç­‰)ã€‚</p>
<p><em>git reset HEAD å¦‚æœåé¢ä»€ä¹ˆéƒ½ä¸è·Ÿçš„è¯ å°±æ˜¯ä¸Šä¸€æ¬¡add é‡Œé¢çš„å…¨éƒ¨æ’¤é”€äº†<br>git reset HEAD XXX/XXX/XXX.java å°±æ˜¯å¯¹æŸä¸ªæ–‡ä»¶è¿›è¡Œæ’¤é”€äº†</em></p>
<h4 id="6-mainå’Œmasterï¼Ÿ"><a href="#6-mainå’Œmasterï¼Ÿ" class="headerlink" title="6.mainå’Œmasterï¼Ÿ"></a>6.mainå’Œmasterï¼Ÿ</h4><p>åœ¨2020å¹´10æœˆ1æ—¥ï¼Œä½ åˆ›å»ºçš„ä»»ä½•æ–°ä»“åº“éƒ½å°†ä½¿ç”¨mainä½œä¸ºé»˜è®¤åˆ†æ”¯ï¼Œè€Œä¸æ˜¯masterã€‚</p>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/wannananana/p/12059806.html">https://www.cnblogs.com/wannananana/p/12059806.html</a></p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜å¹¶å‘å‹æµ‹å·¥å…·</title>
    <url>/2021/08/19/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/%E9%AB%98%E5%B9%B6%E5%8F%91%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7/</url>
    <content><![CDATA[<h2 id="1-abå‹æµ‹å·¥å…·"><a href="#1-abå‹æµ‹å·¥å…·" class="headerlink" title="1.abå‹æµ‹å·¥å…·"></a>1.abå‹æµ‹å·¥å…·</h2><p>abæ˜¯apacheè‡ªå¸¦çš„å‹åŠ›æµ‹è¯•å·¥å…·ã€‚abè¿›è¡Œçš„ä¸€åˆ‡æµ‹è¯•æœ¬è´¨ä¸Šæ˜¯åŸºäºHTTPçš„ã€‚</p>
<h3 id="linuxä¸‹å®‰è£…"><a href="#linuxä¸‹å®‰è£…" class="headerlink" title="linuxä¸‹å®‰è£…"></a>linuxä¸‹å®‰è£…</h3><p>yum -y install httpd-tools</p>
<p>ç‰ˆæœ¬ä¿¡æ¯ï¼šab -V</p>
<p>ab -n1000 -c100 <a href="https://www.imooc.com/">https://www.imooc.com/</a>   è¯·æ±‚1000æ¬¡,æ¯æ¬¡å¹¶å‘100;</p>
<h3 id="è¾“å‡ºä¿¡æ¯è¯´æ˜"><a href="#è¾“å‡ºä¿¡æ¯è¯´æ˜" class="headerlink" title="è¾“å‡ºä¿¡æ¯è¯´æ˜"></a>è¾“å‡ºä¿¡æ¯è¯´æ˜</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Server Software:        webæœåŠ¡å™¨è½¯ä»¶åŠç‰ˆæœ¬</span><br><span class="line">Server Hostname:        è¡¨ç¤ºè¯·æ±‚çš„URLä¸­çš„ä¸»æœºéƒ¨åˆ†åç§°</span><br><span class="line">Server Port:            è¢«æµ‹è¯•çš„WebæœåŠ¡å™¨çš„ç›‘å¬ç«¯å£</span><br><span class="line"> </span><br><span class="line">Document Path:          è¯·æ±‚çš„é¡µé¢è·¯å¾„</span><br><span class="line">Document Length:        é¡µé¢å¤§å°</span><br><span class="line"> </span><br><span class="line">Concurrency Level:      å¹¶å‘æ•°</span><br><span class="line">Time taken for tests:   æµ‹è¯•æ€»å…±èŠ±è´¹çš„æ—¶é—´</span><br><span class="line">Complete requests:      å®Œæˆçš„è¯·æ±‚æ•°</span><br><span class="line">Failed requests:        å¤±è´¥çš„è¯·æ±‚æ•°ï¼Œè¿™é‡Œçš„å¤±è´¥æ˜¯æŒ‡è¯·æ±‚çš„è¿æ¥æœåŠ¡å™¨ã€å‘é€æ•°æ®ã€æ¥æ”¶æ•°æ®ç­‰ç¯èŠ‚å‘ç”Ÿå¼‚å¸¸ï¼Œä»¥åŠæ— å“åº”åè¶…æ—¶çš„æƒ…å†µã€‚å¯¹äºè¶…æ—¶æ—¶é—´çš„è®¾ç½®å¯ä»¥ç”¨abçš„-tå‚æ•°ã€‚å¦‚æœæ¥å—åˆ°çš„httpå“åº”æ•°æ®çš„å¤´ä¿¡æ¯ä¸­å«æœ‰2xxä»¥å¤–çš„çŠ¶æ€ç ï¼Œåˆ™ä¼šåœ¨æµ‹è¯•ç»“æœæ˜¾ç¤ºå¦ä¸€ä¸ªåä¸ºâ€œNon-2xx responsesâ€çš„ç»Ÿè®¡é¡¹ï¼Œç”¨äºç»Ÿè®¡è¿™éƒ¨åˆ†è¯·æ±‚æ•°ï¼Œè¿™äº›è¯·æ±‚å¹¶ä¸ç®—æ˜¯å¤±è´¥çš„è¯·æ±‚ã€‚</span><br><span class="line">Write errors:           å†™å…¥é”™è¯¯</span><br><span class="line">Total transferred:      æ€»å…±ä¼ è¾“å­—èŠ‚æ•°ï¼ŒåŒ…å«httpçš„å¤´ä¿¡æ¯ç­‰ã€‚ä½¿ç”¨abçš„-vå‚æ•°å³å¯æŸ¥çœ‹è¯¦ç»†çš„httpå¤´ä¿¡æ¯ã€‚</span><br><span class="line">HTML transferred:       htmlå­—èŠ‚æ•°ï¼Œå®é™…çš„é¡µé¢ä¼ é€’å­—èŠ‚æ•°ã€‚ä¹Ÿå°±æ˜¯å‡å»äº†Total transferredä¸­httpå“åº”æ•°æ®ä¸­å¤´ä¿¡æ¯çš„é•¿åº¦ã€‚</span><br><span class="line">Requests per second:    æ¯ç§’å¤„ç†çš„è¯·æ±‚æ•°ï¼ŒæœåŠ¡å™¨çš„ååé‡ï¼Œç­‰äºï¼šComplete requests / Time taken for tests</span><br><span class="line">Time per request:       å¹³å‡æ•°ï¼Œç”¨æˆ·å¹³å‡è¯·æ±‚ç­‰å¾…æ—¶é—´</span><br><span class="line">Time per request:       æœåŠ¡å™¨å¹³å‡å¤„ç†æ—¶é—´</span><br><span class="line">Transfer rate:          å¹³å‡ä¼ è¾“é€Ÿç‡ï¼ˆæ¯ç§’æ”¶åˆ°çš„é€Ÿç‡ï¼‰ã€‚å¯ä»¥å¾ˆå¥½çš„è¯´æ˜æœåŠ¡å™¨åœ¨å¤„ç†èƒ½åŠ›è¾¾åˆ°é™åˆ¶æ—¶ï¼Œå…¶å‡ºå£å¸¦å®½çš„éœ€æ±‚é‡ã€‚</span><br><span class="line"> </span><br><span class="line">Connection Times (ms)	å‹åŠ›æµ‹è¯•æ—¶çš„è¿æ¥å¤„ç†æ—¶é—´ã€‚</span><br><span class="line">              min  mean[+/-sd] median   max</span><br><span class="line">Connect:        0   67 398.4      9    3009			</span><br><span class="line">Processing:    49 2904 2327.2   2755   12115</span><br><span class="line">Waiting:       48 2539 2075.1   2418   12110</span><br><span class="line">Total:         53 2972 2385.3   2789   12119</span><br></pre></td></tr></table></figure>

<p>Connect æ— æ³•é€å‡ºè¦æ±‚ã€ç›®æ ‡ä¸»æœºè¿æ¥å¤±è´¥ã€è¦æ±‚çš„è¿‡ç¨‹ä¸­è¢«ä¸­æ–­ã€‚<br>Length å“åº”çš„å†…å®¹é•¿åº¦ä¸ä¸€è‡´ ( ä»¥ Content-Length å¤´å€¼ä¸ºåˆ¤æ–­ä¾æ® )ã€‚<br>Exception å‘ç”Ÿæ— æ³•é¢„æœŸçš„é”™è¯¯ã€‚ </p>
<h3 id="å‘ç”Ÿé”™è¯¯"><a href="#å‘ç”Ÿé”™è¯¯" class="headerlink" title="å‘ç”Ÿé”™è¯¯"></a>å‘ç”Ÿé”™è¯¯</h3><p>å¹¶å‘å¤§æ—¶ï¼šapr_socket_recv: Connection reset by peer (104)</p>
<p>è§£å†³ï¼šab -n 100000 -c20000 <strong>-r <a href="http://xxxxurl/">http://xxxxurl/</a></strong></p>
<h2 id="2-charles"><a href="#2-charles" class="headerlink" title="2.charles"></a>2.charles</h2><p>ä½¿ç”¨ Charles çš„ Repeat åŠŸèƒ½æ¥ç®€å•åœ°æµ‹è¯•æœåŠ¡å™¨çš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚<br><a href="https://blog.csdn.net/linjpg/article/details/77839281">https://blog.csdn.net/linjpg/article/details/77839281</a></p>
<p>å‚è€ƒ:</p>
<p><a href="https://blog.csdn.net/feiwutudou/article/details/80334099">https://blog.csdn.net/feiwutudou/article/details/80334099</a></p>
<p><a href="https://blog.csdn.net/weixin_34381666/article/details/91546268">https://blog.csdn.net/weixin_34381666/article/details/91546268</a></p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
  </entry>
  <entry>
    <title>go-è·å–æœ¬æœºid</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/go-%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAip/</url>
    <content><![CDATA[<p>~~~<br>package main</p>
<p>import (<br>    â€œfmtâ€<br>    â€œnetâ€<br>)</p>
<p>func main() {<br>    netInterfaces, err := net.Interfaces()<br>    if err != nil {<br>        fmt.Println(â€œnet.Interfaces failed, err:â€, err.Error())<br>    }<br>    for i := 0; i &lt; len(netInterfaces); i++ {<br>        if (netInterfaces[i].Flags &amp; net.FlagUp) != 0 {<br>            addrs, _ := netInterfaces[i].Addrs()</p>
<pre><code>        for _, address := range addrs &#123;
            if ipnet, ok := address.(*net.IPNet); ok &amp;&amp; !ipnet.IP.IsLoopback() &#123;
                if ipnet.IP.To4() != nil &#123;
                    fmt.Println(ipnet.IP.String())
                &#125;
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
<p>}</p>
]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ­å»ºä¸€ä¸ªhexoåšå®¢</title>
    <url>/2021/09/12/myblog/%E5%90%8E%E7%AB%AF%E4%B9%8B%E8%B7%AF/hexo/</url>
    <content><![CDATA[<h3 id="1-æ–°å»ºä»“åº“"><a href="#1-æ–°å»ºä»“åº“" class="headerlink" title="1.æ–°å»ºä»“åº“"></a>1.æ–°å»ºä»“åº“</h3><p>jadeliuliu.github.io</p>
<h3 id="2-å®‰è£…hexo"><a href="#2-å®‰è£…hexo" class="headerlink" title="2.å®‰è£…hexo"></a>2.å®‰è£…hexo</h3><p>é¦–å…ˆéœ€è¦å®‰è£…npmï¼ŒNode Package Manager ï¼Œæ˜¯ä¸€ä¸ªNodeJSåŒ…ç®¡ç†å’Œåˆ†å‘å·¥å…·ï¼Œå¤§å®¶éƒ½æŠŠè‡ªå·±å¼€å‘çš„æ¨¡å—æ‰“åŒ…åæ”¾åˆ°npmå®˜ç½‘ä¸Šï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œç›´æ¥é€šè¿‡npmå®‰è£…å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸ç”¨ç®¡ä»£ç å­˜åœ¨å“ªï¼Œåº”è¯¥ä»å“ªä¸‹è½½ã€‚</p>
<h4 id="å®‰è£…npm"><a href="#å®‰è£…npm" class="headerlink" title="å®‰è£…npm"></a>å®‰è£…npm</h4><p><code>brew install node</code>     å®‰è£…å¥½äº†nodejså’Œnpm </p>
<p><code>npm -v</code>  æ£€æŸ¥</p>
<p>å®‰è£…hexo:<code>npm install -g hexo</code></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://www.jianshu.com/p/390f202c5b0e">https://www.jianshu.com/p/390f202c5b0e</a></p>
<h3 id="3-åˆå§‹åŒ–é¡¹ç›®"><a href="#3-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="3.åˆå§‹åŒ–é¡¹ç›®"></a>3.åˆå§‹åŒ–é¡¹ç›®</h3><p><code>hexo init</code>  </p>
<p><code>hexo s</code>  æµè§ˆå™¨å¯è®¿é—®</p>
<h3 id="4-éƒ¨ç½²åˆ°github"><a href="#4-éƒ¨ç½²åˆ°github" class="headerlink" title="4.éƒ¨ç½²åˆ°github"></a>4.éƒ¨ç½²åˆ°github</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰¾åˆ° <code>_congif.yml</code>ï¼Œæ‰¾åˆ° <code>deploy</code> å­—æ®µå¹¶å¡«å†™å®Œæ•´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">type: git</span><br><span class="line">  repo: https://github.com/jadeliuliu/jadeliuliu.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>éœ€è¦é¢å¤–çš„ä¸€ä¸ªå·¥å…·æ¥å¸®åŠ©æˆ‘ä»¬æ¨åˆ°ä»“åº“ä¸Šï¼Œæ˜¯ <code>hexo-deployer-git</code></p>
<p><code>npm install hexo-deployer-git --save</code></p>
<p><code>hexo clean</code></p>
<p><code>hexo deploy</code></p>
<h3 id="5-å‡ºç°443çš„é—®é¢˜"><a href="#5-å‡ºç°443çš„é—®é¢˜" class="headerlink" title="5.å‡ºç°443çš„é—®é¢˜"></a>5.å‡ºç°443çš„é—®é¢˜</h3><p>è¿æ¥è¶…æ—¶çš„é—®é¢˜ï¼šç½‘ä¸Šä¸»æµè§£å†³æ–¹æ³•æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªæ¥å£ä»£ç†æˆ–è¾“å…¥å¦‚ä¸‹è¯­å¥ç¦ç”¨æ¥å£ä»£ç†</p>
<p><code>git config --global --unset https.proxy</code></p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/longroad1216/article/details/114853527">https://blog.csdn.net/longroad1216/article/details/114853527</a></p>
<p>æˆ–è€…httpsæ¢æˆgitè¯•ä¸€è¯•</p>
<p>6.ç™»å½•githubéœ€è¦tocken</p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/weixin_41010198/article/details/119698015">https://blog.csdn.net/weixin_41010198/article/details/119698015</a></p>
<h3 id="6-æ›´æ¢nextä¸»é¢˜"><a href="#6-æ›´æ¢nextä¸»é¢˜" class="headerlink" title="6.æ›´æ¢nextä¸»é¢˜"></a>6.æ›´æ¢nextä¸»é¢˜</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/theme</span>-<span class="keyword">next</span>/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure>

<p>é…ç½®æ–‡ä»¶é‡Œæ”¹theme</p>
<p>hexo s çœ‹æ•ˆæœ</p>
<p>hexo -s çœ‹å¸®åŠ©</p>
<h3 id="7-å‚è€ƒ"><a href="#7-å‚è€ƒ" class="headerlink" title="7.å‚è€ƒ"></a>7.å‚è€ƒ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://blog.csdn.net/weixin_39766258/article/details/110638797</span><br><span class="line">ï¼ˆæ¯”è¾ƒå…¨çš„æŒ‡å—ï¼‰</span><br><span class="line"></span><br><span class="line">https://www.jianshu.com/p/e17711e44e00</span><br><span class="line">ï¼ˆæ·»åŠ åˆ†ç±»ï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="8-æ·»åŠ åˆ†ç±»"><a href="#8-æ·»åŠ åˆ†ç±»" class="headerlink" title="8.æ·»åŠ åˆ†ç±»"></a>8.æ·»åŠ åˆ†ç±»</h3><p>æµ‹è¯•ï¼š</p>
<p>// æˆ‘ä»¬å¯ä»¥å†™æˆä¸€æ¡å‘½ä»¤<br>$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo s<br>$ hexo d</p>
<p>æ–‡ç« ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: å¦‚ä½•æ­å»ºä¸€ä¸ªhexoåšå®¢</span><br><span class="line">date: <span class="number">2021</span>å¹´<span class="number">09</span>æœˆ<span class="number">15</span>æ—¥ <span class="number">20</span>:<span class="number">58</span>:<span class="number">49</span></span><br><span class="line">categories: </span><br><span class="line">- åç«¯</span><br><span class="line">tags:</span><br><span class="line">- hexo</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h3 id="9-å¢åŠ ç›®å½•"><a href="#9-å¢åŠ ç›®å½•" class="headerlink" title="9.å¢åŠ ç›®å½•"></a>9.å¢åŠ ç›®å½•</h3><p>ä¸»é¢˜é…ç½®æ–‡ä»¶ä½äº<code>themes/next/_config.yml</code></p>
<p>æ¯è¡Œç›®å½•è¶…é•¿è‡ªåŠ¨æ¢è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true  </span><br><span class="line">  wrap: true </span><br></pre></td></tr></table></figure>

<h3 id="10-é¦–é¡µåªæ˜¾ç¤ºæ–‡ç« æ ‡é¢˜"><a href="#10-é¦–é¡µåªæ˜¾ç¤ºæ–‡ç« æ ‡é¢˜" class="headerlink" title="10.é¦–é¡µåªæ˜¾ç¤ºæ–‡ç« æ ‡é¢˜"></a>10.é¦–é¡µåªæ˜¾ç¤ºæ–‡ç« æ ‡é¢˜</h3><span id="more"></span>     #é¦–é¡µåªä¼šæ˜¾ç¤ºæ ‡è®°ä»¥å‰çš„å†…å®¹ï¼Œæ ‡è®°åçš„å†…å®¹å¯ä»¥é€šè¿‡é˜…è¯»æ›´å¤šæŸ¥é˜…

<p><a href="https://blog.csdn.net/yueyue200830/article/details/104470646">https://blog.csdn.net/yueyue200830/article/details/104470646</a></p>
<h3 id="11-å¦‚ä½•æ”¹å˜åˆ›å»ºæ—¶é—´"><a href="#11-å¦‚ä½•æ”¹å˜åˆ›å»ºæ—¶é—´" class="headerlink" title="11.å¦‚ä½•æ”¹å˜åˆ›å»ºæ—¶é—´"></a>11.å¦‚ä½•æ”¹å˜åˆ›å»ºæ—¶é—´</h3><p>æ”¹å˜dateæ ¼å¼</p>
<h3 id="12-å¢åŠ è®¿é—®ç»Ÿè®¡"><a href="#12-å¢åŠ è®¿é—®ç»Ÿè®¡" class="headerlink" title="12.å¢åŠ è®¿é—®ç»Ÿè®¡"></a>12.å¢åŠ è®¿é—®ç»Ÿè®¡</h3><p>æ²¡æˆåŠŸï¼Œå®³æˆ‘æçš„deployä¸€ç›´æŠ¥é”™ï¼ŒèŠ±é‡Œèƒ¡å“¨</p>
<h3 id="13-æ’å…¥å›¾ç‰‡é—®é¢˜"><a href="#13-æ’å…¥å›¾ç‰‡é—®é¢˜" class="headerlink" title="13.æ’å…¥å›¾ç‰‡é—®é¢˜"></a>13.æ’å…¥å›¾ç‰‡é—®é¢˜</h3><p><a href="https://www.jianshu.com/p/f72aaad7b852">https://www.jianshu.com/p/f72aaad7b852</a></p>
<h3 id="æ›´æ–°å‡ºç°é—®é¢˜"><a href="#æ›´æ–°å‡ºç°é—®é¢˜" class="headerlink" title="æ›´æ–°å‡ºç°é—®é¢˜"></a>æ›´æ–°å‡ºç°é—®é¢˜</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun</span><br><span class="line">FATAL &#123;</span><br><span class="line">  err: Error: Spawn failed</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•ï¼š<code>xcode-select --install</code></p>
<h3 id="14-åšå®¢æ·»åŠ searchåŠŸèƒ½"><a href="#14-åšå®¢æ·»åŠ searchåŠŸèƒ½" class="headerlink" title="14.åšå®¢æ·»åŠ searchåŠŸèƒ½"></a>14.åšå®¢æ·»åŠ searchåŠŸèƒ½</h3><p>1.å®‰è£…æœç´¢ï¼šåœ¨Hexoçš„æ ¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€å‘½ä»¤å¯æ‰§è¡Œçª—å£ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<p><code>npm install hexo-generator-searchdb --save</code></p>
<p>2.å…¨å±€é…ç½®æ–‡ä»¶_config.ymlï¼Œæ–°å¢å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure>

<p>3.hexoä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ\themes\next\_config.ymlï¼‰ï¼Œä¿®æ”¹local_searchçš„enableä¸ºtrueï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/flashlab/hexo-generator-search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br></pre></td></tr></table></figure>

<h3 id="15-åšå®¢å¢åŠ è®¿å®¢ç»Ÿè®¡"><a href="#15-åšå®¢å¢åŠ è®¿å®¢ç»Ÿè®¡" class="headerlink" title="15.åšå®¢å¢åŠ è®¿å®¢ç»Ÿè®¡"></a>15.åšå®¢å¢åŠ è®¿å®¢ç»Ÿè®¡</h3><p>1.æ‰“å¼€nextä¸»é¢˜é…ç½®æ–‡ä»¶\themes\next\_config.ymlï¼Œæœç´¢æ‰¾åˆ°<strong>busuanzi_count</strong>ï¼ŒæŠŠenableè®¾ç½®ä¸ºtrueã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true    //è®¿å®¢æ•°</span><br><span class="line">  total_visitors_icon: fa fa-user</span><br><span class="line">  total_views: true    //è®¿é—®æ•°</span><br><span class="line">  total_views_icon: fa fa-eye</span><br><span class="line">  post_views: true     //æ–‡ç« é˜…è¯»æ•°</span><br><span class="line">  post_views_icon: fa fa-eye</span><br></pre></td></tr></table></figure>

<p>2.åŒæ ·æ˜¯åœ¨nextä¸»é¢˜é…ç½®æ–‡ä»¶\themes\next\_config.ymlä¸‹ï¼Œæœç´¢<strong>footer</strong>ï¼Œåœ¨å®ƒåº•ä¸‹æ·»åŠ counterï¼Œè®¾å€¼ä¸ºtrue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line">  Counter: true</span><br></pre></td></tr></table></figure>

<p>3.æ¥åˆ°themes\next\layout\_partialsï¼Œæ‰¾åˆ°<strong>footer.swig</strong>æ–‡ä»¶ï¼Œæ‰“å¼€ç¼–è¾‘ï¼Œåœ¨åº•ä¸‹æ·»åŠ ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% if theme.footer.counter %&#125;</span><br><span class="line">    &lt;script async src=&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/baidu_34310405/article/details/102665373">https://blog.csdn.net/baidu_34310405/article/details/102665373</a></p>
<h3 id="16-åšå®¢ä¾§è¾¹æ æ·»åŠ è”ç³»æ–¹å¼"><a href="#16-åšå®¢ä¾§è¾¹æ æ·»åŠ è”ç³»æ–¹å¼" class="headerlink" title="16.åšå®¢ä¾§è¾¹æ æ·»åŠ è”ç³»æ–¹å¼"></a>16.åšå®¢ä¾§è¾¹æ æ·»åŠ è”ç³»æ–¹å¼</h3><p>1.åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>themes/next-theme/_config.yml</code>ä¸­ï¼Œæœç´¢<code>social</code>ï¼Œåœ¨<code>social</code>ä¸‹ä½¿ç”¨å¦‚ä¸‹æ ¼å¼å¢åŠ ä¾§æ é“¾æ¥ï¼š</p>
<p><code>Key: permalink || icon</code></p>
<p><code>Key</code>ä¸ºæ˜¾ç¤ºç»™è®¿é—®ç”¨æˆ·çš„é“¾æ¥åç§°ï¼›<br><code>permalink</code>ä¸ºé“¾æ¥åœ°å€ï¼›<br><code>icon</code>ä¸ºFontAwesomeå›¾æ ‡ï¼Œå¦‚æœæœªæŒ‡å®šå›¾æ ‡ï¼Œåˆ™æ˜¾ç¤ºä¸ºä¸€ä¸ª<code>åœ°çƒ</code>å›¾æ ‡ã€‚</p>
<p>2.æ·»åŠ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/jadeliuliu || github</span><br><span class="line">  E-Mail: mailto:jadeliu1998@163.com || envelope</span><br><span class="line">  CSDN: https://blog.csdn.net/jadeliu1998|| crosshairs</span><br><span class="line">  Weibo: https://weibo.com/u/5823044646 || weibo</span><br></pre></td></tr></table></figure>

<p>3.å›¾æ ‡åŠæ ‡ç­¾æ–‡å­—çš„æ˜¾ç¤ºåŠéšè—</p>
<p>æœç´¢<code>social_icons</code>å¹¶å®šä½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enable: true</span><br><span class="line">icons_only: false</span><br><span class="line">transition: false</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¿®æ”¹<code>enable</code>ã€<code>icons_only</code>å®ç°å¯¹å›¾æ ‡çš„ä»¥åŠå›¾æ ‡æ—æ ‡ç­¾æ–‡å­—çš„æ˜¾ç¤ºåŠéšè—åŠŸèƒ½ï¼Œä¿®æ”¹<code>transition</code>å®ç°æ˜¯å¦æ˜¾ç¤ºè¿‡æ¸¡æ•ˆæœåŠŸèƒ½ã€‚</p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/wangqingchuan92/article/details/116223408">https://blog.csdn.net/wangqingchuan92/article/details/116223408</a></p>
<h3 id="17-åšå®¢æ·»åŠ å¤´åƒ"><a href="#17-åšå®¢æ·»åŠ å¤´åƒ" class="headerlink" title="17.åšå®¢æ·»åŠ å¤´åƒ"></a>17.åšå®¢æ·»åŠ å¤´åƒ</h3><p>1.æ‰¾åˆ°é…ç½®æ–‡ä»¶<code>themes/next/_config.yml</code>ï¼Œæœç´¢<code>avatar: /images/avatar_2.gif</code>ï¼Œå–æ¶ˆæ³¨é‡Š</p>
<p>2.åœ¨imageæ–‡ä»¶å¤¹ä¸­æ·»åŠ å›¾ç‰‡.</p>
<h3 id="18-ä¿®æ”¹ç«™ç‚¹å›¾æ ‡"><a href="#18-ä¿®æ”¹ç«™ç‚¹å›¾æ ‡" class="headerlink" title="18.ä¿®æ”¹ç«™ç‚¹å›¾æ ‡"></a>18.ä¿®æ”¹ç«™ç‚¹å›¾æ ‡</h3><p>1.çŸ¢é‡å›¾åº“ï¼š<a href="https://www.iconfont.cn/">https://www.iconfont.cn</a></p>
<p>2.åœ¨<code>/themes/next/_config.yml</code>ä¸­ä¿®æ”¹æˆè‡ªå·±çš„å›¾æ ‡</p>
<p>å°±æ˜¯å¾ˆå¤šåˆ†è¾¨ç‡çš„ï¼Œä¸‰å››ä¸ªè¦æ”¹éƒ½æ”¹ï¼Œç®—äº†æ”¹ã€‚</p>
]]></content>
      <categories>
        <category>åç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>å­¦ä¹ ç¬”è®°-goå…¥é—¨1.0</title>
    <url>/2021/08/19/myblog/golang%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-go%E5%85%A5%E9%97%A81.0/</url>
    <content><![CDATA[<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€åœ¨å¤šæ ¸å¹¶å‘ä¸Šæ‹¥æœ‰åŸç”Ÿçš„è®¾è®¡ä¼˜åŠ¿ï¼Œå…¼é¡¾æ€§èƒ½å’Œå¼€å‘æ•ˆç‡</span><br><span class="line">å·ç§°ï¼šPythonçš„å¼€å‘é€Ÿåº¦ï¼ŒC/C++çš„æ€§èƒ½å’Œå®‰å…¨</span><br><span class="line">phpè¿<span class="keyword">go</span>å±äºå¤§çš„æ¶æ„è°ƒæ•´ï¼Œä»æ¶æ„è§’åº¦  ä¸ªäººè®¤ä¸º<span class="keyword">go</span>ç¬¦åˆï¼Œç®€å•ã€åˆé€‚çš„åŸåˆ™</span><br><span class="line"><span class="number">1</span>ã€æ¶æ„è®¾è®¡çš„ä¸»è¦ç›®çš„</span><br><span class="line">æ˜¯ä¸ºäº†è§£å†³è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦å¸¦æ¥çš„é—®é¢˜</span><br><span class="line"><span class="number">2</span>ã€ç³»ç»Ÿå¤æ‚åº¦çš„ä¸»è¦æ¥æº</span><br><span class="line">é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€å¯æ‰©å±•æ€§ã€ä½æˆæœ¬ã€å®‰å…¨ã€è§„æ¨¡</span><br><span class="line"><span class="number">3</span>ã€æ¶æ„è®¾è®¡ä¸‰åŸåˆ™</span><br><span class="line">åˆé€‚åŸåˆ™ã€ç®€å•åŸåˆ™ã€æ¼”åŒ–åŸåˆ™</span><br><span class="line"></span><br><span class="line">èœé¸Ÿæ•™ç¨‹ï¼šhttps:<span class="comment">//www.runoob.com/go/go-tutorial.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>ï¼šå¼€æºã€å¯é é«˜æ•ˆã€å¤šæ ¸å¹¶å‘ã€ç¼–è¯‘å‹è¯­è¨€ã€<span class="number">2012</span>å‘å¸ƒGo1ç¨³å®šç‰ˆæœ¬ã€‚</span><br><span class="line">ç‰¹ç‚¹ï¼šç®€æ´ã€å¿«è¯»ã€å®‰å…¨ã€å¹¶è¡Œã€æœ‰è¶£ã€å¼€æºã€å†…å­˜ç®¡ç†ã€æ•°ç»„å®‰å…¨ã€ç¼–è¯‘è¿…é€Ÿ</span><br><span class="line">é€‚ç”¨ï¼šGo è¯­è¨€è¢«è®¾è®¡æˆä¸€é—¨åº”ç”¨äºæ­è½½ Web æœåŠ¡å™¨ï¼Œå­˜å‚¨é›†ç¾¤æˆ–ç±»ä¼¼ç”¨é€”çš„å·¨å‹ä¸­å¤®æœåŠ¡å™¨çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚</span><br><span class="line">å¯¹äºé«˜æ€§èƒ½åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸè€Œè¨€ï¼ŒGo è¯­è¨€æ— ç–‘æ¯”å¤§å¤šæ•°å…¶å®ƒè¯­è¨€æœ‰ç€æ›´é«˜çš„å¼€å‘æ•ˆç‡ã€‚å®ƒæä¾›äº†æµ·é‡å¹¶è¡Œçš„æ”¯æŒï¼Œè¿™å¯¹äºæ¸¸æˆæœåŠ¡ç«¯çš„å¼€å‘è€Œè¨€æ˜¯å†å¥½ä¸è¿‡äº†ã€‚</span><br><span class="line"></span><br><span class="line">è®¡ç®—æœºè½¯ä»¶ç»å†äº†æ•°åå¹´çš„å‘å±•ï¼Œå½¢æˆäº†å¤šç§å­¦æœ¯æµæ´¾ï¼Œæœ‰é¢å‘è¿‡ç¨‹ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹ã€é¢å‘æ¶ˆæ¯ç¼–ç¨‹ç­‰ï¼Œè¿™äº›æ€æƒ³ç©¶ç«Ÿå­°ä¼˜å­°åŠ£ï¼Œä¼—è¯´çº·çº­ã€‚</span><br><span class="line">é™¤äº†OOPå¤–ï¼Œè¿‘å¹´å‡ºç°äº†ä¸€äº›å°ä¼—çš„ç¼–ç¨‹å“²å­¦ï¼ŒGoè¯­è¨€å¯¹è¿™äº›æ€æƒ³äº¦æœ‰æ‰€å¸æ”¶ã€‚ä¾‹å¦‚ï¼ŒGoè¯­è¨€æ¥å—äº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€äº›æƒ³æ³•ï¼Œæ”¯æŒåŒ¿åå‡½æ•°ä¸é—­åŒ…ã€‚å†å¦‚ï¼ŒGoè¯­è¨€æ¥å—äº†ä»¥Erlangè¯­è¨€ä¸ºä»£è¡¨çš„é¢å‘æ¶ˆæ¯ç¼–ç¨‹æ€æƒ³ï¼Œæ”¯æŒgoroutineå’Œé€šé“ï¼Œå¹¶æ¨èä½¿ç”¨æ¶ˆæ¯è€Œä¸æ˜¯å…±äº«å†…å­˜æ¥è¿›è¡Œå¹¶å‘ç¼–ç¨‹ã€‚æ€»ä½“æ¥è¯´ï¼ŒGoè¯­è¨€æ˜¯ä¸€ä¸ªéå¸¸ç°ä»£åŒ–çš„è¯­è¨€ï¼Œç²¾å°ä½†éå¸¸å¼ºå¤§ã€‚</span><br><span class="line">Go è¯­è¨€æœ€ä¸»è¦çš„ç‰¹æ€§ï¼š</span><br><span class="line">è‡ªåŠ¨åƒåœ¾å›æ”¶</span><br><span class="line">æ›´ä¸°å¯Œçš„å†…ç½®ç±»å‹</span><br><span class="line">å‡½æ•°å¤šè¿”å›å€¼</span><br><span class="line">é”™è¯¯å¤„ç†</span><br><span class="line">åŒ¿åå‡½æ•°å’Œé—­åŒ…</span><br><span class="line">ç±»å‹å’Œæ¥å£</span><br><span class="line">å¹¶å‘ç¼–ç¨‹</span><br><span class="line">åå°„</span><br><span class="line">è¯­è¨€äº¤äº’æ€§</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>å®‰è£… èœé¸Ÿæ–¹æ¡ˆ</span><br><span class="line"><span class="number">1.</span>ä¸‹è½½äºŒè¿›åˆ¶å®‰è£…åŒ…ï¼šhttps:<span class="comment">//golang.google.cn/dl/</span></span><br><span class="line">go1<span class="number">.16</span>.linux-amd64.tar.gz</span><br><span class="line">é—®é¢˜ï¼š.pkgå’Œ.tar.gzåªæ˜¯å‹ç¼©æ–¹å¼çš„ä¸åŒå—</span><br><span class="line"><span class="number">2.</span>è§£å‹å®‰è£…åŒ…åˆ°ç›®å½•</span><br><span class="line">tar -C /usr/local -xzf go1<span class="number">.4</span>.linux-amd64.tar.gz</span><br><span class="line"><span class="number">3.</span>æ·»åŠ PATHç¯å¢ƒå˜é‡</span><br><span class="line">export PATH=$PATH:/usr/local/<span class="keyword">go</span>/bin</span><br><span class="line">MAC ç³»ç»Ÿä¸‹ä½ å¯ä»¥ä½¿ç”¨ .pkg ç»“å°¾çš„å®‰è£…åŒ…ç›´æ¥åŒå‡»æ¥å®Œæˆå®‰è£…ï¼Œå®‰è£…ç›®å½•åœ¨ /usr/local/<span class="keyword">go</span>/ ä¸‹ã€‚</span><br><span class="line"></span><br><span class="line">é—®é¢˜ï¼š<span class="keyword">go</span>å®‰è£…åˆ°å“ªï¼Ÿ</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>å®‰è£… GDP2æ–¹æ¡ˆ</span><br><span class="line"><span class="number">1.</span>é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">å»ºè®®æŠŠ <span class="keyword">go</span> æœ¬èº«å®‰è£…åœ¨ ~/sdk/ ç›®å½•ä¸‹ï¼Œå¦‚ ~/sdk/go1<span class="number">.16</span>ã€‚</span><br><span class="line">å…ˆè®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå»ºè®®å†™å…¥åˆ° ~/.bash_profile æ–‡ä»¶ ï¼‰ï¼Ÿ</span><br><span class="line">export GOBIN=$HOME/<span class="keyword">go</span>/bin  </span><br><span class="line">export PATH=$PATH:$GOBIN:$HOME/sdk/go1<span class="number">.16</span>/bin</span><br><span class="line">ä½œç”¨ï¼š</span><br><span class="line">åç»­ä½¿ç”¨ <span class="keyword">go</span> å‘½ä»¤å®‰è£…çš„äºŒè¿›åˆ¶ç¨‹åºéƒ½åœ¨ $HOME/<span class="keyword">go</span>/bin ç›®å½•é‡Œ</span><br><span class="line">è®¾ç½® $PATHä»¥è®© <span class="keyword">go</span> å’Œ ä½¿ç”¨ <span class="keyword">go</span> å®‰è£…çš„äºŒè¿›åˆ¶ç¨‹åºèƒ½ç›´æ¥ä½¿ç”¨</span><br><span class="line"><span class="number">2.</span>å®‰è£…ï¼šå“ªç§æ–¹å¼å®‰è£…ï¼Ÿ</span><br><span class="line">MACç›´æ¥å®‰è£…ï¼šbrew install <span class="keyword">go</span></span><br><span class="line">å†…ç½‘æµ‹è¯•æœºdeckç¯å¢ƒå®‰è£…ï¼šdeck install <span class="keyword">go</span><span class="number">-1.16</span></span><br><span class="line">go1<span class="number">.13</span>å¼€å§‹çš„ä¾èµ–ç®¡ç†å·¥å…·Go Module</span><br><span class="line"></span><br><span class="line">é—®å¯¼å¸ˆï¼šç›´æ¥å®‰è£…pkgçš„ï¼Œè‡ªåŠ¨å®‰è£…åˆ°ä¸€ä¸ªç›®å½•ï¼Œç¯å¢ƒå˜é‡ä¹Ÿä¸éœ€è¦è‡ªå·±é…äº†ã€‚ç„¶åå­¦ä¸€ä¸‹è¯­æ³•ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ç¼–è¯‘ã€‚è£…ä¸€ä¸‹vscodeã€‚é…ä¸€ä¸‹Go moduleï¼Œé•œåƒã€‚</span><br><span class="line"></span><br><span class="line">brewæ˜¯MacOSä¸Šçš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç®€åŒ–æ“ä½œç³»ç»Ÿä¸Šè½¯ä»¶çš„å®‰è£…ã€‚</span><br><span class="line">brewæ˜¯rubyå¼€å‘çš„ï¼Œéœ€è¦ç¡®è®¤rubyæ˜¯å¦å·²å®‰è£…ï¼Œé»˜è®¤æ˜¯å·²ç»å®‰è£…çš„ã€‚</span><br><span class="line">whichå‘½ä»¤ï¼šæŸ¥çœ‹å®‰è£…è·¯å¾„</span><br><span class="line">å®‰è£…brewï¼š</span><br><span class="line">ruby -e <span class="string">&quot;$(curl -fsSL </span></span><br><span class="line"><span class="string">https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span>  ï¼ˆæ²¡ååº”ï¼‰</span><br><span class="line">å¦ä¸€æ¡å‘½ä»¤ï¼š</span><br><span class="line">/bin/zsh -c <span class="string">&quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;</span></span><br><span class="line"></span><br><span class="line">ï¼ˆMACå®‰è£…å’Œä½¿ç”¨<span class="keyword">go</span>ï¼šhttps:<span class="comment">//www.jianshu.com/p/67dcf4e828e9ï¼‰</span></span><br><span class="line">å®‰è£…å¥½äº†brewå†<span class="keyword">go</span> versionå°±æœ‰äº†ã€‚</span><br><span class="line"><span class="keyword">go</span> env æŸ¥çœ‹ç¯å¢ƒå˜é‡</span><br><span class="line">which <span class="keyword">go</span> æŸ¥çœ‹å®‰è£…ç›®å½•ï¼š/usr/local/<span class="keyword">go</span>/bin/<span class="keyword">go</span></span><br><span class="line"><span class="keyword">go</span>çš„å¼€å‘é¡¹ç›®è·¯å¾„ä¿®æ”¹ï¼š  ï¼Ÿï¼Ÿ</span><br><span class="line">export GOPATH=/Users/liuxuan14/work/go_project</span><br><span class="line"></span><br><span class="line">vimä¸€ä¸ªhello.<span class="keyword">go</span></span><br><span class="line"><span class="keyword">go</span> run hello.<span class="keyword">go</span> <span class="comment">//ç›´æ¥è¿è¡Œ</span></span><br><span class="line">æˆ–è€…ï¼š</span><br><span class="line"><span class="keyword">go</span> build hello.<span class="keyword">go</span> <span class="comment">//å…ˆç¼–è¯‘</span></span><br><span class="line">./hello  <span class="comment">//è¿è¡Œç¼–è¯‘æ–‡ä»¶ ./æ˜¯è¿è¡Œçš„æ„æ€</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€ç»“æ„ï¼š</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€çš„åŸºç¡€ç»„æˆï¼šåŒ…å£°æ˜ã€å¼•å…¥åŒ…ã€å‡½æ•°ã€å˜é‡ã€è¯­å¥ &amp; è¡¨è¾¾å¼ã€æ³¨é‡Š</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main  <span class="comment">//ç¬¬ä¸€è¡Œï¼Œè¡¨æ˜è¯¥æ–‡ä»¶å±äºmainåŒ…ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯ç‹¬ç«‹æ‰§è¡Œçš„ç¨‹åºã€‚</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  <span class="comment">//å¯¼åŒ…ï¼šfmtåŒ…å®ç°æ ¼å¼åŒ–IO</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  <span class="comment">//init()å‡½æ•°ï¼Ÿ</span></span><br><span class="line">   <span class="comment">/* è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç®€å•çš„ç¨‹åº */</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">  <span class="comment">//åœ¨æœ€åè‡ªåŠ¨å¢åŠ æ¢è¡Œå­—ç¬¦\n</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š&#123;ä¸èƒ½å•ç‹¬æ”¾åœ¨ä¸€è¡Œ</span><br><span class="line"></span><br><span class="line">æ ‡è¯†ç¬¦ï¼ˆåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€ç±»å‹ã€å‡½æ•°åã€ç»“æ„å­—æ®µç­‰ç­‰ï¼‰å¦‚æœä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´ï¼Œå¦‚ï¼šGroup1ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ç§å½¢å¼çš„æ ‡è¯†ç¬¦çš„å¯¹è±¡å°±å¯ä»¥è¢«å¤–éƒ¨åŒ…çš„ä»£ç æ‰€ä½¿ç”¨ï¼ˆå®¢æˆ·ç«¯ç¨‹åºéœ€è¦å…ˆå¯¼å…¥è¿™ä¸ªåŒ…ï¼‰ï¼Œè¿™è¢«ç§°ä¸ºå¯¼å‡ºï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ publicï¼‰ï¼›æ ‡è¯†ç¬¦å¦‚æœä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å¯¹åŒ…å¤–æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯ä»–ä»¬åœ¨æ•´ä¸ªåŒ…çš„å†…éƒ¨æ˜¯å¯è§å¹¶ä¸”å¯ç”¨çš„ï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ protected ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">åŒ…ç»“æ„ï¼Œæ–‡ä»¶åä¸åŒ…å</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€åŸºç¡€è¯­æ³•ï¼š</span><br><span class="line">ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¯­å¥ç»“æŸï¼Œæ— éœ€ï¼›</span><br><span class="line">é™¤ééè¦å†™åœ¨ä¸€è¡Œï¼Œç”¨ï¼›äººä¸ºåŒºåˆ†</span><br><span class="line">æ ‡è¯†ç¬¦ï¼šç¬¬ä¸€ä¸ªå­—ç¬¦éœ€è¦æ˜¯å­—æ¯æˆ–ä¸‹åˆ’çº¿ä¸èƒ½æ˜¯æ•°å­—ï¼Œä¸èƒ½æ˜¯<span class="keyword">go</span>å…³é”®å­—ï¼Œä¸èƒ½æœ‰è¿ç®—ç¬¦ã€‚</span><br><span class="line">å­—ç¬¦ä¸²è¿æ¥ï¼šfmt.Println(<span class="string">&quot;Google&quot;</span> + <span class="string">&quot;Runoob&quot;</span>)</span><br><span class="line"><span class="keyword">go</span>å˜é‡çš„ç”³æ˜å¿…é¡»ä½¿ç”¨ç©ºæ ¼éš”å¼€ï¼š</span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span>;</span><br><span class="line">fmt.</span><br><span class="line">Sprintf æ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶èµ‹å€¼ç»™æ–°ä¸²ã€‚</span><br><span class="line"><span class="keyword">var</span> stockcode=<span class="number">123</span></span><br><span class="line"><span class="keyword">var</span> enddate=<span class="string">&quot;2020-12-31&quot;</span></span><br><span class="line"><span class="keyword">var</span> url=<span class="string">&quot;Code=%d &amp; endDate=%s&quot;</span></span><br><span class="line"><span class="keyword">var</span> target_url=fmt.Sprintf(url,stockcode,enddate)</span><br><span class="line">fmt.Println(target_url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>æ•°æ®ç±»å‹ï¼š</span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">bool</span>=<span class="literal">true</span></span><br><span class="line">å¸ƒå°”å‹ã€æ•°å­—ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹ã€æ´¾ç”Ÿç±»å‹ï¼ˆæŒ‡é’ˆã€æ•°ç»„ã€ç»“æ„åŒ–ã€channelã€å‡½æ•°ã€åˆ‡ç‰‡ã€æ¥å£<span class="keyword">interface</span>ã€<span class="keyword">map</span>ï¼‰</span><br><span class="line"><span class="keyword">uint8</span>ï¼ˆ<span class="number">0</span><span class="number">-255</span>ï¼‰<span class="keyword">uint16</span> <span class="keyword">uint32</span> <span class="keyword">uint64</span> <span class="keyword">int8</span>(<span class="number">-128</span><span class="number">-127</span>) </span><br><span class="line"><span class="keyword">float32</span>:<span class="number">32</span>ä½æµ®ç‚¹æ•°</span><br><span class="line"><span class="keyword">float64</span>ï¼š<span class="number">64</span>ä½æµ®ç‚¹æ•°</span><br><span class="line"><span class="keyword">complex64</span>ï¼š<span class="number">32</span>ä½å®æ•°å’Œè™šæ•°</span><br><span class="line"><span class="keyword">byte</span> ç±»ä¼¼<span class="keyword">uint8</span></span><br><span class="line"><span class="keyword">rune</span> ç±»ä¼¼<span class="keyword">int32</span></span><br><span class="line"><span class="keyword">uintptr</span> æ— ç¬¦å·æ•´å‹ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>å˜é‡ï¼š</span><br><span class="line"><span class="keyword">var</span> a,b <span class="keyword">type</span> <span class="comment">//ä¸€æ¬¡å®šä¹‰ä¸¤ä¸ªå˜é‡</span></span><br><span class="line"><span class="keyword">var</span> b,c <span class="keyword">int</span>=<span class="number">1</span>,<span class="number">2</span></span><br><span class="line">fmt.Println(b,c)</span><br><span class="line">å˜é‡åªå£°æ˜ä½†æ˜¯ä¸åˆå§‹åŒ–ï¼Œé»˜è®¤ä¸ºé›¶å€¼ã€‚</span><br><span class="line">å¯ä»¥æ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹ã€‚</span><br><span class="line">å®šä¹‰å˜é‡å¯çœç•¥<span class="keyword">var</span></span><br><span class="line">a:=<span class="number">1</span>  <span class="comment">//ä¸€å®šæ˜¯éœ€è¦å®šä¹‰æ–°çš„å˜é‡ï¼Œå¦‚æœå˜é‡å­˜åœ¨ä¼šç¼–è¯‘é”™è¯¯ã€‚çœç•¥ç”³æ˜æ ¼å¼çš„å†™æ³•åªèƒ½åœ¨å‡½æ•°ä½“ä¸­å‡ºç°ã€‚</span></span><br><span class="line"><span class="keyword">var</span> a,b =<span class="number">1</span>,<span class="number">2</span> <span class="comment">//å’Œpythonå¾ˆåƒï¼Œä¸éœ€è¦æ˜¾ç¤ºå£°æ˜ç±»å‹ï¼Œè‡ªåŠ¨åˆ¤æ–­ã€‚éå…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">var</span>ï¼ˆ</span><br><span class="line">  a <span class="keyword">int</span></span><br><span class="line">  b <span class="keyword">int</span></span><br><span class="line">ï¼‰  <span class="comment">//å› å¼åˆ†è§£å…³é”®å­—çš„å†™æ³•ä¸€èˆ¬ç”¨äºå£°æ˜å…¨å±€å˜é‡</span></span><br><span class="line"></span><br><span class="line">å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹</span><br><span class="line">å€¼ç±»å‹çš„å˜é‡çš„å€¼å­˜å‚¨åœ¨æ ˆä¸­ã€‚</span><br><span class="line">ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ r1 å­˜å‚¨çš„æ˜¯ r1 çš„å€¼æ‰€åœ¨çš„å†…å­˜åœ°å€ï¼ˆæ•°å­—ï¼‰ï¼Œæˆ–å†…å­˜åœ°å€ä¸­ç¬¬ä¸€ä¸ªå­—æ‰€åœ¨çš„ä½ç½®ã€‚</span><br><span class="line">è¿™ä¸ªå†…å­˜åœ°å€ç§°ä¹‹ä¸ºæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆå®é™…ä¸Šä¹Ÿè¢«å­˜åœ¨å¦å¤–çš„æŸä¸€ä¸ªå€¼ä¸­ã€‚</span><br><span class="line">åŒä¸€ä¸ªå¼•ç”¨ç±»å‹çš„æŒ‡é’ˆæŒ‡å‘çš„å¤šä¸ªå­—å¯ä»¥æ˜¯åœ¨è¿ç»­çš„å†…å­˜åœ°å€ä¸­ï¼ˆå†…å­˜å¸ƒå±€æ˜¯è¿ç»­çš„ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯è®¡ç®—æ•ˆç‡æœ€é«˜çš„ä¸€ç§å­˜å‚¨å½¢å¼ï¼›ä¹Ÿå¯ä»¥å°†è¿™äº›å­—åˆ†æ•£å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ¯ä¸ªå­—éƒ½æŒ‡ç¤ºäº†ä¸‹ä¸€ä¸ªå­—æ‰€åœ¨çš„å†…å­˜åœ°å€ã€‚</span><br><span class="line">å½“ä½¿ç”¨èµ‹å€¼è¯­å¥ r2 = r1 æ—¶ï¼Œåªæœ‰å¼•ç”¨ï¼ˆåœ°å€ï¼‰è¢«å¤åˆ¶ã€‚</span><br><span class="line">å¦‚æœ r1 çš„å€¼è¢«æ”¹å˜äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼çš„æ‰€æœ‰å¼•ç”¨éƒ½ä¼šæŒ‡å‘è¢«ä¿®æ”¹åçš„å†…å®¹ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œr2 ä¹Ÿä¼šå—åˆ°å½±å“ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€è€ƒï¼šåœ¨goä¸­ï¼Œå¼•ç”¨ç±»å‹ä¸­å­˜æ”¾çš„æ˜¯æŒ‡é’ˆï¼ŒæŒ‡é’ˆç›¸å½“äºå†…å­˜åœ°å€ã€‚ç”¨ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»™å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œåœ°å€è¢«èµ‹å€¼ï¼Œåœ°å€ä¸€æ ·ï¼Œå€¼å˜åŠ¨ï¼Œä¸¤ä¸ªå¼•ç”¨ç±»å‹éƒ½æŒ‡å‘è¿™ä¸ªä¿®æ”¹åçš„å†…å®¹ã€‚</span></span><br><span class="line"></span><br><span class="line">å‡½æ•°ä¸­å¦‚æœä½ å£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡å´æ²¡æœ‰åœ¨ç›¸åŒçš„ä»£ç å—ä¸­ä½¿ç”¨å®ƒï¼Œä¼šç¼–è¯‘é”™è¯¯ã€‚</span><br><span class="line">å¤šä¸ªå˜é‡å¯ä»¥åŒæ—¶å£°æ˜ã€åˆå§‹åŒ–ã€‚</span><br><span class="line">_ å®é™…ä¸Šæ˜¯ä¸€ä¸ªåªå†™å˜é‡ï¼Œä½ ä¸èƒ½å¾—åˆ°å®ƒçš„å€¼ã€‚è¿™æ ·åšæ˜¯å› ä¸º Go è¯­è¨€ä¸­ä½ å¿…é¡»ä½¿ç”¨æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œä½†æœ‰æ—¶ä½ å¹¶ä¸éœ€è¦ä½¿ç”¨ä»ä¸€ä¸ªå‡½æ•°å¾—åˆ°çš„æ‰€æœ‰è¿”å›å€¼ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>å¸¸é‡ï¼š</span><br><span class="line">å¸¸é‡æ˜¯ä¸€ä¸ªç®€å•å€¼çš„æ ‡è¯†ç¬¦ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œä¸ä¼šè¢«ä¿®æ”¹çš„é‡ã€‚</span><br><span class="line">å¸¸é‡ä¸­çš„æ•°æ®ç±»å‹åªå¯ä»¥æ˜¯å¸ƒå°”å‹ã€æ•°å­—å‹ï¼ˆæ•´æ•°å‹ã€æµ®ç‚¹å‹å’Œå¤æ•°ï¼‰å’Œå­—ç¬¦ä¸²å‹ã€‚</span><br><span class="line"><span class="keyword">const</span> b <span class="keyword">string</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line">å¸¸é‡è¿˜å¯ç”¨ä½œæšä¸¾</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    Unknown = <span class="number">0</span></span><br><span class="line">    Female = <span class="number">1</span></span><br><span class="line">    Male = <span class="number">2</span></span><br><span class="line">)</span><br><span class="line"><span class="literal">iota</span>ï¼šç‰¹æ®Šå¸¸é‡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡ã€‚</span><br><span class="line"><span class="literal">iota</span> åœ¨ <span class="keyword">const</span>å…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º <span class="number">0</span>(<span class="keyword">const</span> å†…éƒ¨çš„ç¬¬ä¸€è¡Œä¹‹å‰)ï¼Œ<span class="keyword">const</span> ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿ <span class="literal">iota</span> è®¡æ•°ä¸€æ¬¡(<span class="literal">iota</span> å¯ç†è§£ä¸º <span class="keyword">const</span> è¯­å¥å—ä¸­çš„è¡Œç´¢å¼•)ã€‚</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">            a = <span class="literal">iota</span>   <span class="comment">//0</span></span><br><span class="line">            b          <span class="comment">//1</span></span><br><span class="line">            c          <span class="comment">//2</span></span><br><span class="line">            d = <span class="string">&quot;ha&quot;</span>   <span class="comment">//ç‹¬ç«‹å€¼ï¼Œiota += 1</span></span><br><span class="line">            e          <span class="comment">//&quot;ha&quot;   iota += 1</span></span><br><span class="line">            f = <span class="number">100</span>    <span class="comment">//iota +=1</span></span><br><span class="line">            g          <span class="comment">//100  iota +=1</span></span><br><span class="line">            h = <span class="literal">iota</span>   <span class="comment">//7,æ¢å¤è®¡æ•°</span></span><br><span class="line">            i          <span class="comment">//8</span></span><br><span class="line">    )</span><br><span class="line">    fmt.Println(a,b,c,d,e,f,g,h,i)</span><br><span class="line">&#125;</span><br><span class="line">å‘ç°ï¼šä¸‹ä¸€è¡Œå¦‚æœå•¥éƒ½æ²¡å†™çš„è¯ï¼Œå°±è·Ÿä¸Šä¸€è¡Œä¸€æ ·ã€‚</span><br><span class="line">å·¦ç§»&lt;&lt;n ç›¸å½“äº*ï¼ˆ<span class="number">2</span>^nï¼‰</span><br><span class="line">fmt.Printf() ä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œéœ€è¦\n</span><br><span class="line">fmt.Println() ä¼šè‡ªåŠ¨æ¢è¡Œ</span><br><span class="line">&amp;æŒ‰ä½ä¸</span><br><span class="line">|æŒ‰ä½æˆ–</span><br><span class="line">^æŒ‰ä½å¼‚æˆ–ï¼Œä¸åŒä¸º<span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> ptr *<span class="keyword">int</span> å®šä¹‰æŒ‡é’ˆå˜é‡</span><br><span class="line">ptr=&amp;a  </span><br><span class="line">ç–‘é—®ï¼šå¼•ç”¨ç±»å‹å’ŒæŒ‡é’ˆç±»å‹ï¼ŸåŒºåˆ«åœ¨å“ª</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å¾ªç¯æ§åˆ¶è¯­å¥å¤šä¸€ä¸ªï¼š</span><br><span class="line"><span class="keyword">goto</span>è¯­å¥ï¼šå°†æ§åˆ¶è½¬ç§»åˆ°è¢«æ ‡è®°çš„è¯­å¥ã€‚</span><br><span class="line"><span class="built_in">len</span>()å‡½æ•°ï¼šè¿”å›è¯¥ç±»å‹é•¿åº¦</span><br><span class="line">å‡½æ•°æ¨¡æ¿ï¼š</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">100</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">200</span></span><br><span class="line">   <span class="keyword">var</span> ret <span class="keyword">int</span></span><br><span class="line">   <span class="comment">/* è°ƒç”¨å‡½æ•°å¹¶è¿”å›æœ€å¤§å€¼ */</span></span><br><span class="line">   ret = max(a, b)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;æœ€å¤§å€¼æ˜¯ : %d\n&quot;</span>, ret )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* å‡½æ•°è¿”å›ä¸¤ä¸ªæ•°çš„æœ€å¤§å€¼ */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(num1, num2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">   <span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> result <span class="keyword">int</span></span><br><span class="line">   <span class="keyword">if</span> (num1 &gt; num2) &#123;</span><br><span class="line">      result = num1</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result = num2</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line">å¤šä¸ªè¿”å›å€¼ï¼š</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a, b := swap(<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>)</span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">æŒ‡é’ˆå’Œå¼•ç”¨çš„ç†è§£ï¼š</span><br><span class="line">c++ä¸­ï¼š*è§£å¼•ç”¨ &amp;å–åœ°å€</span><br><span class="line"><span class="keyword">int</span> a,b,*p=&amp;a,&amp;r=a;<span class="comment">//æ­£ç¡®</span></span><br><span class="line">r=<span class="number">3</span>;<span class="comment">//æ­£ç¡®ï¼šç­‰ä»·äºa=3</span></span><br><span class="line"><span class="keyword">int</span> &amp;rr;<span class="comment">//å‡ºé”™ï¼šå¼•ç”¨å¿…é¡»åˆå§‹åŒ–</span></span><br><span class="line">p=&amp;a;<span class="comment">//æ­£ç¡®ï¼špä¸­å­˜å‚¨açš„åœ°å€ï¼Œå³pæŒ‡å‘a</span></span><br><span class="line">*p=<span class="number">4</span>;<span class="comment">//æ­£ç¡®ï¼špä¸­å­˜çš„æ˜¯açš„åœ°å€ï¼Œå¯¹aæ‰€å¯¹åº”çš„å­˜å‚¨ç©ºé—´å­˜å…¥å€¼4</span></span><br><span class="line">p=&amp;b<span class="comment">//æ­£ç¡®ï¼špå¯ä»¥å¤šæ¬¡èµ‹å€¼ï¼Œpå­˜å‚¨bçš„åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span>ä¸­ï¼š</span><br><span class="line">æœ‰çš„å˜é‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œè€Œä¸æ˜¯å«å˜é‡çš„åˆ«åã€‚æŒ‡é’ˆå¯ä»¥èµ‹å€¼ç»™å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨ç±»å‹å¯ä»¥çœ‹åšæ˜¯å¯¹æŒ‡é’ˆçš„å°è£…ã€‚</span><br><span class="line">æŒ‡é’ˆå˜é‡æŒ‡å‘ä¸€ä¸ªå€¼çš„å†…å­˜åœ°å€ã€‚</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€ä¸­çš„å€¼ç±»å‹ï¼š</span><br><span class="line">ã€€ã€€<span class="keyword">int</span>ã€floatã€<span class="keyword">bool</span>ã€arrayã€sturctç­‰</span><br><span class="line">ã€€ã€€å€¼ä¼ é€’æ˜¯æŒ‡åœ¨è°ƒç”¨å‡½æ•°æ—¶å°†å®é™…å‚æ•°å¤åˆ¶ä¸€ä»½ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œè¿™æ ·åœ¨å‡½æ•°ä¸­å¦‚æœå¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œå°†ä¸ä¼šå½±å“åˆ°å®é™…å‚æ•°</span><br><span class="line">ã€€ã€€å£°æ˜ä¸€ä¸ªå€¼ç±»å‹å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨æ ˆä¸­åˆ†é…ä¸€ä¸ªç©ºé—´ï¼Œç©ºé—´é‡Œå­˜å‚¨çš„å°±æ˜¯è¯¥å˜é‡çš„å€¼ã€€ã€€ã€€ã€€</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€ä¸­çš„å¼•ç”¨ç±»å‹ï¼š</span><br><span class="line">ã€€ã€€sliceï¼Œ<span class="keyword">map</span>ï¼Œchannelï¼Œ<span class="keyword">interface</span>ï¼Œ<span class="function"><span class="keyword">func</span>ï¼Œ<span class="title">string</span>ç­‰</span></span><br><span class="line">ã€€ã€€å£°æ˜ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œç¼–è¯‘å™¨ä¼šæŠŠå®ä¾‹çš„å†…å­˜åˆ†é…åœ¨å †ä¸Š</span><br><span class="line">ã€€ã€€<span class="keyword">string</span>å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ˜¯å¼•ç”¨ç±»å‹ï¼Œ<span class="keyword">string</span>çš„åº•å±‚å®ç°<span class="keyword">struct</span> String &#123; <span class="keyword">byte</span>* str; intgo <span class="built_in">len</span>; &#125;; ä½†æ˜¯å› ä¸º<span class="keyword">string</span>ä¸å…è®¸ä¿®æ”¹ï¼Œæ¯æ¬¡æ“ä½œ<span class="keyword">string</span>åªèƒ½ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨çœ‹èµ·æ¥ä½¿ç”¨æ—¶åƒå€¼ç±»å‹ã€‚</span><br><span class="line">ã€€ã€€æ‰€è°“å¼•ç”¨ä¼ é€’æ˜¯æŒ‡åœ¨è°ƒç”¨å‡½æ•°æ—¶å°†å®é™…å‚æ•°çš„åœ°å€ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°ä¸­å¯¹å‚æ•°æ‰€è¿›è¡Œçš„ä¿®æ”¹ï¼Œå°†å½±å“åˆ°å®é™…å‚æ•°ã€‚</span><br><span class="line">ã€€ã€€éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¼•ç”¨ç±»å‹åœ¨å‡½æ•°çš„å†…éƒ¨å¯ä»¥å¯¹å®ƒçš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯å¦‚æœç»™å½¢å‚é‡æ–°èµ‹å€¼ï¼Œé‡æ–°èµ‹å€¼åçš„å½¢å‚å†æ€ä¹ˆä¿®æ”¹éƒ½ä¸ä¼šå½±å“å¤–é¢çš„å®å‚äº†</span><br><span class="line">ã€€ã€€<span class="literal">nil</span>å¯ä»¥èµ‹å€¼ç»™å¼•ç”¨ç±»å‹ï¼ˆé™¤<span class="keyword">string</span>å¤–ï¼‰ã€errorç±»å‹å’ŒæŒ‡é’ˆç±»å‹</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€ä¸­çš„æŒ‡é’ˆç±»å‹ï¼š</span><br><span class="line">ã€€ã€€ä¸€ä¸ªæŒ‡é’ˆå˜é‡æŒ‡å‘äº†ä¸€ä¸ªå€¼çš„å†…å­˜åœ°å€</span><br><span class="line"> ã€€ å½“ä¸€ä¸ªæŒ‡é’ˆè¢«å®šä¹‰åæ²¡æœ‰åˆ†é…åˆ°ä»»ä½•å˜é‡æ—¶ï¼Œå®ƒçš„å€¼ä¸º <span class="literal">nil</span>ã€‚<span class="literal">nil</span> æŒ‡é’ˆä¹Ÿç§°ä¸ºç©ºæŒ‡é’ˆ</span><br><span class="line">ã€€ã€€ä¸€ä¸ªæŒ‡é’ˆå˜é‡é€šå¸¸ç¼©å†™ä¸º ptr</span><br><span class="line">ã€€ã€€å…¶å®å¼•ç”¨ç±»å‹å¯ä»¥çœ‹ä½œå¯¹æŒ‡é’ˆçš„å°è£…</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">PS.<span class="keyword">go</span>å’ŒC++ä¸­æŒ‡é’ˆçš„åŒºåˆ«ï¼š</span><br><span class="line">æŒ‡é’ˆæ˜¯ç”¨æ¥æŒ‡å‘ä»»ä½•ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€çš„ç±»å‹å˜é‡ï¼Œå®ƒæ‰€æŒ‡å‘çš„å˜é‡çš„å†…å­˜åœ°å€åœ¨ <span class="number">32</span> å’Œ <span class="number">64</span> ä½æœºå™¨ä¸Šåˆ†åˆ«å ç”¨ <span class="number">4</span> æˆ–è€… <span class="number">8</span> ä¸ªå­—èŠ‚ï¼Œå ç”¨å­—èŠ‚çš„å¤§å°ä¸æ‰€æŒ‡å‘çš„å€¼çš„å¤§å°æ— å…³ã€‚</span><br><span class="line"><span class="number">1.</span>ç”¨æ³•ä¸åŒï¼š</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">1</span> <span class="comment">// ä¸€ä¸ªæ•´å‹å˜é‡a</span></span><br><span class="line">    <span class="keyword">var</span> b <span class="keyword">string</span> = <span class="string">&quot;abcdefg&quot;</span> <span class="comment">// ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡b</span></span><br><span class="line">    ptr:=&amp;b</span><br><span class="line">    <span class="comment">// æ‰“å°ptrçš„ç±»å‹</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;ptr type: %T\n&quot;</span>, ptr)</span><br><span class="line">    <span class="comment">// æ‰“å°ptrçš„åœ°å€</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;address: %p\n&quot;</span>, ptr)</span><br><span class="line">    <span class="comment">//å¯¹æŒ‡é’ˆè¿›è¡Œå–å€¼</span></span><br><span class="line">    valueï¼š=*ptr</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%p %p&quot;</span>, &amp;a, &amp;b) <span class="comment">// åˆ†åˆ«è¾“å‡ºaå’Œbçš„åœ°å€</span></span><br><span class="line">&#125;</span><br><span class="line">--</span><br><span class="line"><span class="keyword">int</span> main() &#123;</span><br><span class="line">    <span class="keyword">int</span> a  = <span class="number">1</span>; <span class="comment">// ä¸€ä¸ªæ•´å‹å˜é‡a</span></span><br><span class="line">    <span class="keyword">string</span> b  = <span class="string">&quot;abcdefg&quot;</span>; <span class="comment">// ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡b</span></span><br><span class="line">    cout&lt;&lt; &amp;a &lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt; &amp;b &lt;&lt;endl; <span class="comment">// åˆ†åˆ«è¾“å‡ºaå’Œbçš„åœ°å€</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2.</span>C++è¯­è¨€ä¸­å¯ä»¥ç›´æ¥å¯¹æŒ‡é’ˆåšç®—æœ¯è¿ç®—ï¼ˆ+ã€-ã€++ã€--ï¼‰ï¼Œä½†æ˜¯Golangä¸­æ˜¯ä¸è¡Œçš„ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¼•ç”¨ä¼ é€’</span><br><span class="line">/* å®šä¹‰äº¤æ¢å€¼å‡½æ•°*/</span><br><span class="line">func swap(x *int, y *int) &#123;</span><br><span class="line">   var temp int</span><br><span class="line">   temp = *x    /* ä¿æŒ x åœ°å€ä¸Šçš„å€¼ */</span><br><span class="line">   *x = *y      /* å°† y å€¼èµ‹ç»™ x */</span><br><span class="line">   *y = temp    /* å°† temp å€¼èµ‹ç»™ y */</span><br><span class="line">&#125;</span><br><span class="line">swap(&amp;a,&amp;b)</span><br><span class="line">å’ŒæŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ä¸€æ¨¡ä¸€æ ·ï¼Œä¸€ä¸ªæ›´ç®€æ´çš„ï¼š</span><br><span class="line">func swap(x *int, y *int)&#123;</span><br><span class="line">    *x, *y = *y, *x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>å‡½æ•°ç”¨æ³•ï¼š</span><br><span class="line"><span class="number">1.</span>å¯ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å®å‚</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">/* å£°æ˜å‡½æ•°å˜é‡ */</span></span><br><span class="line">   getSquareRoot := <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">      <span class="keyword">return</span> math.Sqrt(x)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/* ä½¿ç”¨å‡½æ•° */</span></span><br><span class="line">   fmt.Println(getSquareRoot(<span class="number">9</span>))</span><br><span class="line">&#125;</span><br><span class="line">æ„Ÿè§‰åƒæ˜¯åœ¨mainå‡½æ•°ä¸­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨ï¼Œä¸éœ€è¦å†mainå‡½æ•°å¤–å®šä¹‰ã€‚åƒæ˜¯å®šä¹‰ä¸€ä¸ªå˜é‡ä¸€æ ·ã€‚</span><br><span class="line"><span class="number">2.</span>åŒ¿åå‡½æ•°ï¼Œå¯ä½œä¸ºé—­åŒ…ã€‚</span><br><span class="line">å†…è”åœ¨å‡½æ•°ä¸­ï¼Œä¼˜è¶Šæ€§åœ¨äºå¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°å†…çš„å˜é‡ï¼Œä¸å¿…å£°æ˜ã€‚</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSequence</span><span class="params">()</span> <span class="title">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">   i:=<span class="number">0</span></span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">      i+=<span class="number">1</span></span><br><span class="line">     <span class="keyword">return</span> i  </span><br><span class="line">   &#125;</span><br><span class="line">&#125;  <span class="comment">//è¿”å›ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">/* nextNumber ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•° i ä¸º 0 */</span></span><br><span class="line">   nextNumber := getSequence()  </span><br><span class="line">   <span class="comment">/* è°ƒç”¨ nextNumber å‡½æ•°ï¼Œi å˜é‡è‡ªå¢ 1 å¹¶è¿”å› */</span></span><br><span class="line">   fmt.Println(nextNumber())</span><br><span class="line">   fmt.Println(nextNumber())</span><br><span class="line">   fmt.Println(nextNumber())</span><br><span class="line">   <span class="comment">/* åˆ›å»ºæ–°çš„å‡½æ•° nextNumber1ï¼Œå¹¶æŸ¥çœ‹ç»“æœ */</span></span><br><span class="line">   nextNumber1 := getSequence()  </span><br><span class="line">   fmt.Println(nextNumber1())</span><br><span class="line">   fmt.Println(nextNumber1())</span><br><span class="line">&#125;</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">åƒæ˜¯ç»™å˜é‡å–åˆ«åï¼Œä¸¤æ¬¡ä½¿ç”¨æ˜¯ç‹¬ç«‹çš„ã€‚</span><br><span class="line"><span class="number">3.</span>å‡½æ•°æ–¹æ³•</span><br><span class="line">Go è¯­è¨€ä¸­åŒæ—¶æœ‰å‡½æ•°å’Œæ–¹æ³•ã€‚ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†æ¥å—è€…çš„å‡½æ•°ï¼Œæ¥å—è€…å¯ä»¥æ˜¯å‘½åç±»å‹æˆ–è€…ç»“æ„ä½“ç±»å‹çš„ä¸€ä¸ªå€¼æˆ–è€…æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚æ‰€æœ‰ç»™å®šç±»å‹çš„æ–¹æ³•å±äºè¯¥ç±»å‹çš„æ–¹æ³•é›†ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(variable_name variable_data_type)</span> <span class="title">function_name</span><span class="params">()</span> [<span class="title">return_type</span>]</span>&#123;</span><br><span class="line">   <span class="comment">/* å‡½æ•°ä½“*/</span></span><br><span class="line">&#125;</span><br><span class="line">--</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">)</span><br><span class="line"><span class="comment">/* å®šä¹‰ç»“æ„ä½“ */</span></span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">  radius <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">var</span> c1 Circle</span><br><span class="line">  c1.radius = <span class="number">10.00</span></span><br><span class="line">  fmt.Println(<span class="string">&quot;åœ†çš„é¢ç§¯ = &quot;</span>, c1.getArea())</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¯¥ method å±äº Circle ç±»å‹å¯¹è±¡ä¸­çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span> <span class="title">getArea</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="comment">//c.radius å³ä¸º Circle ç±»å‹å¯¹è±¡ä¸­çš„å±æ€§</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">3.14</span> * c.radius * c.radius</span><br><span class="line">&#125;</span><br><span class="line">æ„Ÿè§‰æŠŠæœ¬æ¥åº”è¯¥åœ¨å‡½æ•°ååé¢æ‹¬å·ä¸­çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¦ä¼ è¿›å»çš„å˜é‡æ”¾åœ¨äº†<span class="function"><span class="keyword">func</span>åçš„æ‹¬å·ä¸­ã€‚</span></span><br><span class="line">ç„¶åä½¿ç”¨çš„æ—¶å€™åƒæ˜¯ä½¿ç”¨c++ä¸­ç±»çš„ä¸€ä¸ªæ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>å˜é‡ä½œç”¨åŸŸï¼š</span><br><span class="line">Go è¯­è¨€ä¸­å˜é‡å¯ä»¥åœ¨ä¸‰ä¸ªåœ°æ–¹å£°æ˜ï¼š</span><br><span class="line">å‡½æ•°å†…å®šä¹‰çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬mainå‡½æ•°ï¼‰</span><br><span class="line">å‡½æ•°å¤–å®šä¹‰çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡</span><br><span class="line">å‡½æ•°å®šä¹‰ä¸­çš„å˜é‡ç§°ä¸ºå½¢å¼å‚æ•°</span><br><span class="line">Go è¯­è¨€ç¨‹åºä¸­å…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡åç§°å¯ä»¥ç›¸åŒï¼Œä½†æ˜¯å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ä¼šè¢«ä¼˜å…ˆè€ƒè™‘ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>æ•°ç»„</span><br><span class="line">val nums [<span class="number">10</span>] <span class="keyword">int</span></span><br><span class="line">val nums=[<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">nums:=[<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">val nums=[...]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">nums:=[<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">0</span>:<span class="number">1</span>,<span class="number">3</span>:<span class="number">3</span>&#125; <span class="comment">//åªä¿®æ”¹éƒ¨åˆ†</span></span><br><span class="line">nums[<span class="number">0</span>]</span><br><span class="line">å¤šç»´æ•°ç»„ï¼š</span><br><span class="line">nums:=[][]<span class="keyword">int</span>&#123;&#125;  <span class="comment">//åˆ›å»º</span></span><br><span class="line">row1:=[]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">row2:=[]<span class="keyword">int</span>&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line">nums=<span class="built_in">append</span>(nums,row1) <span class="comment">//æ·»åŠ ä¸€è¡Œ</span></span><br><span class="line">fmt.Println(nums[<span class="number">0</span>])  <span class="comment">//è¾“å‡ºä¸€è¡Œï¼Œæœ‰åˆ«äºc++</span></span><br><span class="line">ä¹Ÿå¯ä»¥ç›´æ¥è¾“å‡ºäºŒç»´æ•°ç»„nums</span><br><span class="line">åˆå§‹åŒ–äºŒç»´æ•°ç»„ï¼š</span><br><span class="line">a := [<span class="number">3</span>][<span class="number">4</span>]<span class="keyword">int</span>&#123;  </span><br><span class="line"> &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; ,   </span><br><span class="line"> &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125; ,   </span><br><span class="line"> &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125;,  </span><br><span class="line">&#125;  <span class="comment">//æœ€åæˆ–è€…&#125;&#125;  ä¹Ÿå¯ä»¥å†™åœ¨ä¸€è¡Œ2</span></span><br><span class="line">ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ï¼š</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">name</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€ç»“æ„ä½“</span><br><span class="line">ç»“æ„ä½“æ˜¯ç”±ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒç±»å‹æˆ–ä¸åŒç±»å‹çš„æ•°æ®æ„æˆçš„æ•°æ®é›†åˆã€‚</span><br><span class="line">ç»“æ„ä½“å®šä¹‰éœ€è¦ä½¿ç”¨ <span class="keyword">type</span> å’Œ <span class="keyword">struct</span> è¯­å¥ã€‚<span class="keyword">struct</span> è¯­å¥å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç»“æ„ä½“ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ã€‚<span class="keyword">type</span> è¯­å¥è®¾å®šäº†ç»“æ„ä½“çš„åç§°ã€‚ç»“æ„ä½“çš„æ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">   title <span class="keyword">string</span></span><br><span class="line">   author <span class="keyword">string</span></span><br><span class="line">   subject <span class="keyword">string</span></span><br><span class="line">   book_id <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æ„ä½“</span></span><br><span class="line">    fmt.Println(Books&#123;<span class="string">&quot;Go è¯­è¨€&quot;</span>, <span class="string">&quot;www.runoob.com&quot;</span>, <span class="string">&quot;Go è¯­è¨€æ•™ç¨‹&quot;</span>, <span class="number">6495407</span>&#125;)</span><br><span class="line">    <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨ key =&gt; value æ ¼å¼</span></span><br><span class="line">    fmt.Println(Books&#123;title: <span class="string">&quot;Go è¯­è¨€&quot;</span>, author: <span class="string">&quot;www.runoob.com&quot;</span>, subject: <span class="string">&quot;Go è¯­è¨€æ•™ç¨‹&quot;</span>, book_id: <span class="number">6495407</span>&#125;)</span><br><span class="line">    <span class="comment">// å¿½ç•¥çš„å­—æ®µä¸º 0 æˆ– ç©º</span></span><br><span class="line">   fmt.Println(Books&#123;title: <span class="string">&quot;Go è¯­è¨€&quot;</span>, author: <span class="string">&quot;www.runoob.com&quot;</span>&#125;)</span><br><span class="line">&#125;</span><br><span class="line">å®šä¹‰ç»“æ„ä½“å˜é‡ï¼š</span><br><span class="line"><span class="keyword">var</span> BOOK1 Books</span><br><span class="line">è®¿é—®ç»“æ„ä½“æˆå‘˜ï¼š</span><br><span class="line">BOOK1.title=<span class="string">&quot;go&quot;</span></span><br><span class="line">ç»“æ„ä½“ä½œä¸ºå‡½æ•°å‚æ•°ï¼š</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printBook</span><span class="params">( book Books )</span></span> &#123;</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book title : %s\n&quot;</span>, book.title)</span><br><span class="line">&#125;</span><br><span class="line">è°ƒç”¨å‡½æ•°ï¼š</span><br><span class="line"><span class="keyword">var</span> Book1 Books </span><br><span class="line">å†è®¿é—®ç»“æ„ä½“æˆå‘˜è¿›è¡Œèµ‹å€¼</span><br><span class="line">printBook(Book1)</span><br><span class="line">ç»“æ„ä½“æŒ‡é’ˆï¼š</span><br><span class="line"><span class="keyword">var</span> struct_pointer *Books</span><br><span class="line">struct_pointer = &amp;Book1</span><br><span class="line">ä½¿ç”¨ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ç»“æ„ä½“æˆå‘˜ï¼š</span><br><span class="line">struct_pointer.title</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€åˆ‡ç‰‡</span><br><span class="line">Go è¯­è¨€åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„æŠ½è±¡ã€‚</span><br><span class="line">Go æ•°ç»„çš„é•¿åº¦ä¸å¯æ”¹å˜ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸­è¿™æ ·çš„é›†åˆå°±ä¸å¤ªé€‚ç”¨ï¼ŒGo ä¸­æä¾›äº†ä¸€ç§çµæ´»ï¼ŒåŠŸèƒ½å¼ºæ‚çš„å†…ç½®ç±»å‹åˆ‡ç‰‡(<span class="string">&quot;åŠ¨æ€æ•°ç»„&quot;</span>)ï¼Œä¸æ•°ç»„ç›¸æ¯”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥è¿½åŠ å…ƒç´ ï¼Œåœ¨è¿½åŠ æ—¶å¯èƒ½ä½¿åˆ‡ç‰‡çš„å®¹é‡å¢å¤§ã€‚</span><br><span class="line">æ•°ç»„ï¼š</span><br><span class="line">val nums=[<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">nums:=[<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">å®šä¹‰åˆ‡ç‰‡ï¼š</span><br><span class="line">å¯é€šè¿‡æœªæŒ‡å®šå¤§å°çš„æ•°ç»„æ¥å®šä¹‰åˆ‡ç‰‡ï¼š</span><br><span class="line"><span class="keyword">var</span> s []<span class="keyword">int</span></span><br><span class="line">æˆ–ä½¿ç”¨<span class="built_in">make</span>()å‡½æ•°æ¥åˆ›å»ºåˆ‡ç‰‡ï¼š</span><br><span class="line"><span class="keyword">var</span> s []<span class="keyword">int</span>=<span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>,<span class="built_in">cap</span>)</span><br><span class="line">s:=<span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>,<span class="built_in">cap</span>)</span><br><span class="line">å®¹é‡<span class="built_in">cap</span>ä¸ºå¯é€‰å‚æ•°</span><br><span class="line">å®šä¹‰+åˆå§‹åŒ–åˆ‡ç‰‡ï¼š</span><br><span class="line">s:=[]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">s:=arr[:] <span class="comment">//arrä¸ºæ•°ç»„</span></span><br><span class="line">s:=arr[startIndex:endIndex]</span><br><span class="line">åˆ‡ç‰‡æ˜¯å¯ç´¢å¼•çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”± <span class="built_in">len</span>() æ–¹æ³•è·å–é•¿åº¦ã€‚</span><br><span class="line">åˆ‡ç‰‡æä¾›äº†è®¡ç®—å®¹é‡çš„æ–¹æ³• <span class="built_in">cap</span>() å¯ä»¥æµ‹é‡åˆ‡ç‰‡æœ€é•¿å¯ä»¥è¾¾åˆ°å¤šå°‘ã€‚</span><br><span class="line">æ³¨ï¼šåˆ‡ç‰‡<span class="built_in">make</span>æŒ‡å®š<span class="built_in">len</span>å’Œ<span class="built_in">cap</span>æ¡ä»¶ä¸‹ï¼Œåªå®šä¹‰æ²¡åˆå§‹åŒ–çš„è¯ï¼Œ<span class="built_in">len</span>é•¿åº¦çš„æ•°åˆå§‹åŒ–ä¸º<span class="number">0</span>ï¼Œè€Œ<span class="built_in">len</span>ä¹‹å¤–<span class="built_in">cap</span>ä¹‹å†…è¿˜æ²¡æœ‰æ•°ã€‚è€Œåªæ˜¯å®šä¹‰çš„è¯ï¼Œ<span class="built_in">len</span>=<span class="number">0</span>ï¼Œ<span class="built_in">cap</span>=<span class="number">0</span></span><br><span class="line">ä¸€ä¸ªåˆ‡ç‰‡æœªåˆå§‹åŒ–ä¹‹å‰ï¼ˆ<span class="keyword">var</span> s[]<span class="keyword">int</span>ï¼‰é»˜è®¤<span class="literal">nil</span>ï¼Œé•¿åº¦ä¸º<span class="number">0</span></span><br><span class="line">åˆ‡ç‰‡å¯é€šè¿‡è®¾ç½®ä¸Šä¸‹é™æ¥æˆªå–åˆ‡ç‰‡,å·¦é—­å³å¼€çš„</span><br><span class="line">s[<span class="number">0</span>:<span class="built_in">len</span>(s)] å…¨éƒ¨</span><br><span class="line">s[<span class="number">1</span>:] é™¤äº†<span class="number">0</span></span><br><span class="line">å¦‚æœæƒ³å¢åŠ åˆ‡ç‰‡çš„å®¹é‡ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„æ›´å¤§çš„åˆ‡ç‰‡å¹¶æŠŠåŸåˆ†ç‰‡çš„å†…å®¹éƒ½æ‹·è´è¿‡æ¥ã€‚</span><br><span class="line"><span class="built_in">append</span>()å‡½æ•°ï¼šå¢åŠ åˆ‡ç‰‡å†…å®¹ï¼š</span><br><span class="line"><span class="keyword">var</span> s[]<span class="keyword">int</span></span><br><span class="line">s=<span class="built_in">append</span>(s,<span class="number">0</span>,<span class="number">1</span>)  å¯ä¸€æ¬¡å¢åŠ å¤šä¸ªå†…å®¹</span><br><span class="line">åˆ›å»ºå¦ä¸€ä¸ªåˆ‡ç‰‡</span><br><span class="line">s1:=<span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>(s),(<span class="built_in">cap</span>(s))*<span class="number">2</span>)</span><br><span class="line">æ‹·è´sçš„å†…å®¹åˆ°s1</span><br><span class="line"><span class="built_in">copy</span>(s1,s)</span><br><span class="line">ç–‘é—®ï¼š<span class="keyword">go</span>è¯­è¨€ä¸­æ•°ç»„å’Œåˆ‡ç‰‡çš„å®šä¹‰æ²¡æœ‰æ˜ç¡®çš„åŒºåˆ«ï¼Ÿè¿˜æ˜¯è¯´[]ä¸­æŒ‡å®šå¤§å°å°±æ˜¯æ•°ç»„ï¼Œ[]ä¸­æ— æ•°å°±æ˜¯åˆ‡ç‰‡ï¼Ÿ</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€èŒƒå›´<span class="keyword">range</span>ï¼š</span><br><span class="line">Go è¯­è¨€ä¸­ <span class="keyword">range</span> å…³é”®å­—ç”¨äº <span class="keyword">for</span> å¾ªç¯ä¸­è¿­ä»£æ•°ç»„(array)ã€åˆ‡ç‰‡(slice)ã€é€šé“(channel)æˆ–é›†åˆ(<span class="keyword">map</span>)çš„å…ƒç´ ã€‚åœ¨æ•°ç»„å’Œåˆ‡ç‰‡ä¸­å®ƒè¿”å›å…ƒç´ çš„ç´¢å¼•å’Œç´¢å¼•å¯¹åº”çš„å€¼ï¼Œåœ¨é›†åˆä¸­è¿”å› key-value å¯¹ã€‚</span><br><span class="line"><span class="keyword">for</span> _,num:=<span class="keyword">range</span> nums&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i,num:=<span class="keyword">range</span> nums&#123;&#125;</span><br><span class="line">kvs := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;banana&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s -&gt; %s\n&quot;</span>, k, v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//rangeä¹Ÿå¯ä»¥ç”¨æ¥æšä¸¾Unicodeå­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦çš„ç´¢å¼•ï¼Œç¬¬äºŒä¸ªæ˜¯å­—ç¬¦ï¼ˆUnicodeçš„å€¼ï¼‰æœ¬èº«ã€‚</span></span><br><span class="line"><span class="keyword">for</span> i, c := <span class="keyword">range</span> <span class="string">&quot;go&quot;</span> &#123;</span><br><span class="line">    fmt.Println(i, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Map æ˜¯ä¸€ç§æ— åºçš„é”®å€¼å¯¹çš„é›†åˆã€‚Map æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ key æ¥å¿«é€Ÿæ£€ç´¢æ•°æ®ï¼Œkey ç±»ä¼¼äºç´¢å¼•ï¼ŒæŒ‡å‘æ•°æ®çš„å€¼ã€‚</span><br><span class="line">Map æ˜¯ä¸€ç§é›†åˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åƒè¿­ä»£æ•°ç»„å’Œåˆ‡ç‰‡é‚£æ ·è¿­ä»£å®ƒã€‚ä¸è¿‡ï¼ŒMap æ˜¯æ— åºçš„ï¼Œæˆ‘ä»¬æ— æ³•å†³å®šå®ƒçš„è¿”å›é¡ºåºï¼Œè¿™æ˜¯å› ä¸º Map æ˜¯ä½¿ç”¨ hash è¡¨æ¥å®ç°çš„ã€‚</span><br><span class="line">å¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•° <span class="built_in">make</span> ä¹Ÿå¯ä»¥ä½¿ç”¨ <span class="keyword">map</span> å…³é”®å­—æ¥å®šä¹‰ Map:</span><br><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span> <span class="comment">//å£°æ˜å˜é‡ï¼Œé»˜è®¤mapæ˜¯nil</span></span><br><span class="line">m=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>) <span class="comment">//å¦‚æœä¸åˆå§‹åŒ–ï¼Œnilä¸èƒ½å­˜æ”¾é”®å€¼å¯¹</span></span><br><span class="line">æˆ–è€…ï¼š</span><br><span class="line">m:=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>)</span><br><span class="line">m[<span class="number">1</span>]=<span class="string">&quot;liu&quot;</span> <span class="comment">//æ’å…¥é”®å€¼å¯¹</span></span><br><span class="line"><span class="keyword">for</span> i,s:=<span class="keyword">range</span> m&#123;  <span class="comment">//å¦‚æœ:å‰åªæœ‰ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆå°±key</span></span><br><span class="line">  fmt.Println(<span class="string">&quot;key:&quot;</span>,i,<span class="string">&quot;value:&quot;</span>,s)</span><br><span class="line">&#125;</span><br><span class="line">æŸ¥çœ‹æŸä¸ªé”®iæ˜¯ä¸æ˜¯å­˜åœ¨å€¼</span><br><span class="line">s,ok:=m[i]</span><br><span class="line"><span class="keyword">if</span>(ok)&#123;å­˜åœ¨ï¼Œæ˜¯s&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;ä¸å­˜åœ¨&#125;</span><br><span class="line"><span class="built_in">delete</span>()åˆ é™¤å…ƒç´ ï¼šå‚æ•°æ˜¯åŸ<span class="keyword">map</span>å’Œè¦åˆ é™¤çš„key</span><br><span class="line"><span class="built_in">delete</span>(m,i)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€æ”¯æŒé€’å½’å‡½æ•°</span><br><span class="line"><span class="keyword">go</span>è¯­è¨€ç±»å‹è½¬æ¢,<span class="keyword">go</span>ä¸æ”¯æŒéšè¯•è½¬æ¢ç±»å‹</span><br><span class="line"><span class="keyword">var</span> i <span class="keyword">int</span>=<span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> f <span class="keyword">float32</span>=<span class="keyword">float32</span>(i)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>è¯­è¨€æ¥å£</span><br><span class="line">Go è¯­è¨€æä¾›äº†å¦å¤–ä¸€ç§æ•°æ®ç±»å‹å³æ¥å£ï¼Œå®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚</span><br><span class="line">æ€è€ƒï¼šæœ‰ç‚¹ç±»ä¼¼C++çš„å¤šæ€ï¼Œåœ¨æ¥å£ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¹‹åä¼šç»™å‡ºä¸åŒçš„å®ç°æ–¹å¼ã€‚å‘å†…ä¼ å…¥çš„å˜é‡ä¸åŒï¼Œæ–¹æ³•çš„å…·ä½“å®ç°ä¹Ÿä¸åŒã€‚</span><br><span class="line">æ¥å£å†…çš„æ–¹æ³•å¯ä»¥å¤šä¸ªï¼Œä¼ å…¥çš„éƒ½æ˜¯ç»“æ„ä½“å˜é‡ï¼Ÿæ ¹æ®ä¼ å…¥çš„ç»“æ„ä½“å˜é‡ç±»å‹å†³å®šé‡‡ç”¨å“ªä¸ªæ–¹æ³•ã€‚ä¸åŒæ–¹æ³•çš„è¾“å‡ºå¯ä»¥ä¸ä¸€æ ·ï¼Ÿæ¯ä¸€ç§æ–¹æ³•æ ¹æ®è¾“å…¥æœ‰å¾ˆå¤šç§å®ç°ï¼Ÿ</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (<span class="string">&quot;fmt&quot;</span>)</span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">interface</span> &#123;</span><br><span class="line">    call()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;I am Nokia, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span> <span class="title">call</span><span class="params">()</span></span> &#123;   <span class="comment">//å®ç°erroræ¥å£è·Ÿå‡½æ•°æ–¹æ³•ä¸€æ ·ï¼Ÿ</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;I am iPhone, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> phone Phone  <span class="comment">//å®šä¹‰æ¥å£å˜é‡</span></span><br><span class="line">    phone = <span class="built_in">new</span>(NokiaPhone)  <span class="comment">//ä¸ºæ¥å£å˜é‡èµ‹å€¼ï¼Œçœ‹æ–¹æ³•çš„å®ç°ä¸­è¦ä¼ å…¥ä»€ä¹ˆå˜é‡</span></span><br><span class="line">    phone.call()  <span class="comment">//è·Ÿå‡½æ•°æ–¹æ³•ä¸€æ ·çš„å®ç°</span></span><br><span class="line">    phone = <span class="built_in">new</span>(IPhone)</span><br><span class="line">    phone.call()</span><br><span class="line">&#125;</span><br><span class="line">åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¥å£Phoneï¼Œæ¥å£é‡Œé¢æœ‰ä¸€ä¸ªæ–¹æ³•call()ã€‚ç„¶åæˆ‘ä»¬åœ¨mainå‡½æ•°é‡Œé¢å®šä¹‰äº†ä¸€ä¸ªPhoneç±»å‹å˜é‡ï¼Œå¹¶åˆ†åˆ«ä¸ºä¹‹èµ‹å€¼ä¸ºNokiaPhoneå’ŒIPhoneã€‚ç„¶åè°ƒç”¨call()æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>é”™è¯¯å¤„ç†</span><br><span class="line">Go è¯­è¨€é€šè¿‡å†…ç½®çš„é”™è¯¯æ¥å£æä¾›äº†éå¸¸ç®€å•çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</span><br><span class="line">errorç±»å‹æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œè¿™æ˜¯å®ƒçš„å®šä¹‰ï¼š</span><br><span class="line"><span class="keyword">type</span> error <span class="keyword">interface</span> &#123;</span><br><span class="line">    Error() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line">æˆ‘ä»¬å¯ä»¥åœ¨ç¼–ç ä¸­é€šè¿‡å®ç° error æ¥å£ç±»å‹æ¥ç”Ÿæˆé”™è¯¯ä¿¡æ¯ã€‚</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (<span class="string">&quot;fmt&quot;</span>)</span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ª DivideError ç»“æ„</span></span><br><span class="line"><span class="keyword">type</span> DivideError <span class="keyword">struct</span> &#123;</span><br><span class="line">    dividee <span class="keyword">int</span></span><br><span class="line">    divider <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ç° `error` æ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(de *DivideError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    strFormat := <span class="string">`</span></span><br><span class="line"><span class="string">    Cannot proceed, the divider is zero.</span></span><br><span class="line"><span class="string">    dividee: %d</span></span><br><span class="line"><span class="string">    divider: 0</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(strFormat, de.dividee)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰ `int` ç±»å‹é™¤æ³•è¿ç®—çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Divide</span><span class="params">(varDividee <span class="keyword">int</span>, varDivider <span class="keyword">int</span>)</span> <span class="params">(result <span class="keyword">int</span>, errorMsg <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> varDivider == <span class="number">0</span> &#123;</span><br><span class="line">            dData := DivideError&#123;</span><br><span class="line">                    dividee: varDividee,</span><br><span class="line">                    divider: varDivider,</span><br><span class="line">            &#125;   <span class="comment">//å®šä¹‰ç»“æ„ä½“</span></span><br><span class="line">            errorMsg = dData.Error()  <span class="comment">//ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> varDividee / varDivider, <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// æ­£å¸¸æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> result, errorMsg := Divide(<span class="number">100</span>, <span class="number">10</span>); errorMsg == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;100/10 = &quot;</span>, result)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å½“é™¤æ•°ä¸ºé›¶çš„æ—¶å€™ä¼šè¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> _, errorMsg := Divide(<span class="number">100</span>, <span class="number">0</span>); errorMsg != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;errorMsg is: &quot;</span>, errorMsg)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  <span class="comment">//æ¡ä»¶è¯­å¥</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Go è¯­è¨€æ”¯æŒå¹¶å‘ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ <span class="keyword">go</span> å…³é”®å­—æ¥å¼€å¯ goroutine å³å¯ã€‚</span><br><span class="line">goroutine æ˜¯è½»é‡çº§çº¿ç¨‹ï¼Œgoroutine çš„è°ƒåº¦æ˜¯ç”± Golang è¿è¡Œæ—¶è¿›è¡Œç®¡ç†çš„ã€‚</span><br><span class="line">Go å…è®¸ä½¿ç”¨ <span class="keyword">go</span> è¯­å¥å¼€å¯ä¸€ä¸ªæ–°çš„è¿è¡ŒæœŸçº¿ç¨‹ï¼Œ å³ goroutineï¼Œä»¥ä¸€ä¸ªä¸åŒçš„ã€æ–°åˆ›å»ºçš„ goroutine æ¥æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚ åŒä¸€ä¸ªç¨‹åºä¸­çš„æ‰€æœ‰ goroutine å…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´ã€‚</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(s <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">                time.Sleep(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">                fmt.Println(s)</span><br><span class="line">        &#125;   <span class="comment">//forå¾ªç¯è¯­å¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">go</span> say(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">        say(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;   </span><br><span class="line">è¾“å‡ºçš„helloå’Œworldæ²¡æœ‰å›ºå®šçš„å…ˆåé¡ºåºï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªgoroutineåœ¨æ‰§è¡Œã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">é€šé“channel</span><br><span class="line">é€šé“ï¼ˆchannelï¼‰æ˜¯ç”¨æ¥ä¼ é€’æ•°æ®çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</span><br><span class="line">é€šé“å¯ç”¨äºä¸¤ä¸ª goroutine ä¹‹é—´é€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼æ¥åŒæ­¥è¿è¡Œå’Œé€šè®¯ã€‚æ“ä½œç¬¦ &lt;- ç”¨äºæŒ‡å®šé€šé“çš„æ–¹å‘ï¼Œå‘é€æˆ–æ¥æ”¶ã€‚å¦‚æœæœªæŒ‡å®šæ–¹å‘ï¼Œåˆ™ä¸ºåŒå‘é€šé“ã€‚</span><br><span class="line">ch &lt;- v    <span class="comment">// æŠŠ v å‘é€åˆ°é€šé“ ch</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// ä» ch æ¥æ”¶æ•°æ®</span></span><br><span class="line">           <span class="comment">// å¹¶æŠŠå€¼èµ‹ç»™ v</span></span><br><span class="line">åˆ›å»ºé€šé“ï¼šä½¿ç”¨å‰å¿…é¡»è¦å…ˆåˆ›å»º</span><br><span class="line"><span class="keyword">var</span> ch <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">ch:=<span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(s []<span class="keyword">int</span>, c <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        sum := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> s &#123;</span><br><span class="line">                sum += v</span><br><span class="line">        &#125;</span><br><span class="line">        c &lt;- sum <span class="comment">// æŠŠ sum å‘é€åˆ°é€šé“ c</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        s := []<span class="keyword">int</span>&#123;<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">-9</span>, <span class="number">4</span>, <span class="number">0</span>&#125;</span><br><span class="line">        c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">        <span class="keyword">go</span> sum(s[:<span class="built_in">len</span>(s)/<span class="number">2</span>], c)</span><br><span class="line">        <span class="keyword">go</span> sum(s[<span class="built_in">len</span>(s)/<span class="number">2</span>:], c)</span><br><span class="line">        x, y := &lt;-c, &lt;-c <span class="comment">// ä»é€šé“ c ä¸­æ¥æ”¶</span></span><br><span class="line">        fmt.Println(x, y, x+y)</span><br><span class="line">&#125;</span><br><span class="line">æ€è€ƒï¼šå®ç°äº†ä¸€ä¸ªæ•°ç»„åˆ†ä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«æ±‚å’Œï¼ŒæŠŠç»“æœæ”¾å…¥é€šé“ï¼Œä»ç»“æœæ¥çœ‹ï¼Œé€šé“åƒæ˜¯ä¸€ä¸ªæ ˆï¼Ÿåè¿›å…ˆå‡ºï¼Ÿä¸æ˜¯ï¼Œåº”è¯¥æ˜¯ç”±äºgoroutineæ²¡æœ‰å…ˆåé¡ºåºã€‚æ„Ÿè§‰å®é™…å®ç°çš„æ˜¯å‡½æ•°è¿”å›çš„é—®é¢˜ï¼Œä¸åŠ <span class="keyword">return</span>ï¼ŒæŠŠè¦è¿”å›çš„å€¼æ”¾å…¥é€šé“ä¸­ã€‚è¿™ä¸ªç”¨<span class="keyword">go</span>çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</span><br><span class="line">ç–‘é—®ï¼Œå¦‚æœå‡½æ•°æœ‰è¿”å›å€¼ï¼Œæ€ä¹ˆç”¨<span class="keyword">go</span>ã€‚</span><br><span class="line">é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šé“æ˜¯ä¸å¸¦ç¼“å†²åŒºçš„ã€‚å‘é€ç«¯å‘é€æ•°æ®ï¼ŒåŒæ—¶å¿…é¡»æœ‰æ¥æ”¶ç«¯ç›¸åº”çš„æ¥æ”¶æ•°æ®ã€‚</span><br><span class="line">è®¾ç½®ç¼“å†²åŒºï¼š</span><br><span class="line">ch:=<span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>,<span class="number">100</span>)</span><br><span class="line">å¸¦ç¼“å†²åŒºçš„é€šé“å…è®¸å‘é€ç«¯çš„æ•°æ®å‘é€å’Œæ¥æ”¶ç«¯çš„æ•°æ®è·å–å¤„äºå¼‚æ­¥çŠ¶æ€ï¼Œå°±æ˜¯è¯´å‘é€ç«¯å‘é€çš„æ•°æ®å¯ä»¥æ”¾åœ¨ç¼“å†²åŒºé‡Œé¢ï¼Œå¯ä»¥ç­‰å¾…æ¥æ”¶ç«¯å»è·å–æ•°æ®ï¼Œè€Œä¸æ˜¯ç«‹åˆ»éœ€è¦æ¥æ”¶ç«¯å»è·å–æ•°æ®ã€‚</span><br><span class="line">ä¸è¿‡ç”±äºç¼“å†²åŒºçš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯å¿…é¡»æœ‰æ¥æ”¶ç«¯æ¥æ¥æ”¶æ•°æ®çš„ï¼Œå¦åˆ™ç¼“å†²åŒºä¸€æ»¡ï¼Œæ•°æ®å‘é€ç«¯å°±æ— æ³•å†å‘é€æ•°æ®äº†ã€‚</span><br><span class="line">æ³¨æ„ï¼šå¦‚æœé€šé“ä¸å¸¦ç¼“å†²ï¼Œå‘é€æ–¹ä¼šé˜»å¡ç›´åˆ°æ¥æ”¶æ–¹ä»é€šé“ä¸­æ¥æ”¶äº†å€¼ã€‚å¦‚æœé€šé“å¸¦ç¼“å†²ï¼Œå‘é€æ–¹åˆ™ä¼šé˜»å¡ç›´åˆ°å‘é€çš„å€¼è¢«æ‹·è´åˆ°ç¼“å†²åŒºå†…ï¼›å¦‚æœç¼“å†²åŒºå·²æ»¡ï¼Œåˆ™æ„å‘³ç€éœ€è¦ç­‰å¾…ç›´åˆ°æŸä¸ªæ¥æ”¶æ–¹è·å–åˆ°ä¸€ä¸ªå€¼ã€‚æ¥æ”¶æ–¹åœ¨æœ‰å€¼å¯ä»¥æ¥æ”¶ä¹‹å‰ä¼šä¸€ç›´é˜»å¡ã€‚</span><br><span class="line">ch&lt;<span class="number">-1</span></span><br><span class="line">ch&lt;<span class="number">-2</span></span><br><span class="line">fmt.Println(&lt;-ch)</span><br><span class="line">fmt.Println(&lt;-ch)  <span class="comment">//è¾“å‡ºï¼š1 2</span></span><br><span class="line"><span class="keyword">go</span>éå†é€šé“å’Œå…³é—­é€šé“ï¼š</span><br><span class="line">Go é€šè¿‡ <span class="keyword">range</span> å…³é”®å­—æ¥å®ç°éå†è¯»å–åˆ°çš„æ•°æ®ï¼Œç±»ä¼¼äºä¸æ•°ç»„æˆ–åˆ‡ç‰‡ã€‚</span><br><span class="line">v, ok := &lt;-ch</span><br><span class="line">å¦‚æœé€šé“æ¥æ”¶ä¸åˆ°æ•°æ®å ok å°±ä¸º <span class="literal">false</span>ï¼Œè¿™æ—¶é€šé“å°±å¯ä»¥ä½¿ç”¨ <span class="built_in">close</span>() å‡½æ•°æ¥å…³é—­ã€‚</span><br><span class="line">æ–æ³¢é‚£å¥‘æ•°ç»„ï¼š</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">(n <span class="keyword">int</span>, c <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        x, y := <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">                c &lt;- x</span><br><span class="line">                x, y = y, x+y</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">close</span>(c)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">go</span> fibonacci(<span class="built_in">cap</span>(c), c)</span><br><span class="line">        <span class="comment">// range å‡½æ•°éå†æ¯ä¸ªä»é€šé“æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œå› ä¸º c åœ¨å‘é€å®Œ 10 ä¸ª</span></span><br><span class="line">        <span class="comment">// æ•°æ®ä¹‹åå°±å…³é—­äº†é€šé“ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ range å‡½æ•°åœ¨æ¥æ”¶åˆ° 10 ä¸ªæ•°æ®</span></span><br><span class="line">        <span class="comment">// ä¹‹åå°±ç»“æŸäº†ã€‚å¦‚æœä¸Šé¢çš„ c é€šé“ä¸å…³é—­ï¼Œé‚£ä¹ˆ range å‡½æ•°å°±ä¸</span></span><br><span class="line">        <span class="comment">// ä¼šç»“æŸï¼Œä»è€Œåœ¨æ¥æ”¶ç¬¬ 11 ä¸ªæ•°æ®çš„æ—¶å€™å°±é˜»å¡äº†ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> c &#123;</span><br><span class="line">                fmt.Println(i)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span>ç¯å¢ƒé…ç½®é—®é¢˜ï¼š</span><br><span class="line">GOPATH è‡ªå·±çš„<span class="keyword">go</span>è¯­è¨€å·¥ä½œç›®å½•ï¼Œä¸‹æœ‰srcå­˜æºç ï¼Œbinå­˜å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå‘å¸ƒ<span class="keyword">go</span> buildæ—¶ç”Ÿæˆï¼Œpkgç¼–è¯‘åŒ…ï¼Œdebugæ—¶ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç†è§£ä¸ºä¸­é—´æ–‡ä»¶ã€‚</span><br><span class="line">GOROOTæ˜¯<span class="keyword">go</span>çš„å®‰è£…ç›®å½•</span><br><span class="line">è¦æ‰§è¡Œ<span class="keyword">go</span>å‘½ä»¤å’Œ<span class="keyword">go</span>å·¥å…·ï¼Œå°±å¿…é¡»å°†<span class="keyword">go</span>çš„å¯æ‰§è¡Œæ–‡ä»¶/usr/local/<span class="keyword">go</span>/binæ·»åŠ åˆ°ç³»ç»Ÿçš„PATHç¯å¢ƒå˜é‡ä¸­ã€‚è¿™æ ·ï¼Œæ— è®ºåœ¨ç»ˆç«¯çš„ä»»ä½•è·¯å¾„ï¼Œéƒ½å¯è¯†åˆ«<span class="keyword">go</span>å‘½ä»¤å’Œ<span class="keyword">go</span>ç›¸å…³å·¥å…·ã€‚</span><br><span class="line">ç¯å¢ƒå˜é‡æ˜¯ä¸ºäº†å‘Šè¯‰ç³»ç»Ÿä¸€ä¸ªè·¯å¾„</span><br><span class="line">cd ~</span><br><span class="line">vim .bash_profile ä¸­å¯é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">source .bash_profile <span class="comment">//ä½¿é…ç½®ç”Ÿæ•ˆ</span></span><br><span class="line">GOBINéœ€è¦å—ï¼Ÿ</span><br><span class="line">export GOBIN=$GOPATH/bin</span><br><span class="line">äº‹å®è¯æ˜ æ²¡æœ‰ç”¨</span><br><span class="line">export GOROOT=/usr/local/<span class="keyword">go</span></span><br><span class="line">export PATH=$PATH:$GOROOT/bin  <span class="comment">//å·²æœ‰ï¼Œè¿™ä¸ªçš„ä½œç”¨è¦æ‡‚</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">golandå®‰è£…ä¸æ¿€æ´»ï¼š</span><br><span class="line">é¦–å…ˆå®‰è£…å®˜æ–¹åŒ…ï¼Œä½¿ç”¨ã€‚</span><br><span class="line">ä¸‹è½½å‹ç¼©åŒ…å¾—åˆ°jetbrains-agent-latest.zip</span><br><span class="line">æ‰“å¼€IDEï¼Œå°†è¯¥zipæ‹–å…¥IDEçª—å£ï¼Œæ¿€æ´»å³å¯ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">golandä¸­å·¦ä¸‹è§’terminalå¯æ‰“å¼€ç»ˆç«¯</span><br><span class="line">é…ç½®GOPATHï¼Œè¿™ä¸€æ­¥éå¸¸é‡è¦ï¼Œå¦åˆ™ä»£ç ä¸­çš„ä¾èµ–åŒ…å°†æ— æ³•è¯†åˆ«ã€‚ä¸€èˆ¬GOPATHéƒ½é…ç½®åˆ°é¡¹ç›®åè¿™ä¸€å±‚</span><br><span class="line">é…ç½®æ•™ç¨‹ï¼šhttps:<span class="comment">//blog.csdn.net/zxy_666/article/details/80182688</span></span><br><span class="line">GOPATHæ˜¯ä»€ä¹ˆè·¯å¾„ï¼Ÿï¼Ÿï¼Ÿ</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å…³äºç¯å¢ƒå˜é‡çš„ç†è§£ï¼š</span><br><span class="line">è®¤ä¸ºé…ç½®PATHæ˜¯ä¸ºäº†åœ¨ç»ˆç«¯çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è¯†åˆ«<span class="keyword">go</span>å‘½ä»¤å’Œ<span class="keyword">go</span>ç›¸å…³å·¥å…·ã€‚</span><br><span class="line">é…ç½®GOPATHç›¸å½“äºæ˜¯<span class="keyword">go</span>é¡¹ç›®çš„ä¸€ä¸ªå·¥ä½œç›®å½•ã€‚</span><br><span class="line">ï¼ï¼åœ¨ç»ˆç«¯ä¸­exporté…ç½®æ˜¯å½“å‰ç»ˆç«¯ä¸´æ—¶çš„ï¼Œå…³é—­æ— æ•ˆï¼Ÿ è¿˜æ˜¯è¯´golandçš„ç»ˆç«¯ï¼Ÿ</span><br><span class="line">æ‰€ä»¥åœ¨æ–‡ä»¶ä¸­é…ç½®ã€‚</span><br><span class="line">GOPATH æ˜¯ Goè¯­è¨€ä¸­ä½¿ç”¨çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå®ƒä½¿ç”¨ç»å¯¹è·¯å¾„æä¾›é¡¹ç›®çš„å·¥ä½œç›®å½•ã€‚</span><br><span class="line">GOPATH é€‚åˆå¤„ç†å¤§é‡ Goè¯­è¨€æºç ã€å¤šä¸ªåŒ…ç»„åˆè€Œæˆçš„å¤æ‚å·¥ç¨‹ã€‚</span><br><span class="line">åœ¨ GOPATH æŒ‡å®šçš„å·¥ä½œç›®å½•ä¸‹ï¼Œä»£ç æ€»æ˜¯ä¼šä¿å­˜åœ¨ $GOPATH/src ç›®å½•ä¸‹ã€‚åœ¨å·¥ç¨‹ç»è¿‡ <span class="keyword">go</span> buildã€<span class="keyword">go</span> install æˆ– <span class="keyword">go</span> get ç­‰æŒ‡ä»¤åï¼Œä¼šå°†äº§ç”Ÿçš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨ $GOPATH/bin ç›®å½•ä¸‹ï¼Œç”Ÿæˆçš„ä¸­é—´ç¼“å­˜æ–‡ä»¶ä¼šè¢«ä¿å­˜åœ¨ $GOPATH/pkg ä¸‹ã€‚</span><br><span class="line">å¦‚æœéœ€è¦å°†æ•´ä¸ªæºç æ·»åŠ åˆ°ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼ˆVersion Control Systemï¼ŒVCSï¼‰ä¸­æ—¶ï¼Œåªéœ€è¦æ·»åŠ  $GOPATH/src ç›®å½•çš„æºç å³å¯ã€‚bin å’Œ pkg ç›®å½•çš„å†…å®¹éƒ½å¯ä»¥ç”± src ç›®å½•ç”Ÿæˆã€‚</span><br><span class="line"></span><br><span class="line">è®¾ç½®å…¨å±€ GOPATH çš„æ–¹æ³•å¯èƒ½ä¼šå¯¼è‡´å½“å‰é¡¹ç›®é”™è¯¯å¼•ç”¨äº†å…¶ä»–ç›®å½•çš„ Go æºç æ–‡ä»¶ä»è€Œé€ æˆç¼–è¯‘è¾“å‡ºé”™è¯¯çš„ç‰ˆæœ¬æˆ–ç¼–è¯‘æŠ¥å‡ºä¸€äº›æ— æ³•ç†è§£çš„é”™è¯¯æç¤ºã€‚</span><br><span class="line">å› æ­¤ï¼Œå»ºè®®å¤§å®¶æ— è®ºæ˜¯ä½¿ç”¨å‘½ä»¤è¡Œæˆ–è€…ä½¿ç”¨é›†æˆå¼€å‘ç¯å¢ƒç¼–è¯‘ Go æºç æ—¶ï¼ŒGOPATH è·Ÿéšé¡¹ç›®è®¾å®šã€‚åœ¨ Jetbrains å…¬å¸çš„ GoLand é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¸­çš„ GOPATH è®¾ç½®åˆ†ä¸ºå…¨å±€ GOPATH å’Œé¡¹ç›® GOPATHã€‚</span><br><span class="line"></span><br><span class="line">Global GOPATH ä»£è¡¨å…¨å±€ GOPATHï¼Œä¸€èˆ¬æ¥æºäºç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ GOPATHï¼›Project GOPATH ä»£è¡¨é¡¹ç›®æ‰€ä½¿ç”¨çš„ GOPATHï¼Œè¯¥è®¾ç½®ä¼šè¢«ä¿å­˜åœ¨å·¥ä½œç›®å½•çš„ .idea ç›®å½•ä¸‹ï¼Œä¸ä¼šè¢«è®¾ç½®åˆ°ç¯å¢ƒå˜é‡çš„ GOPATH ä¸­ï¼Œä½†ä¼šåœ¨ç¼–è¯‘æ—¶ä½¿ç”¨åˆ°è¿™ä¸ªç›®å½•ã€‚å»ºè®®åœ¨å¼€å‘æ—¶åªå¡«å†™é¡¹ç›® GOPATHï¼Œæ¯ä¸€ä¸ªé¡¹ç›®å°½é‡åªè®¾ç½®ä¸€ä¸ª GOPATHï¼Œä¸ä½¿ç”¨å¤šä¸ª GOPATH å’Œå…¨å±€çš„ GOPATHã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é—ç•™é—®é¢˜ï¼š</span><br><span class="line">gopathé™¤äº†ä½œä¸ºå·¥ä½œç›®å½•ä¹‹å¤–ä»€ä¹ˆç”¨å¤„ï¼Ÿ</span><br><span class="line">ç¼–è¯‘ä¸ºä»€ä¹ˆä¸ä¼šè‡ªåŠ¨åœ¨binç›®å½•ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ</span><br><span class="line">ä¸è®¾ç½®gopathä¼šæ€æ ·ï¼Ÿ</span><br><span class="line">gopathæ˜¯ä¸ºäº†ä»€ä¹ˆï¼Ÿ</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>golangå…¥é—¨</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯åŸºç¡€-htmlå±‚å æ ·å¼è¡¨</title>
    <url>/2021/08/19/myblog/%E5%89%8D%E7%AB%AF%E9%97%A8%E5%A4%96%E6%B1%89/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-HTML/</url>
    <content><![CDATA[<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><p>HTML æ˜¯ä¸€ç§åœ¨ Web ä¸Šä½¿ç”¨çš„é€šç”¨æ ‡è®°è¯­è¨€ã€‚HTML å…è®¸ä½ æ ¼å¼åŒ–æ–‡æœ¬ï¼Œæ·»åŠ å›¾ç‰‡ï¼Œåˆ›å»ºé“¾æ¥ã€è¾“å…¥è¡¨å•ã€æ¡†æ¶å’Œè¡¨æ ¼ç­‰ç­‰ï¼Œå¹¶å¯å°†ä¹‹å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæµè§ˆå™¨å³å¯è¯»å–å’Œæ˜¾ç¤ºã€‚</p>
<p>HTML çš„å…³é”®æ˜¯æ ‡ç­¾ï¼Œå…¶ä½œç”¨æ˜¯æŒ‡ç¤ºå°†å‡ºç°çš„å†…å®¹ã€‚</p>
<p>é¡µé¢F12çœ‹ä»£ç </p>
<!--         -->æ˜¯æ³¨é‡Šè¯­å¥ã€‚

<p>&lt;!     &gt;è¿™ä¸æ˜¯ï¼Œ<!DOCTYPE HTML>è¿™æ˜¯æ”¾åœ¨ç¬¬ä¸€è¡Œçš„å£°æ˜ï¼ŒæŒ‡ç¤º web æµè§ˆå™¨å…³äºé¡µé¢ä½¿ç”¨å“ªä¸ª HTML ç‰ˆæœ¬è¿›è¡Œç¼–å†™çš„æŒ‡ä»¤ã€‚</p>
<p>å¯¹äºä¸­æ–‡ç½‘é¡µéœ€è¦ä½¿ç”¨ <meta charset="utf-8"> å£°æ˜ç¼–ç ï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;  //å£°æ˜ç‰ˆæœ¬</span><br><span class="line">&lt;html&gt;     //æ ¹å…ƒç´ </span><br><span class="line">&lt;head&gt;    //åŒ…å«æ–‡æ¡£å…ƒæ•°æ®</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;    </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt;  //æ–‡æ¡£æ ‡é¢˜</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;    //å¯è§çš„é¡µé¢éƒ¨åˆ†</span><br><span class="line">&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæ ‡é¢˜&lt;/h1&gt;    //h1 -- h6</span><br><span class="line">&lt;hr&gt;       //ä¸€æ¡æ°´å¹³çº¿</span><br><span class="line">&lt;p&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;https://www.runoob.com&quot;&gt;è¿™æ˜¯ä¸€ä¸ªé“¾æ¥&lt;/a&gt;   </span><br><span class="line">//&lt;aæ˜¯æ ‡ç­¾   hrefæ˜¯å±æ€§</span><br><span class="line">&lt;img loading=&quot;lazy&quot; src=&quot;/images/logo.png&quot; width=&quot;258&quot; height=&quot;39&quot; /&gt;</span><br><span class="line">&lt;b&gt;åŠ ç²—æ–‡æœ¬&lt;/b&gt;</span><br><span class="line">&lt;i&gt;æ–œä½“æ–‡æœ¬&lt;/i&gt;</span><br><span class="line">&lt;sub&gt; ä¸‹æ ‡&lt;/sub&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ï¼ˆ1ï¼‰å…ƒç´ -amp-æ ‡ç­¾"><a href="#ï¼ˆ1ï¼‰å…ƒç´ -amp-æ ‡ç­¾" class="headerlink" title="ï¼ˆ1ï¼‰å…ƒç´  &amp; æ ‡ç­¾"></a>ï¼ˆ1ï¼‰å…ƒç´  &amp; æ ‡ç­¾</h3><ul>
<li>HTML å…ƒç´ ä»¥<strong>å¼€å§‹æ ‡ç­¾</strong>èµ·å§‹</li>
<li>HTML å…ƒç´ ä»¥<strong>ç»“æŸæ ‡ç­¾</strong>ç»ˆæ­¢</li>
<li><strong>å…ƒç´ çš„å†…å®¹</strong>æ˜¯å¼€å§‹æ ‡ç­¾ä¸ç»“æŸæ ‡ç­¾ä¹‹é—´çš„å†…å®¹</li>
<li>å¤§å¤šæ•° HTML å…ƒç´ å¯æ‹¥æœ‰<strong>å±æ€§</strong></li>
<li>HTML æ ‡ç­¾å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼š<P> ç­‰åŒäº <p></p></P></li>
</ul>
<h3 id="ï¼ˆ2ï¼‰å±æ€§"><a href="#ï¼ˆ2ï¼‰å±æ€§" class="headerlink" title="ï¼ˆ2ï¼‰å±æ€§"></a>ï¼ˆ2ï¼‰å±æ€§</h3><ul>
<li>HTML å…ƒç´ å¯ä»¥è®¾ç½®<strong>å±æ€§</strong></li>
<li>å±æ€§å¯ä»¥åœ¨å…ƒç´ ä¸­æ·»åŠ <strong>é™„åŠ ä¿¡æ¯</strong></li>
<li>å±æ€§ä¸€èˆ¬æè¿°äº<strong>å¼€å§‹æ ‡ç­¾</strong> &lt;&gt;é‡Œé¢</li>
<li>å±æ€§æ€»æ˜¯ä»¥åç§°/å€¼å¯¹çš„å½¢å¼å‡ºç°ï¼Œ**æ¯”å¦‚ï¼šname=â€valueâ€**ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">class</td>
<td align="left">ä¸ºhtmlå…ƒç´ å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»åï¼ˆclassnameï¼‰(ç±»åä»æ ·å¼æ–‡ä»¶å¼•å…¥)</td>
</tr>
<tr>
<td align="left">id</td>
<td align="left">å®šä¹‰å…ƒç´ çš„å”¯ä¸€id</td>
</tr>
<tr>
<td align="left">style</td>
<td align="left">è§„å®šå…ƒç´ çš„è¡Œå†…æ ·å¼ï¼ˆinline styleï¼‰</td>
</tr>
<tr>
<td align="left">title</td>
<td align="left">æè¿°äº†å…ƒç´ çš„é¢å¤–ä¿¡æ¯ (ä½œä¸ºå·¥å…·æ¡ä½¿ç”¨)</td>
</tr>
</tbody></table>
<h3 id="ï¼ˆ3ï¼‰å¯æ·»åŠ åœ¨å¤´éƒ¨çš„æ ‡ç­¾"><a href="#ï¼ˆ3ï¼‰å¯æ·»åŠ åœ¨å¤´éƒ¨çš„æ ‡ç­¾" class="headerlink" title="ï¼ˆ3ï¼‰å¯æ·»åŠ åœ¨å¤´éƒ¨çš„æ ‡ç­¾"></a>ï¼ˆ3ï¼‰å¯æ·»åŠ åœ¨å¤´éƒ¨<head>çš„æ ‡ç­¾</head></h3><head> å…ƒç´ åŒ…å«äº†æ‰€æœ‰çš„å¤´éƒ¨æ ‡ç­¾å…ƒç´ ã€‚åœ¨ <head>å…ƒç´ ä¸­ä½ å¯ä»¥æ’å…¥è„šæœ¬ï¼ˆscriptsï¼‰, æ ·å¼æ–‡ä»¶ï¼ˆCSSï¼‰ï¼ŒåŠå„ç§metaä¿¡æ¯ã€‚

<p>å¯ä»¥æ·»åŠ åœ¨å¤´éƒ¨åŒºåŸŸçš„å…ƒç´ æ ‡ç­¾ä¸º:<code> &lt;title&gt;, &lt;style&gt;, &lt;meta&gt;, &lt;link&gt;, &lt;script&gt;, &lt;noscript&gt; å’Œ &lt;base&gt;</code>ã€‚</p>
<table>
<thead>
<tr>
<th align="center">æ ‡ç­¾</th>
<th align="center">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>&lt;title&gt;</code></td>
<td align="center">æœç´¢å¼•æ“ä»¥åŠæ”¶è—å¤¹ä¸­çš„æ ‡é¢˜</td>
</tr>
<tr>
<td align="center"><code>&lt;base&gt;</code></td>
<td align="center">å®šä¹‰äº†é¡µé¢é“¾æ¥æ ‡ç­¾çš„é»˜è®¤é“¾æ¥åœ°å€</td>
</tr>
<tr>
<td align="center"><code>&lt;link&gt;</code></td>
<td align="center">æ–‡æ¡£å’Œå¤–éƒ¨èµ„æºä¹‹é—´çš„å…³ç³»</td>
</tr>
<tr>
<td align="center"><code>&lt;style&gt;</code></td>
<td align="center">å®šä¹‰äº†HTMLæ–‡æ¡£çš„æ ·å¼æ–‡ä»¶</td>
</tr>
<tr>
<td align="center"><code>&lt;meta&gt;</code></td>
<td align="center">å®šä¹‰äº†æ–‡æ¡£çš„å…ƒæ•°æ®</td>
</tr>
<tr>
<td align="center"><code>&lt;script&gt;</code></td>
<td align="center">å®šä¹‰äº†å®¢æˆ·ç«¯çš„è„šæœ¬æ–‡ä»¶</td>
</tr>
</tbody></table>
<h3 id="ï¼ˆ4ï¼‰CSS"><a href="#ï¼ˆ4ï¼‰CSS" class="headerlink" title="ï¼ˆ4ï¼‰CSS"></a>ï¼ˆ4ï¼‰CSS</h3><p>CSS (Cascading Style Sheets) ç”¨äºæ¸²æŸ“HTMLå…ƒç´ æ ‡ç­¾çš„æ ·å¼ã€‚ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>å†…è”æ ·å¼- åœ¨HTMLå…ƒç´ ä¸­ä½¿ç”¨â€styleâ€ <strong>å±æ€§</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body style=&quot;background-color:yellow;&quot;&gt;</span><br><span class="line">&lt;h2 style=&quot;background-color:red;&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;/h2&gt;</span><br><span class="line">&lt;p style=&quot;background-color:green;&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å†…éƒ¨æ ·å¼è¡¨ -åœ¨HTMLæ–‡æ¡£å¤´éƒ¨ <code>&lt;head&gt;</code> åŒºåŸŸä½¿ç”¨<code>&lt;style&gt; </code><strong>æ ‡ç­¾</strong> æ¥åŒ…å«CSS</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt; </span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">body &#123;background-color:yellow;&#125;</span><br><span class="line">p &#123;color:blue;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;/h2&gt;</span><br><span class="line">&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¤–éƒ¨å¼•ç”¨ - ä½¿ç”¨å¤–éƒ¨ CSS <strong>æ–‡ä»¶</strong>ï¼ˆé€‚åˆä¸€ä¸ªæ ·å¼åº”ç”¨ä¸å¤šä¸ªé¡µé¢ï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;mystyle.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ï¼ˆ5ï¼‰scriptè„šæœ¬"><a href="#ï¼ˆ5ï¼‰scriptè„šæœ¬" class="headerlink" title="ï¼ˆ5ï¼‰scriptè„šæœ¬"></a>ï¼ˆ5ï¼‰scriptè„šæœ¬</h3><p>JavaScript ä½¿ HTML é¡µé¢å…·æœ‰æ›´å¼ºçš„åŠ¨æ€å’Œäº¤äº’æ€§ã€‚</p>
<ul>
<li>ä½¿ç”¨<code>&lt;script&gt;</code>æ ‡ç­¾ï¼Œå¯ä»¥åœ¨<code>&lt;head&gt;</code>ä¹Ÿå¯ä»¥åœ¨<code>&lt;body&gt;</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">document.write(&quot;Hello World!&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></head></head>]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯å¯„å‡º-JavaScript</title>
    <url>/2021/08/19/myblog/%E5%89%8D%E7%AB%AF%E9%97%A8%E5%A4%96%E6%B1%89/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-JavaScript/</url>
    <content><![CDATA[<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a><strong>JavaScript</strong></h1><h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h2><p>JavaScript æ˜¯è„šæœ¬è¯­è¨€ï¼Œå¯ç”¨äº HTML å’Œ webï¼Œæ›´å¯å¹¿æ³›ç”¨äºæœåŠ¡å™¨ã€PCã€ç¬”è®°æœ¬ç”µè„‘ã€å¹³æ¿ç”µè„‘å’Œæ™ºèƒ½æ‰‹æœºç­‰è®¾å¤‡ã€‚<br>JavaScript æ˜¯ä¸€ç§è½»é‡çº§çš„ç¼–ç¨‹è¯­è¨€ã€‚<br>JavaScript æ˜¯å¯æ’å…¥ HTML é¡µé¢çš„ç¼–ç¨‹ä»£ç ã€‚<br>JavaScript æ’å…¥ HTML é¡µé¢åï¼Œå¯ç”±æ‰€æœ‰çš„ç°ä»£æµè§ˆå™¨æ‰§è¡Œã€‚<br>JavaScript è¯­å¥å‘æµè§ˆå™¨å‘å‡ºçš„å‘½ä»¤ã€‚è¯­å¥çš„ä½œç”¨æ˜¯å‘Šè¯‰æµè§ˆå™¨è¯¥åšä»€ä¹ˆã€‚</p>
<p>ä½œç”¨ï¼šç›´æ¥å†™å…¥htmlè¾“å‡ºæµã€‚å¯¹äº‹ä»¶åšå‡ºååº”ã€‚æ”¹å˜HTMLå†…å®¹ã€‚æ”¹å˜HTMLå›¾åƒã€‚æ”¹å˜HTMLæ ·å¼ã€‚éªŒè¯è¾“å…¥ã€‚ç­‰</p>
<p>JavaScript ä¸ Java æ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„è¯­è¨€ï¼Œæ— è®ºåœ¨æ¦‚å¿µä¸Šè¿˜æ˜¯è®¾è®¡ä¸Šã€‚</p>
<p>Javaï¼ˆç”± Sun å‘æ˜ï¼‰æ˜¯æ›´å¤æ‚çš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>JavaScript ç”± Brendan Eich å‘æ˜ã€‚å®ƒäº 1995 å¹´å‡ºç°ï¼Œè¢« ECMAï¼ˆä¸€ä¸ªæ ‡å‡†åä¼šï¼‰é‡‡çº³ã€‚ã€‚</p>
<h2 id="2-ç”¨æ³•"><a href="#2-ç”¨æ³•" class="headerlink" title="2.ç”¨æ³•"></a>2.ç”¨æ³•</h2><h3 id="1-å†…éƒ¨æ–¹å¼"><a href="#1-å†…éƒ¨æ–¹å¼" class="headerlink" title="(1)å†…éƒ¨æ–¹å¼"></a>(1)å†…éƒ¨æ–¹å¼</h3><p>è„šæœ¬å¿…é¡»ä½äº<code> &lt;script&gt;</code> ä¸ <code>&lt;/script&gt;</code> æ ‡ç­¾ä¹‹é—´ã€‚<br>è„šæœ¬å¯è¢«æ”¾ç½®åœ¨ HTML é¡µé¢çš„ <code>&lt;body&gt; </code>å’Œ <code>&lt;head&gt; </code>éƒ¨åˆ†ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	</span><br><span class="line">&lt;h1&gt;æˆ‘çš„ç¬¬ä¸€æ®µ JavaScript&lt;/h1&gt;</span><br><span class="line">&lt;p id=&quot;demo&quot;&gt;</span><br><span class="line">JavaScript èƒ½æ”¹å˜ HTML å…ƒç´ çš„æ ·å¼ã€‚</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;script&gt;       //å¯ä»¥åœ¨bodyï¼Œä¹Ÿå¯ä»¥åœ¨head</span><br><span class="line">function myFunction()       //å‡½æ•°ä½œç”¨ï¼šæ•è·å…ƒç´ ä¹‹åæ”¹å˜æ ·å¼</span><br><span class="line">&#123;</span><br><span class="line">	x=document.getElementById(&quot;demo&quot;) // æ‰¾åˆ°å…ƒç´   getElementByIdå‡½æ•°æ•è·idé€‰æ‹©å™¨</span><br><span class="line">	x.style.color=&quot;#ff0000&quot;;          // æ”¹å˜æ ·å¼</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/button&gt;  //ä½¿ç”¨å‡½æ•°</span><br><span class="line">	</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-å¤–éƒ¨æ–¹å¼"><a href="#2-å¤–éƒ¨æ–¹å¼" class="headerlink" title="(2)å¤–éƒ¨æ–¹å¼"></a>(2)å¤–éƒ¨æ–¹å¼</h3><p>ä»¥æŠŠè„šæœ¬ä¿å­˜åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚å¤–éƒ¨æ–‡ä»¶é€šå¸¸åŒ…å«è¢«å¤šä¸ªç½‘é¡µä½¿ç”¨çš„ä»£ç ã€‚å¤–éƒ¨ JavaScript æ–‡ä»¶çš„æ–‡ä»¶æ‰©å±•åæ˜¯ .jsã€‚</p>
<p>å¯¼å…¥æ–¹å¼ï¼šåœ¨ <code>&lt;script&gt;</code> æ ‡ç­¾çš„ â€œsrcâ€ å±æ€§ä¸­è®¾ç½®è¯¥ .js æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script src=&quot;myScript.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-JavaScriptè¾“å‡º"><a href="#3-JavaScriptè¾“å‡º" class="headerlink" title="3.JavaScriptè¾“å‡º"></a>3.JavaScriptè¾“å‡º</h2><p>JavaScript å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼æ¥è¾“å‡ºæ•°æ®ï¼š<br>ä½¿ç”¨ window.alert() å¼¹å‡ºè­¦å‘Šæ¡†ã€‚</p>
<p>ä½¿ç”¨ document.write() æ–¹æ³•å°†å†…å®¹å†™åˆ° HTML æ–‡æ¡£ä¸­ã€‚</p>
<p>ä½¿ç”¨ innerHTML å†™å…¥åˆ° HTMLå…ƒç´ ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">document.getElementById(&quot;demo&quot;).innerHTML=&quot;æ®µè½å·²ä¿®æ”¹ã€‚&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ console.log() å†™å…¥åˆ°æµè§ˆå™¨çš„æ§åˆ¶å°ã€‚</p>
<h2 id="4-JavaScriptè¯­æ³•"><a href="#4-JavaScriptè¯­æ³•" class="headerlink" title="4.JavaScriptè¯­æ³•"></a>4.JavaScriptè¯­æ³•</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var points = 10;     // Number é€šè¿‡è¡¨è¾¾å¼å­—é¢é‡èµ‹å€¼</span><br><span class="line">var lastName = &quot;Johnson&quot;;   // String é€šè¿‡å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼</span><br><span class="line">var cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];    // Array  é€šè¿‡æ•°ç»„å­—é¢é‡èµ‹å€¼</span><br><span class="line">var person = &#123;firstName:&quot;John&quot;, lastName:&quot;Doe&quot;&#125;;  // Object é€šè¿‡å¯¹è±¡å­—é¢é‡èµ‹å€¼</span><br><span class="line">ä½¿ç”¨ï¼šå¯¹è±¡æ˜¯æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•çš„æ•°æ®ã€‚å¯¹è±¡é”®å€¼å¯¹çš„å½¢å¼ã€‚</span><br><span class="line">name=person.lastname;</span><br><span class="line">name=person[&quot;lastname&quot;];</span><br></pre></td></tr></table></figure>

<p>JavaScript æ˜¯è„šæœ¬è¯­è¨€ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯»å–ä»£ç æ—¶ï¼Œé€è¡Œåœ°æ‰§è¡Œè„šæœ¬ä»£ç ã€‚è€Œå¯¹äºä¼ ç»Ÿç¼–ç¨‹æ¥è¯´ï¼Œä¼šåœ¨æ‰§è¡Œå‰å¯¹æ‰€æœ‰ä»£ç è¿›è¡Œç¼–è¯‘ã€‚</p>
<p>å€¼ç±»å‹(åŸºæœ¬ç±»å‹)ï¼šå­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å­—(Number)ã€å¸ƒå°”(Boolean)ã€å¯¹ç©ºï¼ˆNullï¼‰ã€æœªå®šä¹‰ï¼ˆUndefinedï¼‰ã€Symbolã€‚<br>å¼•ç”¨æ•°æ®ç±»å‹ï¼šå¯¹è±¡(Object)ã€æ•°ç»„(Array)ã€å‡½æ•°(Function)ã€‚<br>JavaScript æ‹¥æœ‰åŠ¨æ€ç±»å‹ã€‚è¿™æ„å‘³ç€ç›¸åŒçš„å˜é‡å¯ç”¨ä½œä¸åŒçš„ç±»å‹ã€‚<br>JavaScript åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ã€‚æ•°å­—å¯ä»¥å¸¦å°æ•°ç‚¹ï¼Œä¹Ÿå¯ä»¥ä¸å¸¦ã€‚</p>
<h2 id="5-JavaScriptäº‹ä»¶"><a href="#5-JavaScriptäº‹ä»¶" class="headerlink" title="5.JavaScriptäº‹ä»¶"></a>5.JavaScriptäº‹ä»¶</h2><p>HTML äº‹ä»¶æ˜¯å‘ç”Ÿåœ¨ HTML å…ƒç´ ä¸Šçš„äº‹æƒ…ã€‚<br>å½“åœ¨ HTML é¡µé¢ä¸­ä½¿ç”¨ JavaScript æ—¶ï¼Œ JavaScript å¯ä»¥è§¦å‘è¿™äº›äº‹ä»¶ã€‚<br>HTML äº‹ä»¶å¯ä»¥æ˜¯æµè§ˆå™¨è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è¡Œä¸ºã€‚<br>ä»¥ä¸‹æ˜¯ HTML äº‹ä»¶çš„å®ä¾‹ï¼š<br>HTML é¡µé¢å®ŒæˆåŠ è½½<br>HTML input å­—æ®µæ”¹å˜æ—¶<br>HTML æŒ‰é’®è¢«ç‚¹å‡»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt; </span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;button onclick=&quot;displayDate()&quot;&gt;ç‚¹è¿™é‡Œ&lt;/button&gt;  </span><br><span class="line">//äº‹ä»¶ï¼Œonclickå±æ€§å¯¹åº”äº†scripté‡Œçš„å‡½æ•°ï¼Œç‚¹å‡»è¿è¡Œscripté‡Œçš„å‡½æ•°</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function displayDate()&#123;</span><br><span class="line">	document.getElementById(&quot;demo&quot;).innerHTML=Date();</span><br><span class="line">&#125;      //å†™å…¥htmlå…ƒç´ </span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;  //idé€‰æ‹©å™¨æ‰¾å…ƒç´ </span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="6-JavaScriptæ•°æ®ç±»å‹"><a href="#6-JavaScriptæ•°æ®ç±»å‹" class="headerlink" title="6.JavaScriptæ•°æ®ç±»å‹"></a>6.JavaScriptæ•°æ®ç±»å‹</h2><h3 id="1-å­—ç¬¦ä¸²ä¸å¯¹è±¡"><a href="#1-å­—ç¬¦ä¸²ä¸å¯¹è±¡" class="headerlink" title="(1)å­—ç¬¦ä¸²ä¸å¯¹è±¡"></a>(1)å­—ç¬¦ä¸²ä¸å¯¹è±¡</h3><p>var x = â€œJohnâ€;<br>var y = new String(â€œJohnâ€);<br>(x === y) // ç»“æœä¸º falseï¼Œå› ä¸º x æ˜¯å­—ç¬¦ä¸²ï¼Œy æ˜¯å¯¹è±¡</p>
<p>ä¸¤ä¸ªæ•°å­—ç›¸åŠ ï¼Œè¿”å›æ•°å­—ç›¸åŠ çš„å’Œï¼Œå¦‚æœæ•°å­—ä¸å­—ç¬¦ä¸²ç›¸åŠ ï¼Œè¿”å›å­—ç¬¦ä¸²</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ typeof æ“ä½œç¬¦æ¥æ£€æµ‹å˜é‡çš„æ•°æ®ç±»å‹ã€‚<br>typeof â€œJohnâ€                // è¿”å› string</p>
<h3 id="2-undefined-å’Œ-null-çš„åŒºåˆ«"><a href="#2-undefined-å’Œ-null-çš„åŒºåˆ«" class="headerlink" title="(2)undefined å’Œ null çš„åŒºåˆ«"></a>(2)undefined å’Œ null çš„åŒºåˆ«</h3><p>null å’Œ undefined çš„å€¼ç›¸ç­‰ï¼Œä½†ç±»å‹ä¸ç­‰ï¼š<br>typeof undefined             // undefined<br>typeof null                  // object<br>null === undefined           // false<br>null == undefined            // true<br>åœ¨ä¸¥æ ¼çš„æ¯”è¾ƒè¿ç®—ä¸­ï¼Œ=== ä¸ºæ’ç­‰è®¡ç®—ç¬¦ï¼ŒåŒæ—¶æ£€æŸ¥è¡¨è¾¾å¼çš„å€¼ä¸ç±»å‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€å®šä¹‰</span><br><span class="line"> ï¼ˆ1ï¼‰undefinedï¼šæ˜¯æ‰€æœ‰æ²¡æœ‰èµ‹å€¼å˜é‡çš„é»˜è®¤å€¼ï¼Œè‡ªåŠ¨èµ‹å€¼ã€‚</span><br><span class="line"> ï¼ˆ2ï¼‰nullï¼šä¸»åŠ¨é‡Šæ”¾ä¸€ä¸ªå˜é‡å¼•ç”¨çš„å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªå˜é‡ä¸å†æŒ‡å‘ä»»ä½•å¯¹è±¡åœ°å€ã€‚</span><br><span class="line">2ã€ä½•æ—¶ä½¿ç”¨null?</span><br><span class="line">å½“ä½¿ç”¨å®Œä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡æ—¶ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œé‡Šæ”¾å†…å­˜æ—¶ï¼Œè®¾ç½®ä¸º nullã€‚</span><br><span class="line">3ã€null ä¸ undefined çš„å¼‚åŒç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</span><br><span class="line">å…±åŒç‚¹ï¼šéƒ½æ˜¯åŸå§‹ç±»å‹ï¼Œä¿å­˜åœ¨æ ˆä¸­å˜é‡æœ¬åœ°ã€‚</span><br><span class="line">ä¸åŒç‚¹ï¼š</span><br><span class="line">ï¼ˆ1ï¼‰undefinedâ€”â€”è¡¨ç¤ºå˜é‡å£°æ˜è¿‡ä½†å¹¶æœªèµ‹è¿‡å€¼ã€‚</span><br><span class="line">å®ƒæ˜¯æ‰€æœ‰æœªèµ‹å€¼å˜é‡é»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š</span><br><span class="line">var a;    // a è‡ªåŠ¨è¢«èµ‹å€¼ä¸º undefined</span><br><span class="line">ï¼ˆ2ï¼‰nullâ€”â€”è¡¨ç¤ºä¸€ä¸ªå˜é‡å°†æ¥å¯èƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚</span><br><span class="line">ä¸€èˆ¬ç”¨äºä¸»åŠ¨é‡Šæ”¾æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</span><br><span class="line">var emps = [&#x27;ss&#x27;,&#x27;nn&#x27;];</span><br><span class="line">emps = null;     // é‡Šæ”¾æŒ‡å‘æ•°ç»„çš„å¼•ç”¨</span><br><span class="line">4ã€å»¶ä¼¸â€”â€”åƒåœ¾å›æ”¶ç«™</span><br><span class="line">å®ƒæ˜¯ä¸“é—¨é‡Šæ”¾å¯¹è±¡å†…å­˜çš„ä¸€ä¸ªç¨‹åºã€‚</span><br><span class="line"> ï¼ˆ1ï¼‰åœ¨åº•å±‚ï¼Œåå°ä¼´éšå½“å‰ç¨‹åºåŒæ—¶è¿è¡Œï¼›å¼•æ“ä¼šå®šæ—¶è‡ªåŠ¨è°ƒç”¨åƒåœ¾å›æ”¶æœŸï¼›</span><br><span class="line"> ï¼ˆ2ï¼‰æ€»æœ‰ä¸€ä¸ªå¯¹è±¡ä¸å†è¢«ä»»ä½•å˜é‡å¼•ç”¨æ—¶ï¼Œæ‰é‡Šæ”¾ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="3-ç±»å‹è½¬æ¢"><a href="#3-ç±»å‹è½¬æ¢" class="headerlink" title="(3)ç±»å‹è½¬æ¢"></a>(3)ç±»å‹è½¬æ¢</h3><p>JavaScript æ•°æ®ç±»å‹ï¼š<br>åœ¨ JavaScript ä¸­æœ‰ 6 ç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼šstringã€numberã€booleanã€objectã€functionã€symbol<br>3 ç§å¯¹è±¡ç±»å‹ï¼šObjectã€Dateã€Array<br>2 ä¸ªä¸åŒ…å«ä»»ä½•å€¼çš„æ•°æ®ç±»å‹ï¼šnullã€undefined</p>
<p>Number() è½¬æ¢ä¸ºæ•°å­—ï¼Œ String() è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œ Boolean() è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚</p>
<h3 id="4-å£°æ˜æå‡"><a href="#4-å£°æ˜æå‡" class="headerlink" title="(4)å£°æ˜æå‡"></a>(4)å£°æ˜æå‡</h3><p>JavaScript ä¸­ï¼Œå‡½æ•°åŠå˜é‡çš„å£°æ˜éƒ½å°†è¢«æå‡åˆ°å‡½æ•°çš„æœ€é¡¶éƒ¨ã€‚<br>JavaScript ä¸­ï¼Œå˜é‡å¯ä»¥åœ¨ä½¿ç”¨åå£°æ˜ï¼Œä¹Ÿå°±æ˜¯å˜é‡å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ã€‚<br>å£°æ˜æå‡ï¼šå‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜æ€»æ˜¯ä¼šè¢«è§£é‡Šå™¨æ‚„æ‚„åœ°è¢«â€æå‡â€åˆ°æ–¹æ³•ä½“çš„æœ€é¡¶éƒ¨ã€‚<br>ä½†æ˜¯ï¼šåªæœ‰å£°æ˜ä¼šæå‡ï¼Œåˆå§‹åŒ–ä¸ä¼šã€‚</p>
<h2 id="7-æ­£åˆ™è¡¨è¾¾å¼"><a href="#7-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="7.æ­£åˆ™è¡¨è¾¾å¼"></a>7.æ­£åˆ™è¡¨è¾¾å¼</h2><p>æ­£åˆ™è¡¨è¾¾å¼ï¼šä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²æ¥æè¿°ã€åŒ¹é…ä¸€ç³»åˆ—ç¬¦åˆæŸä¸ªå¥æ³•è§„åˆ™çš„å­—ç¬¦ä¸²æœç´¢æ¨¡å¼ã€‚<br>æœç´¢æ¨¡å¼å¯ç”¨äºæ–‡æœ¬æœç´¢å’Œæ–‡æœ¬æ›¿æ¢ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼å¯ç”¨äºæ‰€æœ‰æ–‡æœ¬æœç´¢å’Œæ–‡æœ¬æ›¿æ¢çš„æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var patt = /runoob/i</span><br><span class="line">å®ä¾‹è§£æï¼š</span><br><span class="line">/runoob/i  æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚</span><br><span class="line">runoob  æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“ (ç”¨äºæ£€ç´¢)ã€‚</span><br><span class="line">i  æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ (æœç´¢ä¸åŒºåˆ†å¤§å°å†™)ã€‚</span><br></pre></td></tr></table></figure>

<p>åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é€šå¸¸ç”¨äºä¸¤ä¸ªå­—ç¬¦ä¸²æ–¹æ³• : search() å’Œ replace()ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">search() æ–¹æ³• ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œæˆ–æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚</span><br><span class="line">replace() æ–¹æ³• ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ï¼Œæˆ–æ›¿æ¢ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p>æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦ï¼š<br>i    æ‰§è¡Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…ã€‚<br>g    æ‰§è¡Œå…¨å±€åŒ¹é…ï¼ˆæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…è€Œéåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ååœæ­¢ï¼‰ã€‚<br>m    æ‰§è¡Œå¤šè¡ŒåŒ¹é…ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">test() æ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªæ¨¡å¼ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­å«æœ‰åŒ¹é…çš„æ–‡æœ¬ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</span><br><span class="line">var patt = /e/;</span><br><span class="line">patt.test(&quot;The best things in life are free!&quot;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">exec() æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚</span><br><span class="line">è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾åŒ¹é…çš„ç»“æœã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›å€¼ä¸º nullã€‚</span><br><span class="line">/e/.exec(&quot;The best things in life are free!&quot;);</span><br><span class="line">å­—ç¬¦ä¸²ä¸­å«æœ‰ &quot;e&quot;ï¼Œæ‰€ä»¥è¯¥å®ä¾‹è¾“å‡ºä¸º:e</span><br></pre></td></tr></table></figure>

<h2 id="8-JavaScripté”™è¯¯"><a href="#8-JavaScripté”™è¯¯" class="headerlink" title="8.JavaScripté”™è¯¯"></a>8.JavaScripté”™è¯¯</h2><p>try è¯­å¥æµ‹è¯•ä»£ç å—çš„é”™è¯¯ã€‚<br>catch è¯­å¥å¤„ç†é”™è¯¯ã€‚<br>throw è¯­å¥åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ã€‚<br>finally è¯­å¥åœ¨ try å’Œ catch è¯­å¥ä¹‹åï¼Œæ— è®ºæ˜¯å¦æœ‰è§¦å‘å¼‚å¸¸ï¼Œè¯¥è¯­å¥éƒ½ä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®ç°ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œè¾“å…¥5-10ä¹‹é—´æ•°å­—ï¼Œå¦‚æœé”™è¯¯åˆ™æŠ¥é”™ï¼Œæ¯æ¬¡è¾“å…¥å®Œè‡ªåŠ¨æ¸…ç©ºè¾“å…¥æ¡†</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;èœé¸Ÿæ•™ç¨‹(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;ä¸ç®¡è¾“å…¥æ˜¯å¦æ­£ç¡®ï¼Œè¾“å…¥æ¡†éƒ½ä¼šå†è¾“å…¥åæ¸…ç©ºã€‚&lt;/p&gt;</span><br><span class="line">&lt;p&gt;è¯·è¾“å…¥ 5 ~ 10 ä¹‹é—´çš„æ•°å­—ï¼š&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;input id=&quot;demo&quot; type=&quot;text&quot;&gt;    //è¾“å…¥æ¡†</span><br><span class="line">&lt;button type=&quot;button&quot; onclick=&quot;myFunction()&quot;&gt;ç‚¹æˆ‘&lt;/button&gt;  //æŒ‰é’®è§¦å‘å‡½æ•°</span><br><span class="line"></span><br><span class="line">&lt;p id=&quot;p01&quot;&gt;&lt;/p&gt;    //ç”¨æ¥è¾“å‡ºé”™è¯¯ä¿¡æ¯çš„æ®µè½</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function myFunction() &#123;</span><br><span class="line">  var message, x;</span><br><span class="line">  message = document.getElementById(&quot;p01&quot;);   //è¾“å‡ºé”™è¯¯ä¿¡æ¯ç”¨</span><br><span class="line">  x = document.getElementById(&quot;demo&quot;).value;     //è·å¾—è¾“å…¥æ¡†çš„ä¸œè¥¿</span><br><span class="line">  try &#123;                                   //åˆ¤æ–­ï¼ŒæŠ›å‡ºé”™è¯¯</span><br><span class="line">    if(x == &quot;&quot;) throw &quot;å€¼æ˜¯ç©ºçš„&quot;;</span><br><span class="line">    if(isNaN(x)) throw &quot;å€¼ä¸æ˜¯ä¸€ä¸ªæ•°å­—&quot;;</span><br><span class="line">    x = Number(x);</span><br><span class="line">    if(x &gt; 10) throw &quot;å¤ªå¤§&quot;;</span><br><span class="line">    if(x &lt; 5) throw &quot;å¤ªå°&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  catch(err) &#123;</span><br><span class="line">    message.innerHTML = &quot;é”™è¯¯: &quot; + err + &quot;.&quot;;     //é”™è¯¯ä¿¡æ¯å†™å…¥å…ƒç´ ä¸­</span><br><span class="line">  &#125;</span><br><span class="line">  finally &#123;</span><br><span class="line">    document.getElementById(&quot;demo&quot;).value = &quot;&quot;;  //æ¸…ç©ºè¾“å…¥æ¡†</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="9-JavaScriptè¡¨å•"><a href="#9-JavaScriptè¡¨å•" class="headerlink" title="9.JavaScriptè¡¨å•"></a>9.JavaScriptè¡¨å•</h2><p>HTML è¡¨å•éªŒè¯å¯ä»¥é€šè¿‡ JavaScript æ¥å®Œæˆã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®ç°ï¼šè¾“å…¥ä¸€ä¸ªä¸œè¥¿ï¼Œå¼¹å‡ºæ–°é¡µè¡¨ï¼Œæç¤ºè¾“å…¥çš„æ˜¯ä»€ä¹ˆ</span></span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function validateForm() &#123;       //è¿›è¡ŒéªŒè¯çš„å‡½æ•°</span><br><span class="line">    var x = document.forms[&quot;myForm&quot;][&quot;fname&quot;].value;</span><br><span class="line">    if (x == null || x == &quot;&quot;) &#123;</span><br><span class="line">        alert(&quot;éœ€è¦è¾“å…¥åå­—ã€‚&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form name=&quot;myForm&quot; action=&quot;demo_form.php&quot;      //è¡¨å•ï¼Œæœ‰ä¸€äº›å±æ€§</span><br><span class="line">onsubmit=&quot;return validateForm()&quot; method=&quot;post&quot;&gt;</span><br><span class="line">åå­—: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;      //ä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†</span><br><span class="line">&lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;       //ä¸€ä¸ªæäº¤æŒ‰é’®</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯å¯„å‡º-CSSå±‚å æ ·å¼è¡¨</title>
    <url>/2021/08/19/myblog/%E5%89%8D%E7%AB%AF%E9%97%A8%E5%A4%96%E6%B1%89/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-CSS%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8/</url>
    <content><![CDATA[<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><p>CSSè¢«ç”¨æ¥åŒæ—¶æ§åˆ¶å¤šé‡ç½‘é¡µçš„æ ·å¼å’Œå¸ƒå±€ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ CSSï¼Œæ‰€æœ‰çš„æ ¼å¼åŒ–å‡å¯ä» HTML ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œå¹¶å­˜å‚¨äºä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ã€‚</p>
<p>CSS æŒ‡å±‚å æ ·å¼è¡¨ (Cascading Style Sheets)<br>æ ·å¼å®šä¹‰å¦‚ä½•æ˜¾ç¤º HTML å…ƒç´ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">body</span><br><span class="line">&#123;</span><br><span class="line">	background-color:#d0e4fe;</span><br><span class="line">&#125;</span><br><span class="line">h1    //h1æ˜¯é€‰æ‹©å™¨</span><br><span class="line">&#123;          //å¤§æ‹¬å·é‡Œæ˜¯ä¸€æ¡æˆ–å¤šæ¡å£°æ˜</span><br><span class="line">	color:orange;     //æ¯ä¸€æ¡å£°æ˜ç”±å±æ€§å’Œå€¼ç»„æˆ ï¼šåˆ†å¼€</span><br><span class="line">	text-align:center;</span><br><span class="line">&#125;</span><br><span class="line">p</span><br><span class="line">&#123;</span><br><span class="line">	font-family:&quot;Times New Roman&quot;;</span><br><span class="line">	font-size:20px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;     //styleå…ƒç´ åœ¨headå…ƒç´ é‡Œ</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;CSS å®ä¾‹!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-è¯­æ³•"><a href="#1-è¯­æ³•" class="headerlink" title="1.è¯­æ³•"></a>1.è¯­æ³•</h2><p>CSS è§„åˆ™ç”±ä¸¤ä¸ªä¸»è¦çš„éƒ¨åˆ†æ„æˆï¼šé€‰æ‹©å™¨ï¼Œä»¥åŠä¸€æ¡æˆ–å¤šæ¡å£°æ˜:<br>é€‰æ‹©å™¨é€šå¸¸æ˜¯æ‚¨éœ€è¦æ”¹å˜æ ·å¼çš„ HTML å…ƒç´ ã€‚<br>æ¯æ¡å£°æ˜ç”±ä¸€ä¸ªå±æ€§å’Œä¸€ä¸ªå€¼ç»„æˆã€‚<br>å±æ€§ï¼ˆpropertyï¼‰æ˜¯æ‚¨å¸Œæœ›è®¾ç½®çš„æ ·å¼å±æ€§ï¼ˆstyle attributeï¼‰ã€‚æ¯ä¸ªå±æ€§æœ‰ä¸€ä¸ªå€¼ã€‚å±æ€§å’Œå€¼è¢«å†’å·åˆ†å¼€ã€‚<br>cssä¸­ï¼Œä¹Ÿå°±æ˜¯<code>&lt;style&gt;</code>ä¸­ï¼Œæ³¨é‡Šæ˜¯ /*   */</p>
<h2 id="2-idé€‰æ‹©å™¨"><a href="#2-idé€‰æ‹©å™¨" class="headerlink" title="2.idé€‰æ‹©å™¨"></a>2.idé€‰æ‹©å™¨</h2><p>id é€‰æ‹©å™¨å¯ä»¥ä¸ºæ ‡æœ‰ç‰¹å®š id çš„ HTML å…ƒç´ æŒ‡å®šç‰¹å®šçš„æ ·å¼ã€‚</p>
<p>HTMLå…ƒç´ ä»¥idå±æ€§æ¥è®¾ç½®idé€‰æ‹©å™¨,CSS ä¸­ id é€‰æ‹©å™¨ä»¥ â€œ#â€ æ¥å®šä¹‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt; </span><br><span class="line">&lt;style&gt;</span><br><span class="line">#para1</span><br><span class="line">&#123;</span><br><span class="line">	text-align:center;</span><br><span class="line">	color:red;</span><br><span class="line">&#125; </span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p id=&quot;para1&quot;&gt;Hello World!&lt;/p&gt;</span><br><span class="line">&lt;p&gt;è¿™ä¸ªæ®µè½ä¸å—è¯¥æ ·å¼çš„å½±å“ã€‚&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸è¦ä»¥æ•°å­—å¼€å¤´</p>
<h2 id="3-classé€‰æ‹©å™¨"><a href="#3-classé€‰æ‹©å™¨" class="headerlink" title="3.classé€‰æ‹©å™¨"></a>3.classé€‰æ‹©å™¨</h2><p>class é€‰æ‹©å™¨ç”¨äºæè¿°ä¸€ç»„å…ƒç´ çš„æ ·å¼ï¼Œclass é€‰æ‹©å™¨æœ‰åˆ«äºidé€‰æ‹©å™¨ï¼Œclasså¯ä»¥åœ¨å¤šä¸ªå…ƒç´ ä¸­ä½¿ç”¨ã€‚</p>
<p>class é€‰æ‹©å™¨åœ¨HTMLä¸­ä»¥classå±æ€§è¡¨ç¤º, åœ¨ CSS ä¸­ï¼Œç±»é€‰æ‹©å™¨ä»¥ä¸€ä¸ªç‚¹â€.â€å·æ˜¾ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt; </span><br><span class="line">&lt;title&gt;æ ‡é¢˜&lt;/title&gt; </span><br><span class="line">&lt;style&gt;</span><br><span class="line">.center</span><br><span class="line">&#123;</span><br><span class="line">	text-align:center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 class=&quot;center&quot;&gt;æ ‡é¢˜å±…ä¸­&lt;/h1&gt;</span><br><span class="line">&lt;p class=&quot;center&quot;&gt;æ®µè½å±…ä¸­ã€‚&lt;/p&gt; </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>ä½ ä¹Ÿå¯ä»¥æŒ‡å®šç‰¹å®šçš„HTMLå…ƒç´ ä½¿ç”¨classã€‚æ¯”å¦‚<code>p.center</code> å°±åªæœ‰æ ‡äº†ç±»å±æ€§çš„æ®µè½èµ·ä½œç”¨</p>
<h2 id="4-å¦‚ä½•åˆ›å»º"><a href="#4-å¦‚ä½•åˆ›å»º" class="headerlink" title="4.å¦‚ä½•åˆ›å»º"></a>4.å¦‚ä½•åˆ›å»º</h2><h3 id="ï¼ˆ1ï¼‰å†…è”æ¨¡å¼"><a href="#ï¼ˆ1ï¼‰å†…è”æ¨¡å¼" class="headerlink" title="ï¼ˆ1ï¼‰å†…è”æ¨¡å¼"></a>ï¼ˆ1ï¼‰å†…è”æ¨¡å¼</h3><p><code>&lt;p style=&quot;color:sienna;margin-left:20px&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</code></p>
<h3 id="2-å†…éƒ¨æ ·å¼è¡¨"><a href="#2-å†…éƒ¨æ ·å¼è¡¨" class="headerlink" title="(2) å†…éƒ¨æ ·å¼è¡¨"></a>(2) å†…éƒ¨æ ·å¼è¡¨</h3><p>ä¸Šé¢çš„ç¤ºä¾‹éƒ½æ˜¯ï¼Œ<code>&lt;head&gt;</code>é‡Œçš„<code>&lt;style&gt;</code></p>
<h3 id="ï¼ˆ3ï¼‰å¤–éƒ¨æ ·å¼è¡¨"><a href="#ï¼ˆ3ï¼‰å¤–éƒ¨æ ·å¼è¡¨" class="headerlink" title="ï¼ˆ3ï¼‰å¤–éƒ¨æ ·å¼è¡¨"></a>ï¼ˆ3ï¼‰å¤–éƒ¨æ ·å¼è¡¨</h3><p>å½“æ ·å¼éœ€è¦åº”ç”¨äºå¾ˆå¤šé¡µé¢æ—¶ï¼Œå¤–éƒ¨æ ·å¼è¡¨å°†æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚å¯ä»¥é€šè¿‡æ”¹å˜ä¸€ä¸ªæ–‡ä»¶æ¥æ”¹å˜æ•´ä¸ªç«™ç‚¹çš„å¤–è§‚ã€‚</p>
<p>ä½¿ç”¨ <code>&lt;link&gt; </code>æ ‡ç­¾é“¾æ¥åˆ°æ ·å¼è¡¨ã€‚</p>
<p>htmlä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;mystyle.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>

<p>cssï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hr &#123;color:sienna;&#125;</span><br><span class="line">p &#123;margin-left:20px;&#125;</span><br><span class="line">body &#123;background-image:url(&quot;/images/back40.gif&quot;);&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯åŸºç¡€-vue</title>
    <url>/2021/08/23/myblog/%E5%89%8D%E7%AB%AF%E9%97%A8%E5%A4%96%E6%B1%89/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-Vue/</url>
    <content><![CDATA[<h1 id="VUE"><a href="#VUE" class="headerlink" title="VUE"></a>VUE</h1><h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h2><p>Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº view) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚</p>
<p>Vue çš„ç›®æ ‡æ˜¯é€šè¿‡å°½å¯èƒ½ç®€å•çš„ API å®ç°å“åº”çš„æ•°æ®ç»‘å®šå’Œç»„åˆçš„è§†å›¾ç»„ä»¶ã€‚</p>
<h2 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2.ä½¿ç”¨"></a>2.ä½¿ç”¨</h2><h3 id="1-CDNæ–¹æ³•"><a href="#1-CDNæ–¹æ³•" class="headerlink" title="(1)CDNæ–¹æ³•"></a>(1)CDNæ–¹æ³•</h3><p>åœ¨é¡µé¢ä¸Šä»¥ CDN åŒ…çš„å½¢å¼å¯¼å…¥ã€‚<br><code>&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;</code></p>
<blockquote>
<p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p>
<p>ç”±äºCDNæ˜¯ä¸ºåŠ å¿«ç½‘ç»œè®¿é—®é€Ÿåº¦è€Œè¢«ä¼˜åŒ–çš„ç½‘ç»œè¦†ç›–å±‚ï¼Œå› æ­¤è¢«å½¢è±¡åœ°ç§°ä¸ºâ€œç½‘ç»œåŠ é€Ÿå™¨â€ã€‚</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>    </span><br><span class="line">//<span class="tag">&lt;<span class="name">div</span>&gt;</span> æ ‡ç­¾å¯ä»¥æŠŠæ–‡æ¡£åˆ†å‰²ä¸ºç‹¬ç«‹çš„ã€ä¸åŒçš„éƒ¨åˆ†ã€‚å®ƒå¯ä»¥ç”¨ä½œä¸¥æ ¼çš„ç»„ç»‡å·¥å…·ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ä»»ä½•æ ¼å¼ä¸å…¶å…³è”ã€‚ç”¨ id æˆ– class æ¥æ ‡è®° <span class="tag">&lt;<span class="name">div</span>&gt;</span>ï¼Œé‚£ä¹ˆè¯¥æ ‡ç­¾çš„ä½œç”¨ä¼šå˜å¾—æ›´åŠ æœ‰æ•ˆã€‚</span><br><span class="line">//å¦‚æœä¸ CSS ä¸€åŒä½¿ç”¨ï¼Œ<span class="tag">&lt;<span class="name">div</span>&gt;</span> å…ƒç´ å¯ç”¨äºå¯¹å¤§çš„å†…å®¹å—è®¾ç½®æ ·å¼å±æ€§ã€‚</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">//&#123;&#123; &#125;&#125; ç”¨äºè¾“å‡ºå¯¹è±¡å±æ€§å’Œå‡½æ•°è¿”å›å€¼ã€‚</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,   <span class="comment">//idé€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="javascript">  <span class="attr">data</span>: &#123;         <span class="comment">//è¾“å‡ºä»€ä¹ˆä¸œè¥¿ï¼Ÿ</span></span></span><br><span class="line"><span class="javascript">    <span class="attr">message</span>: <span class="string">&#x27;Hello Vue.js!&#x27;</span></span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨npmæ–¹æ³•"><a href="#2-ä½¿ç”¨npmæ–¹æ³•" class="headerlink" title="(2)ä½¿ç”¨npmæ–¹æ³•"></a>(2)ä½¿ç”¨npmæ–¹æ³•</h3><p>npm run dev</p>
<p>Vue.js æä¾›ä¸€ä¸ªå®˜æ–¹å‘½ä»¤è¡Œå·¥å…·vue-cliï¼Œå¯ç”¨äºå¿«é€Ÿæ­å»ºå¤§å‹å•é¡µåº”ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å…¨å±€å®‰è£… vue-cli</span><br><span class="line">$ cnpm install --global vue-cli</span><br><span class="line"># åˆ›å»ºä¸€ä¸ªåŸºäº webpack æ¨¡æ¿çš„æ–°é¡¹ç›®</span><br><span class="line">$ vue init webpack my-project</span><br><span class="line"></span><br><span class="line">å®‰è£…åŠè¿è¡Œï¼š</span><br><span class="line">$ cd my-project</span><br><span class="line">$ cnpm install</span><br><span class="line">$ cnpm run dev</span><br><span class="line"></span><br><span class="line">é¡¹ç›®æ‰“åŒ…ï¼š</span><br><span class="line">npm run build</span><br><span class="line">æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨ Vue é¡¹ç›®ä¸‹ç”Ÿæˆä¸€ä¸ª dist ç›®å½•ï¼Œä¸€èˆ¬åŒ…å« index.html æ–‡ä»¶åŠ static ç›®å½•ï¼Œstatic ç›®å½•åŒ…å«äº†é™æ€æ–‡ä»¶ jsã€css ä»¥åŠå›¾ç‰‡ç›®å½• imagesã€‚</span><br><span class="line">ç›´æ¥åŒå‡» dist/index.html æ–‡ä»¶å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æ•ˆæœäº†ã€‚</span><br></pre></td></tr></table></figure>

<h2 id="3-VUEé¡¹ç›®"><a href="#3-VUEé¡¹ç›®" class="headerlink" title="3.VUEé¡¹ç›®"></a>3.VUEé¡¹ç›®</h2><h3 id="1-é¡¹ç›®ç›®å½•"><a href="#1-é¡¹ç›®ç›®å½•" class="headerlink" title="(1)é¡¹ç›®ç›®å½•"></a>(1)é¡¹ç›®ç›®å½•</h3><table>
<thead>
<tr>
<th align="left">ç›®å½•/æ–‡ä»¶</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">build</td>
<td align="left">é¡¹ç›®æ„å»º(webpack)ç›¸å…³ä»£ç </td>
</tr>
<tr>
<td align="left">config</td>
<td align="left">é…ç½®ç›®å½•ï¼ŒåŒ…æ‹¬ç«¯å£å·ç­‰ã€‚æˆ‘ä»¬åˆå­¦å¯ä»¥ä½¿ç”¨é»˜è®¤çš„ã€‚</td>
</tr>
<tr>
<td align="left">node_modules</td>
<td align="left">npm åŠ è½½çš„é¡¹ç›®ä¾èµ–æ¨¡å—</td>
</tr>
<tr>
<td align="left">src</td>
<td align="left">è¿™é‡Œæ˜¯æˆ‘ä»¬è¦å¼€å‘çš„ç›®å½•ï¼ŒåŸºæœ¬ä¸Šè¦åšçš„äº‹æƒ…éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œã€‚é‡Œé¢åŒ…å«äº†å‡ ä¸ªç›®å½•åŠæ–‡ä»¶ï¼šassets: æ”¾ç½®ä¸€äº›å›¾ç‰‡ï¼Œå¦‚logoç­‰ã€‚components: ç›®å½•é‡Œé¢æ”¾äº†ä¸€ä¸ªç»„ä»¶æ–‡ä»¶ï¼Œå¯ä»¥ä¸ç”¨ã€‚App.vue: é¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å°†ç»„ä»¶å†™è¿™é‡Œï¼Œè€Œä¸ä½¿ç”¨ components ç›®å½•ã€‚main.js: é¡¹ç›®çš„æ ¸å¿ƒæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">static</td>
<td align="left">é™æ€èµ„æºç›®å½•ï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰ã€‚</td>
</tr>
<tr>
<td align="left">test</td>
<td align="left">åˆå§‹æµ‹è¯•ç›®å½•ï¼Œå¯åˆ é™¤</td>
</tr>
<tr>
<td align="left">.xxxxæ–‡ä»¶</td>
<td align="left">è¿™äº›æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬è¯­æ³•é…ç½®ï¼Œgité…ç½®ç­‰ã€‚</td>
</tr>
<tr>
<td align="left">index.html</td>
<td align="left">é¦–é¡µå…¥å£æ–‡ä»¶ï¼Œä½ å¯ä»¥æ·»åŠ ä¸€äº› meta ä¿¡æ¯æˆ–ç»Ÿè®¡ä»£ç å•¥çš„ã€‚</td>
</tr>
<tr>
<td align="left">package.json</td>
<td align="left">é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">README.md</td>
<td align="left">é¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ï¼Œmarkdown æ ¼å¼</td>
</tr>
</tbody></table>
<p>app.vue:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å±•ç¤ºæ¨¡æ¿ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">// å¯¼å…¥ç»„ä»¶</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Hello <span class="keyword">from</span> <span class="string">&#x27;./components/Hello&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">    Hello</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ ·å¼ä»£ç  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-family</span>: <span class="string">&#x27;Avenir&#x27;</span>, Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="css">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span></span><br><span class="line"><span class="css">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-templateæ ‡ç­¾"><a href="#2-templateæ ‡ç­¾" class="headerlink" title="(2)templateæ ‡ç­¾"></a>(2)templateæ ‡ç­¾</h3><p>ä½¿ç”¨ <code>&lt;template&gt;</code> ä¿ç•™é¡µé¢åŠ è½½æ—¶éšè—çš„å†…å®¹ã€‚ä½¿ç”¨ JavaScript æ¥æ˜¾ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;template å…ƒç´ &lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;å•å‡»ä¸‹é¢çš„æŒ‰é’®ï¼Œæ˜¾ç¤º template å…ƒç´ ä¸­çš„éšè—å†…å®¹ã€‚&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;button onclick=&quot;showContent()&quot;&gt;æ˜¾ç¤ºéšè—çš„å†…å®¹&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;     //ç‚¹å‡»æŒ‰é’®æ‰ä¼šæ˜¾ç¤ºï¼ŒJavaScriptå“åº”äº‹ä»¶</span><br><span class="line">  &lt;h2&gt;Flower&lt;/h2&gt;</span><br><span class="line">  &lt;img src=&quot;/i/photo/flower.gif&quot; width=&quot;180&quot; height=&quot;180&quot;&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function showContent() &#123;</span><br><span class="line">  var temp = document.getElementsByTagName(&quot;template&quot;)[0];</span><br><span class="line">  var clon = temp.content.cloneNode(true);</span><br><span class="line">  document.body.appendChild(clon);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-vueåº”ç”¨"><a href="#3-vueåº”ç”¨" class="headerlink" title="(3)vueåº”ç”¨"></a>(3)vueåº”ç”¨</h3><p>æ¯ä¸ª Vue åº”ç”¨éƒ½éœ€è¦é€šè¿‡å®ä¾‹åŒ– Vue æ¥å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  // é€‰é¡¹</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue æµ‹è¯•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/vue/2.4.2/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;vue_det&quot;</span>&gt;</span>   //å—å„¿</span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>site : &#123;&#123;site&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>url : &#123;&#123;url&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Alexa : &#123;&#123;alexa&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// æˆ‘ä»¬çš„æ•°æ®å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> data = &#123; <span class="attr">site</span>: <span class="string">&quot;hello&quot;</span>, <span class="attr">url</span>: <span class="string">&quot;www.runoob.com&quot;</span>, <span class="attr">alexa</span>: <span class="number">10000</span>&#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;    <span class="comment">//vueåº”ç”¨</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>: <span class="string">&#x27;#vue_det&#x27;</span>,    <span class="comment">//idé€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">data</span>: data       <span class="comment">//æ•°æ®ï¼Œåœ¨å¤–é¢</span></span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å®ƒä»¬å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(vm.site === data.site) <span class="comment">// true</span></span></span><br><span class="line"><span class="javascript">	<span class="built_in">document</span>.write(<span class="string">&quot;&lt;br&gt;&quot;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="comment">// è®¾ç½®å±æ€§ä¹Ÿä¼šå½±å“åˆ°åŸå§‹æ•°æ®</span></span></span><br><span class="line"><span class="javascript">    vm.site = <span class="string">&quot;Runoob&quot;</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(data.site + <span class="string">&quot;&lt;br&gt;&quot;</span>) <span class="comment">// Runoob</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// â€¦â€¦åä¹‹äº¦ç„¶</span></span></span><br><span class="line"><span class="javascript">    data.alexa = <span class="number">1234</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(vm.alexa) <span class="comment">// 1234</span></span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“ä¸€ä¸ª Vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒå‘ Vue çš„å“åº”å¼ç³»ç»Ÿä¸­åŠ å…¥äº†å…¶ data å¯¹è±¡ä¸­èƒ½æ‰¾åˆ°çš„æ‰€æœ‰çš„å±æ€§ã€‚å½“è¿™äº›å±æ€§çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œhtml è§†å›¾å°†ä¹Ÿä¼šäº§ç”Ÿç›¸åº”çš„å˜åŒ–ã€‚</p>
<h2 id="4-vscodeè¿è¡Œhtml"><a href="#4-vscodeè¿è¡Œhtml" class="headerlink" title="4.vscodeè¿è¡Œhtml"></a>4.vscodeè¿è¡Œhtml</h2><p>(1).æ–°å»º.htmlæ–‡ä»¶</p>
<p>(2).å®‰è£…open in browseræ’ä»¶</p>
<p>(3).htmlé¡µé¢å³é”®é€‰æ‹©open in other browser</p>
<h2 id="5-vueé¡¹ç›®ä¸ç”¨localhost"><a href="#5-vueé¡¹ç›®ä¸ç”¨localhost" class="headerlink" title="5.vueé¡¹ç›®ä¸ç”¨localhost"></a>5.vueé¡¹ç›®ä¸ç”¨localhost</h2><p>æ”¹å˜configä¸‹index.jsé‡Œçš„ipï¼Œä¹Ÿæ˜¯æœ¬æœºçš„ç§æœ‰ipï¼Œå…¬ç½‘å†…çš„å…¶ä»–ipå¯è®¿é—®ã€‚å‰æï¼šä¸€ä¸ªå…¬ç½‘ã€‚</p>
<h2 id="6-é¡¹ç›®è§£è¯»"><a href="#6-é¡¹ç›®è§£è¯»" class="headerlink" title="6.é¡¹ç›®è§£è¯»"></a>6.é¡¹ç›®è§£è¯»</h2><p>main.js åƒæ˜¯åŠ vueåº”ç”¨çš„ã€‚</p>
<p>.vue é‡Œé¢æœ‰<code>&lt;template&gt;</code> <code>&lt;script&gt;</code> <code>&lt;style&gt;</code></p>
<p>é¦–é¡µå…¥å£æ–‡ä»¶ï¼šindex.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>myfirstvue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®å…¥å£æ–‡ä»¶ï¼šApp.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">font-family</span>: <span class="string">&#x27;Avenir&#x27;</span>, Helvetica, Arial, sans-serif;</span></span><br><span class="line"><span class="css">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span></span><br><span class="line"><span class="css">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span></span><br><span class="line"><span class="css">  <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: <span class="number">#2c3e50</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ES6ï¼šå…¨ç§° ECMAScript 6.0 ï¼Œæ˜¯ JavaScript çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬æ ‡å‡†ï¼Œ2015.06 å‘ç‰ˆã€‚</p>
<p>ES6 ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ ES5 çš„å…ˆå¤©ä¸è¶³ï¼Œæ¯”å¦‚ JavaScript é‡Œå¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯ç›®å‰æµè§ˆå™¨çš„ JavaScript æ˜¯ ES5 ç‰ˆæœ¬ï¼Œå¤§å¤šæ•°é«˜ç‰ˆæœ¬çš„æµè§ˆå™¨ä¹Ÿæ”¯æŒ ES6ï¼Œä¸è¿‡åªå®ç°äº† ES6 çš„éƒ¨åˆ†ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚</p>
<h3 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h3><p>ç”¨äºå¯¼å‡ºå¸¸é‡ã€å‡½æ•°ã€æ–‡ä»¶ã€æ¨¡å—ç­‰ã€‚</p>
<p>exportå¯ä»¥æœ‰å¤šä¸ªï¼Œexport defaultåªèƒ½æœ‰ä¸€ä¸ª</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hello.vueä¸­ï¼š</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HelloWorld&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;Welcome to Your Vue.js App&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="7-vscodeæ‰“å¼€ç»ˆç«¯"><a href="#7-vscodeæ‰“å¼€ç»ˆç«¯" class="headerlink" title="7.vscodeæ‰“å¼€ç»ˆç«¯"></a>7.vscodeæ‰“å¼€ç»ˆç«¯</h3><p>ctrl+Â·ï¼ˆå·¦ä¸Šè§’escä¸‹é¢çš„ï¼‰</p>
<p>æˆ–ï¼šæŸ¥çœ‹-&gt;ç»ˆç«¯</p>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºç¬¬ä¸€ä¸ªVUEé¡¹ç›®ï¼Œå…¥é—¨çº§åˆ«</title>
    <url>/2021/08/19/myblog/%E5%89%8D%E7%AB%AF%E9%97%A8%E5%A4%96%E6%B1%89/%E6%90%AD%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AAVUE%E9%A1%B9%E7%9B%AE%EF%BC%8C%E5%85%A5%E9%97%A8%E7%BA%A7%E5%88%AB/</url>
    <content><![CDATA[<h3 id="1-å¼€å‘è½¯ä»¶vscode"><a href="#1-å¼€å‘è½¯ä»¶vscode" class="headerlink" title="1.å¼€å‘è½¯ä»¶vscode"></a>1.å¼€å‘è½¯ä»¶vscode</h3><p>vscodeç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¼€æºï¼Œå…è´¹ï¼›</li>
<li>è‡ªå®šä¹‰é…ç½®</li>
<li>é›†æˆgit</li>
<li>æ™ºèƒ½æç¤ºå¼ºå¤§</li>
<li>æ”¯æŒå„ç§æ–‡ä»¶æ ¼å¼ï¼ˆhtml/jade/css/less/sass/xmlï¼‰</li>
<li>è°ƒè¯•åŠŸèƒ½å¼ºå¤§</li>
<li>å„ç§æ–¹ä¾¿çš„å¿«æ·é”®</li>
<li>å¼ºå¤§çš„æ’ä»¶æ‰©å±•</li>
</ul>
<h4 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h4><p>Debugger for Chromeï¼šä»VS Codeè°ƒè¯•åœ¨Google Chromeä¸­è¿è¡Œçš„JavaScriptä»£ç ã€‚</p>
<p>beautifyï¼šæ ¼å¼åŒ–ä»£ç å·¥å…·ï¼Œç¾åŒ–Javascriptï¼ŒJSONï¼ŒCSSï¼ŒSassï¼Œå’ŒHTMLåœ¨Visual Studioä»£ç ã€‚</p>
<p>Atuo Rename Tagï¼šä¿®æ”¹ html æ ‡ç­¾ï¼Œè‡ªåŠ¨å¸®ä½ å®Œæˆå¤´éƒ¨å’Œå°¾éƒ¨é—­åˆæ ‡ç­¾çš„åŒæ­¥ä¿®æ”¹ã€‚</p>
<p>ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰è¯­è¨€åŒ…</p>
<p>Code Spell Checkerï¼šä»£ç æ‹¼å†™æ£€æŸ¥å™¨ï¼Œä¸€ä¸ªä¸camelCaseä»£ç é…åˆè‰¯å¥½çš„åŸºæœ¬æ‹¼å†™æ£€æŸ¥ç¨‹åºã€‚æ­¤æ‹¼å†™æ£€æŸ¥ç¨‹åºçš„ç›®æ ‡æ˜¯å¸®åŠ©æ•è·å¸¸è§çš„æ‹¼å†™é”™è¯¯ï¼ŒåŒæ—¶ä¿æŒè¯¯æŠ¥æ•°é‡è¾ƒä½ã€‚ </p>
<p>vscode-iconsï¼šæ˜¾ç¤ºVisual Studioä»£ç çš„å›¾æ ‡ï¼Œç›®å‰è¯¥æ’ä»¶å·²è¢«vscodeå†…éƒ¨æ”¯æŒï¼šâ€æ–‡ä»¶â€ -&gt; â€œé¦–é€‰é¡¹â€ -&gt; â€œæ–‡ä»¶å›¾æ ‡ä¸»é¢˜â€ã€‚ </p>
<p>guidesï¼šæ˜¾ç¤ºä»£ç å¯¹é½è¾…åŠ©çº¿ï¼Œå¾ˆå¥½ç”¨ã€‚</p>
<p>filesizeï¼šåœ¨çŠ¶æ€æ ä¸­æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤§å°ï¼Œç‚¹å‡»åè¿˜å¯ä»¥çœ‹åˆ°è¯¦ç»†åˆ›å»º</p>
<p>Path Intellisenseï¼šå¯è‡ªåŠ¨å¡«å……æ–‡ä»¶åã€‚ </p>
<h3 id="2-å…¥é—¨"><a href="#2-å…¥é—¨" class="headerlink" title="2.å…¥é—¨"></a>2.å…¥é—¨</h3><ol>
<li><strong>HTML</strong> å®šä¹‰äº†ç½‘é¡µçš„å†…å®¹</li>
<li><strong>CSS</strong> æè¿°äº†ç½‘é¡µçš„å¸ƒå±€</li>
<li><strong>JavaScript</strong> æ§åˆ¶äº†ç½‘é¡µçš„è¡Œä¸º</li>
<li><strong>Vue.js</strong>ï¼ˆè¯»éŸ³ /vjuË/, ç±»ä¼¼äº viewï¼‰ æ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚<br>Vue åªå…³æ³¨è§†å›¾å±‚ï¼Œ é‡‡ç”¨è‡ªåº•å‘ä¸Šå¢é‡å¼€å‘çš„è®¾è®¡ã€‚<br>Vue çš„ç›®æ ‡æ˜¯é€šè¿‡å°½å¯èƒ½ç®€å•çš„ API å®ç°å“åº”çš„æ•°æ®ç»‘å®šå’Œç»„åˆçš„è§†å›¾ç»„ä»¶ã€‚</li>
</ol>
<h3 id="3-å¼€å§‹ä¸€ä¸ªvueé¡¹ç›®"><a href="#3-å¼€å§‹ä¸€ä¸ªvueé¡¹ç›®" class="headerlink" title="3.å¼€å§‹ä¸€ä¸ªvueé¡¹ç›®"></a>3.å¼€å§‹ä¸€ä¸ªvueé¡¹ç›®</h3><h4 id="1ï¼‰å®‰è£…nodeç¯å¢ƒ"><a href="#1ï¼‰å®‰è£…nodeç¯å¢ƒ" class="headerlink" title="1ï¼‰å®‰è£…nodeç¯å¢ƒ"></a>1ï¼‰å®‰è£…nodeç¯å¢ƒ</h4><h5 id="Node-jsç®€ä»‹"><a href="#Node-jsç®€ä»‹" class="headerlink" title="Node.jsç®€ä»‹"></a>Node.jsç®€ä»‹</h5><p>ç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆã€‚Node.js çš„åŒ…ç®¡ç†å™¨ npmï¼Œæ˜¯å…¨çƒæœ€å¤§çš„å¼€æºåº“ç”Ÿæ€ç³»ç»Ÿã€‚</p>
<p>Node.jsæ˜¯ä¸€ä¸ªè®©JavaScriptè¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼Œå®ƒè®©JavaScriptæˆä¸ºä¸PHPã€Pythonã€Perlã€Rubyç­‰æœåŠ¡ç«¯è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€</p>
<p>ç±»ä¼¼äºJ2EE</p>
<blockquote>
<p>Javaçš„ä¸‰ä¸ªç‰ˆæœ¬ : JAVASE(æ ‡å‡†ç‰ˆ),JAVAEE(ä¼ä¸šç‰ˆ),JAVAME(å¾®å‹ç‰ˆ).</p>
<p>javaæ˜¯ä¸€ä¸ªå¹³å°ã€‚ä»–åŒ…æ‹¬äº†ï¼Œjavaè¯­è¨€ï¼Œjavaå¼€å‘ç¯å¢ƒ(jdk)ã€‚javaæœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼Œj2se(æ ‡å‡†ç‰ˆ),j2ee(ä¼ä¸šç‰ˆ),j2me(å¾®å‹ç‰ˆ)ä¸ç®¡å“ªä¸ªç‰ˆæœ¬ï¼Œéƒ½æ˜¯javaè¯­è¨€å®ç°çš„ä¸€ä¸ªæ¡†æ¶ã€‚ä¹‹æ‰€ä»¥è¦åˆ†ç‰ˆæœ¬ï¼Œæ˜¯å› ä¸º3ä¸ªç‰ˆæœ¬æ˜¯é’ˆå¯¹ä¸åŒé—®é¢˜ï¼Œè®¾è®¡çš„è§£å†³æ–¹æ¡ˆã€‚j2EEæ˜¯javaçš„ä¼ä¸šçº§å¼€å‘ç‰ˆæœ¬ï¼Œå…¶å®æ¢å¥è¯è¯´å°±æ˜¯ç”¨æ¥åšwebå¼€å‘çš„javaæ¡†æ¶ã€‚javaEEé€šè¿‡è®¾å®šç»Ÿä¸€çš„æ ‡å‡†æ¥è§£å†³webå¼€å‘çš„é—®é¢˜ï¼ŒjavaEEçš„æ¥å£ï¼ŒæŠ½è±¡ç±»ï¼Œè§„å®šäº†webå¼€å‘æ‰€éœ€è¦å®ç°çš„æµç¨‹ã€‚æ•´ä¸ªwebçš„å¼€å‘ï¼Œæœ‰2å±‚ï¼Œç¬¬1å±‚æ˜¯æœåŠ¡å™¨å®¹å™¨ï¼Œæ¯”å¦‚tomcatï¼Œweblogicã€‚ä»–ä»¬åœ¨javaEEçš„è§„èŒƒä¸‹ï¼Œå®ç°å¥—æ¥å­—çš„è¿æ¥ï¼Œå°è£…æ¶ˆæ¯ç­‰ç­‰ï¼Œç¬¬2å±‚æ˜¯ä¸šåŠ¡ï¼Œè€Œè¿™ä¸€å±‚æ˜¯ä½ è¦åšçš„ï¼Œé€šè¿‡tomcatå°è£…çš„æ¶ˆæ¯ï¼Œè¿›è¡Œç›¸åº”çš„ä¸šåŠ¡å¤„ç†ã€‚æœåŠ¡å™¨å®¹å™¨çš„å¼€å‘ç”±å¤§å‹çš„äº§å•†å¼€å‘ï¼Œè€Œæˆ‘ä»¬é€šå¸¸åšçš„å¼€å‘æ˜¯åœ¨æœåŠ¡å™¨å®¹å™¨ä¸Šçš„ä¸šåŠ¡å¼€å‘ï¼Œæ­£æ˜¯sunçš„javaEEç»Ÿä¸€äº†è§„èŒƒ(æ¯”å¦‚ç”¨servlet)æˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ï¼Œèƒ½å’Œcomcatè¿›è¡Œå¾ˆå¥½çš„é€šè®¯ã€‚</p>
</blockquote>
<p>ä¸‹è½½åœ°å€ä¸ºï¼š<a href="https://nodejs.org/en/">https://nodejs.org/en/</a></p>
<h5 id="npmç®€ä»‹"><a href="#npmç®€ä»‹" class="headerlink" title="npmç®€ä»‹"></a>npmç®€ä»‹</h5><p>npmï¼šNode.jsçš„åŒ…ç®¡ç†å·¥å…·ï¼ˆpackage managerï¼‰å¤§å®¶éƒ½æŠŠè‡ªå·±å¼€å‘çš„æ¨¡å—æ‰“åŒ…åæ”¾åˆ°npmå®˜ç½‘ä¸Šï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œ</p>
<p>ç›´æ¥é€šè¿‡npmå®‰è£…å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸ç”¨ç®¡ä»£ç å­˜åœ¨å“ªï¼Œåº”è¯¥ä»å“ªä¸‹è½½ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨æ¨¡å—Aï¼Œè€Œæ¨¡å—Aåˆä¾èµ–äºæ¨¡å—Bï¼Œæ¨¡å—Båˆä¾èµ–äºæ¨¡å—X</p>
<p>npmå¯ä»¥æ ¹æ®ä¾èµ–å…³ç³»ï¼ŒæŠŠæ‰€æœ‰ä¾èµ–çš„åŒ…éƒ½ä¸‹è½½ä¸‹æ¥å¹¶ç®¡ç†èµ·æ¥ã€‚</p>
<p>ç±»ä¼¼ä¸MAVEN</p>
<p><code>npm install -g cnpm â€“registry=https://registry.npm.taobao.org</code>ï¼Œå³å¯å®‰è£…npmé•œåƒï¼Œä»¥åå†ç”¨åˆ°npmçš„åœ°æ–¹ç›´æ¥ç”¨cnpmæ¥ä»£æ›¿å°±å¥½äº†ã€‚</p>
<h4 id="2ï¼‰æ­å»ºvueé¡¹ç›®ç¯å¢ƒ"><a href="#2ï¼‰æ­å»ºvueé¡¹ç›®ç¯å¢ƒ" class="headerlink" title="2ï¼‰æ­å»ºvueé¡¹ç›®ç¯å¢ƒ"></a>2ï¼‰æ­å»ºvueé¡¹ç›®ç¯å¢ƒ</h4><p><strong>vue-cliç®€ä»‹</strong></p>
<p>vue-cliæ˜¯vueå®˜æ–¹æä¾›çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºå¿«é€Ÿæ­å»ºå¤§å‹å•é¡µåº”ç”¨ã€‚è¯¥å·¥å…·æä¾›å¼€ç®±å³ç”¨çš„æ„å»ºå·¥å…·é…ç½®ï¼Œå¸¦æ¥ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘æµç¨‹ã€‚åªéœ€ä¸€åˆ†é’Ÿå³å¯å¯åŠ¨å¸¦çƒ­é‡è½½ã€ä¿å­˜æ—¶é™æ€æ£€æŸ¥ä»¥åŠå¯ç”¨äºç”Ÿäº§ç¯å¢ƒçš„æ„å»ºé…ç½®çš„é¡¹ç›®ã€‚</p>
<p>å®‰è£…vue-cliï¼švue-cliæ˜¯vue.jsçš„è„šæ‰‹æ¶ï¼Œç”¨äºè‡ªåŠ¨ç”Ÿæˆvue.js+webpackçš„é¡¹ç›®æ¨¡æ¿ï¼Œè‡ªåŠ¨åŒ–å‰ç«¯é¡¹ç›®å·¥å…·</p>
<p>webpackæ˜¯ä¸€ä¸ª<strong>æ‰“åŒ…å™¨ï¼ˆbundlerï¼‰</strong>ï¼Œå®ƒèƒ½å°†å¤šä¸ªjsæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆå…¶å®ä¸æ­¢èƒ½æ‰“åŒ…jsæ–‡ä»¶ï¼Œä¹Ÿèƒ½æ‰“åŒ…å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œæ¯”å¦‚cssæ–‡ä»¶ï¼Œjsonæ–‡ä»¶ç­‰ï¼‰ã€‚</p>
<p><code>npm install --global vue-cli</code></p>
<h4 id="2-5ï¼‰centosä¸‹å®‰è£…"><a href="#2-5ï¼‰centosä¸‹å®‰è£…" class="headerlink" title="2.5ï¼‰centosä¸‹å®‰è£…"></a>2.5ï¼‰centosä¸‹å®‰è£…</h4><p><code>sudo yum install -y nodejs</code></p>
<p><code>sudo yum install -y npm</code></p>
<p><code>npm install --global vue-cli</code>    //å‘ç”Ÿé”™è¯¯ï¼Œæ— æ³•æˆåŠŸå®‰è£…</p>
<blockquote>
<p><code>npm config set strict-ssl false</code>   //ç»•è¿‡https</p>
<p>å†sudoæ‰§è¡Œè¿˜æ˜¯ä¸è¡ŒğŸ‘‹ğŸ»  å¡ä½äº†ã€‚ã€‚ã€‚</p>
<p>Yarnæ˜¯facebookå‘å¸ƒçš„ä¸€æ¬¾å–ä»£npmçš„åŒ…ç®¡ç†å·¥å…·ã€‚</p>
<p><code>sudo npm install -g yarn</code>  åŒæ ·çš„é”™è¯¯ï¼šnpm ERR! Error: CERT_UNTRUSTED</p>
</blockquote>
<p>æŒ¥ä¹‹ä¸å»çš„é”™è¯¯ï¼šnpmå®‰è£…è¿‡ä¸äº†</p>
<p><strong>è½¬æˆ˜MACå®‰è£…ï¼š</strong></p>
<blockquote>
<p>1.å®‰è£…node.js(<a href="http://www.runoob.com/nodejs/nodejs-install-setup.html">http://www.runoob.com/nodejs/nodejs-install-setup.html</a>)  node -v<br>2.å®‰è£…npmï¼šç•¥  npm -v<br>3.å®‰è£…cnpmï¼šsudo npm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a><br>4.å®‰è£…å…¨å±€vue-cliè„šæ‰‹æ¶,ç”¨äºå¸®åŠ©æ­å»ºæ‰€éœ€çš„æ¨¡æ¿æ¡†æ¶ï¼šsudo cnpm install -g vue-cli</p>
</blockquote>
<h4 id="3-åˆ›å»ºä¸€ä¸ªåŸºäºwebpackæ¨¡æ¿çš„æ–°é¡¹ç›®"><a href="#3-åˆ›å»ºä¸€ä¸ªåŸºäºwebpackæ¨¡æ¿çš„æ–°é¡¹ç›®" class="headerlink" title="3)åˆ›å»ºä¸€ä¸ªåŸºäºwebpackæ¨¡æ¿çš„æ–°é¡¹ç›®"></a>3)åˆ›å»ºä¸€ä¸ªåŸºäºwebpackæ¨¡æ¿çš„æ–°é¡¹ç›®</h4><p>è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªåŸºäºwebpackæ¨¡æ¿çš„æ–°é¡¹ç›®<br><code>vue init webpack myfirstvue</code></p>
<p>é€‰æ‹©é¡¹ç›®åå­—ã€é¡¹ç›®æè¿°ã€ä½œè€…ç­‰ç­‰Vue build ==&gt; æ‰“åŒ…æ–¹å¼ï¼Œå›è½¦å³å¯ï¼›</p>
<p>Install vue-router ==&gt; æ˜¯å¦è¦å®‰è£… vue-router</p>
<p>Use ESLint to lint your code ==&gt; æ˜¯å¦éœ€è¦ js è¯­æ³•æ£€æµ‹ </p>
<p>Set up unit tests ==&gt; æ˜¯å¦å®‰è£… å•å…ƒæµ‹è¯•å·¥å…·</p>
<p>Setup e2e tests with Nightwatch ==&gt; æ˜¯å¦éœ€è¦ ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…· </p>
<p>é¡ºä¾¿è¿˜å®‰è£…äº†yarn</p>
<h4 id="4ï¼‰è¿›å…¥é¡¹ç›®ï¼Œå®‰è£…ä¾èµ–"><a href="#4ï¼‰è¿›å…¥é¡¹ç›®ï¼Œå®‰è£…ä¾èµ–" class="headerlink" title="4ï¼‰è¿›å…¥é¡¹ç›®ï¼Œå®‰è£…ä¾èµ–"></a>4ï¼‰è¿›å…¥é¡¹ç›®ï¼Œå®‰è£…ä¾èµ–</h4><p>cd myfirstvue è¿›å…¥é¡¹ç›®</p>
<p>å®‰è£…æˆåŠŸåï¼Œé¡¹ç›®æ–‡ä»¶å¤¹ä¸­ä¼šå¤šå‡ºä¸€ä¸ªç›®å½•ï¼šnode_modules</p>
<h4 id="5ï¼‰è¿è¡Œé¡¹ç›®"><a href="#5ï¼‰è¿è¡Œé¡¹ç›®" class="headerlink" title="5ï¼‰è¿è¡Œé¡¹ç›®"></a>5ï¼‰è¿è¡Œé¡¹ç›®</h4><p>npm run dev  </p>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/2499596/202108/2499596-20210817150434095-1939209105.png"></p>
<h4 id="6ï¼‰é¡¹ç›®ç›®å½•è§£è¯»"><a href="#6ï¼‰é¡¹ç›®ç›®å½•è§£è¯»" class="headerlink" title="6ï¼‰é¡¹ç›®ç›®å½•è§£è¯»"></a>6ï¼‰é¡¹ç›®ç›®å½•è§£è¯»</h4><p>1ã€buildï¼šæ„å»ºè„šæœ¬ç›®å½•</p>
<p>ã€€ã€€ã€€ã€€1ï¼‰build.js  ==&gt; ç”Ÿäº§ç¯å¢ƒæ„å»ºè„šæœ¬ï¼›``</p>
<p>ã€€ã€€ã€€ã€€2ï¼‰check-versions.js  ==&gt; æ£€æŸ¥npmï¼Œnode.jsç‰ˆæœ¬ï¼›</p>
<p>ã€€ã€€ã€€ã€€3ï¼‰utils.js  ==&gt; æ„å»ºç›¸å…³å·¥å…·æ–¹æ³•ï¼›</p>
<p>ã€€ã€€ã€€ã€€4ï¼‰vue-loader.conf.js  ==&gt; é…ç½®äº†cssåŠ è½½å™¨ä»¥åŠç¼–è¯‘cssä¹‹åè‡ªåŠ¨æ·»åŠ å‰ç¼€ï¼›</p>
<p>ã€€ã€€ã€€ã€€5ï¼‰webpack.base.conf.js  ==&gt; webpackåŸºæœ¬é…ç½®ï¼›</p>
<p>ã€€ã€€ã€€ã€€6ï¼‰webpack.dev.conf.js  ==&gt; webpackå¼€å‘ç¯å¢ƒé…ç½®ï¼›</p>
<p>ã€€ã€€ã€€ã€€7ï¼‰webpack.prod.conf.js  ==&gt; webpackç”Ÿäº§ç¯å¢ƒé…ç½®ï¼›</p>
<p>2ã€configï¼šé¡¹ç›®é…ç½®</p>
<p>ã€€ã€€ã€€ã€€1ï¼‰dev.env.js  ==&gt; å¼€å‘ç¯å¢ƒå˜é‡ï¼›</p>
<p>ã€€ã€€ã€€ã€€2ï¼‰index.js  ==&gt; é¡¹ç›®é…ç½®æ–‡ä»¶ï¼›</p>
<p>ã€€ã€€ã€€ã€€3ï¼‰prod.env.js  ==&gt; ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼›</p>
<p>3ã€node_modulesï¼šnpm åŠ è½½çš„é¡¹ç›®ä¾èµ–æ¨¡å—</p>
<p>4ã€srcï¼šè¿™é‡Œæ˜¯æˆ‘ä»¬è¦å¼€å‘çš„ç›®å½•ï¼ŒåŸºæœ¬ä¸Šè¦åšçš„äº‹æƒ…éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œã€‚é‡Œé¢åŒ…å«äº†å‡ ä¸ªç›®å½•åŠæ–‡ä»¶ï¼š</p>
<p>ã€€ã€€ã€€ã€€1ï¼‰assetsï¼šèµ„æºç›®å½•ï¼Œæ”¾ç½®ä¸€äº›å›¾ç‰‡æˆ–è€…å…¬å…±jsã€å…¬å…±cssã€‚è¿™é‡Œçš„èµ„æºä¼šè¢«webpackæ„å»ºï¼›</p>
<p>ã€€ã€€ã€€ã€€2ï¼‰componentsï¼šç»„ä»¶ç›®å½•ï¼Œæˆ‘ä»¬å†™çš„ç»„ä»¶å°±æ”¾åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ï¼›</p>
<p>ã€€ã€€ã€€ã€€3ï¼‰routerï¼šå‰ç«¯è·¯ç”±ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®çš„è·¯ç”±è·¯å¾„å†™åœ¨index.jsé‡Œé¢ï¼›</p>
<p>ã€€ã€€ã€€ã€€4ï¼‰App.vueï¼šæ ¹ç»„ä»¶ï¼›</p>
<p>ã€€ã€€ã€€ã€€5ï¼‰main.jsï¼šå…¥å£jsæ–‡ä»¶ï¼›</p>
<p>5ã€staticï¼šé™æ€èµ„æºç›®å½•ï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰ã€‚ä¸ä¼šè¢«webpackæ„å»º</p>
<p>6ã€index.htmlï¼šé¦–é¡µå…¥å£æ–‡ä»¶ï¼Œå¯ä»¥æ·»åŠ ä¸€äº› meta ä¿¡æ¯ç­‰</p>
<p>7ã€package.jsonï¼šnpmåŒ…é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†é¡¹ç›®çš„npmè„šæœ¬ï¼Œä¾èµ–åŒ…ç­‰ä¿¡æ¯``</p>
<p>8ã€README.mdï¼šé¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ï¼Œmarkdown æ ¼å¼</p>
<p>9ã€.xxxxæ–‡ä»¶ï¼šè¿™äº›æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬è¯­æ³•é…ç½®ï¼Œgité…ç½®ç­‰</p>
<h4 id="7ï¼‰é¡¹ç›®æ”¹é€ "><a href="#7ï¼‰é¡¹ç›®æ”¹é€ " class="headerlink" title="7ï¼‰é¡¹ç›®æ”¹é€ "></a>7ï¼‰é¡¹ç›®æ”¹é€ </h4><p>1.åœ¨componentsç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªviewsç›®å½•ï¼Œé‡Œé¢å†™æˆ‘ä»¬çš„vueç»„ä»¶<br>  åœ¨viewsç›®å½•ä¸‹æ–°å»ºFirst.vue</p>
<p>2.åœ¨routerç›®å½•ä¸‹çš„index.jsé‡Œé¢é…ç½®è·¯ç”±è·¯å¾„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Router from &#x27;vue-router&#x27;</span><br><span class="line">import HelloWorld from &#x27;@/components/HelloWorld&#x27;</span><br><span class="line">import first from &#x27;@components/views/first&#x27;</span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &#x27;/&#x27;,</span><br><span class="line">      name: &#x27;HelloWorld&#x27;,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      path: &#x27;/first&#x27;,</span><br><span class="line">      name: &#x27;first&#x27;,</span><br><span class="line">      component: first</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>3.template å†™ htmlï¼Œscriptå†™ jsï¼Œstyleå†™æ ·å¼ï¼ˆè¿è¡Œä¼šæç¤ºç©ºæ ¼å¼•å·é”™è¯¯ä¹‹ç±»çš„ï¼ŒæŒ‰è¦æ±‚ä¿®æ”¹å³å¯ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">template&gt;</span><br><span class="line">  &lt;div class=&quot;first-app&quot;&gt;</span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;first&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;welcome to firstapp&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- what --&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>4.æ•ˆæœï¼š</p>
<p><img src="https://img2020.cnblogs.com/blog/2499596/202108/2499596-20210817150350056-832764408.png"></p>
<h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><p><a href="https://www.cnblogs.com/hellman/p/10985377.html">https://www.cnblogs.com/hellman/p/10985377.html</a></p>
<p><a href="https://www.cnblogs.com/miller-star/p/6394760.html">https://www.cnblogs.com/miller-star/p/6394760.html</a></p>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ çš„åŒºåˆ«</title>
    <url>/2022/01/09/myblog/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>æœºå™¨å­¦ä¹ â€”æ‹¥æœ‰æ‰¾ä¸€ä¸ªå‡½æ•°çš„èƒ½åŠ›ï¼Œæ ¹æ®è¾“å‡ºçš„ä¸åŒï¼Œåˆ†ä¸ºregressionå›å½’ã€åˆ†ç±»classificationï¼Œä»¥åŠå¾ˆå°‘æåŠçš„ç»“æ„åŒ–å­¦ä¹ structured learningï¼ˆè¾“å‡ºå›¾åƒï¼Œæ–‡æœ¬ï¼‰ã€‚</p>
<p>1.æ‰¾ä¸€ä¸ªå¸¦æœ‰æœªçŸ¥å‚æ•°çš„å‡½æ•°ï¼šy=b+wxï¼Œbåç½®ï¼Œwæƒé‡ï¼Œæœºå™¨å­¦ä¹ ä¸­ï¼ŒæœªçŸ¥çš„å‚æ•°æ˜¯é€šè¿‡æ•°æ®æ¥å­¦ä¹ çš„ã€‚å¸¦æœ‰æœªçŸ¥å‚æ•°çš„å‡½æ•°ç§°ä¸ºmodelæ¨¡å‹ã€‚</p>
<p>2.ä»è®­ç»ƒæ•°æ®ä¸­å®šä¹‰Lossï¼ˆæŸå¤±ï¼‰ï¼ŒLossæ˜¯å…³äºå‚æ•°bã€wçš„å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ç»„å‚æ•°å€¼å¥½è¿˜æ˜¯ä¸å¥½ã€‚<br>ç”¨è®­ç»ƒé›†è®¡ç®—è¯¯å·®ï¼Œå¯ä»¥æ˜¯ç»å¯¹å€¼è¯¯å·®MAEï¼Œä¹Ÿå¯ä»¥æ˜¯å‡æ–¹è¯¯å·®MSEã€‚<br>å¦‚æœyå€¼æ˜¯åŸºäºæ¦‚ç‡åˆ†å¸ƒçš„ï¼Œä¸€èˆ¬é‡‡å–cross-entropyäº¤å‰ç†µï¼Œå¯ä»¥ç»˜åˆ¶è¯¯å·®ç­‰é«˜çº¿å›¾error surfaceã€‚</p>
<p>3.ä¼˜åŒ–ï¼Œæ‰¾ä¸€ç»„æœ€å¥½çš„å‚æ•°wï¼Œbä½¿å¾—è¯¯å·®æœ€å°ã€‚<br>Gradient Descent æ¢¯åº¦ä¸‹é™ã€‚ä¸¾ä¾‹å…ˆåªæœ‰ä¸€ä¸ªå‚æ•°wï¼Œç»˜åˆ¶æ¨ªåæ ‡ä¸ºwå¯¹åº”çš„æŸå¤±å‡½æ•°æ›²çº¿ï¼Œåˆå§‹æ—¶å–ä¸€ä¸ªç‚¹ï¼Œéšæœºå–çš„ï¼Œä¹Ÿå¯ä»¥ç”¨é—ä¼ ç®—æ³•ç»™å‡ºä¸€ä¸ªè¾ƒä¼˜çš„æ¨¡å‹åˆå§‹å‚æ•°ã€‚é€‰å®šä¸€ä¸ªéšæœºåˆå§‹å€¼ï¼Œæ±‚è¯¥ç‚¹çš„åå¯¼å€¼ï¼Œå³è¯¥ç‚¹æ›²çº¿åˆ‡çº¿çš„æ–œç‡ã€‚ç„¶åè¿›è¡Œç§»åŠ¨ç‚¹ï¼Œè·¨åº¦å¤šå°‘å–å†³äºæ–œç‡å¤§å°ï¼Œæ–œç‡è¶Šå¤§ï¼Œè·¨åº¦è¶Šå¤§ï¼Œæ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªÎ·ï¼Œç§°ä¸ºlearning rate å­¦ä¹ ç‡ï¼Œè‡ªå·±è®¾å®šï¼ŒÎ·è¶Šå¤§è·¨åº¦è¶Šå¤§ï¼Œè®­ç»ƒè¶Šå¿«ã€‚æœºå™¨å­¦ä¹ ä¸­éœ€è¦è‡ªå·±è®¾å®šçš„å€¼ç§°ä¸ºè¶…å‚æ•°hyperparametersã€‚ä»¥æ­¤ç±»æ¨ï¼Œæ±‚ä¸‹ä¸€ä¸ªç‚¹ä¸‹ä¸‹ä¸ªç‚¹ã€‚åœæ­¢çš„æ—¶æœºï¼šçœ‹é¢„è®¾çš„è¿­ä»£æ¬¡æ•°ï¼Œæˆ–è€…æŸä¸€ç»„å‚æ•°è®¡ç®—å‡ºçš„å¾®åˆ†å€¼åˆšå¥½æ˜¯0ï¼Œåˆ™åœæ­¢è®­ç»ƒï¼Œæ˜¯ä¸ªå±€éƒ¨æœ€ä¼˜ï¼Œä¸ä¿è¯å…¨éƒ¨æœ€ä¼˜è§£ã€‚</p>
<p>å¯¹æ¨¡å‹çš„ä¿®æ”¹éœ€è¦å¯¹é—®é¢˜çš„å…·ä½“ç†è§£ï¼Œè€ƒè™‘å‰ä¸ƒå¤©æ¯”åªè€ƒè™‘å‰ä¸€å¤©çš„è¯¯å·®è¦å°ã€‚xæ˜¯å‰ä¸€å¤©çš„ï¼Œyæ˜¯é¢„æµ‹çš„åä¸€å¤©çš„ã€‚è€ƒè™‘å‰ä¸ƒå¤©çš„è¯ï¼Œå°±æœ‰ä¸ƒä¸ªwã€‚è®­ç»ƒæ•°æ®é›†æ˜¯å·²çŸ¥çš„ï¼Œæµ‹è¯•æ•°æ®é›†æ˜¯æœ¬æ¥å‡è£…ä¸çŸ¥é“çš„ï¼Œä¹Ÿå°±æ˜¯è¦é¢„æµ‹çš„yã€‚</p>
<p>è¾“å…¥xä¹˜æƒé‡ï¼Œå†åŠ ä¸Šä¸€ä¸ªåç½®çš„æ¨¡å‹ï¼Œç§°ä¸ºçº¿æ€§æ¨¡å‹ã€‚</p>
<p>çº¿æ€§æ¨¡å‹å…·æœ‰å±€é™æ€§ï¼Œæ¨¡å‹åå·®ã€‚</p>
<p>æœ‰æ—¶æ˜¯åˆ†æ®µçº¿æ€§æŠ˜çº¿å‡½æ•°=å¸¸æ•°+ä¸€äº›åˆ—çš„åˆ†æ®µæ–œçº¿ã€‚</p>
<p>æœ‰æ—¶æ˜¯æ›²çº¿ï¼šå¯ä»¥ç”¨åˆ†æ®µçº¿æ€§æŠ˜çº¿é€¼è¿‘è¿ç»­æ›²çº¿ï¼Œéœ€è¦è¶³å¤Ÿçš„åˆ‡åˆ†ã€‚ï¼ˆä¹Ÿå¯ä»¥ç”¨max(0,æ–œçº¿)å åŠ è¡¨ç¤ºï¼‰</p>
<p>åˆ†æ®µæ–œçº¿å¯ä»¥ç”¨sigmoidå‡½æ•°æ¥é€¼è¿‘ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/db4301aa58234ae881c7774fb1472f4f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_18,color_FFFFFF,t_70,g_se,x_16"></p>
<p>æ”¹å˜wï¼Œå¯ä»¥æ”¹å˜å¡åº¦ã€‚æ”¹å˜bå¯ä»¥å·¦å³ç§»åŠ¨ã€‚æ”¹å˜cå¯ä»¥æ”¹å˜é«˜åº¦ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/b57fe006fd424401b0976b630ed3331b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAamFkZWxsbGx4eHg=,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p>æ¥æºï¼š<a href="https://www.bilibili.com/video/BV1qP4y147PJ/?spm_id_from=333.788.recommend_more_video.-1">https://www.bilibili.com/video/BV1qP4y147PJ/?spm_id_from=333.788.recommend_more_video.-1</a></p>
<p>æ€»ç»“æ¥è®²ï¼šé¦–å…ˆé€‰æ‹©æ¨¡å‹ï¼Œçº¿æ€§æ¨¡å‹æˆ–è€…å¤æ‚é€¼è¿‘æ›²çº¿ï¼Œæœ€å°åŒ–æŸå¤±å‡½æ•°ï¼Œç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œé€‰æ‹©åˆå§‹å€¼è¿­ä»£è®¡ç®—è¿›è¡Œé€¼è¿‘ã€‚</p>
<p>Sigmoldå‡½æ•°å’ŒReLUåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œç§°ä¸ºæ¿€æ´»å‡½æ•°ã€‚å¯ä»¥å°†æ¿€æ´»å‡½æ•°è¿‡ç¨‹é‡å¤å‡ æ¬¡ï¼Œæ¥ä¼˜åŒ–æ¨¡å‹ã€‚æ¿€æ´»å‡½æ•°çš„éƒ¨åˆ†å«åšç¥ç»å…ƒï¼Œå¾ˆå¤šç¥ç»å…ƒç»„æˆç¥ç»ç½‘ç»œã€‚æ¯ä¸€åˆ—ç¥ç»å…ƒç§°ä¸ºéšè—å±‚ï¼Œå¾ˆå¤šå±‚å½±è—å±‚å½¢æˆæ·±åº¦å­¦ä¹ ã€‚</p>
<p>AlexNet16å±‚ã€‚VGG19å±‚ã€‚GoogleNet22å±‚ã€‚ResidualNet152å±‚ã€‚å¹¶ä¸æ˜¯å±‚æ•°è¶Šå¤šç½‘ç»œè¶Šæ·±é¢„æµ‹çš„æ•ˆæœå°±æ›´å¥½ï¼Œä¼šå‘ç”Ÿè¿‡æ‹ŸåˆOverfittingã€‚</p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>MachineLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>LFUç¼“å­˜å®ç°</title>
    <url>/2021/08/19/myblog/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/LFU%E7%BC%93%E5%AD%98%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h3 id="LFU-ç¼“å­˜"><a href="#LFU-ç¼“å­˜" class="headerlink" title="LFU ç¼“å­˜"></a>LFU ç¼“å­˜</h3><p>å›é¡¾ä¸€ä¸‹LRUï¼šæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ã€‚å®ç°æ—¶é‡‡ç”¨åŒå‘é“¾è¡¨+å“ˆå¸Œè¡¨ä½¿å¾—æ¯æ¬¡æŸ¥è¯¢O1å¤æ‚åº¦ï¼Œå“ˆå¸Œè¡¨ä¸­ï¼ˆkeyï¼ŒåŒå‘é“¾è¡¨èŠ‚ç‚¹ï¼ˆvalueï¼‰ï¼‰ï¼ŒæŸ¥åˆ°ä¹‹åï¼ŒåŒå‘é“¾è¡¨å¯ä»¥å®ç°å¿«é€Ÿçš„åˆ é™¤æ“ä½œï¼Œä»¥åŠåŒå‘é“¾è¡¨å®ç°é˜Ÿåˆ—çš„æ•ˆæœã€‚å“ˆå¸Œå°±æ˜¯ä¸ºäº†get(keyï¼‰å¿«ä¸€äº›ï¼Œè€ŒåŒå‘é“¾è¡¨æ˜¯ä¸ºäº†put(key,value)çš„æ—¶å€™ï¼Œè°ƒæ•´é¡ºåºï¼Œä»¥åŠæ»¡çš„æ—¶å€™æ·˜æ±°ï¼ŒåŒå‘é“¾è¡¨ä¸­å­˜çš„åªæ˜¯valueã€‚</p>
<p>æœ€ä¸ç»å¸¸ä½¿ç”¨LFUï¼šç¼“å­˜æ»¡äº†ä¹‹åï¼Œéœ€è¦åˆ é™¤ä½¿ç”¨é¢‘ç‡æœ€å°çš„å†…å­˜ï¼Œå¹¶ä¸”å¦‚æœä½¿ç”¨é¢‘ç‡ç›¸åŒï¼Œéœ€è¦åˆ é™¤æ’å…¥æ—¶é—´æœ€æ—©çš„ã€‚</p>
<p>å®ç° LFUCache ç±»ï¼š<br>LFUCache(int capacity) - ç”¨æ•°æ®ç»“æ„çš„å®¹é‡ capacity åˆå§‹åŒ–å¯¹è±¡<br>int get(int key) - å¦‚æœé”®å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–é”®çš„å€¼ï¼Œå¦åˆ™è¿”å› -1ã€‚<br>void put(int key, int value) - å¦‚æœé”®å·²å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶å€¼ï¼›å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¯·æ’å…¥é”®å€¼å¯¹ã€‚å½“ç¼“å­˜è¾¾åˆ°å…¶å®¹é‡æ—¶ï¼Œåˆ™åº”è¯¥åœ¨æ’å…¥æ–°é¡¹ä¹‹å‰ï¼Œä½¿æœ€ä¸ç»å¸¸ä½¿ç”¨çš„é¡¹æ— æ•ˆã€‚åœ¨æ­¤é—®é¢˜ä¸­ï¼Œå½“å­˜åœ¨å¹³å±€ï¼ˆå³ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªé”®å…·æœ‰ç›¸åŒä½¿ç”¨é¢‘ç‡ï¼‰æ—¶ï¼Œåº”è¯¥å»é™¤ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ çš„é”®ã€‚</p>
<p>å®ç°ï¼šåŒå‘é“¾è¡¨+å“ˆå¸Œè¡¨ï¼ŒåŸåˆ™ï¼šå†…å­˜æ ‡è®°å³keyæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå“ˆå¸Œmapï¼škeyâ€“åŒå‘é“¾è¡¨èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªmapï¼šä½¿ç”¨æ¬¡æ•°â€“ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„èŠ‚ç‚¹</p>
<h3 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h3><p>ç”¨é“¾è¡¨é¡ºåºè®°å½•æ˜¯ç”¨æœ€å°‘çš„</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">getï¼šæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">putï¼šæ’å…¥ã€åˆ é™¤</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å“ˆå¸Œè¡¨ï¼Œç»´æŠ¤ keyï¼Œnode</span></span><br><span class="line"><span class="comment">å“ˆå¸Œè¡¨ï¼Œç»´æŠ¤ cntï¼Œfirstnode  //cntæ˜¯ä½¿ç”¨æ¬¡æ•°ï¼Œfirstnodeæ˜¯æœ€ä¹…æœªä½¿ç”¨çš„</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç”±äºå¤šä¸ªèŠ‚ç‚¹çš„cntå¯èƒ½ç›¸åŒï¼Œå› æ­¤è®°å½•æ¯ä¸ªcntçš„æœ€å‰æ–¹å…ƒç´ èŠ‚ç‚¹ï¼Œä¿è¯æœ€ä¹…ä¸ç”¨çš„èŠ‚ç‚¹ä¾æ¬¡ä½äºåæ–¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">é“¾è¡¨node&lt;cnt, value&gt;</span></span><br><span class="line"><span class="comment">å…¶ä¸­ï¼Œcntéœ€è¦é™åºæ’åˆ—ï¼Œ</span></span><br><span class="line"><span class="comment">- æœ‰æ–°çš„keyæ—¶ï¼Œæ’å…¥åˆ°cnt=1çš„æœ€å‰é¢ï¼Œä¿è¯æœ€åä¸€ä½æ˜¯â€œæœ€ä¸å¸¸ç”¨&amp;&amp;cnt=1ä¸­æœ€ä¹…æ²¡ä½¿ç”¨â€œçš„ã€‚</span></span><br><span class="line"><span class="comment">æ›´æ–° cntï¼Œnodeï¼Œfirstnode</span></span><br><span class="line"><span class="comment">- åˆ é™¤æ—¶ï¼Œåˆ é™¤cntæœ€å°çš„ï¼Œå³ï¼Œæœ€åä¸€ä½</span></span><br><span class="line"><span class="comment">æ›´æ–° cntï¼Œnodeï¼Œfirstnode</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> capacity;</span><br><span class="line">	list&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; nodeList; <span class="comment">//node&lt;cnt, value, key&gt;</span></span><br><span class="line">	unordered_map&lt;<span class="keyword">int</span>, list&lt;vector&lt;<span class="keyword">int</span>&gt;&gt;::iterator&gt; keyNodeMap;</span><br><span class="line">	unordered_map&lt;<span class="keyword">int</span>, list&lt;vector&lt;<span class="keyword">int</span>&gt;&gt;::iterator&gt; cntFirstNodeMap;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ‰“å° list å’Œ map</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">printAllData</span><span class="params">(string action)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> it = nodeList.<span class="built_in">begin</span>(); it != nodeList.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">			<span class="keyword">auto</span> vec = *it;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;&#123;&quot;</span> &lt;&lt; vec[<span class="number">2</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">1</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;&#125;,  &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> it = keyNodeMap.<span class="built_in">begin</span>(); it != keyNodeMap.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">			<span class="keyword">int</span> key = it-&gt;first;</span><br><span class="line">			<span class="keyword">auto</span> vec = *(it-&gt;second);</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;key: &quot;</span> &lt;&lt; key &lt;&lt; <span class="string">&quot;&#123;&quot;</span> &lt;&lt; vec[<span class="number">2</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">1</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;&#125;,  &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> it = cntFirstNodeMap.<span class="built_in">begin</span>(); it != cntFirstNodeMap.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">			<span class="keyword">int</span> cnt = it-&gt;first;</span><br><span class="line">			<span class="keyword">auto</span> vec = *(it-&gt;second);</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;cnt: &quot;</span> &lt;&lt; cnt &lt;&lt; <span class="string">&quot;&#123;&quot;</span> &lt;&lt; vec[<span class="number">2</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">1</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; vec[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;&#125;,  &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">LFUCache</span>(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;capacity = capacity;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (!keyNodeMap.<span class="built_in">count</span>(key)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">auto</span> currNode = keyNodeMap[key];</span><br><span class="line">		<span class="keyword">int</span> currCnt = (*currNode)[<span class="number">0</span>];</span><br><span class="line">		<span class="keyword">int</span> value = (*currNode)[<span class="number">1</span>];</span><br><span class="line">		<span class="keyword">auto</span> firstNode = cntFirstNodeMap[currCnt];</span><br><span class="line">		<span class="keyword">int</span> newCnt = currCnt + <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//è‹¥newCntå·²å­˜åœ¨ï¼Œåˆ™æ”¾åˆ°å…¨éƒ¨newCntä¹‹å‰ï¼Œå¦åœ¨æ”¾åˆ°å…¨éƒ¨currCntä¹‹å‰</span></span><br><span class="line">		<span class="keyword">if</span> (cntFirstNodeMap.<span class="built_in">count</span>(newCnt)) &#123; firstNode = cntFirstNodeMap[newCnt]; &#125;</span><br><span class="line">		<span class="comment">//æ›´æ–°listï¼šæ’å…¥</span></span><br><span class="line">		<span class="keyword">auto</span> newNode = nodeList.<span class="built_in">insert</span>(firstNode, &#123; newCnt, value, key &#125;);</span><br><span class="line">		<span class="comment">//æ›´æ–°keyNodeMapï¼šæ›¿æ¢</span></span><br><span class="line">		keyNodeMap[key] = newNode;</span><br><span class="line">		<span class="comment">//æ–°çš„cntï¼Œæ›´æ–°cntFirstNodeMapï¼šæ›¿æ¢</span></span><br><span class="line">		cntFirstNodeMap[newCnt] = newNode;</span><br><span class="line">		<span class="comment">//è€çš„cntï¼Œæ›´æ–°cntFirstNodeMapï¼šè‹¥æ°å¥½ä¸ºcurrNodeï¼Œåˆ™æ›´æ–°oråˆ é™¤ï¼Œå¦åˆ™ä¸ç”¨åŠ¨</span></span><br><span class="line">		<span class="keyword">if</span> (cntFirstNodeMap[currCnt] == currNode) &#123;</span><br><span class="line">			<span class="keyword">auto</span> it = currNode;</span><br><span class="line">			it++;</span><br><span class="line">			<span class="keyword">if</span> (it == nodeList.<span class="built_in">end</span>()) &#123;</span><br><span class="line">				cntFirstNodeMap.<span class="built_in">erase</span>(currCnt);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> ((*it)[<span class="number">0</span>] == currCnt) &#123;</span><br><span class="line">				cntFirstNodeMap[currCnt] = it;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123; <span class="comment">//cntå˜äº†ï¼Œè¯´æ˜currCntä¸‹ï¼Œå·²ç»æ²¡æœ‰ä»»ä½•èŠ‚ç‚¹äº†</span></span><br><span class="line">				cntFirstNodeMap.<span class="built_in">erase</span>(currCnt);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//æ›´æ–°listï¼šåˆ é™¤</span></span><br><span class="line">		nodeList.<span class="built_in">erase</span>(currNode);</span><br><span class="line">		<span class="comment">//printAllData(&quot;get&quot;);</span></span><br><span class="line">		<span class="keyword">return</span> value;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (capacity == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">get</span>(key) != <span class="number">-1</span>) &#123;</span><br><span class="line">			(*keyNodeMap[key])[<span class="number">1</span>] = value;</span><br><span class="line">			<span class="comment">//printAllData(&quot;put(update)&quot;);</span></span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//æº¢å‡ºåˆ é™¤</span></span><br><span class="line">		<span class="keyword">if</span> (nodeList.<span class="built_in">size</span>() == capacity) &#123;</span><br><span class="line">			<span class="keyword">auto</span> lastNode = --nodeList.<span class="built_in">end</span>();</span><br><span class="line">			<span class="keyword">int</span> cnt = (*lastNode)[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">int</span> value = (*lastNode)[<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">int</span> key = (*lastNode)[<span class="number">2</span>];</span><br><span class="line">			<span class="comment">//keyNodeMapï¼šåˆ é™¤è¿™ä¸ªkey</span></span><br><span class="line">			keyNodeMap.<span class="built_in">erase</span>(key);</span><br><span class="line">			<span class="comment">//cntFirstNodeMapï¼šç›¸åŒåˆ™åˆ é™¤ï¼Œå¦åˆ™ä¸å˜</span></span><br><span class="line">			<span class="keyword">if</span> (cntFirstNodeMap[cnt] == lastNode) cntFirstNodeMap.<span class="built_in">erase</span>(cnt);</span><br><span class="line">			<span class="comment">//nodeListï¼šåˆ é™¤é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">			nodeList.<span class="built_in">pop_back</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//æ’å…¥åˆ° cnt=1 çš„æœ€å‰é¢</span></span><br><span class="line">		<span class="keyword">auto</span> currNode = nodeList.<span class="built_in">end</span>();</span><br><span class="line">		<span class="keyword">if</span> (cntFirstNodeMap.<span class="built_in">count</span>(<span class="number">1</span>)) &#123;</span><br><span class="line">			currNode = cntFirstNodeMap[<span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">auto</span> newNode = nodeList.<span class="built_in">insert</span>(currNode, &#123; <span class="number">1</span>, value, key &#125;);</span><br><span class="line">		cntFirstNodeMap[<span class="number">1</span>] = newNode;</span><br><span class="line">		keyNodeMap[key] = newNode;</span><br><span class="line">		<span class="comment">//printAllData(&quot;put(add)&quot;);</span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//LFUCache a; </span></span><br><span class="line">	<span class="comment">//å®šä¹‰äº†æ„é€ å‡½æ•°å°±æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°é‡Œï¼Œåœ¨æ ˆä¸Šåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚ stuï¼Œä½¿ç”¨æŒ‡é’ˆæŒ‡å‘å®ƒä¸æ˜¯å¿…é¡»çš„ã€‚ç”¨.è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">	LFUCache *lFUCache = <span class="keyword">new</span> <span class="built_in">LFUCache</span>(<span class="number">2</span>); <span class="comment">//å®šä¹‰å¯¹è±¡</span></span><br><span class="line">	<span class="comment">//é€šè¿‡ new åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒåœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œæ²¡æœ‰åå­—ï¼Œåªèƒ½å¾—åˆ°ä¸€ä¸ªæŒ‡å‘å®ƒçš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥æ¥æ”¶è¿™ä¸ªæŒ‡é’ˆï¼Œå¦åˆ™ä»¥åå†ä¹Ÿæ— æ³•æ‰¾åˆ°è¿™ä¸ªå¯¹è±¡äº†ï¼Œæ›´æ²¡æœ‰åŠæ³•ä½¿ç”¨å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ new åœ¨å †ä¸Šåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ˜¯åŒ¿åçš„ï¼Œæ²¡æ³•ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»è¦ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒï¼Œå†å€ŸåŠ©æŒ‡é’ˆæ¥è®¿é—®å®ƒçš„æˆå‘˜å˜é‡æˆ–æˆå‘˜å‡½æ•°ã€‚</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">1</span>, <span class="number">1</span>);  <span class="comment">//å› ä¸ºä¸Šé¢å®šä¹‰çš„æŒ‡é’ˆå¯¹è±¡ï¼Œæ‰€ä»¥-&gt;ï¼Œä¸æ˜¯æŒ‡é’ˆå¯¹è±¡ç”¨.</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>) &lt;&lt; endl;  <span class="comment">//key2å¯¹åº”çš„æ˜¯1</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">2</span>) &lt;&lt; endl;  <span class="comment">//1å·²ç»è¢«æ·˜æ±°</span></span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h3><p>æˆ–æ˜¯å¯ä»¥ç»´æŠ¤ä¸€ä¸ªæœ€å°é¢‘æ¬¡ï¼Œæ¯æ¬¡ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œéœ€è¦ç§»é™¤æœ€å°é¢‘æ¬¡çš„èŠ‚ç‚¹ï¼Œæ¯æ¬¡å¢åŠ æ—¶ï¼Œä¹Ÿéœ€è¦æ›´æ–°èŠ‚ç‚¹çš„é¢‘æ¬¡ã€‚</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">getï¼šæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">putï¼šæ’å…¥ã€åˆ é™¤</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å“ˆå¸Œè¡¨ï¼Œç»´æŠ¤ keyï¼Œnode</span></span><br><span class="line"><span class="comment">å“ˆå¸Œè¡¨ï¼Œç»´æŠ¤ cntï¼Œfirstnode  //cntæ˜¯ä½¿ç”¨æ¬¡æ•°ï¼Œfirstnodeæ˜¯æœ€ä¹…æœªä½¿ç”¨çš„</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç”±äºå¤šä¸ªèŠ‚ç‚¹çš„cntå¯èƒ½ç›¸åŒï¼Œå› æ­¤è®°å½•æ¯ä¸ªcntçš„æœ€å‰æ–¹å…ƒç´ èŠ‚ç‚¹ï¼Œä¿è¯æœ€ä¹…ä¸ç”¨çš„èŠ‚ç‚¹ä¾æ¬¡ä½äºåæ–¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¿™ä¸ªé“¾è¡¨ä¸éœ€è¦ç›¸è¿ï¼Œåªæ˜¯ç”¨å®ƒçš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">ç»´æŠ¤ä¸€ä¸ªæœ€å°é¢‘æ¬¡</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> key;</span><br><span class="line">	<span class="keyword">int</span> value;</span><br><span class="line">	<span class="keyword">int</span> frenquency;</span><br><span class="line">	<span class="built_in">Node</span>(<span class="keyword">int</span> _key, <span class="keyword">int</span> _value, <span class="keyword">int</span> _frequency) :<span class="built_in">key</span>(_key), <span class="built_in">value</span>(_value), <span class="built_in">frenquency</span>(_frequency)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">LFUCache</span>(<span class="keyword">int</span> _capacity) &#123;</span><br><span class="line">		capacity = _capacity;</span><br><span class="line">		minfreq = <span class="number">0</span>;</span><br><span class="line">		frequency_table.<span class="built_in">clear</span>();</span><br><span class="line">		key_table.<span class="built_in">clear</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (capacity == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">auto</span> it = key_table.<span class="built_in">find</span>(key);</span><br><span class="line">		<span class="keyword">if</span> (it == key_table.<span class="built_in">end</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">auto</span> node = it-&gt;second;</span><br><span class="line">		<span class="keyword">int</span> val = node-&gt;value;</span><br><span class="line">		<span class="keyword">int</span> freq = node-&gt;frenquency;</span><br><span class="line">		<span class="comment">//åˆ é™¤æ“ä½œ</span></span><br><span class="line">		frequency_table[freq].<span class="built_in">erase</span>(node);</span><br><span class="line">		<span class="keyword">if</span> (frequency_table[freq].<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//è®°å½•freqé¢‘ç‡çš„åŒé“¾è¡¨æ²¡ç»“ç‚¹äº†</span></span><br><span class="line">			frequency_table.<span class="built_in">erase</span>(freq);</span><br><span class="line">			<span class="keyword">if</span> (minfreq == freq) minfreq++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//æ·»åŠ ç»“ç‚¹</span></span><br><span class="line">		frequency_table[freq + <span class="number">1</span>].<span class="built_in">push_front</span>(<span class="built_in">Node</span>(key, val, freq + <span class="number">1</span>));</span><br><span class="line">		key_table[key] = frequency_table[freq + <span class="number">1</span>].<span class="built_in">begin</span>();</span><br><span class="line">		<span class="keyword">return</span> val;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (capacity == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">auto</span> it = key_table.<span class="built_in">find</span>(key);</span><br><span class="line">		<span class="comment">//keyè¡¨ä¸­æ‰¾ä¸åˆ°å€¼ï¼Œåˆ†ç¼“å­˜æ»¡å’Œä¸æ»¡ä¸¤ç§æƒ…å†µ</span></span><br><span class="line">		<span class="keyword">if</span> (it == key_table.<span class="built_in">end</span>())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//ç¼“å­˜å·²ç»æ»¡çš„æƒ…å†µ</span></span><br><span class="line">			<span class="keyword">if</span> (key_table.<span class="built_in">size</span>() == capacity)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">auto</span> it2 = frequency_table[minfreq].<span class="built_in">back</span>();</span><br><span class="line">				key_table.<span class="built_in">erase</span>(it2.key);</span><br><span class="line">				frequency_table[minfreq].<span class="built_in">pop_back</span>();</span><br><span class="line">				<span class="keyword">if</span> (frequency_table[minfreq].<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					frequency_table.<span class="built_in">erase</span>(minfreq);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//ä¸¤ç§æƒ…å†µéƒ½è¦æ·»åŠ æ“ä½œï¼Œæ‰€ä»¥åˆå¹¶åœ¨ä¸€èµ·</span></span><br><span class="line">			frequency_table[<span class="number">1</span>].<span class="built_in">push_front</span>(<span class="built_in">Node</span>(key, value, <span class="number">1</span>));</span><br><span class="line">			key_table[key] = frequency_table[<span class="number">1</span>].<span class="built_in">begin</span>();</span><br><span class="line">			minfreq = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="comment">//å¦‚æœè¡¨ä¸­å­˜åœ¨ï¼Œéœ€è¦æ›´æ–°frequencyçš„å€¼</span></span><br><span class="line">			<span class="keyword">auto</span> node = it-&gt;second;</span><br><span class="line">			<span class="keyword">int</span> freq = node-&gt;frenquency;</span><br><span class="line">			<span class="comment">//åˆ é™¤æ“ä½œ</span></span><br><span class="line">			frequency_table[freq].<span class="built_in">erase</span>(node);</span><br><span class="line">			<span class="keyword">if</span> (frequency_table[freq].<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//è®°å½•freqé¢‘ç‡çš„åŒé“¾è¡¨æ²¡ç»“ç‚¹äº†</span></span><br><span class="line">				frequency_table.<span class="built_in">erase</span>(freq);</span><br><span class="line">				<span class="keyword">if</span> (minfreq == freq) minfreq++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//æ·»åŠ ç»“ç‚¹</span></span><br><span class="line">			frequency_table[freq + <span class="number">1</span>].<span class="built_in">push_front</span>(<span class="built_in">Node</span>(key, value, freq + <span class="number">1</span>));</span><br><span class="line">			key_table[key] = frequency_table[freq + <span class="number">1</span>].<span class="built_in">begin</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> minfreq;</span><br><span class="line">	<span class="keyword">int</span> capacity;</span><br><span class="line">	unordered_map&lt;<span class="keyword">int</span>, list&lt;Node&gt;&gt;frequency_table;</span><br><span class="line">	unordered_map&lt;<span class="keyword">int</span>, list&lt;Node&gt;::iterator&gt;key_table;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//LFUCache a; </span></span><br><span class="line">	<span class="comment">//å®šä¹‰äº†æ„é€ å‡½æ•°å°±æ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°é‡Œï¼Œåœ¨æ ˆä¸Šåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚ stuï¼Œä½¿ç”¨æŒ‡é’ˆæŒ‡å‘å®ƒä¸æ˜¯å¿…é¡»çš„ã€‚ç”¨.è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">	LFUCache *lFUCache = <span class="keyword">new</span> <span class="built_in">LFUCache</span>(<span class="number">2</span>); <span class="comment">//å®šä¹‰å¯¹è±¡</span></span><br><span class="line">	<span class="comment">//é€šè¿‡ new åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒåœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œæ²¡æœ‰åå­—ï¼Œåªèƒ½å¾—åˆ°ä¸€ä¸ªæŒ‡å‘å®ƒçš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥æ¥æ”¶è¿™ä¸ªæŒ‡é’ˆï¼Œå¦åˆ™ä»¥åå†ä¹Ÿæ— æ³•æ‰¾åˆ°è¿™ä¸ªå¯¹è±¡äº†ï¼Œæ›´æ²¡æœ‰åŠæ³•ä½¿ç”¨å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ new åœ¨å †ä¸Šåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ˜¯åŒ¿åçš„ï¼Œæ²¡æ³•ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»è¦ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å®ƒï¼Œå†å€ŸåŠ©æŒ‡é’ˆæ¥è®¿é—®å®ƒçš„æˆå‘˜å˜é‡æˆ–æˆå‘˜å‡½æ•°ã€‚</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">1</span>, <span class="number">1</span>);  <span class="comment">//å› ä¸ºä¸Šé¢å®šä¹‰çš„æŒ‡é’ˆå¯¹è±¡ï¼Œæ‰€ä»¥-&gt;ï¼Œä¸æ˜¯æŒ‡é’ˆå¯¹è±¡ç”¨.</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>) &lt;&lt; endl;  <span class="comment">//key2å¯¹åº”çš„æ˜¯1</span></span><br><span class="line">	lFUCache-&gt;<span class="built_in">put</span>(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">2</span>) &lt;&lt; endl;  <span class="comment">//1å·²ç»è¢«æ·˜æ±°</span></span><br><span class="line">	cout &lt;&lt; lFUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      </categories>
  </entry>
  <entry>
    <title>ç§‹æ‹›é¢ç»</title>
    <url>/2021/10/31/myblog/%E7%AC%94%E7%BB%8F%E9%9D%A2%E7%BB%8F/%E7%A7%8B%E6%8B%9B%E9%9D%A2%E7%BB%8F/</url>
    <content><![CDATA[<h3 id="è™¾çš®-åç«¯-ä¸€é¢-2021-7-18"><a href="#è™¾çš®-åç«¯-ä¸€é¢-2021-7-18" class="headerlink" title="è™¾çš®-åç«¯-ä¸€é¢-2021.7.18"></a>è™¾çš®-åç«¯-ä¸€é¢-2021.7.18</h3><p>1.redisæ•°æ®ç±»å‹çš„åº•å±‚ç»“æ„ set<br>2.hashmapåº•å±‚ç»“æ„<br>3.c++ç¦æ­¢æ‹·è´æ„é€ <br>4.tcpä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹<br>5.å››æ¬¡æŒ¥æ‰‹time_waitæœºåˆ¶<br>6.httpã€ipã€dnså±äºä»€ä¹ˆå±‚<br>7.cpuè°ƒåº¦ç®—æ³•<br>8.linuxå‘½ä»¤ï¼Œçœ‹æ–‡ä»¶åå‡ è¡Œï¼Œæ—¥å¿—å…³é”®è¯æŸ¥è¯¢<br>9.è¿›ç¨‹é—´é€šä¿¡ ä¿¡å·é‡<br>10.é€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€æ˜ å°„<br>11.ç¼–ç¨‹ï¼šç¿»è½¬å¥å­ä½†ä¸ç¿»è½¬å•è¯</p>
<h3 id="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸€é¢-2021-7-18"><a href="#å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸€é¢-2021-7-18" class="headerlink" title="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸€é¢-2021.7.18"></a>å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸€é¢-2021.7.18</h3><p>1.redisåˆ†å¸ƒå¼é”æœºåˆ¶<br>2.redisæ•°æ®ç±»å‹ä½¿ç”¨åœºæ™¯<br>3.hashmapç”¨çº¢é»‘æ ‘ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Œmapåº•å±‚æ•°æ®ç»“æ„<br>4.vectorå’Œliståº•å±‚å®ç°åŸç†<br>5.äº’æ–¥é”åº•å±‚åŸç†ï¼Œå¦‚ä½•å®ç°åŸå­æ€§<br>6.æ™ºåŠ›é¢˜ï¼šåœ†ä¸Šå–ä¸‰ç‚¹ï¼Œæ„æˆé”è§’ã€ç›´è§’ã€é’è§’ä¸‰è§’å½¢çš„æ¦‚ç‡ï¼Ÿ<br>7.ç¼–ç¨‹ï¼šåˆå¹¶åŒºé—´<br>8.ç¼–ç¨‹ï¼šæœ€é•¿å›æ–‡å­ä¸²</p>
<h3 id="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-äºŒé¢-2021-7-18"><a href="#å­—èŠ‚-å•†ä¸šåŒ–åç«¯-äºŒé¢-2021-7-18" class="headerlink" title="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-äºŒé¢-2021.7.18"></a>å­—èŠ‚-å•†ä¸šåŒ–åç«¯-äºŒé¢-2021.7.18</h3><p>1.ç¼–ç¨‹ï¼šç»™å®šä¸€ä¸ªå¤šä»»åŠ¡åœºæ™¯ï¼Œ ä¸åŒä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯æœ‰ç›¸äº’ä¾èµ–å…³ç³»çš„ï¼›<br>è¾“å…¥ï¼š n ä»£è¡¨nä¸ªä»»åŠ¡<br>è¾“å‡ºï¼š kä»£è¡¨kä¸ªä¾èµ–å…³ç³»<br>è¾“å‡ºï¼š nä¸ªä»»åŠ¡èƒ½å¤Ÿå®Œæˆä¸€æ¬¡è°ƒåº¦æ‰§è¡Œï¼›<br>æç¤ºï¼šç”¨èŠ‚ç‚¹çš„å…¥åº¦ï¼Œå…¥åº¦ä¸º0å¯ä»¥åˆ æ‰ã€‚<br>2.rediså¦‚ä½•ä¿è¯åŸå­æ€§<br>3.redisäº‹åŠ¡<br>4.mysqlé¿å…æ­»é”åº•å±‚å¦‚ä½•å®ç°<br>5.tcpæ˜¯ä¿åºçš„å—ï¼Ÿseqã€syn<br>6.äº”å±‚æ¨¡å‹éƒ½æ˜¯å¹²å˜›çš„</p>
<h3 id="å•†æ±¤scg-ä¸‰é¢-2021-7-19"><a href="#å•†æ±¤scg-ä¸‰é¢-2021-7-19" class="headerlink" title="å•†æ±¤scg-ä¸‰é¢-2021.7.19"></a>å•†æ±¤scg-ä¸‰é¢-2021.7.19</h3><p>1.ä¹è§‚é”çš„ç‰ˆæœ¬å·æœºåˆ¶å¦‚ä½•å®ç°<br>2.redisé›†ç¾¤ä¸»ä»åŒæ­¥å¤±è´¥æ€ä¹ˆåŠ<br>3.ç½‘ç«™æ‰“ä¸å¼€çš„åŸå› ï¼Œå‘æ•£<br>4.èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Œå¢é‡ç´¢å¼•ï¼Ÿ<br>5.ç¼–ç¨‹ï¼šå²›å±¿æ•°é‡<br>6.goç»“æ„ä½“åµŒå¥—ï¼Œnewæ“ä½œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line">type a struct &#123;</span><br><span class="line">    add string</span><br><span class="line">&#125;</span><br><span class="line">type b struct &#123;</span><br><span class="line">    *a</span><br><span class="line">&#125;</span><br><span class="line">func main() &#123;</span><br><span class="line">    b := new(b)</span><br><span class="line">    b.add = &quot;add&quot;</span><br><span class="line">    fmt.Println(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸‰é¢-2021-7-20"><a href="#å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸‰é¢-2021-7-20" class="headerlink" title="å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸‰é¢-2021.7.20"></a>å­—èŠ‚-å•†ä¸šåŒ–åç«¯-ä¸‰é¢-2021.7.20</h3><p>1.ç¼–ç¨‹ï¼šäºŒå‰æ ‘è½¬åŒ–ä¸ºåŒå‘é“¾è¡¨<br>2.æ™ºåŠ›ï¼šè€è™åƒç¾Šé—®é¢˜<br>3.redisç´¢å¼•åŸç†<br>4.çº¿ç¨‹æ± å®ç°è€ƒè™‘ä»€ä¹ˆï¼Œä¼ªä»£ç <br>5.c++çš„é”<br>6.c++ç®¡ç†å†…å­˜æ³„æ¼çš„æ–¹æ³•<br>7.è¯´è¯´æ™ºèƒ½æŒ‡é’ˆï¼Œå‡ ç§çš„åŒºåˆ«<br>8.å•ç»§æ‰¿å’Œå¤šç»§æ‰¿çš„è™šå‡½æ•°è¡¨çš„åŒºåˆ«<br>9.å¤šæ€å¦‚ä½•å®ç°<br>10.IOå¤šè·¯å¤ç”¨<br>11.redisæŒä¹…åŒ–</p>
<h3 id="å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-ä¸€é¢-2021-7-29"><a href="#å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-ä¸€é¢-2021-7-29" class="headerlink" title="å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-ä¸€é¢-2021.7.29"></a>å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-ä¸€é¢-2021.7.29</h3><p>1.redisæŒä¹…åŒ–å†™ç¡¬ç›˜ï¼Œå¯¹å†…å­˜æ“ä½œæœ‰æ²¡æœ‰å½±å“ï¼Ÿ<br>2.å†™ç¡¬ç›˜çš„æ–¹æ³•ï¼Œæ€ä¹ˆæœ€å¿«<br>3.mysqlç´¢å¼•åº•å±‚<br>4.æ•°æ®åº“é”<br>5.select * from table where a between 10 and 20 for updateï¼›ä¹‹åå†æ’å…¥ä¸€æ¡20-20ä¹‹é—´çš„æ•°æ®ï¼Œå‘ç”Ÿä»€ä¹ˆï¼Ÿ<br>å¯é‡å¤è¯»ï¼šä¸èƒ½æ’ï¼Œè§£å†³äº†å¹»è¯»ã€‚è¯»æœªæäº¤ï¼Œèƒ½æ’å…¥ï¼Ÿ<br>6.å®ç°strncpyå‡½æ•°<br>7.äºŒåˆ†æŸ¥æ‰¾<br>8.æˆªæ–­æ•°ç»„çš„æŸ¥æ‰¾</p>
<h3 id="å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-äºŒé¢-2021-8-2"><a href="#å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-äºŒé¢-2021-8-2" class="headerlink" title="å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-äºŒé¢-2021.8.2"></a>å­—èŠ‚-æ•°æ®ä¸­å°åç«¯-äºŒé¢-2021.8.2</h3><p>1.rediså•çº¿ç¨‹å¦‚ä½•å®ç°çš„<br>2.httpè¾“å…¥urlè¿‡ç¨‹<br>3.httpå’Œhttps<br>4.è¯„è®ºç³»ç»Ÿæ•°æ®åº“è¡¨è®¾è®¡<br>5.å†™ä»£ç ï¼Œæ±‚ä¸€æ¡è¯„è®ºçš„æ‰€æœ‰å­è¯„è®ºä¸ªæ•°<br>6.ç½‘ç»œæ”»å‡»æ‰‹æ®µï¼Œsqlæ³¨å…¥ï¼Œæ€ä¹ˆé˜²æ­¢ï¼ŒæŠŠè‡ªå·±å¥—åœˆå­é‡Œäº†</p>
<h3 id="è™¾çš®-åç«¯-äºŒé¢-2021-8-3"><a href="#è™¾çš®-åç«¯-äºŒé¢-2021-8-3" class="headerlink" title="è™¾çš®-åç«¯-äºŒé¢-2021.8.3"></a>è™¾çš®-åç«¯-äºŒé¢-2021.8.3</h3><p>1.hashtableæ€ä¹ˆå®ç°çš„<br>2.c++ stlç”¨è¿‡ä»€ä¹ˆï¼Œæ•°ç»„ä¸é“¾è¡¨<br>3.äºŒå‰æ ‘è·¯å¾„-å›æº¯ç®—æ³•<br>4.é’ˆå¯¹è®¢å•çš„å®‰å…¨idæ€ä¹ˆç”Ÿæˆ</p>
<h3 id="é˜¿é‡Œäº‘-åç«¯-äºŒé¢-2021-8-3"><a href="#é˜¿é‡Œäº‘-åç«¯-äºŒé¢-2021-8-3" class="headerlink" title="é˜¿é‡Œäº‘-åç«¯-äºŒé¢-2021.8.3"></a>é˜¿é‡Œäº‘-åç«¯-äºŒé¢-2021.8.3</h3><p>1.ä¸ªäººäº‘å’Œä¼ä¸šäº‘çš„åŒºåˆ«çš„çœ‹æ³•ï¼ŒtoBå’ŒtoC<br>2.å‘å·å™¨ä¸éœ€è¦åšåˆ‡æµï¼Œä¸‹çº¿å—ï¼Ÿ<br>    ç³»ç»Ÿè‡ªä¿ã€å‡†å…¥æ¡ä»¶ã€äº‘è®¡ç®—ï¼šèµ„æºçš„æ± åŒ–ã€åˆ†å‰²å”®å–ã€å®‰å…¨éš”ç¦»ã€èµ„æºéš”ç¦»ã€è¶…å–ã€æœåŠ¡å¥‘çº¦<br>3.å“ˆå¸Œæ‰“æ•£çš„idæ€ä¹ˆç”Ÿæˆï¼Ÿ<br>4.é›ªèŠ±ç®—æ³•ï¼Œæ—¶é—´å›æ»šï¼Œæœºå™¨ä¸çŸ¥é“ï¼Œä¸èƒ½è¯†åˆ«ï¼Œæ€ä¹ˆåŠï¼Ÿ<br>5.codeï¼šæ±‚ç›¸å¯¹è·¯å¾„</p>
<h3 id="å•†æ±¤-hré¢-2021-8-5"><a href="#å•†æ±¤-hré¢-2021-8-5" class="headerlink" title="å•†æ±¤-hré¢-2021.8.5"></a>å•†æ±¤-hré¢-2021.8.5</h3><p>1.æ€§æ ¼ç¼ºç‚¹<br>2.é€‰æ‹©å…¬å¸æœ€çœ‹é‡ä»€ä¹ˆ<br>3.å¯¹æ™ºæ…§äº¤é€šçœ‹æ³•</p>
<h3 id="360-åç«¯ä¸€é¢-2021-8-6"><a href="#360-åç«¯ä¸€é¢-2021-8-6" class="headerlink" title="360-åç«¯ä¸€é¢-2021.8.6"></a>360-åç«¯ä¸€é¢-2021.8.6</h3><p>1.å¹³è¡¡äºŒå‰æ ‘å’Œçº¢é»‘æ ‘ï¼Œä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘<br>2.æœåŠ¡å™¨å®ä¾‹æ— æ³•è®¿é—®æ•°æ®åº“æ€ä¹ˆåŠï¼Œdbä¸èƒ½å¹³è¡¡æ‰©å±•<br>3.ç¼–ç¨‹ï¼šæ‰‘å…‹ç‰Œåˆ¤æ–­æ˜¯ä¸æ˜¯é¡ºå­<br>4.udpæ€ä¹ˆå¯é </p>
<h3 id="è™¾çš®-åç«¯-hré¢-2021-8-10"><a href="#è™¾çš®-åç«¯-hré¢-2021-8-10" class="headerlink" title="è™¾çš®-åç«¯-hré¢-2021.8.10"></a>è™¾çš®-åç«¯-hré¢-2021.8.10</h3><p>1.å¦‚ä½•çœ‹å¾…åŠ ç­<br>2.è¯„ä»·ä¸€ä¸‹è‡ªå·±ï¼Œä»–äººçœ¼ä¸­çš„ä½ ä»€ä¹ˆæ ·çš„<br>3.æœ‰ä»€ä¹ˆå…¶ä»–offeræˆ–è€…æµç¨‹ä¸­<br>4.æƒ³è¦ä»€ä¹ˆå…¬å¸æ°›å›´<br>5.æƒ³å»ä»€ä¹ˆä¸šåŠ¡<br>6.ä¸ºå•¥é€‰åç«¯</p>
<h3 id="è…¾è®¯-äº¤é€šå¹³å°äº§å“éƒ¨-ä¸€é¢-2021-8-10"><a href="#è…¾è®¯-äº¤é€šå¹³å°äº§å“éƒ¨-ä¸€é¢-2021-8-10" class="headerlink" title="è…¾è®¯-äº¤é€šå¹³å°äº§å“éƒ¨-ä¸€é¢-2021.8.10"></a>è…¾è®¯-äº¤é€šå¹³å°äº§å“éƒ¨-ä¸€é¢-2021.8.10</h3><p>1.æœ‰å•¥çˆ±å¥½ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<br>2.æ¨èæ‚¬ç–‘ä¹¦ï¼Ÿï¼Ÿï¼Ÿ<br>3.æ‰‹æ’•ï¼šä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡æˆå­—å…¸é‡Œçš„å­—ç¬¦ä¸²ï¼Œå›æº¯<br>4.unordered_setå’ŒsetåŒºåˆ«ï¼Œå®ç°æ–¹é¢<br>5.c++å’Œgo<br>6.setä»€ä¹ˆè¯­æ³•å®ç°é™åº</p>
<h3 id="é˜¿é‡Œ-ä¸‰é¢-å‡‰ç»"><a href="#é˜¿é‡Œ-ä¸‰é¢-å‡‰ç»" class="headerlink" title="é˜¿é‡Œ-ä¸‰é¢-å‡‰ç»"></a>é˜¿é‡Œ-ä¸‰é¢-å‡‰ç»</h3><p>1.åšè¿‡ç½‘ç»œç¼–ç¨‹æ²¡æœ‰<br>2.ä¸€ä¸ªç¨‹åºè¿è¡Œï¼Œèµ„æºç©ºé—´å¦‚ä½•å˜åŒ–<br>3.æ‹·é—®é¡¹ç›®<br>4.ä¸ºä»€ä¹ˆå¯¹è¾¹ç¼˜è®¡ç®—æ„Ÿå…´è¶£<br>5.æ€ä¹ˆçœ‹è¾¹ç¼˜è®¡ç®—<br>6.å¤§è‡´è§‰å¾—æ²¡æœ‰ç½‘ç»œç›¸å…³çš„é¡¹ç›®ï¼Œæ²¡æœ‰å¯é—®çš„ï¼Œé—®æˆ‘è‡ªå·±è®¤ä¸ºæœ‰ä»€ä¹ˆä¼˜ç‚¹<br>7.å¤§ä½¬å°±æ˜¯å¤§ä½¬ï¼Œç§’å‡‰</p>
<h3 id="é˜¿é‡Œ-é«˜å¾·-åç«¯-ä¸€é¢"><a href="#é˜¿é‡Œ-é«˜å¾·-åç«¯-ä¸€é¢" class="headerlink" title="é˜¿é‡Œ-é«˜å¾·-åç«¯-ä¸€é¢"></a>é˜¿é‡Œ-é«˜å¾·-åç«¯-ä¸€é¢</h3><p>1.ç”¨è¿‡é™¤redisã€mysqlä¹‹å¤–çš„ä¸­é—´ä»¶å—<br>2.mysql innodbä¸ºä»€ä¹ˆç”¨B+æ ‘<br>3.redisæ•°æ®ç»“æ„åº•å±‚å®ç°<br>4.redisé›†ç¾¤æ€ä¹ˆéƒ¨ç½²<br>5.è®¾è®¡æ¨¡å¼äº†è§£å“ªäº›ï¼Œå¹³å¸¸ç”¨çš„<br>6.zookeeperä¼˜ç¼ºç‚¹<br>7.èšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•</p>
<h3 id="ç½‘æ˜“-AI-c-ç®—æ³•è½åœ°-ä¸€é¢"><a href="#ç½‘æ˜“-AI-c-ç®—æ³•è½åœ°-ä¸€é¢" class="headerlink" title="ç½‘æ˜“-AI-c++ç®—æ³•è½åœ°-ä¸€é¢"></a>ç½‘æ˜“-AI-c++ç®—æ³•è½åœ°-ä¸€é¢</h3><p>1.æ·±æŒ–é¡¹ç›®<br>2.ä¸ºä»€ä¹ˆä¸ç”¨é«˜é¢‘ï¼Ÿï¼Ÿé«˜é¢‘-&gt;æ³¢é•¿çŸ­-&gt;æŒ‰è¯´ä¼ è¾“è·ç¦»é«˜ï¼Œå› ä¸ºé¢‘ç‡é«˜è¡°å‡å¤§<br>  è¯´æˆäº†å¤šæ™®å‹’ï¼Œå¼€å§‹æ·±æŒ–å¤šæ™®å‹’<br>3.æ‰‹æ’•ï¼š1.æœ€å°‘è·³è·ƒæ¬¡æ•° ï¼ˆç”¨å¹¿åº¦ä¼˜å…ˆï¼Œæ²¡å†™è¿‡ï¼‰æ¢ï¼š2.æœ€å°ç¼–è¾‘è·ç¦»ï¼ˆacï¼‰        </p>
<h3 id="æ¸¤æµ·é“¶è¡Œ-æå‰æ‰¹-è½¯å¼€-2021-8-29-ç¬”è¯•å‡†å¤‡"><a href="#æ¸¤æµ·é“¶è¡Œ-æå‰æ‰¹-è½¯å¼€-2021-8-29-ç¬”è¯•å‡†å¤‡" class="headerlink" title="æ¸¤æµ·é“¶è¡Œ-æå‰æ‰¹-è½¯å¼€-2021.8.29-ç¬”è¯•å‡†å¤‡"></a>æ¸¤æµ·é“¶è¡Œ-æå‰æ‰¹-è½¯å¼€-2021.8.29-ç¬”è¯•å‡†å¤‡</h3><p>æ¸¤æµ·é“¶è¡Œæˆç«‹æ—¶é—´ï¼š</p>
<p>æ¸¤æµ·ä¼ä¸šæ–‡åŒ–ï¼šè¯šä¿¡ã€è¿œè§ã€å¼€æ”¾ã€åˆ›æ–°ã€å…³çˆ±</p>
<p>å“ç‰Œä¸»å¼ ï¼šä¸€æ—¦é€‰æ‹©,ç»ˆèº«ç›¸ä¼´</p>
<h3 id="é˜¿é‡Œé«˜å¾·-ä¸€é¢-ç¬”è¯•é¢"><a href="#é˜¿é‡Œé«˜å¾·-ä¸€é¢-ç¬”è¯•é¢" class="headerlink" title="é˜¿é‡Œé«˜å¾·-ä¸€é¢-ç¬”è¯•é¢"></a>é˜¿é‡Œé«˜å¾·-ä¸€é¢-ç¬”è¯•é¢</h3><p>ç¬”è¯•æ„é€ ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œçˆ¶å­ç»“æ„çš„ï¼Œ<br>åˆ†å¸ƒå¼äº‹åŠ¡<br>CAPåŸåˆ™<br>ä¸€è‡´æ€§å“ˆå¸Œ<br>æ¶ˆæ¯é˜Ÿåˆ—<br>é™æµç®—æ³•</p>
<h3 id="ç½‘æ˜“æœ‰é“AI-c-ç®—æ³•å¼€å‘å·¥ç¨‹å¸ˆ-äºŒé¢"><a href="#ç½‘æ˜“æœ‰é“AI-c-ç®—æ³•å¼€å‘å·¥ç¨‹å¸ˆ-äºŒé¢" class="headerlink" title="ç½‘æ˜“æœ‰é“AI-c++ç®—æ³•å¼€å‘å·¥ç¨‹å¸ˆ-äºŒé¢"></a>ç½‘æ˜“æœ‰é“AI-c++ç®—æ³•å¼€å‘å·¥ç¨‹å¸ˆ-äºŒé¢</h3><p>æ·±æŒ–é¡¹ç›®<br>æ‰‹æ’•ï¼šç»™ä¸€ä¸ªæ•°ç»„å˜æˆå¶æ•°ä½ä¸Šéƒ½æ˜¯å¶æ•°æˆ–æ˜¯å¥‡æ•°ä½ä¸Šéƒ½æ˜¯å¥‡æ•°<br>æ‰‹æ’•ï¼šäºŒå‰æ ‘å›æº¯ï¼Œæ±‚è·¯å¾„å’Œ</p>
<h3 id="é˜¿é‡Œ-é«˜å¾·-äºŒé¢-å‡‰ç»"><a href="#é˜¿é‡Œ-é«˜å¾·-äºŒé¢-å‡‰ç»" class="headerlink" title="é˜¿é‡Œ-é«˜å¾·-äºŒé¢-å‡‰ç»"></a>é˜¿é‡Œ-é«˜å¾·-äºŒé¢-å‡‰ç»</h3><p>ä¸Šæ¥è‡ªå·±çš„IDEå…±äº«å±å¹•æ‰‹æ’•ï¼šå¤šçº¿ç¨‹è¾“å‡º<br>æ‰‹æ’•ï¼šæœ€é•¿æ— é‡å¤å­ä¸²çš„é•¿åº¦<br>æ€è€ƒï¼šç›¸äº¤é“¾è¡¨æ‰¾ç›¸äº¤èŠ‚ç‚¹<br>æ•°æ®åº“éš”ç¦»çº§åˆ«å¦‚ä½•å®ç°<br>æ‰‹é‡Œçš„offerï¼Œè§„åˆ’ä¹‹ç±»</p>
<h3 id="é˜¿é‡Œ-é«˜å¾·-ä¸‰é¢"><a href="#é˜¿é‡Œ-é«˜å¾·-ä¸‰é¢" class="headerlink" title="é˜¿é‡Œ-é«˜å¾·-ä¸‰é¢"></a>é˜¿é‡Œ-é«˜å¾·-ä¸‰é¢</h3><p>é¢è¯•å®˜è¿˜ä¸é”™ï¼Œä¸Šæ¥é—®æˆ‘ä»¥åç”¨å•¥è¯­è¨€ï¼Œè·Ÿæˆ‘è®²é˜¿é‡Œçš„javaç”Ÿæ€<br>æ€è€ƒé¢˜ï¼šåŸå¸‚æœ‰å…¬äº¤ç«™å’Œåœ°é“ç«™ï¼Œæ¯ä¸ªç«™æœ‰è¾å°„é¢ç§¯ï¼Œç®—åŸå¸‚äº¤é€šçš„è¦†ç›–ç‡ã€‚<br>èŠèŠé¢å‘å¯¹è±¡ä¸‰ä¸ªç‰¹å¾<br>è‡ªå·±çš„ä¼˜ç¼ºç‚¹<br>å¹³å¸¸æ€ä¹ˆæé«˜æ•ˆç‡çš„<br>æœ‰äº†è§£ä»€ä¹ˆæ–°æŠ€æœ¯å—ï¼Ÿé¢è¯•å®˜è®²äº†ä¸€é€šä¸­å›½è½¯ä»¶ç•Œçš„å…¼å®¹é—®é¢˜<br>åé—®ï¼šå­¦ä¹ javaæ„è§<br>1ã€å­¦è¯­è¨€æ€æƒ³ï¼Œã€Šæ·±å…¥æµ…å‡ºjavaè™šæ‹Ÿæœºã€‹ã€Šjavaç¼–ç¨‹æ€æƒ³ã€‹å­¦ä¹ è¯­æ³•<br>2ã€åº”ç”¨ï¼Œjava web spring mvc boot<br>æ•°æ®åº“MYbritsï¼Œå…³ç³»å‹æ•°æ®åº“ï¼Œåˆ†å¸ƒå¼æ•°æ®åº“H-baseï¼Œåˆ†åº“åˆ†è¡¨ï¼Œcatch<br>RPCæ¡†æ¶ï¼Œåˆ†å¸ƒå¼é«˜å¹¶å‘é«˜å“åº”ã€‚</p>
<h3 id="æ¸¤æµ·-ä¸€é¢"><a href="#æ¸¤æµ·-ä¸€é¢" class="headerlink" title="æ¸¤æµ·-ä¸€é¢"></a>æ¸¤æµ·-ä¸€é¢</h3><p>javaåƒåœ¾å›æ”¶ï¼Œsbäº†åº”è¯¥è¯´ä¸€äº›çš„<br>hashmapè´Ÿè½½å› å­<br>hashmapå’Œhashtable<br>æ•°æ®åº“å­˜å‚¨å¼•æ“<br>å†™ä»£ç å¤šå°‘å¹´äº†<br>redisæŒä¹…åŒ–<br>é‡è½½å’Œé‡å†™<br>å¼‚å¸¸å¤„ç†ï¼Œcatchå’Œfinishï¼Œè’™äº†ä¸€äº›</p>
<h3 id="å†œè¡Œ-æµ‹è¯•-2021-9-13"><a href="#å†œè¡Œ-æµ‹è¯•-2021-9-13" class="headerlink" title="å†œè¡Œ-æµ‹è¯•-2021.9.13"></a>å†œè¡Œ-æµ‹è¯•-2021.9.13</h3><p>ä¸‰é“é¢˜ï¼Œaäº†ä¸€ç‚¹å¤šé“</p>
<h3 id="åä¸º-é€šä¿¡ç®—æ³•-ä¸€é¢-2021-9-13"><a href="#åä¸º-é€šä¿¡ç®—æ³•-ä¸€é¢-2021-9-13" class="headerlink" title="åä¸º-é€šä¿¡ç®—æ³•-ä¸€é¢-2021.9.13"></a>åä¸º-é€šä¿¡ç®—æ³•-ä¸€é¢-2021.9.13</h3><p>å…¨ç¨‹é—®é¡¹ç›®è®ºæ–‡ï¼Œå¯¹äºç»†èŠ‚é—®çš„è›®å¤š<br>æœ¬æ¥2ç‚¹å¼€å§‹ï¼Œç»“æœ2.20æ‰å«é¢è¯•<br>ä¸‰ç‚¹10åˆ†è¿˜æ²¡ç»“æŸï¼Œæ— å¥ˆæœ€åçš„å†™ä¸€ä¸ªæ¡†å›¾çš„é¢˜å†™å¾—è‰ç‡ã€‚</p>
<h3 id="åä¸º-é€šä¿¡ç®—æ³•-äºŒé¢"><a href="#åä¸º-é€šä¿¡ç®—æ³•-äºŒé¢" class="headerlink" title="åä¸º-é€šä¿¡ç®—æ³•-äºŒé¢"></a>åä¸º-é€šä¿¡ç®—æ³•-äºŒé¢</h3><p>è®ºæ–‡+é¡¹ç›®<br>åšä¸€é“é¢˜ï¼Œå…³äºä¼¼ç„¶ç­‰æ¦‚ç‡çŸ¥è¯†çš„ï¼Œéƒ½å¿˜å…‰äº†</p>
<h3 id="åä¸º-é€šä¿¡ç®—æ³•-ä¸»ç®¡é¢"><a href="#åä¸º-é€šä¿¡ç®—æ³•-ä¸»ç®¡é¢" class="headerlink" title="åä¸º-é€šä¿¡ç®—æ³•-ä¸»ç®¡é¢"></a>åä¸º-é€šä¿¡ç®—æ³•-ä¸»ç®¡é¢</h3><p>è®ºæ–‡ï¼Œè¿˜å¯ä»¥</p>
<h3 id="å†œè¡Œ-2021-9-14-å‡‰ç»"><a href="#å†œè¡Œ-2021-9-14-å‡‰ç»" class="headerlink" title="å†œè¡Œ-2021.9.14-å‡‰ç»"></a>å†œè¡Œ-2021.9.14-å‡‰ç»</h3><p>c++è¿æ¥æ•°æ®åº“çš„æ–¹å¼<br>c++ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦<br>c++åˆ›å»ºè¿›ç¨‹çš„æ–¹å¼<br>åˆ›å»ºçº¿ç¨‹çš„ç±»<br>åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹å¼</p>
<h3 id="ç½‘æ˜“-æ€»ç›‘é¢-2021-9-14"><a href="#ç½‘æ˜“-æ€»ç›‘é¢-2021-9-14" class="headerlink" title="ç½‘æ˜“-æ€»ç›‘é¢-2021.9.14"></a>ç½‘æ˜“-æ€»ç›‘é¢-2021.9.14</h3><p>æ‰‹æ’•æ±‚å¹³æ–¹ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å10ä½<br>æ‰‹æ’•ä¸¤ä¸ªå››è¾¹å½¢é¢ç§¯çš„é‡å é¢ç§¯/æ€»é¢ç§¯<br>çœ‹æˆ‘çš„è®ºæ–‡ï¼Ÿï¼Ÿï¼Ÿ</p>
<h3 id="ç½‘æ˜“-hré¢"><a href="#ç½‘æ˜“-hré¢" class="headerlink" title="ç½‘æ˜“-hré¢"></a>ç½‘æ˜“-hré¢</h3><h3 id="é˜¿é‡Œ-hré¢"><a href="#é˜¿é‡Œ-hré¢" class="headerlink" title="é˜¿é‡Œ-hré¢"></a>é˜¿é‡Œ-hré¢</h3><p>ä»‹ç»ä¸ªé¡¹ç›®ï¼Œé‡åˆ°çš„éš¾ç‚¹ï¼Œå¦‚ä½•è§£å†³<br>é‡åˆ°è¿‡ä»€ä¹ˆå›°éš¾ï¼Œå¦‚ä½•åŒ–è§£</p>
]]></content>
      <categories>
        <category>ç¬”ç»é¢ç»</category>
      </categories>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
  <entry>
    <title>å®ä¹ é¢ç»</title>
    <url>/2021/12/29/myblog/%E7%AC%94%E7%BB%8F%E9%9D%A2%E7%BB%8F/%E9%9D%A2%E7%BB%8F/</url>
    <content><![CDATA[<h3 id="é˜¿é‡Œäº‘ä¸€é¢"><a href="#é˜¿é‡Œäº‘ä¸€é¢" class="headerlink" title="é˜¿é‡Œäº‘ä¸€é¢"></a>é˜¿é‡Œäº‘ä¸€é¢</h3><p>è‡ªæˆ‘ä»‹ç»</p>
<p>æŒ‘ä¸ªé¡¹ç›®é˜è¿°ä¸€ä¸‹ï¼Œé’ˆå¯¹é¡¹ç›®æœ€éš¾çš„ä¸€ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆè§£å†³çš„</p>
<p>TCPæ‹¥å¡æ§åˆ¶</p>
<p>100ä¸‡å°æœåŠ¡å™¨æ‰¾100å°CPUåˆ©ç”¨ç‡æœ€é«˜çš„</p>
<p>æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«</p>
<p>å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹</p>
<p>100ä¸‡ä¸ªæ•°æ®æ’åºæ€ä¹ˆæ§åˆ¶å†…å­˜</p>
<p>Linuxç†Ÿæ‚‰å—</p>
<p>å¦‚ä½•è§£å†³æ­»é”</p>
<p>å¦‚æœè¿›æ¥è¿˜æœ‰ä»€ä¹ˆéœ€è¦å­¦ä¹ çš„</p>
<p>æœ‰ä»€ä¹ˆé—®é¢˜</p>
<h3 id="é˜¿é‡Œé’‰é’‰ä¸€é¢"><a href="#é˜¿é‡Œé’‰é’‰ä¸€é¢" class="headerlink" title="é˜¿é‡Œé’‰é’‰ä¸€é¢"></a>é˜¿é‡Œé’‰é’‰ä¸€é¢</h3><p>é¢è¯•å®˜ä½ å¥½ï¼Œæ€è€ƒäº†å¾ˆä¹…ã€‚å¯ä»¥ç”¨é”ï¼Œä½†æ˜¯å¹³æ—¶ååº•å±‚çš„ä»£ç åŸºæœ¬æ²¡å†™è¿‡ï¼Œæ‰€ä»¥æ²¡å†™å‡ºæ¥ã€‚</p>
<ol>
<li>è¯»å†™é”</li>
</ol>
<p>public static void putIfAbsent(Vector vector, Object object) {<br>    synchronized(vector) {<br>        if (!vector.contains(object)) {<br>            vector.add(object);<br>        }<br>        else {<br>            System.out.println(â€œThe vertor is contains the object of â€œ + object.toString());<br>        }<br>    }<br>}</p>
<ol>
<li>å›ºå®švectorå¤§å°</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<ol>
<li><p>structå’Œclasssçš„åŒºåˆ«ï¼Œstructå¯ä»¥å¤šæ€å—ï¼Œå¯ä»¥ç»§æ‰¿å—</p>
</li>
<li><p>c++å†…å­˜åˆ†é…ï¼Œä¸¾ä¾‹</p>
</li>
<li><p>c++æ–°ç‰¹æ€§</p>
</li>
<li><p>ä¸€ä¸ªæ•°æ®è¡¨å¦‚æœé‡éå¸¸å¤§ï¼Œå¦‚ä½•å¤„ç†æé«˜æ•ˆç‡ã€‚</p>
</li>
<li><p>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</p>
</li>
<li><p>ç›®æ ‡ï¼šå®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„vector<br>éœ€æ±‚ï¼š<br>1ã€ç±»ä¼¼äºstd::vectorçš„åŠŸèƒ½ï¼Œæ¯”å¦‚push_backï¼Œinsertï¼Œeraseï¼Œsizeï¼Œclearï¼Œè¿­ä»£åŠŸèƒ½ç­‰ï¼ˆæŒ‰ç…§è‡ªå·±çš„æ€è·¯æä¾›æ–¹æ³•ï¼Œæ¯”å¦‚ä½ æƒ³æä¾›å“ªäº›ç»™åˆ«äººç”¨ï¼Œå°±è®¾è®¡å“ªäº›æ–¹æ³•ï¼‰<br>2ã€è¦æ±‚èƒ½å¤šçº¿ç¨‹å®‰å…¨<br>3ã€å¦‚æœèƒ½è·¨å¹³å°åˆ™åŠ åˆ†<br>å¤‡æ³¨ï¼š<br>1ã€è€ƒè™‘ä¸€ä¸‹æ€§èƒ½<br>2ã€å¯ä½¿ç”¨STL vector<br>3ã€éœ€è¦å•æµ‹</p>
<p>//.hå†…å®¹<br>//.cppå†…å®¹</p>
</li>
</ol>
<h3 id="é˜¿é‡Œé’‰é’‰äºŒé¢"><a href="#é˜¿é‡Œé’‰é’‰äºŒé¢" class="headerlink" title="é˜¿é‡Œé’‰é’‰äºŒé¢"></a>é˜¿é‡Œé’‰é’‰äºŒé¢</h3><p>1.é˜è¿°é¡¹ç›®ï¼Œè¦æ¯”è¾ƒæ¸…æ™°ï¼ŒåŠå°æ—¶</p>
<p>2.é™æ€è½¬æ¢å’ŒåŠ¨æ€è½¬æ¢</p>
<p>3.c++å†…å­˜åˆ†é…ï¼Œæ ˆåˆ†é…å†…å­˜æ•ˆç‡ä¸ºä»€ä¹ˆé«˜</p>
<p>4.æ“ä½œç³»ç»Ÿå¦‚ä½•ç®¡ç†å†…å­˜</p>
<p>5.æ™ºèƒ½æŒ‡é’ˆ</p>
<h3 id="è…¾è®¯æ¸¸æˆå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸€é¢æŒ‚"><a href="#è…¾è®¯æ¸¸æˆå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸€é¢æŒ‚" class="headerlink" title="è…¾è®¯æ¸¸æˆå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸€é¢æŒ‚"></a>è…¾è®¯æ¸¸æˆå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸€é¢æŒ‚</h3><p>1.å¤šé‡ç»§æ‰¿é—®é¢˜</p>
<p>2.è™šææ„å‡½æ•°</p>
<p>3.å†…å­˜å¯¹é½é—®é¢˜</p>
<p>4.vectorå’Œlistå·®åˆ«</p>
<p>5.liståˆ é™¤å…ƒç´ æ“ä½œ</p>
<p>6.eraseå‡½æ•°ç”¨æ³•</p>
<p>7.ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜çš„è¾¨æ</p>
<p>8.tcpå’Œudpï¼Œhttpæ—¶tcpè¿˜æ˜¯udp</p>
<h3 id="å­—èŠ‚è·³åŠ¨æµ‹å¼€é¢ç»ï¼Œ1é¢-2é¢-3é¢-hré¢"><a href="#å­—èŠ‚è·³åŠ¨æµ‹å¼€é¢ç»ï¼Œ1é¢-2é¢-3é¢-hré¢" class="headerlink" title="å­—èŠ‚è·³åŠ¨æµ‹å¼€é¢ç»ï¼Œ1é¢+2é¢+3é¢+hré¢"></a>å­—èŠ‚è·³åŠ¨æµ‹å¼€é¢ç»ï¼Œ1é¢+2é¢+3é¢+hré¢</h3><p>çœ‹äº†é‚£ä¹ˆå¤šå¤§ä½¬çš„é¢ç»ï¼Œç°åœ¨æ¥å›é¦ˆç‰›å®¢å•¦ã€‚å¯èƒ½è®°å½•ä¸å…¨ï¼Œå½“æ—¶ä¸ä¼šçš„è‚¯å®šè®°å¾—ï¼Œä¼šçš„æœ‰äº›å¿˜è®°äº†ã€‚å‡ æ¬¡é¢è¯•é—®çš„é—®é¢˜ä¹Ÿæ˜¯æœ‰é‡å¤çš„ã€‚æ¥¼ä¸»è¯­è¨€æ˜¯C++ã€‚å­—èŠ‚é¢è¯•ä½“éªŒéå¸¸ä¸é”™ã€‚</p>
<p>æ¯ä¸€é¢éƒ½æœ‰é—®åˆ°é¡¹ç›®ï¼Œè·¨ä¸“ä¸šçš„ï¼Œè·Ÿè®¡ç®—æœºæ²¡å•¥å…³ç³»ï¼Œå°±ä¸å…·ä½“è¯´äº†ã€‚</p>
<h4 id="1é¢ï¼Œä¸€å°æ—¶10åˆ†é’Ÿ"><a href="#1é¢ï¼Œä¸€å°æ—¶10åˆ†é’Ÿ" class="headerlink" title="1é¢ï¼Œä¸€å°æ—¶10åˆ†é’Ÿ"></a>1é¢ï¼Œä¸€å°æ—¶10åˆ†é’Ÿ</h4><p>1.çº¿ç¨‹ä¸è¿›ç¨‹</p>
<p>2.TCPä¸UDP</p>
<p>3.æŒ‡é’ˆä¸å¼•ç”¨</p>
<p>4.newå’Œmalloc</p>
<p>5.C++ä¸C</p>
<p>6.è™šå‡½æ•°</p>
<p>7.æµè§ˆå™¨è¾“å…¥URLå‘ç”Ÿä»€ä¹ˆ</p>
<p>8.æ•°æ®åº“ä¸‰å¤§èŒƒå¼</p>
<p>ï¼ˆä¸€é¢é—®çš„æ¯”è¾ƒå…«è‚¡ï¼Œéƒ½æ˜¯åŸºç¡€çŸ¥è¯†ï¼Œæ“ä½œç³»ç»Ÿï¼Œè®¡ç®—æœºç½‘ç»œï¼Œæ•°æ®åº“éƒ½æœ‰é—®åˆ°ï¼‰</p>
<p>9.æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼Œå¾®ä¿¡å‘æœ‹å‹åœˆ</p>
<p>10.å¯¹æµ‹è¯•å¼€å‘çš„ç†è§£</p>
<p>11.æµ‹è¯•æ–¹æ³•</p>
<p>æ‰‹æ’•ä»£ç ï¼šæœ‰æ•ˆçš„IPåœ°å€ã€‚</p>
<h4 id="2é¢ï¼Œä¸€ä¸ªå°æ—¶"><a href="#2é¢ï¼Œä¸€ä¸ªå°æ—¶" class="headerlink" title="2é¢ï¼Œä¸€ä¸ªå°æ—¶"></a>2é¢ï¼Œä¸€ä¸ªå°æ—¶</h4><p>1.HTTPå’ŒHTTPS</p>
<p>2.ç«¯å£</p>
<p>3.staticå‡ ç§ç”¨æ³•</p>
<p>4.inlineå†…è”å‡½æ•°</p>
<p>5.æ•°ç»„çš„sizeof</p>
<p>6.-1åœ¨è®¡ç®—æœºä¸­æ˜¯æ€ä¹ˆå­˜å‚¨çš„</p>
<p>7.å †å’Œæ ˆ</p>
<p>æ‰‹æ’•ä»£ç ï¼šé¢˜ç›®å¿˜è®°äº†ï¼Œç”¨æ’åºsortåšå¾ˆç®€å•ï¼Œä½†æ˜¯é¢è¯•å®˜è¯´è¶…å‡ºé™åˆ¶ï¼Œå°±è®©æˆ‘å†™äº†å¿«æ’ã€‚</p>
<h4 id="3é¢ï¼Œ40åˆ†é’Ÿ"><a href="#3é¢ï¼Œ40åˆ†é’Ÿ" class="headerlink" title="3é¢ï¼Œ40åˆ†é’Ÿ"></a>3é¢ï¼Œ40åˆ†é’Ÿ</h4><p>1.äº‹åŠ¡</p>
<p>2.åˆ·æŠ–éŸ³åé¢å˜å¡äº†ï¼Œæ‰¾åŸå› </p>
<p>3.æœ‰é™å†…å­˜å®ç°å¤§é‡æ•°æ®çš„æ’åºï¼Œå³å¤–æ’</p>
<p>4.å¿«æ’çš„æ—¶é—´å¤æ‚åº¦</p>
<p>5.B+æ ‘</p>
<p>6.æ•°æ®åº“ç´¢å¼•ï¼ŒAç´¢å¼•andBç´¢å¼•èƒ½å¦ç”Ÿæ•ˆ</p>
<p>7.ä¸ºä»€ä¹ˆä¸é€‰å¼€å‘</p>
<p>8.æœ‰å“ªäº›offerï¼Œåœ¨é¢å“ªäº›å…¬å¸</p>
<p>9.å¯¹åŠ ç­çš„çœ‹æ³•</p>
<p>10.è¯´è¯´è‡ªå·±çš„ä¼˜ç‚¹å’Œç¼ºç‚¹</p>
<p>11.å®ä¹ æ—¶é—´</p>
<p>æœ‰ç‚¹æ„å¤–ï¼Œæ²¡æœ‰æ‰‹æ’•ä»£ç ã€‚è€Œä¸”40åˆ†é’Ÿç»“æŸï¼Œæ¥¼ä¸»æœ¬æ¥å·²ç»åšå¥½äº†é¢ä¸€ä¸ªå¤šå°æ—¶çš„å‡†å¤‡ã€‚æœ€ååé—®çš„æ—¶å€™æ‰çŸ¥é“è¿™ä¸€é¢æ˜¯äº¤å‰é¢ã€‚</p>
<h4 id="hré¢ï¼Œ20åˆ†é’Ÿ"><a href="#hré¢ï¼Œ20åˆ†é’Ÿ" class="headerlink" title="hré¢ï¼Œ20åˆ†é’Ÿ"></a>hré¢ï¼Œ20åˆ†é’Ÿ</h4><p>1.åŸºæœ¬æƒ…å†µä¹‹ç±»çš„</p>
<p>2.ä¿ç ”è¿˜æ˜¯è€ƒç ”ï¼Œæœ¬ç§‘æˆç»©</p>
<p>3.å…¶ä»–offer</p>
<p>4.é¢è¯•è¿‡ç¨‹ä¸­æœ‰å•¥æ”¶è·</p>
<p>5.å¯¹éƒ¨é—¨çš„äº†è§£</p>
<p>6.åé—®å®ä¹ å·¥èµ„ï¼Œè¯´æœ‰æ¡£æ¬¡ï¼Ÿ</p>
<p>è®¸æ„¿offer</p>
<h3 id="é˜¿é‡Œé’‰é’‰äºŒã€ä¸‰é¢"><a href="#é˜¿é‡Œé’‰é’‰äºŒã€ä¸‰é¢" class="headerlink" title="é˜¿é‡Œé’‰é’‰äºŒã€ä¸‰é¢"></a>é˜¿é‡Œé’‰é’‰äºŒã€ä¸‰é¢</h3><p>æ²¡é—®å¾ˆå¤šæŠ€æœ¯çš„é—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯æ·±æŒ–æ€è€ƒï¼Œéƒ½æ˜¯çªç„¶è¢­å‡»ã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ·±æŒ–çš„ç‚¹æ˜¯æ™ºèƒ½æŒ‡é’ˆ</p>
<p>ç¬¬äºŒä¸ªæ˜¯å®ç°çº¿ç¨‹å®‰å…¨çš„vector</p>
<p>æ‰‹æ’•ä»£ç æ˜¯å­—ç¬¦ä¸²é—®é¢˜ï¼Œä¸éš¾ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨å®¹å™¨ï¼Œæœ‰ç©ºé—´å¤æ‚åº¦è¦æ±‚ã€‚</p>
<h3 id="ç¾å›¢-ä¹°èœéƒ¨é—¨-ä¸€é¢"><a href="#ç¾å›¢-ä¹°èœéƒ¨é—¨-ä¸€é¢" class="headerlink" title="ç¾å›¢-ä¹°èœéƒ¨é—¨-ä¸€é¢"></a>ç¾å›¢-ä¹°èœéƒ¨é—¨-ä¸€é¢</h3><p>ç¾å›¢æŠ€æœ¯æ ˆæ˜¯javaï¼Œä¼šé—®é¢è¯•å‰äº†è§£è¿‡javaå—ï¼Œè¿™æ—¶å€™å³ä½¿äº†è§£ä¸€ç‚¹ç‚¹ä¹Ÿåˆ«è¯´äº†è§£ï¼Œå°±è¯´æ²¡å­¦è¿‡ï¼Œä¸ç„¶ä¼šé—®javaçš„é—®é¢˜ï¼Œç­”ä¸ä¸Šæ¥ggã€‚</p>
<p>HTTPä¸ºä»€ä¹ˆç”¨TCP</p>
<p>HTTPçš„çŸ­è¿æ¥å’Œé•¿è¿æ¥ï¼Œç”¨äº†ä»€ä¹ˆæœºåˆ¶è¿›è¡Œæ”¹å–„ï¼Ÿ</p>
<p>ç¬”è¯•çš„é¢˜ç›®ä¸‹å»æœ‰æ²¡æœ‰å†åšï¼Ÿ</p>
<p>å¿«æ’æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«</p>
<p>å¤šçº¿ç¨‹ï¼Œçº¿ç¨‹å®‰å…¨ä¸¾ä¾‹ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦åŠ é”ï¼Œä¸ºä»€ä¹ˆåŠ é”ï¼Œä¸¾ä¾‹</p>
<p>äº‹åŠ¡çš„ç‰¹ç‚¹</p>
<p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</p>
<p>å¯é‡å¤è¯»æŒ‡ä»€ä¹ˆï¼Œæ€ä¹ˆå®ç°çš„ï¼Ÿ</p>
<p>ä»€ä¹ˆæ˜¯å¹»è¯»ï¼Ÿ</p>
<p>æ‰‹æ’•ï¼šå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²aå’Œå­—ç¬¦ä¸²bï¼Œåˆ¤æ–­å­—ç¬¦ä¸²aæ˜¯å¦åŒ…å«å­—ç¬¦ä¸²bçš„æ‰€æœ‰å­—ç¬¦ï¼Œåªè¦åŒ…å«å°±è¡Œï¼Œä¸éœ€è¦å…³å¿ƒä¸ªæ•°ã€‚ç”¨çš„26é•¿åº¦çš„æ•°ç»„ä»£æ›¿setåˆ¤æ–­aä¸­åŒ…å«å“ªäº›å­—ç¬¦ï¼Œç„¶åå†éå†bï¼Œå¦‚æœbä¸­å­—ç¬¦åœ¨æ•°ç»„ä¸­æ˜¾ç¤ºæ‰¾ä¸åˆ°ï¼Œåˆ™ä¸åŒ…å«ã€‚æ—¶é—´å¤æ‚åº¦On^2ã€‚</p>
<p>åé—®ï¼šä»€ä¹ˆéƒ¨é—¨ï¼Œæ–°å…´éƒ¨é—¨å—ï¼Ÿè¿›å»å®ä¹ åšä»€ä¹ˆï¼Ÿå¯¹å®ä¹ ç”Ÿçš„åŸ¹å…»è®¡åˆ’ï¼Ÿ</p>
<h3 id="é˜¿é‡Œ-é’‰é’‰éƒ¨é—¨-HRé¢"><a href="#é˜¿é‡Œ-é’‰é’‰éƒ¨é—¨-HRé¢" class="headerlink" title="é˜¿é‡Œ-é’‰é’‰éƒ¨é—¨-HRé¢"></a>é˜¿é‡Œ-é’‰é’‰éƒ¨é—¨-HRé¢</h3><p>è‡ªæˆ‘ä»‹ç»</p>
<p>è®²ä¸€ä¸ªæœ‰æŒ‘æˆ˜çš„äº‹æƒ…</p>
<p>å¤§å­¦æœ‰å•¥å®è·µå·¥ä½œ</p>
<p>åšæŒæœ€ä¹…çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>åœ¨é¢å…¶ä»–ä»€ä¹ˆå…¬å¸</p>
<p>åé—®</p>
<h3 id="ç™¾åº¦-C-å¼€å‘-ä¸€é¢"><a href="#ç™¾åº¦-C-å¼€å‘-ä¸€é¢" class="headerlink" title="ç™¾åº¦-C++å¼€å‘-ä¸€é¢"></a>ç™¾åº¦-C++å¼€å‘-ä¸€é¢</h3><p>C++ç‰¹ç‚¹ï¼Œä¸Cç›¸æ¯”ï¼Œä¸å…¶ä»–è¯­è¨€ç›¸æ¯”</p>
<p>C++11æ–°ç‰¹æ€§</p>
<p>å¤šæ€ï¼Œè™šå‡½æ•°ä¸çº¯è™šå‡½æ•°</p>
<p>C++å†…å­˜ç®¡ç†ï¼Œå †å’Œæ ˆçš„åŒºåˆ«</p>
<p>DNSå±äºå“ªä¸€å±‚ï¼ŒåŸç†ï¼ˆä¸ä¼šï¼‰</p>
<p>ä¸ƒå±‚æ¨¡å‹è¯´ä¸€ä¸‹</p>
<p>æ•°æ®åº“å­˜å‚¨å¼•æ“åŒºåˆ«</p>
<p>HTTPçŠ¶æ€ç å„ä¸ªæ•°å­—å¼€å¤´ä»£è¡¨ä»€ä¹ˆ</p>
<p>çº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«</p>
<p>è¿›ç¨‹é—´åŒæ­¥ï¼ˆä¸ä¼šï¼‰æ­»é”ï¼Œå¦‚ä½•é¿å…æ­»é”ï¼Ÿ</p>
<p>Linuxç”¨è¿‡å—ï¼Ÿç”¨è¿‡ä»€ä¹ˆæŒ‡ä»¤ï¼ŒæŸ¥çœ‹ç«¯å£å ç”¨çš„æŒ‡ä»¤ç”¨è¿‡å—</p>
<p>LInuxçš„IOæ¨¡å‹äº†è§£å—</p>
<p>æ‰‹æ’•ï¼šåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼ˆ1.å…ˆç®—èŠ‚ç‚¹ä¸ªæ•°ï¼Œå†åˆ é™¤ã€‚2.åŒæŒ‡é’ˆï¼ŒræŒ‡é’ˆå…ˆç§»åŠ¨nï¼‰</p>
<h3 id="ç™¾åº¦-C-äºŒé¢"><a href="#ç™¾åº¦-C-äºŒé¢" class="headerlink" title="ç™¾åº¦-C++-äºŒé¢"></a>ç™¾åº¦-C++-äºŒé¢</h3><p>é¡¹ç›®ä»‹ç»ï¼Œé¡¹ç›®ä¸­çš„éš¾ç‚¹</p>
<p>C++è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°</p>
<p>C++æ¨¡æ¿ï¼Œæ³›å‹ç¼–ç¨‹ï¼ŒSTLç”¨è¿‡ä»€ä¹ˆ</p>
<p>å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹åŒºåˆ«ï¼Œå¤šå˜´è¯´äº†å•æ ¸å¤šæ ¸ï¼Œé—®äº†è®¡ç®—æœºç»„æˆåŸç†çš„é—®é¢˜ï¼ŒCPUæ€ä¹ˆç»„æˆçš„</p>
<p>å•æ ¸ä¸Šå¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹åŒºåˆ«</p>
<p>C++å†…å­˜æ³„æ¼ï¼Œå¦‚ä½•æ’æŸ¥</p>
<p>mysqlä¼šåˆ°ä»€ä¹ˆç¨‹åº¦</p>
<p>çº¿ç¨‹é—´é€šä¿¡æ–¹å¼</p>
<p>äº’æ–¥é”å’Œè‡ªæ—‹é”</p>
<p>æ‰‹æ’•ï¼šäºŒå‰æ ‘çš„å±‚åºéå†ï¼Œéœ€è¦è‡ªå·±æ„é€ äºŒå‰æ ‘ã€‚</p>
<h3 id="ç™¾åº¦-C-ä¸‰é¢"><a href="#ç™¾åº¦-C-ä¸‰é¢" class="headerlink" title="ç™¾åº¦-C++-ä¸‰é¢"></a>ç™¾åº¦-C++-ä¸‰é¢</h3><p>é¡¹ç›®ä»‹ç»</p>
<p>å†…å­˜æ³„æ¼æ˜¯ç¬¬ä¸‰æ¬¡é—®äº†ï¼Œæ€ä¹ˆæ’æŸ¥å†…å­˜æ³„æ¼</p>
<p>çœ‹è¿‡å¼€æºçš„ä»£ç å—</p>
<p>é—®çš„æŠ€æœ¯é—®é¢˜ä¸å¤šï¼Œè€Œä¸”å¾ˆå¤šé‡å¤çš„</p>
<p>æ‰‹æ’•ï¼šç»™äº†ä¸ªä¸­éš¾åº¦çš„ï¼ŒäºŒå‰æœç´¢æ ‘ï¼Œç»™ä¸€ä¸ªå€¼ï¼Œè¿”å›å¤§äºè¿™ä¸ªå€¼çš„æœ€å°çš„èŠ‚ç‚¹ï¼Œå°±æ˜¯å¤§äºè¿™ä¸ªå€¼ï¼Œä½†æ˜¯æœ€é è¿‘è¿™ä¸ªå€¼çš„èŠ‚ç‚¹ã€‚</p>
]]></content>
      <categories>
        <category>ç¬”ç»é¢ç»</category>
      </categories>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
  <entry>
    <title>2021.8.15 ç¬”è¯•è®°å½•</title>
    <url>/2021/08/19/myblog/%E7%AC%94%E7%BB%8F%E9%9D%A2%E7%BB%8F/2021.8.15%20%E7%AC%94%E8%AF%95%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>1.éœ€è¦æŒæ¡ä»¥ä¸‹å›¾çš„æ·±åº¦ä¼˜å…ˆéå†</p>
<p>2.ä¿¡å·é‡ä¸Šæ‰§è¡Œæ­£ç¡®çš„PVæ“ä½œå¯æœ‰æ•ˆé¿å…å¤šè¿›ç¨‹å¹¶å‘æ‰§è¡Œäº§ç”Ÿçš„ä¸æ—¶é—´æœ‰å…³çš„é”™è¯¯ã€‚ä¿¡å·é‡S=0æ—¶ï¼Œè¡¨ç¤ºå½“å‰ï¼Ÿ</p>
]]></content>
      <categories>
        <category>ç¬”ç»é¢ç»</category>
      </categories>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
</search>
